var K8=Object.create;var kf=Object.defineProperty,Z8=Object.defineProperties,X8=Object.getOwnPropertyDescriptor,Y8=Object.getOwnPropertyDescriptors,J8=Object.getOwnPropertyNames,Fd=Object.getOwnPropertySymbols,Q8=Object.getPrototypeOf,Mf=Object.prototype.hasOwnProperty,qv=Object.prototype.propertyIsEnumerable;var zv=(e,t,n)=>t in e?kf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||={})Mf.call(t,n)&&zv(e,n,t[n]);if(Fd)for(var n of Fd(t))qv.call(t,n)&&zv(e,n,t[n]);return e},x=(e,t)=>Z8(e,Y8(t));var wf=(e,t)=>{var n={};for(var r in e)Mf.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Fd)for(var r of Fd(e))t.indexOf(r)<0&&qv.call(e,r)&&(n[r]=e[r]);return n};var e6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var t6=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of J8(t))!Mf.call(e,i)&&i!==n&&kf(e,i,{get:()=>t[i],enumerable:!(r=X8(t,i))||r.enumerable});return e};var Uv=(e,t,n)=>(n=e!=null?K8(Q8(e)):{},t6(t||!e||!e.__esModule?kf(n,"default",{value:e,enumerable:!0}):n,e));var Om=e6((Lm,Rm)=>{"use strict";(function(e,t){typeof Lm=="object"&&typeof Rm<"u"?Rm.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(Lm,function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",c="week",l="month",d="quarter",u="year",p="date",h="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ie){var L=["th","st","nd","rd"],D=ie%100;return"["+ie+(L[(D-20)%10]||L[D]||L[0])+"]"}},k=function(ie,L,D){var B=String(ie);return!B||B.length>=L?ie:""+Array(L+1-B.length).join(D)+ie},E={s:k,z:function(ie){var L=-ie.utcOffset(),D=Math.abs(L),B=Math.floor(D/60),T=D%60;return(L<=0?"+":"-")+k(B,2,"0")+":"+k(T,2,"0")},m:function ie(L,D){if(L.date()<D.date())return-ie(D,L);var B=12*(D.year()-L.year())+(D.month()-L.month()),T=L.clone().add(B,l),pe=D-T<0,fe=L.clone().add(B+(pe?-1:1),l);return+(-(B+(D-T)/(pe?T-fe:fe-T))||0)},a:function(ie){return ie<0?Math.ceil(ie)||0:Math.floor(ie)},p:function(ie){return{M:l,y:u,w:c,d:s,D:p,h:a,m:o,s:i,ms:r,Q:d}[ie]||String(ie||"").toLowerCase().replace(/s$/,"")},u:function(ie){return ie===void 0}},I="en",_={};_[I]=v;var he="$isDayjsObject",He=function(ie){return ie instanceof rn||!(!ie||!ie[he])},re=function ie(L,D,B){var T;if(!L)return I;if(typeof L=="string"){var pe=L.toLowerCase();_[pe]&&(T=pe),D&&(_[pe]=D,T=pe);var fe=L.split("-");if(!T&&fe.length>1)return ie(fe[0])}else{var Be=L.name;_[Be]=L,T=Be}return!B&&T&&(I=T),T||!B&&I},se=function(ie,L){if(He(ie))return ie.clone();var D=typeof L=="object"?L:{};return D.date=ie,D.args=arguments,new rn(D)},Ee=E;Ee.l=re,Ee.i=He,Ee.w=function(ie,L){return se(ie,{locale:L.$L,utc:L.$u,x:L.$x,$offset:L.$offset})};var rn=(function(){function ie(D){this.$L=re(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[he]=!0}var L=ie.prototype;return L.parse=function(D){this.$d=(function(B){var T=B.date,pe=B.utc;if(T===null)return new Date(NaN);if(Ee.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var fe=T.match(y);if(fe){var Be=fe[2]-1||0,ct=(fe[7]||"0").substring(0,3);return pe?new Date(Date.UTC(fe[1],Be,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ct)):new Date(fe[1],Be,fe[3]||1,fe[4]||0,fe[5]||0,fe[6]||0,ct)}}return new Date(T)})(D),this.init()},L.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},L.$utils=function(){return Ee},L.isValid=function(){return this.$d.toString()!==h},L.isSame=function(D,B){var T=se(D);return this.startOf(B)<=T&&T<=this.endOf(B)},L.isAfter=function(D,B){return se(D)<this.startOf(B)},L.isBefore=function(D,B){return this.endOf(B)<se(D)},L.$g=function(D,B,T){return Ee.u(D)?this[B]:this.set(T,D)},L.unix=function(){return Math.floor(this.valueOf()/1e3)},L.valueOf=function(){return this.$d.getTime()},L.startOf=function(D,B){var T=this,pe=!!Ee.u(B)||B,fe=Ee.p(D),Be=function(ao,on){var vi=Ee.w(T.$u?Date.UTC(T.$y,on,ao):new Date(T.$y,on,ao),T);return pe?vi:vi.endOf(s)},ct=function(ao,on){return Ee.w(T.toDate()[ao].apply(T.toDate("s"),(pe?[0,0,0,0]:[23,59,59,999]).slice(on)),T)},_t=this.$W,Vt=this.$M,_n=this.$D,fa="set"+(this.$u?"UTC":"");switch(fe){case u:return pe?Be(1,0):Be(31,11);case l:return pe?Be(1,Vt):Be(0,Vt+1);case c:var oo=this.$locale().weekStart||0,dc=(_t<oo?_t+7:_t)-oo;return Be(pe?_n-dc:_n+(6-dc),Vt);case s:case p:return ct(fa+"Hours",0);case a:return ct(fa+"Minutes",1);case o:return ct(fa+"Seconds",2);case i:return ct(fa+"Milliseconds",3);default:return this.clone()}},L.endOf=function(D){return this.startOf(D,!1)},L.$set=function(D,B){var T,pe=Ee.p(D),fe="set"+(this.$u?"UTC":""),Be=(T={},T[s]=fe+"Date",T[p]=fe+"Date",T[l]=fe+"Month",T[u]=fe+"FullYear",T[a]=fe+"Hours",T[o]=fe+"Minutes",T[i]=fe+"Seconds",T[r]=fe+"Milliseconds",T)[pe],ct=pe===s?this.$D+(B-this.$W):B;if(pe===l||pe===u){var _t=this.clone().set(p,1);_t.$d[Be](ct),_t.init(),this.$d=_t.set(p,Math.min(this.$D,_t.daysInMonth())).$d}else Be&&this.$d[Be](ct);return this.init(),this},L.set=function(D,B){return this.clone().$set(D,B)},L.get=function(D){return this[Ee.p(D)]()},L.add=function(D,B){var T,pe=this;D=Number(D);var fe=Ee.p(B),Be=function(Vt){var _n=se(pe);return Ee.w(_n.date(_n.date()+Math.round(Vt*D)),pe)};if(fe===l)return this.set(l,this.$M+D);if(fe===u)return this.set(u,this.$y+D);if(fe===s)return Be(1);if(fe===c)return Be(7);var ct=(T={},T[o]=t,T[a]=n,T[i]=e,T)[fe]||1,_t=this.$d.getTime()+D*ct;return Ee.w(_t,this)},L.subtract=function(D,B){return this.add(-1*D,B)},L.format=function(D){var B=this,T=this.$locale();if(!this.isValid())return T.invalidDate||h;var pe=D||"YYYY-MM-DDTHH:mm:ssZ",fe=Ee.z(this),Be=this.$H,ct=this.$m,_t=this.$M,Vt=T.weekdays,_n=T.months,fa=T.meridiem,oo=function(on,vi,uc,Nd){return on&&(on[vi]||on(B,pe))||uc[vi].slice(0,Nd)},dc=function(on){return Ee.s(Be%12||12,on,"0")},ao=fa||function(on,vi,uc){var Nd=on<12?"AM":"PM";return uc?Nd.toLowerCase():Nd};return pe.replace(g,function(on,vi){return vi||(function(uc){switch(uc){case"YY":return String(B.$y).slice(-2);case"YYYY":return Ee.s(B.$y,4,"0");case"M":return _t+1;case"MM":return Ee.s(_t+1,2,"0");case"MMM":return oo(T.monthsShort,_t,_n,3);case"MMMM":return oo(_n,_t);case"D":return B.$D;case"DD":return Ee.s(B.$D,2,"0");case"d":return String(B.$W);case"dd":return oo(T.weekdaysMin,B.$W,Vt,2);case"ddd":return oo(T.weekdaysShort,B.$W,Vt,3);case"dddd":return Vt[B.$W];case"H":return String(Be);case"HH":return Ee.s(Be,2,"0");case"h":return dc(1);case"hh":return dc(2);case"a":return ao(Be,ct,!0);case"A":return ao(Be,ct,!1);case"m":return String(ct);case"mm":return Ee.s(ct,2,"0");case"s":return String(B.$s);case"ss":return Ee.s(B.$s,2,"0");case"SSS":return Ee.s(B.$ms,3,"0");case"Z":return fe}return null})(on)||fe.replace(":","")})},L.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},L.diff=function(D,B,T){var pe,fe=this,Be=Ee.p(B),ct=se(D),_t=(ct.utcOffset()-this.utcOffset())*t,Vt=this-ct,_n=function(){return Ee.m(fe,ct)};switch(Be){case u:pe=_n()/12;break;case l:pe=_n();break;case d:pe=_n()/3;break;case c:pe=(Vt-_t)/6048e5;break;case s:pe=(Vt-_t)/864e5;break;case a:pe=Vt/n;break;case o:pe=Vt/t;break;case i:pe=Vt/e;break;default:pe=Vt}return T?pe:Ee.a(pe)},L.daysInMonth=function(){return this.endOf(l).$D},L.$locale=function(){return _[this.$L]},L.locale=function(D,B){if(!D)return this.$L;var T=this.clone(),pe=re(D,B,!0);return pe&&(T.$L=pe),T},L.clone=function(){return Ee.w(this.$d,this)},L.toDate=function(){return new Date(this.valueOf())},L.toJSON=function(){return this.isValid()?this.toISOString():null},L.toISOString=function(){return this.$d.toISOString()},L.toString=function(){return this.$d.toUTCString()},ie})(),Bv=rn.prototype;return se.prototype=Bv,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",l],["$y",u],["$D",p]].forEach(function(ie){Bv[ie[1]]=function(L){return this.$g(L,ie[0],ie[1])}}),se.extend=function(ie,L){return ie.$i||(ie(L,rn,se),ie.$i=!0),se},se.locale=re,se.isDayjs=He,se.unix=function(ie){return se(1e3*ie)},se.en=_[I],se.Ls=_,se.p={},se})});var Ht=null,jd=!1,bf=1,n6=null,ze=Symbol("SIGNAL");function z(e){let t=Ht;return Ht=e,t}function Vd(){return Ht}var jr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Vr(e){if(jd)throw new Error("");if(Ht===null)return;Ht.consumerOnSignalRead(e);let t=Ht.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=Ht.recomputing;if(r&&(n=t!==void 0?t.nextProducer:Ht.producers,n!==void 0&&n.producer===e)){Ht.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===Ht&&(!r||r6(i,Ht)))return;let o=ga(Ht),a={producer:e,consumer:Ht,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};Ht.producersTail=a,t!==void 0?t.nextProducer=a:Ht.producers=a,o&&Zv(e,a)}function $v(){bf++}function co(e){if(!(ga(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===bf)){if(!e.producerMustRecompute(e)&&!lo(e)){ya(e);return}e.producerRecomputeValue(e),ya(e)}}function Cf(e){if(e.consumers===void 0)return;let t=jd;jd=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Wv(r)}}finally{jd=t}}function _f(){return Ht?.consumerAllowSignalWrites!==!1}function Wv(e){e.dirty=!0,Cf(e),e.consumerMarkedDirty?.(e)}function ya(e){e.dirty=!1,e.lastCleanEpoch=bf}function hr(e){return e&&Gv(e),z(e)}function Gv(e){e.producersTail=void 0,e.recomputing=!0}function Hr(e,t){z(t),e&&Kv(e)}function Kv(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(ga(e))do n=Sf(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function lo(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(co(n),r!==n.version))return!0}return!1}function Br(e){if(ga(e)){let t=e.producers;for(;t!==void 0;)t=Sf(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Zv(e,t){let n=e.consumersTail,r=ga(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)Zv(i.producer,i)}function Sf(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!ga(t)){let o=t.producers;for(;o!==void 0;)o=Sf(o)}return n}function ga(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function hc(e){n6?.(e)}function r6(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function pc(e,t){return Object.is(e,t)}function fc(e,t){let n=Object.create(i6);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(co(n),Vr(n),n.value===Fr)throw n.error;return n.value};return r[ze]=n,hc(n),r}var ki=Symbol("UNSET"),so=Symbol("COMPUTING"),Fr=Symbol("ERRORED"),i6=x(m({},jr),{value:ki,dirty:!0,error:null,equal:pc,kind:"computed",producerMustRecompute(e){return e.value===ki||e.value===so},producerRecomputeValue(e){if(e.value===so)throw new Error("");let t=e.value;e.value=so;let n=hr(e),r,i=!1;try{r=e.computation(),z(null),i=t!==ki&&t!==Fr&&r!==Fr&&e.equal(t,r)}catch(o){r=Fr,e.error=o}finally{Hr(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function o6(){throw new Error}var Xv=o6;function Yv(e){Xv(e)}function If(e){Xv=e}var a6=null;function xf(e,t){let n=Object.create(yc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>Jv(n);return r[ze]=n,hc(n),[r,a=>Mi(n,a),a=>Hd(n,a)]}function Jv(e){return Vr(e),e.value}function Mi(e,t){_f()||Yv(e),e.equal(e.value,t)||(e.value=t,s6(e))}function Hd(e,t){_f()||Yv(e),Mi(e,t(e.value))}var yc=x(m({},jr),{equal:pc,value:void 0,kind:"signal"});function s6(e){e.version++,$v(),Cf(e),a6?.(e)}function Df(e){let t=z(null);try{return e()}finally{z(t)}}var Ef=x(m({},jr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Af(e){if(e.dirty=!1,e.version>0&&!lo(e))return;e.version++;let t=hr(e);try{e.cleanup(),e.fn()}finally{Hr(e,t)}}function G(e){return typeof e=="function"}function ma(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Bd=ma(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function uo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var Ne=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(G(r))try{r()}catch(o){t=o instanceof Bd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Qv(o)}catch(a){t=t??[],a instanceof Bd?t=[...t,...a.errors]:t.push(a)}}if(t)throw new Bd(t)}}add(t){var n;if(t&&t!==this)if(this.closed)Qv(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&uo(n,t)}remove(t){let{_finalizers:n}=this;n&&uo(n,t),t instanceof e&&t._removeParent(this)}};Ne.EMPTY=(()=>{let e=new Ne;return e.closed=!0,e})();var Tf=Ne.EMPTY;function zd(e){return e instanceof Ne||e&&"closed"in e&&G(e.remove)&&G(e.add)&&G(e.unsubscribe)}function Qv(e){G(e)?e():e.unsubscribe()}var zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var va={setTimeout(e,t,...n){let{delegate:r}=va;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=va;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function qd(e){va.setTimeout(()=>{let{onUnhandledError:t}=zn;if(t)t(e);else throw e})}function gc(){}var ek=Lf("C",void 0,void 0);function tk(e){return Lf("E",void 0,e)}function nk(e){return Lf("N",e,void 0)}function Lf(e,t,n){return{kind:e,value:t,error:n}}var ho=null;function ka(e){if(zn.useDeprecatedSynchronousErrorHandling){let t=!ho;if(t&&(ho={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=ho;if(ho=null,n)throw r}}else e()}function rk(e){zn.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=e)}var po=class extends Ne{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,zd(t)&&t.add(this)):this.destination=d6}static create(t,n,r){return new qn(t,n,r)}next(t){this.isStopped?Of(nk(t),this):this._next(t)}error(t){this.isStopped?Of(tk(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Of(ek,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},c6=Function.prototype.bind;function Rf(e,t){return c6.call(e,t)}var Pf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){Ud(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){Ud(r)}else Ud(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){Ud(n)}}},qn=class extends po{constructor(t,n,r){super();let i;if(G(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&zn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&Rf(t.next,o),error:t.error&&Rf(t.error,o),complete:t.complete&&Rf(t.complete,o)}):i=t}this.destination=new Pf(i)}};function Ud(e){zn.useDeprecatedSynchronousErrorHandling?rk(e):qd(e)}function l6(e){throw e}function Of(e,t){let{onStoppedNotification:n}=zn;n&&va.setTimeout(()=>n(e,t))}var d6={closed:!0,next:gc,error:l6,complete:gc};var Ma=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pn(e){return e}function mc(...e){return Nf(e)}function Nf(e){return e.length===0?pn:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var ne=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=h6(n)?n:new qn(n,r,i);return ka(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ik(r),new r((i,o)=>{let a=new qn({next:s=>{try{n(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Ma](){return this}pipe(...n){return Nf(n)(this)}toPromise(n){return n=ik(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return e.create=t=>new e(t),e})();function ik(e){var t;return(t=e??zn.Promise)!==null&&t!==void 0?t:Promise}function u6(e){return e&&G(e.next)&&G(e.error)&&G(e.complete)}function h6(e){return e&&e instanceof po||u6(e)&&zd(e)}function p6(e){return G(e?.lift)}function me(e){return t=>{if(p6(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ke(e,t,n,r,i){return new Ff(e,t,n,r,i)}var Ff=class extends po{constructor(t,n,r,i,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(c){t.error(c)}}:super._next,this._error=i?function(s){try{i(s)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var wa={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=wa;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=t(o=>{n=void 0,e(o)});return new Ne(()=>n?.(i))},requestAnimationFrame(...e){let{delegate:t}=wa;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:t}=wa;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var ok=ma(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var q=(()=>{class e extends ne{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new $d(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new ok}next(n){ka(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){ka(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){ka(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tf:(this.currentObservers=null,o.push(n),new Ne(()=>{this.currentObservers=null,uo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new ne;return n.source=this,n}}return e.create=(t,n)=>new $d(t,n),e})(),$d=class extends q{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Tf}};var mt=class extends q{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var vc={now(){return(vc.delegate||Date).now()},delegate:void 0};var fo=class extends q{constructor(t=1/0,n=1/0,r=vc){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:a}=this;n||(r.push(t),!i&&r.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let a=0;a<o.length&&!t.closed;a+=r?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let a=n.now(),s=0;for(let c=1;c<r.length&&r[c]<=a;c+=2)s=c;s&&r.splice(0,s+1)}}};var Wd=class extends Ne{constructor(t,n){super()}schedule(t,n=0){return this}};var kc={setInterval(e,t,...n){let{delegate:r}=kc;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=kc;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var pr=class extends Wd{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return kc.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&kc.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,uo(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var f6=1,jf,Vf={};function ak(e){return e in Vf?(delete Vf[e],!0):!1}var sk={setImmediate(e){let t=f6++;return Vf[t]=!0,jf||(jf=Promise.resolve()),jf.then(()=>ak(t)&&e()),t},clearImmediate(e){ak(e)}};var{setImmediate:y6,clearImmediate:g6}=sk,Mc={setImmediate(...e){let{delegate:t}=Mc;return(t?.setImmediate||y6)(...e)},clearImmediate(e){let{delegate:t}=Mc;return(t?.clearImmediate||g6)(e)},delegate:void 0};var Gd=class extends pr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=Mc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:o}=t;n!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(Mc.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))}};var ba=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};ba.now=vc.now;var fr=class extends ba{constructor(t,n=ba.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Kd=class extends fr{flush(t){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;t=t||r.shift();do if(i=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}};var ck=new Kd(Gd);var wc=new fr(pr),lk=wc;var Zd=class extends pr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Xd=class extends fr{};var Hf=new Xd(Zd);var Yd=class extends pr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=wa.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:o}=t;n!=null&&n===t._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(wa.cancelAnimationFrame(n),t._scheduled=void 0)}};var Jd=class extends fr{flush(t){this._active=!0;let n;t?n=t.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;t=t||r.shift();do if(i=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}};var dk=new Jd(Yd);var pt=new ne(e=>e.complete());function Qd(e){return e&&G(e.schedule)}function Bf(e){return e[e.length-1]}function eu(e){return G(Bf(e))?e.pop():void 0}function yr(e){return Qd(Bf(e))?e.pop():void 0}function uk(e,t){return typeof Bf(e)=="number"?e.pop():t}function go(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function tu(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})}function hk(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yo(e){return this instanceof yo?(this.v=e,this):new yo(e)}function pk(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(i[h]=function(g){return new Promise(function(v,k){o.push([h,g,v,k])>1||c(h,g)})},y&&(i[h]=y(i[h])))}function c(h,y){try{l(r[h](y))}catch(g){p(o[0][3],g)}}function l(h){h.value instanceof yo?Promise.resolve(h.value.v).then(d,u):p(o[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function fk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof hk=="function"?hk(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,c){a=e[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},a)}}var Ca=e=>e&&typeof e.length=="number"&&typeof e!="function";function nu(e){return G(e?.then)}function ru(e){return G(e[Ma])}function iu(e){return Symbol.asyncIterator&&G(e?.[Symbol.asyncIterator])}function ou(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function m6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var au=m6();function su(e){return G(e?.[au])}function cu(e){return pk(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield yo(n.read());if(i)return yield yo(void 0);yield yield yo(r)}}finally{n.releaseLock()}})}function lu(e){return G(e?.getReader)}function Le(e){if(e instanceof ne)return e;if(e!=null){if(ru(e))return v6(e);if(Ca(e))return k6(e);if(nu(e))return M6(e);if(iu(e))return yk(e);if(su(e))return w6(e);if(lu(e))return b6(e)}throw ou(e)}function v6(e){return new ne(t=>{let n=e[Ma]();if(G(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function k6(e){return new ne(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function M6(e){return new ne(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,qd)})}function w6(e){return new ne(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function yk(e){return new ne(t=>{C6(e,t).catch(n=>t.error(n))})}function b6(e){return yk(cu(e))}function C6(e,t){var n,r,i,o;return tu(this,void 0,void 0,function*(){try{for(n=fk(e);r=yield n.next(),!r.done;){let a=r.value;if(t.next(a),t.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function an(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function du(e,t=0){return me((n,r)=>{n.subscribe(ke(r,i=>an(r,e,()=>r.next(i),t),()=>an(r,e,()=>r.complete(),t),i=>an(r,e,()=>r.error(i),t)))})}function uu(e,t=0){return me((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function gk(e,t){return Le(e).pipe(uu(t),du(t))}function mk(e,t){return Le(e).pipe(uu(t),du(t))}function vk(e,t){return new ne(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function kk(e,t){return new ne(n=>{let r;return an(n,t,()=>{r=e[au](),an(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>G(r?.return)&&r.return()})}function hu(e,t){if(!e)throw new Error("Iterable cannot be null");return new ne(n=>{an(n,t,()=>{let r=e[Symbol.asyncIterator]();an(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Mk(e,t){return hu(cu(e),t)}function wk(e,t){if(e!=null){if(ru(e))return gk(e,t);if(Ca(e))return vk(e,t);if(nu(e))return mk(e,t);if(iu(e))return hu(e,t);if(su(e))return kk(e,t);if(lu(e))return Mk(e,t)}throw ou(e)}function K(e,t){return t?wk(e,t):Le(e)}function te(...e){let t=yr(e);return K(e,t)}function zf(e,t){let n=G(e)?e:()=>e,r=i=>i.error(n());return new ne(t?i=>t.schedule(r,0,i):r)}function bc(e){return!!e&&(e instanceof ne||G(e.lift)&&G(e.subscribe))}var zr=ma(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function _6(e,t){let n=typeof t=="object";return new Promise((r,i)=>{let o=new qn({next:a=>{r(a),o.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new zr)}});e.subscribe(o)})}function bk(e){return e instanceof Date&&!isNaN(e)}function A(e,t){return me((n,r)=>{let i=0;n.subscribe(ke(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:S6}=Array;function I6(e,t){return S6(t)?e(...t):e(t)}function _a(e){return A(t=>I6(e,t))}var{isArray:x6}=Array,{getPrototypeOf:D6,prototype:E6,keys:A6}=Object;function pu(e){if(e.length===1){let t=e[0];if(x6(t))return{args:t,keys:null};if(T6(t)){let n=A6(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function T6(e){return e&&typeof e=="object"&&D6(e)===E6}function fu(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Sa(...e){let t=yr(e),n=eu(e),{args:r,keys:i}=pu(e);if(r.length===0)return K([],t);let o=new ne(L6(r,t,i?a=>fu(i,a):pn));return n?o.pipe(_a(n)):o}function L6(e,t,n=pn){return r=>{Ck(t,()=>{let{length:i}=e,o=new Array(i),a=i,s=i;for(let c=0;c<i;c++)Ck(t,()=>{let l=K(e[c],t),d=!1;l.subscribe(ke(r,u=>{o[c]=u,d||(d=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function Ck(e,t,n){e?an(n,e,t):t()}function _k(e,t,n,r,i,o,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&t.complete()},h=g=>l<r?y(g):c.push(g),y=g=>{o&&t.next(g),l++;let v=!1;Le(n(g,d++)).subscribe(ke(t,k=>{i?.(k),o?h(k):t.next(k)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let k=c.shift();a?an(t,a,()=>y(k)):y(k)}p()}catch(k){t.error(k)}}))};return e.subscribe(ke(t,h,()=>{u=!0,p()})),()=>{s?.()}}function St(e,t,n=1/0){return G(t)?St((r,i)=>A((o,a)=>t(r,o,i,a))(Le(e(r,i))),n):(typeof t=="number"&&(n=t),me((r,i)=>_k(r,i,e,n)))}function wi(e=1/0){return St(pn,e)}function Sk(){return wi(1)}function bi(...e){return Sk()(K(e,yr(e)))}function mo(e){return new ne(t=>{Le(e()).subscribe(t)})}function qf(...e){let t=eu(e),{args:n,keys:r}=pu(e),i=new ne(o=>{let{length:a}=n;if(!a){o.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;Le(n[d]).subscribe(ke(o,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(r?fu(r,s):s),o.complete())}))}});return t?i.pipe(_a(t)):i}var R6=["addListener","removeListener"],O6=["addEventListener","removeEventListener"],P6=["on","off"];function Uf(e,t,n,r){if(G(n)&&(r=n,n=void 0),r)return Uf(e,t,n).pipe(_a(r));let[i,o]=j6(e)?O6.map(a=>s=>e[a](t,s,n)):N6(e)?R6.map(Ik(e,t)):F6(e)?P6.map(Ik(e,t)):[];if(!i&&Ca(e))return St(a=>Uf(a,t,n))(Le(e));if(!i)throw new TypeError("Invalid event target");return new ne(a=>{let s=(...c)=>a.next(1<c.length?c:c[0]);return i(s),()=>o(s)})}function Ik(e,t){return n=>r=>e[n](t,r)}function N6(e){return G(e.addListener)&&G(e.removeListener)}function F6(e){return G(e.on)&&G(e.off)}function j6(e){return G(e.addEventListener)&&G(e.removeEventListener)}function xk(e=0,t,n=lk){let r=-1;return t!=null&&(Qd(t)?n=t:r=t),new ne(i=>{let o=bk(e)?+e-n.now():e;o<0&&(o=0);let a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function Ia(...e){let t=yr(e),n=uk(e,1/0),r=e;return r.length?r.length===1?Le(r[0]):wi(n)(K(r,t)):pt}function qe(e,t){return me((n,r)=>{let i=0;n.subscribe(ke(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Dk(e){return me((t,n)=>{let r=!1,i=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}a&&n.complete()},c=()=>{o=null,a&&n.complete()};t.subscribe(ke(n,l=>{r=!0,i=l,o||Le(e(l)).subscribe(o=ke(n,s,c))},()=>{a=!0,(!r||!o||o.closed)&&n.complete()}))})}function yu(e,t=wc){return Dk(()=>xk(e,t))}function Ci(e){return me((t,n)=>{let r=null,i=!1,o;r=t.subscribe(ke(n,void 0,void 0,a=>{o=Le(e(a,Ci(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function _i(e,t){return G(t)?St(e,t,1):St(e,1)}function $f(e,t=wc){return me((n,r)=>{let i=null,o=null,a=null,s=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=a+e,d=t.now();if(d<l){i=this.schedule(void 0,l-d),r.add(i);return}s()}n.subscribe(ke(r,l=>{o=l,a=t.now(),i||(i=t.schedule(c,e),r.add(i))},()=>{s(),r.complete()},void 0,()=>{o=i=null}))})}function Ek(e){return me((t,n)=>{let r=!1;t.subscribe(ke(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function lt(e){return e<=0?()=>pt:me((t,n)=>{let r=0;t.subscribe(ke(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function gu(e,t=pn){return e=e??V6,me((n,r)=>{let i,o=!0;n.subscribe(ke(r,a=>{let s=t(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}function V6(e,t){return e===t}function Ak(e=H6){return me((t,n)=>{let r=!1;t.subscribe(ke(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function H6(){return new zr}function xa(e){return me((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function qr(e,t){let n=arguments.length>=2;return r=>r.pipe(e?qe((i,o)=>e(i,o,r)):pn,lt(1),n?Ek(t):Ak(()=>new zr))}function mu(e){return e<=0?()=>pt:me((t,n)=>{let r=[];t.subscribe(ke(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Tk(){return me((e,t)=>{let n,r=!1;e.subscribe(ke(t,i=>{let o=n;n=i,r&&t.next([o,i]),r=!0}))})}function Gf(e={}){let{connector:t=()=>new q,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let a,s,c,l=0,d=!1,u=!1,p=()=>{s?.unsubscribe(),s=void 0},h=()=>{p(),a=c=void 0,d=u=!1},y=()=>{let g=a;h(),g?.unsubscribe()};return me((g,v)=>{l++,!u&&!d&&p();let k=c=c??t();v.add(()=>{l--,l===0&&!u&&!d&&(s=Wf(y,i))}),k.subscribe(v),!a&&l>0&&(a=new qn({next:E=>k.next(E),error:E=>{u=!0,p(),s=Wf(h,n,E),k.error(E)},complete:()=>{d=!0,p(),s=Wf(h,r),k.complete()}}),Le(g).subscribe(a))})(o)}}function Wf(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new qn({next:()=>{r.unsubscribe(),e()}});return Le(t(...n)).subscribe(r)}function Lk(e,t,n){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e:r=e??1/0,Gf({connector:()=>new fo(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function Cc(e){return qe((t,n)=>e<=n)}function Si(...e){let t=yr(e);return me((n,r)=>{(t?bi(e,n,t):bi(e,n)).subscribe(r)})}function ye(e,t){return me((n,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();n.subscribe(ke(r,c=>{i?.unsubscribe();let l=0,d=o++;Le(e(c,d)).subscribe(i=ke(r,u=>r.next(t?t(c,u,d,l++):u),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function Sn(e){return me((t,n)=>{Le(e).subscribe(ke(n,()=>n.complete(),gc)),!n.closed&&t.subscribe(n)})}function vt(e,t,n){let r=G(e)||t||n?{next:e,error:t,complete:n}:e;return r?me((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(ke(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pn}var Kf;function vu(){return Kf}function gr(e){let t=Kf;return Kf=e,t}var Rk=Symbol("NotFound");function Da(e){return e===Rk||e?.name==="\u0275NotFound"}function Zf(e,t,n){let r=Object.create(B6);r.source=e,r.computation=t,n!=null&&(r.equal=n);let o=()=>{if(co(r),Vr(r),r.value===Fr)throw r.error;return r.value};return o[ze]=r,hc(r),o}function Ok(e,t){co(e),Mi(e,t),ya(e)}function Pk(e,t){co(e),Hd(e,t),ya(e)}var B6=x(m({},jr),{value:ki,dirty:!0,error:null,equal:pc,kind:"linkedSignal",producerMustRecompute(e){return e.value===ki||e.value===so},producerRecomputeValue(e){if(e.value===so)throw new Error("");let t=e.value;e.value=so;let n=hr(e),r;try{let i=e.source(),o=t===ki||t===Fr?void 0:{source:e.sourceValue,value:t};r=e.computation(i,o),e.sourceValue=i}catch(i){r=Fr,e.error=i}finally{Hr(e,n)}if(t!==ki&&r!==Fr&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});var Su="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(t,n){super(Un(t,n)),this.code=t}};function z6(e){return`NG0${Math.abs(e)}`}function Un(e,t){return`${z6(e)}${t?": "+t:""}`}var xn=globalThis;function J(e){for(let t in e)if(e[t]===J)return t;throw Error("")}function Hk(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function $r(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map($r).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function Iu(e,t){return e?t?`${e} ${t}`:e:t||""}var q6=J({__forward_ref__:J});function fn(e){return e.__forward_ref__=fn,e.toString=function(){return $r(this())},e}function kt(e){return l0(e)?e():e}function l0(e){return typeof e=="function"&&e.hasOwnProperty(q6)&&e.__forward_ref__===fn}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Oe(e){return{providers:e.providers||[],imports:e.imports||[]}}function Ac(e){return U6(e,xu)}function d0(e){return Ac(e)!==null}function U6(e,t){return e.hasOwnProperty(t)&&e[t]||null}function $6(e){let t=e?.[xu]??null;return t||null}function Yf(e){return e&&e.hasOwnProperty(Mu)?e[Mu]:null}var xu=J({\u0275prov:J}),Mu=J({\u0275inj:J}),C=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function u0(e){return e&&!!e.\u0275providers}var h0=J({\u0275cmp:J}),p0=J({\u0275dir:J}),f0=J({\u0275pipe:J}),y0=J({\u0275mod:J}),Sc=J({\u0275fac:J}),bo=J({__NG_ELEMENT_ID__:J}),Nk=J({__NG_ENV_ID__:J});function g0(e){return Eu(e,"@NgModule"),e[y0]||null}function vr(e){return Eu(e,"@Component"),e[h0]||null}function Du(e){return Eu(e,"@Directive"),e[p0]||null}function Bk(e){return Eu(e,"@Pipe"),e[f0]||null}function Eu(e,t){if(e==null)throw new b(-919,!1)}function Ei(e){return typeof e=="string"?e:e==null?"":String(e)}function zk(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ei(e)}var qk=J({ngErrorCode:J}),W6=J({ngErrorMessage:J}),G6=J({ngTokenPath:J});function m0(e,t){return Uk("",-200,t)}function Au(e,t){throw new b(-201,!1)}function Uk(e,t,n){let r=new b(t,e);return r[qk]=t,r[W6]=e,n&&(r[G6]=n),r}function K6(e){return e[qk]}var Jf;function $k(){return Jf}function Xt(e){let t=Jf;return Jf=e,t}function v0(e,t,n){let r=Ac(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Au(e,"")}var Z6={},vo=Z6,Qf="__NG_DI_FLAG__",e0=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ko(n)||0;try{return this.injector.get(t,r&8?null:vo,r)}catch(i){if(Da(i))return i;throw i}}};function X6(e,t=0){let n=vu();if(n===void 0)throw new b(-203,!1);if(n===null)return v0(e,void 0,t);{let r=Y6(t),i=n.retrieve(e,r);if(Da(i)){if(r.optional)return null;throw i}return i}}function Z(e,t=0){return($k()||X6)(kt(e),t)}function f(e,t){return Z(e,ko(t))}function ko(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Y6(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function t0(e){let t=[];for(let n=0;n<e.length;n++){let r=kt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],c=J6(s);typeof c=="number"?c===-1?i=s.token:o|=c:i=s}t.push(Z(i,o))}else t.push(Z(r))}return t}function Wk(e,t){return e[Qf]=t,e.prototype[Qf]=t,e}function J6(e){return e[Qf]}function Ii(e,t){let n=e.hasOwnProperty(Sc);return n?e[Sc]:null}function Gk(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Kk(e){return e.flat(Number.POSITIVE_INFINITY)}function Tu(e,t){e.forEach(n=>Array.isArray(n)?Tu(n,t):t(n))}function k0(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Tc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Zk(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function Xk(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Lc(e,t,n){let r=Aa(e,t);return r>=0?e[r|1]=n:(r=~r,Xk(e,r,t,n)),r}function Lu(e,t){let n=Aa(e,t);if(n>=0)return e[n|1]}function Aa(e,t){return Q6(e,t,1)}function Q6(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=e[o<<n];if(t===a)return o<<n;a>t?i=o:r=o+1}return~(i<<n)}var $n={},Bt=[],Ai=new C(""),M0=new C("",-1),w0=new C(""),Ic=class{get(t,n=vo){if(n===vo){let i=Uk("",-201);throw i.name="\u0275NotFound",i}return n}};function kr(e){return{\u0275providers:e}}function Yk(e){return kr([{provide:Ai,multi:!0,useValue:e}])}function Jk(...e){return{\u0275providers:b0(!0,e),\u0275fromNgModule:!0}}function b0(e,...t){let n=[],r=new Set,i,o=a=>{n.push(a)};return Tu(t,a=>{let s=a;wu(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&Qk(i,o),n}function Qk(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];C0(i,o=>{t(o,r)})}}function wu(e,t,n,r){if(e=kt(e),!e)return!1;let i=null,o=Yf(e),a=!o&&vr(e);if(!o&&!a){let c=e.ngModule;if(o=Yf(c),o)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=e}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)wu(l,t,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let l;Tu(o.imports,d=>{wu(d,t,n,r)&&(l||=[],l.push(d))}),l!==void 0&&Qk(l,t)}if(!s){let l=Ii(i)||(()=>new i);t({provide:i,useFactory:l,deps:Bt},i),t({provide:w0,useValue:i,multi:!0},i),t({provide:Ai,useValue:()=>Z(i),multi:!0},i)}let c=o.providers;if(c!=null&&!s){let l=e;C0(c,d=>{t(d,l)})}}else return!1;return i!==e&&e.providers!==void 0}function C0(e,t){for(let n of e)u0(n)&&(n=n.\u0275providers),Array.isArray(n)?C0(n,t):t(n)}var eS=J({provide:String,useValue:J});function eM(e){return e!==null&&typeof e=="object"&&eS in e}function tS(e){return!!(e&&e.useExisting)}function nS(e){return!!(e&&e.useFactory)}function Mo(e){return typeof e=="function"}function tM(e){return!!e.useClass}var Rc=new C(""),ku={},Fk={},Xf;function Ta(){return Xf===void 0&&(Xf=new Ic),Xf}var Re=class{},wo=class extends Re{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,r0(t,a=>this.processProvider(a)),this.records.set(M0,Ea(void 0,this)),i.has("environment")&&this.records.set(Re,Ea(void 0,this));let o=this.records.get(Rc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(w0,Bt,{self:!0}))}retrieve(t,n){let r=ko(n)||0;try{return this.get(t,vo,r)}catch(i){if(Da(i))return i;throw i}}destroy(){_c(this),this._destroyed=!0;let t=z(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),z(t)}}onDestroy(t){return _c(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){_c(this);let n=gr(this),r=Xt(void 0),i;try{return t()}finally{gr(n),Xt(r)}}get(t,n=vo,r){if(_c(this),t.hasOwnProperty(Nk))return t[Nk](this);let i=ko(r),o,a=gr(this),s=Xt(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let d=sS(t)&&Ac(t);d&&this.injectableDefInScope(d)?l=Ea(n0(t),ku):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?Ta():this.parent;return n=i&8&&n===vo?null:n,c.get(t,n)}catch(c){let l=K6(c);throw l===-200||l===-201?new b(l,null):c}finally{Xt(s),gr(a)}}resolveInjectorInitializers(){let t=z(null),n=gr(this),r=Xt(void 0),i;try{let o=this.get(Ai,Bt,{self:!0});for(let a of o)a()}finally{gr(n),Xt(r),z(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push($r(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=kt(t);let n=Mo(t)?t:kt(t&&t.provide),r=iS(t);if(!Mo(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Ea(void 0,ku,!0),i.factory=()=>t0(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=z(null);try{if(n.value===Fk)throw m0($r(t));return n.value===ku&&(n.value=Fk,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&aS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{z(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=kt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function n0(e){let t=Ac(e),n=t!==null?t.factory:Ii(e);if(n!==null)return n;if(e instanceof C)throw new b(204,!1);if(e instanceof Function)return rS(e);throw new b(204,!1)}function rS(e){if(e.length>0)throw new b(204,!1);let n=$6(e);return n!==null?()=>n.factory(e):()=>new e}function iS(e){if(eM(e))return Ea(void 0,e.useValue);{let t=_0(e);return Ea(t,ku)}}function _0(e,t,n){let r;if(Mo(e)){let i=kt(e);return Ii(i)||n0(i)}else if(eM(e))r=()=>kt(e.useValue);else if(nS(e))r=()=>e.useFactory(...t0(e.deps||[]));else if(tS(e))r=(i,o)=>Z(kt(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=kt(e&&(e.useClass||e.provide));if(oS(e))r=()=>new i(...t0(e.deps));else return Ii(i)||n0(i)}return r}function _c(e){if(e.destroyed)throw new b(205,!1)}function Ea(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function oS(e){return!!e.deps}function aS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function sS(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function r0(e,t){for(let n of e)Array.isArray(n)?r0(n,t):n&&u0(n)?r0(n.\u0275providers,t):t(n)}function tt(e,t){let n;e instanceof wo?(_c(e),n=e):n=new e0(e);let r,i=gr(n),o=Xt(void 0);try{return t()}finally{gr(i),Xt(o)}}function nM(){return $k()!==void 0||vu()!=null}var Wn=0,U=1,ee=2,Mt=3,Dn=4,Yt=5,Co=6,La=7,nt=8,Jt=9,Mr=10,_e=11,Ra=12,S0=13,_o=14,zt=15,Wr=16,So=17,wr=18,br=19,I0=20,Ur=21,Ru=22,xi=23,yn=24,Io=25,Gr=26,Ge=27,rM=1,x0=6,Ti=7,Oc=8,xo=9,rt=10;function Cr(e){return Array.isArray(e)&&typeof e[rM]=="object"}function Gn(e){return Array.isArray(e)&&e[rM]===!0}function D0(e){return(e.flags&4)!==0}function Kr(e){return e.componentOffset>-1}function Oa(e){return(e.flags&1)===1}function Kn(e){return!!e.template}function Pa(e){return(e[ee]&512)!==0}function Do(e){return(e[ee]&256)===256}var E0="svg",iM="math";function En(e){for(;Array.isArray(e);)e=e[Wn];return e}function A0(e,t){return En(t[e])}function It(e,t){return En(t[e.index])}function Pc(e,t){return e.data[t]}function Ou(e,t){return e[t]}function T0(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function An(e,t){let n=t[e];return Cr(n)?n:n[Wn]}function oM(e){return(e[ee]&4)===4}function Pu(e){return(e[ee]&128)===128}function aM(e){return Gn(e[Mt])}function Tn(e,t){return t==null?null:e[t]}function L0(e){e[So]=0}function R0(e){e[ee]&1024||(e[ee]|=1024,Pu(e)&&Eo(e))}function sM(e,t){for(;e>0;)t=t[_o],e--;return t}function Nc(e){return!!(e[ee]&9216||e[yn]?.dirty)}function Nu(e){e[Mr].changeDetectionScheduler?.notify(8),e[ee]&64&&(e[ee]|=1024),Nc(e)&&Eo(e)}function Eo(e){e[Mr].changeDetectionScheduler?.notify(0);let t=Di(e);for(;t!==null&&!(t[ee]&8192||(t[ee]|=8192,!Pu(t)));)t=Di(t)}function O0(e,t){if(Do(e))throw new b(911,!1);e[Ur]===null&&(e[Ur]=[]),e[Ur].push(t)}function cM(e,t){if(e[Ur]===null)return;let n=e[Ur].indexOf(t);n!==-1&&e[Ur].splice(n,1)}function Di(e){let t=e[Mt];return Gn(t)?t[Mt]:t}function P0(e){return e[La]??=[]}function N0(e){return e.cleanup??=[]}function F0(e,t,n,r){let i=P0(t);i.push(n),e.firstCreatePass&&N0(e).push(r,i.length-1)}var ue={lFrame:kM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var i0=!1;function lM(){return ue.lFrame.elementDepthCount}function dM(){ue.lFrame.elementDepthCount++}function j0(){ue.lFrame.elementDepthCount--}function Fu(){return ue.bindingsEnabled}function V0(){return ue.skipHydrationRootTNode!==null}function H0(e){return ue.skipHydrationRootTNode===e}function B0(){ue.skipHydrationRootTNode=null}function P(){return ue.lFrame.lView}function xe(){return ue.lFrame.tView}function ce(e){return ue.lFrame.contextLView=e,e[nt]}function le(e){return ue.lFrame.contextLView=null,e}function it(){let e=z0();for(;e!==null&&e.type===64;)e=e.parent;return e}function z0(){return ue.lFrame.currentTNode}function uM(){let e=ue.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Na(e,t){let n=ue.lFrame;n.currentTNode=e,n.isParent=t}function q0(){return ue.lFrame.isParent}function U0(){ue.lFrame.isParent=!1}function hM(){return ue.lFrame.contextLView}function $0(){return i0}function xc(e){let t=i0;return i0=e,t}function Li(){let e=ue.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function W0(){return ue.lFrame.bindingIndex}function pM(e){return ue.lFrame.bindingIndex=e}function Zn(){return ue.lFrame.bindingIndex++}function ju(e){let t=ue.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function fM(){return ue.lFrame.inI18n}function yM(e,t){let n=ue.lFrame;n.bindingIndex=n.bindingRootIndex=e,Vu(t)}function gM(){return ue.lFrame.currentDirectiveIndex}function Vu(e){ue.lFrame.currentDirectiveIndex=e}function mM(e){let t=ue.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Hu(){return ue.lFrame.currentQueryIndex}function Fc(e){ue.lFrame.currentQueryIndex=e}function cS(e){let t=e[U];return t.type===2?t.declTNode:t.type===1?e[Yt]:null}function G0(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=cS(o),i===null||(o=o[_o],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=ue.lFrame=vM();return r.currentTNode=t,r.lView=e,!0}function Bu(e){let t=vM(),n=e[U];ue.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function vM(){let e=ue.lFrame,t=e===null?null:e.child;return t===null?kM(e):t}function kM(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function MM(){let e=ue.lFrame;return ue.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var K0=MM;function zu(){let e=MM();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function wM(e){return(ue.lFrame.contextLView=sM(e,ue.lFrame.contextLView))[nt]}function _r(){return ue.lFrame.selectedIndex}function Ri(e){ue.lFrame.selectedIndex=e}function Ao(){let e=ue.lFrame;return Pc(e.tView,e.selectedIndex)}function To(){ue.lFrame.currentNamespace=E0}function qu(){lS()}function lS(){ue.lFrame.currentNamespace=null}function bM(){return ue.lFrame.currentNamespace}var CM=!0;function Uu(){return CM}function jc(e){CM=e}function o0(e,t=null,n=null,r){let i=Z0(e,t,n,r);return i.resolveInjectorInitializers(),i}function Z0(e,t=null,n=null,r,i=new Set){let o=[n||Bt,Jk(e)];return r=r||(typeof e=="object"?void 0:$r(e)),new wo(o,t||Ta(),r||null,i)}var Q=class e{static THROW_IF_NOT_FOUND=vo;static NULL=new Ic;static create(t,n){if(Array.isArray(t))return o0({name:""},n,t,"");{let r=t.name??"";return o0({name:r},t.parent,t.providers,r)}}static \u0275prov=M({token:e,providedIn:"any",factory:()=>Z(M0)});static __NG_ELEMENT_ID__=-1},oe=new C(""),Ye=(()=>{class e{static __NG_ELEMENT_ID__=dS;static __NG_ENV_ID__=n=>n}return e})(),bu=class extends Ye{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Do(this._lView)}onDestroy(t){let n=this._lView;return O0(n,t),()=>cM(n,t)}};function dS(){return new bu(P())}var _M=!1,SM=new C(""),Zr=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new mt(!1);debugTaskTracker=f(SM,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ne(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),a0=class extends q{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,nM()&&(this.destroyRef=f(Ye,{optional:!0})??void 0,this.pendingTasks=f(Zr,{optional:!0})??void 0)}emit(t){let n=z(null);try{super.next(t)}finally{z(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),a=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return t instanceof Ne&&t.add(s),s}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Me=a0;function Cu(...e){}function X0(e){let t,n;function r(){e=Cu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function IM(e){return queueMicrotask(()=>e()),()=>{e=Cu}}var Y0="isAngularZone",Dc=Y0+"_ID",uS=0,be=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Me(!1);onMicrotaskEmpty=new Me(!1);onStable=new Me(!1);onError=new Me(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=_M}=t;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,fS(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Y0)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,t,hS,Cu,Cu);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},hS={};function J0(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function pS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){X0(()=>{e.callbackScheduled=!1,s0(e),e.isCheckStableRunning=!0,J0(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),s0(e)}function fS(e){let t=()=>{pS(e)},n=uS++;e._inner=e._inner.fork({name:"angular",properties:{[Y0]:!0,[Dc]:n,[Dc+n]:!0},onInvokeTask:(r,i,o,a,s,c)=>{if(yS(c))return r.invokeTask(o,a,s,c);try{return jk(e),r.invokeTask(o,a,s,c)}finally{(e.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),Vk(e)}},onInvoke:(r,i,o,a,s,c,l)=>{try{return jk(e),r.invoke(o,a,s,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!gS(c)&&t(),Vk(e)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(e._hasPendingMicrotasks=a.microTask,s0(e),J0(e)):a.change=="macroTask"&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}function s0(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function jk(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Vk(e){e._nesting--,J0(e)}var Ec=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Me;onMicrotaskEmpty=new Me;onStable=new Me;onError=new Me;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function yS(e){return xM(e,"__ignore_ng_zone__")}function gS(e){return xM(e,"__scheduler_tick__")}function xM(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var In=class{_console=console;handleError(t){this._console.error("ERROR",t)}},sn=new C("",{factory:()=>{let e=f(be),t=f(Re),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(In),n.handleError(r))})}}}),DM={provide:Ai,useValue:()=>{let e=f(In,{optional:!0})},multi:!0},mS=new C("",{factory:()=>{let e=f(oe).defaultView;if(!e)return;let t=f(sn),n=o=>{t(o.reason),o.preventDefault()},r=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),f(Ye).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function vS(){return kr([Yk(()=>{f(mS)})])}function we(e,t){let[n,r,i]=xf(e,t?.equal),o=n,a=o[ze];return o.set=r,o.update=i,o.asReadonly=Vc.bind(o),o}function Vc(){let e=this[ze];if(e.readonlyFn===void 0){let t=()=>this();t[ze]=e,e.readonlyFn=t}return e.readonlyFn}var Fa=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=kS}return e})();function kS(){return new Fa(P(),it())}var mr=class{},Hc=new C("",{factory:()=>!0});var Q0=new C(""),ja=(()=>{class e{internalPendingTasks=f(Zr);scheduler=f(mr);errorHandler=f(sn);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),$u=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>new c0})}return e})(),c0=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},_u=class{[ze];constructor(t){this[ze]=t}destroy(){this[ze].destroy()}};function cn(e,t){let n=t?.injector??f(Q),r=t?.manualCleanup!==!0?n.get(Ye):null,i,o=n.get(Fa,null,{optional:!0}),a=n.get(mr);return o!==null?(i=bS(o.view,a,e),r instanceof bu&&r._lView===o.view&&(r=null)):i=CS(e,n.get($u),a),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new _u(i)}var EM=x(m({},Ef),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let e=xc(!1);try{Af(this)}finally{xc(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=z(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],z(e)}}}),MS=x(m({},EM),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if(Br(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.scheduler.remove(this)}}),wS=x(m({},EM),{consumerMarkedDirty(){this.view[ee]|=8192,Eo(this.view),this.notifier.notify(13)},destroy(){if(Br(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.view[xi]?.delete(this)}});function bS(e,t,n){let r=Object.create(wS);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=AM(r,n),e[xi]??=new Set,e[xi].add(r),r.consumerMarkedDirty(r),r}function CS(e,t,n){let r=Object.create(MS);return r.fn=AM(r,e),r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function AM(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}function $(e){return Df(e)}function Ya(e){return{toString:e}.toString()}var Wu="__parameters__";function ES(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function AS(e,t,n){return Ya(()=>{let r=ES(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(Wu)?c[Wu]:Object.defineProperty(c,Wu,{value:[]})[Wu];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var Ch=Wk(AS("Optional"),8);function TS(e){return typeof e=="function"}function w4(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var th=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},ot=(()=>{let e=()=>b4;return e.ngInherit=!0,e})();function b4(e){return e.type.prototype.ngOnChanges&&(e.setInput=RS),LS}function LS(){let e=_4(this),t=e?.current;if(t){let n=e.previous;if(n===$n)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function RS(e,t,n,r,i){let o=this.declaredInputs[r],a=_4(e)||OS(e,{previous:$n,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[o];s[o]=new th(l&&l.currentValue,n,c===$n),w4(e,t,i,n)}var C4="__ngSimpleChanges__";function _4(e){return e[C4]||null}function OS(e,t){return e[C4]=t}var TM=[];var Ae=function(e,t=null,n){for(let r=0;r<TM.length;r++){let i=TM[r];i(e,t,n)}},Ie=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(Ie||{});function PS(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let a=b4(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function S4(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;a&&(e.contentHooks??=[]).push(-n,a),s&&((e.contentHooks??=[]).push(n,s),(e.contentCheckHooks??=[]).push(n,s)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function Yu(e,t,n){I4(e,t,3,n)}function Ju(e,t,n,r){(e[ee]&3)===n&&I4(e,t,n,r)}function e2(e,t){let n=e[ee];(n&3)===t&&(n&=16383,n+=1,e[ee]=n)}function I4(e,t,n,r){let i=r!==void 0?e[So]&65535:0,o=r??-1,a=t.length-1,s=0;for(let c=i;c<a;c++)if(typeof t[c+1]=="number"){if(s=t[c],r!=null&&s>=r)break}else t[c]<0&&(e[So]+=65536),(s<o||o==-1)&&(NS(e,n,t,c),e[So]=(e[So]&4294901760)+c+2),c++}function LM(e,t){Ae(Ie.LifecycleHookStart,e,t);let n=z(null);try{t.call(e)}finally{z(n),Ae(Ie.LifecycleHookEnd,e,t)}}function NS(e,t,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],s=e[a];i?e[ee]>>14<e[So]>>16&&(e[ee]&3)===t&&(e[ee]+=16384,LM(s,o)):LM(s,o)}var Ha=-1,Po=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function FS(e){return(e.flags&8)!==0}function jS(e){return(e.flags&16)!==0}function VS(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],s=n[r++];e.setAttribute(t,a,s,o)}else{let o=i,a=n[++r];HS(o)?e.setProperty(t,o,a):e.setAttribute(t,o,a),r++}}return r}function q2(e){return e===3||e===4||e===6}function HS(e){return e.charCodeAt(0)===64}function Ua(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?RM(e,n,i,null,t[++r]):RM(e,n,i,null,null))}}return e}function RM(e,t,n,r,i){let o=0,a=e.length;if(t===-1)a=-1;else for(;o<e.length;){let s=e[o++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=o-1;break}}}for(;o<e.length;){let s=e[o];if(typeof s=="number")break;if(s===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function x4(e){return e!==Ha}function nh(e){return e&32767}function BS(e){return e>>16}function rh(e,t){let n=BS(e),r=t;for(;n>0;)r=r[_o],n--;return r}var d2=!0;function ih(e){let t=d2;return d2=e,t}var zS=256,D4=zS-1,E4=5,qS=0,Sr={};function US(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(bo)&&(r=n[bo]),r==null&&(r=n[bo]=qS++);let i=r&D4,o=1<<i;t.data[e+(i>>E4)]|=o}function oh(e,t){let n=A4(e,t);if(n!==-1)return n;let r=t[U];r.firstCreatePass&&(e.injectorIndex=t.length,t2(r.data,e),t2(t,null),t2(r.blueprint,null));let i=U2(e,t),o=e.injectorIndex;if(x4(i)){let a=nh(i),s=rh(i,t),c=s[U].data;for(let l=0;l<8;l++)t[o+l]=s[a+l]|c[a+l]}return t[o+8]=i,o}function t2(e,t){e.push(0,0,0,0,0,0,0,0,t)}function A4(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function U2(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=P4(i),r===null)return Ha;if(n++,i=i[_o],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ha}function u2(e,t,n){US(e,t,n)}function $S(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(q2(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function T4(e,t,n){if(n&8||e!==void 0)return e;Au(t,"NodeInjector")}function L4(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Jt],o=Xt(void 0);try{return i?i.get(t,r,n&8):v0(t,r,n&8)}finally{Xt(o)}}return T4(r,t,n)}function R4(e,t,n,r=0,i){if(e!==null){if(t[ee]&2048&&!(r&2)){let a=ZS(e,t,n,r,Sr);if(a!==Sr)return a}let o=O4(e,t,n,r,Sr);if(o!==Sr)return o}return L4(t,n,r,i)}function O4(e,t,n,r,i){let o=GS(n);if(typeof o=="function"){if(!G0(t,e,r))return r&1?T4(i,n,r):L4(t,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))Au(n);else return a}finally{K0()}}else if(typeof o=="number"){let a=null,s=A4(e,t),c=Ha,l=r&1?t[zt][Yt]:null;for((s===-1||r&4)&&(c=s===-1?U2(e,t):t[s+8],c===Ha||!PM(r,!1)?s=-1:(a=t[U],s=nh(c),t=rh(c,t)));s!==-1;){let d=t[U];if(OM(o,s,d.data)){let u=WS(s,t,n,a,r,l);if(u!==Sr)return u}c=t[s+8],c!==Ha&&PM(r,t[U].data[s+8]===l)&&OM(o,s,t)?(a=d,s=nh(c),t=rh(c,t)):s=-1}}return i}function WS(e,t,n,r,i,o){let a=t[U],s=a.data[e+8],c=r==null?Kr(s)&&d2:r!=a&&(s.type&3)!==0,l=i&1&&o===s,d=Qu(s,a,n,c,l);return d!==null?$c(t,a,d,s,i):Sr}function Qu(e,t,n,r,i){let o=e.providerIndexes,a=t.data,s=o&1048575,c=e.directiveStart,l=e.directiveEnd,d=o>>20,u=r?s:s+d,p=i?s+d:l;for(let h=u;h<p;h++){let y=a[h];if(h<c&&n===y||h>=c&&y.type===n)return h}if(i){let h=a[c];if(h&&Kn(h)&&h.type===n)return c}return null}function $c(e,t,n,r,i){let o=e[n],a=t.data;if(o instanceof Po){let s=o;if(s.resolving){let h=zk(a[n]);throw m0(h)}let c=ih(s.canSeeViewProviders);s.resolving=!0;let l=a[n].type||a[n],d,u=s.injectImpl?Xt(s.injectImpl):null,p=G0(e,r,0);try{o=e[n]=s.factory(void 0,i,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&PS(n,a[n],t)}finally{u!==null&&Xt(u),ih(c),s.resolving=!1,K0()}}return o}function GS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(bo)?e[bo]:void 0;return typeof t=="number"?t>=0?t&D4:KS:t}function OM(e,t,n){let r=1<<e;return!!(n[t+(e>>E4)]&r)}function PM(e,t){return!(e&2)&&!(e&1&&t)}var Lo=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return R4(this._tNode,this._lView,t,ko(r),n)}};function KS(){return new Lo(it(),P())}function Qn(e){return Ya(()=>{let t=e.prototype.constructor,n=t[Sc]||h2(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Sc]||h2(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function h2(e){return l0(e)?()=>{let t=h2(kt(e));return t&&t()}:Ii(e)}function ZS(e,t,n,r,i){let o=e,a=t;for(;o!==null&&a!==null&&a[ee]&2048&&!Pa(a);){let s=O4(o,a,n,r|2,Sr);if(s!==Sr)return s;let c=o.parent;if(!c){let l=a[I0];if(l){let d=l.get(n,Sr,r);if(d!==Sr)return d}c=P4(a),a=a[_o]}o=c}return i}function P4(e){let t=e[U],n=t.type;return n===2?t.declTNode:n===1?e[Yt]:null}function el(e){return $S(it(),e)}function XS(){return Ja(it(),P())}function Ja(e,t){return new Se(It(e,t))}var Se=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=XS}return e})();function N4(e){return e instanceof Se?e.nativeElement:e}function YS(){return this._results[Symbol.iterator]()}var ah=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new q}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Kk(t);(this._changesDetected=!Gk(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=YS};function F4(e){return(e.flags&128)===128}var $2=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})($2||{}),j4=new Map,JS=0;function QS(){return JS++}function eI(e){j4.set(e[br],e)}function p2(e){j4.delete(e[br])}var NM="__ngContext__";function $a(e,t){Cr(t)?(e[NM]=t[br],eI(t)):e[NM]=t}function V4(e){return B4(e[Ra])}function H4(e){return B4(e[Dn])}function B4(e){for(;e!==null&&!Gn(e);)e=e[Dn];return e}var tI;function W2(e){tI=e}var ji=new C("",{factory:()=>nI}),nI="ng";var _h=new C(""),Yr=new C("",{providedIn:"platform",factory:()=>"unknown"}),tl=new C(""),Qa=new C("",{factory:()=>f(oe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var z4="r";var q4="di";var U4=!1,$4=new C("",{factory:()=>U4});var rI=(e,t,n,r)=>{};function iI(e,t,n,r){rI(e,t,n,r)}function Sh(e){return(e.flags&32)===32}var oI=()=>null;function W4(e,t,n=!1){return oI(e,t,n)}function G4(e,t){let n=e.contentQueries;if(n!==null){let r=z(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let s=e.data[a];Fc(o),s.contentQueries(2,t[a],a)}}}finally{z(r)}}}function f2(e,t,n){Fc(0);let r=z(null);try{t(e,n)}finally{z(r)}}function G2(e,t,n){if(D0(t)){let r=z(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let a=i;a<o;a++){let s=e.data[a];if(s.contentQueries){let c=n[a];s.contentQueries(1,c,a)}}}finally{z(r)}}}var Yn=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Yn||{});var Gu;function aI(){if(Gu===void 0&&(Gu=null,xn.trustedTypes))try{Gu=xn.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Gu}function Ih(e){return aI()?.createHTML(e)||e}var Ku;function sI(){if(Ku===void 0&&(Ku=null,xn.trustedTypes))try{Ku=xn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ku}function FM(e){return sI()?.createScriptURL(e)||e}var Xr=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Su})`}},y2=class extends Xr{getTypeName(){return"HTML"}},g2=class extends Xr{getTypeName(){return"Style"}},m2=class extends Xr{getTypeName(){return"Script"}},v2=class extends Xr{getTypeName(){return"URL"}},k2=class extends Xr{getTypeName(){return"ResourceURL"}};function gn(e){return e instanceof Xr?e.changingThisBreaksApplicationSecurity:e}function Jr(e,t){let n=K4(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Su})`)}return n===t}function K4(e){return e instanceof Xr&&e.getTypeName()||null}function K2(e){return new y2(e)}function Z2(e){return new g2(e)}function X2(e){return new m2(e)}function Y2(e){return new v2(e)}function J2(e){return new k2(e)}function cI(e){let t=new w2(e);return lI()?new M2(t):t}var M2=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(Ih(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},w2=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=Ih(t),n}};function lI(){try{return!!new window.DOMParser().parseFromString(Ih(""),"text/html")}catch{return!1}}var dI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function nl(e){return e=String(e),e.match(dI)?e:"unsafe:"+e}function Qr(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function rl(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var Z4=Qr("area,br,col,hr,img,wbr"),X4=Qr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Y4=Qr("rp,rt"),uI=rl(Y4,X4),hI=rl(X4,Qr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),pI=rl(Y4,Qr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),jM=rl(Z4,hI,pI,uI),J4=Qr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),fI=Qr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),yI=Qr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),gI=rl(J4,fI,yI),mI=Qr("script,style,template"),b2=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=MI(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=kI(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(t){let n=VM(t).toLowerCase();if(!jM.hasOwnProperty(n))return this.sanitizedSomething=!0,!mI.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),a=o.name,s=a.toLowerCase();if(!gI.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let c=o.value;J4[s]&&(c=nl(c)),this.buf.push(" ",a,'="',HM(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=VM(t).toLowerCase();jM.hasOwnProperty(n)&&!Z4.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(HM(t))}};function vI(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function kI(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw Q4(t);return t}function MI(e){let t=e.firstChild;if(t&&vI(e,t))throw Q4(t);return t}function VM(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function Q4(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var wI=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,bI=/([^\#-~ |!])/g;function HM(e){return e.replace(/&/g,"&amp;").replace(wI,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(bI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Zu;function Q2(e,t){let n=null;try{Zu=Zu||cI(e);let r=t?String(t):"";n=Zu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Zu.getInertBodyElement(r)}while(r!==o);let s=new b2().sanitizeChildren(BM(n)||n);return Ih(s)}finally{if(n){let r=BM(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function BM(e){return"content"in e&&CI(e)?e.content:null}function CI(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var _I=/^>|^->|<!--|-->|--!>|<!-$/g,SI=/(<|>)/g,II="\u200B$1\u200B";function xI(e){return e.replace(_I,t=>t.replace(SI,II))}function DI(e,t){return e.createText(t)}function EI(e,t,n){e.setValue(t,n)}function AI(e,t){return e.createComment(xI(t))}function ew(e,t,n){return e.createElement(t,n)}function sh(e,t,n,r,i){e.insertBefore(t,n,r,i)}function tw(e,t,n){e.appendChild(t,n)}function zM(e,t,n,r,i){r!==null?sh(e,t,n,r,i):tw(e,t,n)}function nw(e,t,n,r){e.removeChild(null,t,n,r)}function TI(e,t,n){e.setAttribute(t,"style",n)}function LI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function rw(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&VS(e,t,r),i!==null&&LI(e,t,i),o!==null&&TI(e,t,o)}var er=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(er||{});function iw(e){let t=aw();return t?t.sanitize(er.URL,e)||"":Jr(e,"URL")?gn(e):nl(Ei(e))}function ow(e){let t=aw();if(t)return FM(t.sanitize(er.RESOURCE_URL,e)||"");if(Jr(e,"ResourceURL"))return FM(gn(e));throw new b(904,!1)}var RI=new Set(["embed","frame","iframe","media","script"]),OI=new Set(["base","link","script"]);function PI(e,t){return t==="src"&&RI.has(e)||t==="href"&&OI.has(e)||t==="xlink:href"&&e==="script"?ow:iw}function ey(e,t,n){return PI(t,n)(e)}function aw(){let e=P();return e&&e[Mr].sanitizer}function sw(e){return e instanceof Function?e():e}function NI(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var cw="ng-template";function FI(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&NI(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ty(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ty(e){return e.type===4&&e.value!==cw}function jI(e,t,n){let r=e.type===4&&!n?cw:e.value;return t===r}function VI(e,t,n){let r=4,i=e.attrs,o=i!==null?zI(i):0,a=!1;for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number"){if(!a&&!Xn(r)&&!Xn(c))return!1;if(a&&Xn(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!jI(e,c,n)||c===""&&t.length===1){if(Xn(r))return!1;a=!0}}else if(r&8){if(i===null||!FI(e,i,c,n)){if(Xn(r))return!1;a=!0}}else{let l=t[++s],d=HI(c,i,ty(e),n);if(d===-1){if(Xn(r))return!1;a=!0;continue}if(l!==""){let u;if(d>o?u="":u=i[d+1].toLowerCase(),r&2&&l!==u){if(Xn(r))return!1;a=!0}}}}return Xn(r)||a}function Xn(e){return(e&1)===0}function HI(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let a=t[i];if(a===e)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=t[++i];for(;typeof s=="string";)s=t[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return qI(t,e)}function lw(e,t,n=!1){for(let r=0;r<t.length;r++)if(VI(e,t[r],n))return!0;return!1}function BI(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function zI(e){for(let t=0;t<e.length;t++){let n=e[t];if(q2(n))return t}return e.length}function qI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function UI(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function qM(e,t){return e?":not("+t.trim()+")":t}function $I(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let a=e[n];if(typeof a=="string")if(r&2){let s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Xn(a)&&(t+=qM(o,i),i=""),r=a,o=o||!Xn(r);n++}return i!==""&&(t+=qM(o,i)),t}function WI(e){return e.map($I).join(",")}function GI(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Xn(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var At={};function ny(e,t,n,r,i,o,a,s,c,l,d){let u=Ge+r,p=u+i,h=KI(u,p),y=typeof l=="function"?l():l;return h[U]={type:e,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function KI(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:At);return n}function ZI(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=ny(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function ry(e,t,n,r,i,o,a,s,c,l,d){let u=t.blueprint.slice();return u[Wn]=i,u[ee]=r|4|128|8|64|1024,(l!==null||e&&e[ee]&2048)&&(u[ee]|=2048),L0(u),u[Mt]=u[_o]=e,u[nt]=n,u[Mr]=a||e&&e[Mr],u[_e]=s||e&&e[_e],u[Jt]=c||e&&e[Jt]||null,u[Yt]=o,u[br]=QS(),u[Co]=d,u[I0]=l,u[zt]=t.type==2?e[zt]:u,u}function XI(e,t,n){let r=It(t,e),i=ZI(n),o=e[Mr].rendererFactory,a=iy(e,ry(e,i,null,dw(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=a}function dw(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function uw(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function iy(e,t){return e[Ra]?e[S0][Dn]=t:e[Ra]=t,e[S0]=t,t}function H(e=1){hw(xe(),P(),_r()+e,!1)}function hw(e,t,n,r){if(!r)if((t[ee]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Yu(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Ju(t,o,0,n)}Ri(n)}var xh=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(xh||{});function Wc(e,t,n,r){let i=z(null);try{let[o,a,s]=e.inputs[n],c=null;(a&xh.SignalBased)!==0&&(c=t[o][ze]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):w4(t,c,o,r)}finally{z(i)}}var Ir=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Ir||{}),YI;function oy(e,t){return YI(e,t)}function ch(e){if(!e)return 0;let t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function Ba(e,t){return e.getPropertyValue(t).split(",").map(r=>r.trim())}function JI(e){let t=Ba(e,"transition-property"),n=Ba(e,"transition-duration"),r=Ba(e,"transition-delay"),i={propertyName:"",duration:0,animationName:void 0};for(let o=0;o<t.length;o++){let a=ch(r[o])+ch(n[o]);a>i.duration&&(i.propertyName=t[o],i.duration=a)}return i}function QI(e){let t=Ba(e,"animation-name"),n=Ba(e,"animation-delay"),r=Ba(e,"animation-duration"),i={animationName:"",propertyName:void 0,duration:0};for(let o=0;o<t.length;o++){let a=ch(n[o])+ch(r[o]);a>i.duration&&(i.animationName=t[o],i.duration=a)}return i}function pw(e,t){return e!==void 0&&e.duration>t.duration}function fw(e){return(e.animationName!=null||e.propertyName!=null)&&e.duration>0}function ex(e,t){let n=getComputedStyle(e),r=QI(n),i=JI(n),o=r.duration>i.duration?r:i;pw(t.get(e),o)||fw(o)&&t.set(e,o)}function yw(e,t,n){if(!n)return;let r=e.getAnimations();return r.length===0?ex(e,t):tx(e,t,r)}function tx(e,t,n){let r={animationName:void 0,propertyName:void 0,duration:0};for(let i of n){let o=i.effect?.getTiming(),a=typeof o?.duration=="number"?o.duration:0,s=(o?.delay??0)+a,c,l;i.animationName?l=i.animationName:c=i.transitionProperty,s>=r.duration&&(r={animationName:l,propertyName:c,duration:s})}pw(t.get(e),r)||fw(r)&&t.set(e,r)}var Pi=new Set,Dh=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Dh||{}),Dr=new C(""),UM=new Set;function en(e){UM.has(e)||(UM.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Eh=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),ay=[0,1,2,3],sy=(()=>{class e{ngZone=f(be);scheduler=f(mr);errorHandler=f(In,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){f(Dr,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Ae(Ie.AfterRenderHooksStart),this.executing=!0;for(let r of ay)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Ae(Ie.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Io]??=[]).push(n),Eo(r),r[ee]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Dh.AFTER_NEXT_RENDER,n):n()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),Gc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,a=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Io];t&&(this.view[Io]=t.filter(n=>n!==this))}};function nx(e,t){let n=t?.injector??f(Q);return en("NgAfterRender"),gw(e,n,t,!1)}function ln(e,t){let n=t?.injector??f(Q);return en("NgAfterNextRender"),gw(e,n,t,!0)}function rx(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function gw(e,t,n,r){let i=t.get(Eh);i.impl??=t.get(sy);let o=t.get(Dr,null,{optional:!0}),a=n?.manualCleanup!==!0?t.get(Ye):null,s=t.get(Fa,null,{optional:!0}),c=new Gc(i.impl,rx(e),s?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var Ah=new C("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:f(Re)})});function mw(e,t,n){let r=e.get(Ah);if(Array.isArray(t))for(let i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function ix(e,t){let n=e.get(Ah);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function ox(e){let t=e.get(Ah);t.isScheduled||(ln(()=>{t.isScheduled=!1;for(let n of t.queue)n();t.queue.clear()},{injector:t.injector}),t.isScheduled=!0)}function vw(e){let t=e.get(Ah);t.scheduler=ox,t.scheduler(e)}function kw(e,t){for(let[n,r]of t)mw(e,r.animateFns)}function $M(e,t,n,r){let i=e?.[Gr]?.enter;t!==null&&i&&i.has(n.index)&&kw(r,i)}function Va(e,t,n,r,i,o,a,s){if(i!=null){let c,l=!1;Gn(i)?c=i:Cr(i)&&(l=!0,i=i[Wn]);let d=En(i);e===0&&r!==null?($M(s,r,o,n),a==null?tw(t,r,d):sh(t,r,d,a||null,!0)):e===1&&r!==null?($M(s,r,o,n),sh(t,r,d,a||null,!0)):e===2?WM(s,o,n,u=>{nw(t,d,l,u)}):e===3&&WM(s,o,n,()=>{t.destroyNode(d)}),c!=null&&gx(t,e,n,c,o,r,a)}}function ax(e,t){Mw(e,t),t[Wn]=null,t[Yt]=null}function sx(e,t,n,r,i,o){r[Wn]=i,r[Yt]=t,Lh(e,r,n,1,i,o)}function Mw(e,t){t[Mr].changeDetectionScheduler?.notify(9),Lh(e,t,t[_e],2,null,null)}function cx(e){let t=e[Ra];if(!t)return n2(e[U],e);for(;t;){let n=null;if(Cr(t))n=t[Ra];else{let r=t[rt];r&&(n=r)}if(!n){for(;t&&!t[Dn]&&t!==e;)Cr(t)&&n2(t[U],t),t=t[Mt];t===null&&(t=e),Cr(t)&&n2(t[U],t),n=t&&t[Dn]}t=n}}function cy(e,t){let n=e[xo],r=n.indexOf(t);n.splice(r,1)}function Th(e,t){if(Do(t))return;let n=t[_e];n.destroyNode&&Lh(e,t,n,3,null,null),cx(t)}function n2(e,t){if(Do(t))return;let n=z(null);try{t[ee]&=-129,t[ee]|=256,t[yn]&&Br(t[yn]),ux(e,t),dx(e,t),t[U].type===1&&t[_e].destroy();let r=t[Wr];if(r!==null&&Gn(t[Mt])){r!==t[Mt]&&cy(r,t);let i=t[wr];i!==null&&i.detachView(e)}p2(t)}finally{z(n)}}function WM(e,t,n,r){let i=e?.[Gr];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);e&&Pi.add(e[br]),mw(n,()=>{if(i.leave&&i.leave.has(t.index)){let a=i.leave.get(t.index),s=[];if(a){for(let c=0;c<a.animateFns.length;c++){let l=a.animateFns[c],{promise:d}=l();s.push(d)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(s),lx(e,r)}else e&&Pi.delete(e[br]),r(!1)},i)}function lx(e,t){let n=e[Gr]?.running;if(n){n.then(()=>{e[Gr].running=void 0,Pi.delete(e[br]),t(!0)});return}t(!1)}function dx(e,t){let n=e.cleanup,r=t[La];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(t[La]=null);let i=t[Ur];if(i!==null){t[Ur]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=t[xi];if(o!==null){t[xi]=null;for(let a of o)a.destroy()}}function ux(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Po)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],c=o[a+1];Ae(Ie.LifecycleHookStart,s,c);try{c.call(s)}finally{Ae(Ie.LifecycleHookEnd,s,c)}}else{Ae(Ie.LifecycleHookStart,i,o);try{o.call(i)}finally{Ae(Ie.LifecycleHookEnd,i,o)}}}}}function ww(e,t,n){return hx(e,t.parent,n)}function hx(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Wn];if(Kr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Yn.None||i===Yn.Emulated)return null}return It(r,n)}function bw(e,t,n){return fx(e,t,n)}function px(e,t,n){return e.type&40?It(e,n):null}var fx=px,GM;function ly(e,t,n,r){let i=ww(e,r,t),o=t[_e],a=r.parent||t[Yt],s=bw(a,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)zM(o,i,n[c],s,!1);else zM(o,i,n,s,!1);GM!==void 0&&GM(o,r,t,n,i)}function zc(e,t){if(t!==null){let n=t.type;if(n&3)return It(t,e);if(n&4)return lh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return zc(e,r);{let i=e[t.index];return Gn(i)?lh(-1,i):En(i)}}else{if(n&128)return zc(e,t.next);if(n&32)return oy(t,e)()||En(e[t.index]);{let r=Cw(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Di(e[zt]);return zc(i,r)}else return zc(e,t.next)}}}return null}function Cw(e,t){if(t!==null){let r=e[zt][Yt],i=t.projection;return r.projection[i]}return null}function lh(e,t){let n=rt+e+1;if(n<t.length){let r=t[n],i=r[U].firstChild;if(i!==null)return zc(r,i)}return t[Ti]}function dy(e,t,n,r,i,o,a){for(;n!=null;){let s=r[Jt];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(a&&t===0&&(c&&$a(En(c),r),n.flags|=2),!Sh(n))if(l&8)dy(e,t,n.child,r,i,o,!1),Va(t,e,s,i,c,n,o,r);else if(l&32){let d=oy(n,r),u;for(;u=d();)Va(t,e,s,i,u,n,o,r);Va(t,e,s,i,c,n,o,r)}else l&16?_w(e,t,r,n,i,o):Va(t,e,s,i,c,n,o,r);n=a?n.projectionNext:n.next}}function Lh(e,t,n,r,i,o){dy(n,r,e.firstChild,t,i,o,!1)}function yx(e,t,n){let r=t[_e],i=ww(e,n,t),o=n.parent||t[Yt],a=bw(o,n,t);_w(r,0,t,n,i,a)}function _w(e,t,n,r,i,o){let a=n[zt],c=a[Yt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Va(t,e,n[Jt],i,d,r,o,n)}else{let l=c,d=a[Mt];F4(r)&&(l.flags|=128),dy(e,t,l,d,i,o,!0)}}function gx(e,t,n,r,i,o,a){let s=r[Ti],c=En(r);s!==c&&Va(t,e,n,o,s,i,a);for(let l=rt;l<r.length;l++){let d=r[l];Lh(d[U],d,e,t,o,s)}}function mx(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Ir.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Ir.Important),e.setStyle(n,r,i,o))}}function Sw(e,t,n,r,i){let o=_r(),a=r&2;try{Ri(-1),a&&t.length>Ge&&hw(e,t,Ge,!1);let s=a?Ie.TemplateUpdateStart:Ie.TemplateCreateStart;Ae(s,i,n),n(r,i)}finally{Ri(o);let s=a?Ie.TemplateUpdateEnd:Ie.TemplateCreateEnd;Ae(s,i,n)}}function Rh(e,t,n){Cx(e,t,n),(n.flags&64)===64&&_x(e,t,n)}function il(e,t,n=It){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?n(t,e):e[a];e[i++]=s}}}function vx(e,t,n,r){let o=r.get($4,U4)||n===Yn.ShadowDom||n===Yn.ExperimentalIsolatedShadowDom,a=e.selectRootElement(t,o);return kx(a),a}function kx(e){Mx(e)}var Mx=()=>null;function wx(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function uy(e,t,n,r,i,o){let a=t[U];if(yy(e,a,t,n,r)){Kr(e)&&bx(t,e.index);return}e.type&3&&(n=wx(n)),Iw(e,t,n,r,i,o)}function Iw(e,t,n,r,i,o){if(e.type&3){let a=It(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(a,n,r)}else e.type&12}function bx(e,t){let n=An(t,e);n[ee]&16||(n[ee]|=64)}function Cx(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Kr(n)&&XI(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||oh(n,t);let o=n.initialInputs;for(let a=r;a<i;a++){let s=e.data[a],c=$c(t,e,a,n);if($a(c,t),o!==null&&Dx(t,a-r,c,s,n,o),Kn(s)){let l=An(n.index,t);l[nt]=$c(t,e,a,n)}}}function _x(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=gM();try{Ri(o);for(let s=r;s<i;s++){let c=e.data[s],l=t[s];Vu(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Sx(c,l)}}finally{Ri(-1),Vu(a)}}function Sx(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function hy(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];lw(t,o.selectors,!1)&&(r??=[],Kn(o)?r.unshift(o):r.push(o))}return r}function Ix(e,t,n,r,i,o){let a=It(e,t);xx(t[_e],a,o,e.value,n,r,i)}function xx(e,t,n,r,i,o,a){if(o==null)e.removeAttribute(t,i,n);else{let s=a==null?Ei(o):a(o,r||"",i);e.setAttribute(t,i,s,n)}}function Dx(e,t,n,r,i,o){let a=o[t];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];Wc(r,n,c,l)}}function py(e,t,n,r,i){let o=Ge+n,a=t[U],s=i(a,t,e,r,n);t[o]=s,Na(e,!0);let c=e.type===2;return c?(rw(t[_e],s,e),(lM()===0||Oa(e))&&$a(s,t),dM()):$a(s,t),Uu()&&(!c||!Sh(e))&&ly(a,t,s,e),e}function fy(e){let t=e;return q0()?U0():(t=t.parent,Na(t,!1)),t}function Ex(e,t){let n=e[Jt];if(!n)return;let r;try{r=n.get(sn,null)}catch{r=null}r?.(t)}function yy(e,t,n,r,i){let o=e.inputs?.[r],a=e.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=t.data[l];Wc(u,n[l],d,i),s=!0}if(o)for(let c of o){let l=n[c],d=t.data[c];Wc(d,l,r,i),s=!0}return s}function Ax(e,t){let n=An(t,e),r=n[U];Tx(r,n);let i=n[Wn];i!==null&&n[Co]===null&&(n[Co]=W4(i,n[Jt])),Ae(Ie.ComponentStart);try{gy(r,n,n[nt])}finally{Ae(Ie.ComponentEnd,n[nt])}}function Tx(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function gy(e,t,n){Bu(t);try{let r=e.viewQuery;r!==null&&f2(1,r,n);let i=e.template;i!==null&&Sw(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[wr]?.finishViewCreation(e),e.staticContentQueries&&G4(e,t),e.staticViewQueries&&f2(2,e.viewQuery,n);let o=e.components;o!==null&&Lx(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[ee]&=-5,zu()}}function Lx(e,t){for(let n=0;n<t.length;n++)Ax(e,t[n])}function ol(e,t,n,r){let i=z(null);try{let o=t.tView,s=e[ee]&4096?4096:16,c=ry(e,o,n,s,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Wr]=l;let d=e[wr];return d!==null&&(c[wr]=d.createEmbeddedView(o)),gy(o,c,n),c}finally{z(i)}}function Wa(e,t){return!t||t.firstChild===null||F4(e)}function Kc(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(En(o)),Gn(o)&&xw(o,r);let a=n.type;if(a&8)Kc(e,t,n.child,r);else if(a&32){let s=oy(n,t),c;for(;c=s();)r.push(c)}else if(a&16){let s=Cw(t,n);if(Array.isArray(s))r.push(...s);else{let c=Di(t[zt]);Kc(c[U],c,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function xw(e,t){for(let n=rt;n<e.length;n++){let r=e[n],i=r[U].firstChild;i!==null&&Kc(r[U],r,i,t)}e[Ti]!==e[Wn]&&t.push(e[Ti])}function Dw(e){if(e[Io]!==null){for(let t of e[Io])t.impl.addSequence(t);e[Io].length=0}}var Ew=[];function Rx(e){return e[yn]??Ox(e)}function Ox(e){let t=Ew.pop()??Object.create(Nx);return t.lView=e,t}function Px(e){e.lView[yn]!==e&&(e.lView=null,Ew.push(e))}var Nx=x(m({},jr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Eo(e.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function Fx(e){let t=e[yn]??Object.create(jx);return t.lView=e,t}var jx=x(m({},jr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Di(e.lView);for(;t&&!Aw(t[U]);)t=Di(t);t&&R0(t)},consumerOnSignalRead(){this.lView[yn]=this}});function Aw(e){return e.type!==2}function Tw(e){if(e[xi]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[xi])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[ee]&8192)}}var Vx=100;function Lw(e,t=0){let r=e[Mr].rendererFactory,i=!1;i||r.begin?.();try{Hx(e,t)}finally{i||r.end?.()}}function Hx(e,t){let n=$0();try{xc(!0),C2(e,t);let r=0;for(;Nc(e);){if(r===Vx)throw new b(103,!1);r++,C2(e,1)}}finally{xc(n)}}function Bx(e,t,n,r){if(Do(t))return;let i=t[ee],o=!1,a=!1;Bu(t);let s=!0,c=null,l=null;o||(Aw(e)?(l=Rx(t),c=hr(l)):Vd()===null?(s=!1,l=Fx(t),c=hr(l)):t[yn]&&(Br(t[yn]),t[yn]=null));try{L0(t),pM(e.bindingStartIndex),n!==null&&Sw(e,t,n,2,r);let d=(i&3)===3;if(!o)if(d){let h=e.preOrderCheckHooks;h!==null&&Yu(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Ju(t,h,0,null),e2(t,0)}if(a||zx(t),Tw(t),Rw(t,0),e.contentQueries!==null&&G4(e,t),!o)if(d){let h=e.contentCheckHooks;h!==null&&Yu(t,h)}else{let h=e.contentHooks;h!==null&&Ju(t,h,1),e2(t,1)}Ux(e,t);let u=e.components;u!==null&&Pw(t,u,0);let p=e.viewQuery;if(p!==null&&f2(2,p,r),!o)if(d){let h=e.viewCheckHooks;h!==null&&Yu(t,h)}else{let h=e.viewHooks;h!==null&&Ju(t,h,2),e2(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ru]){for(let h of t[Ru])h();t[Ru]=null}o||(Dw(t),t[ee]&=-73)}catch(d){throw o||Eo(t),d}finally{l!==null&&(Hr(l,c),s&&Px(l)),zu()}}function Rw(e,t){for(let n=V4(e);n!==null;n=H4(n))for(let r=rt;r<n.length;r++){let i=n[r];Ow(i,t)}}function zx(e){for(let t=V4(e);t!==null;t=H4(t)){if(!(t[ee]&2))continue;let n=t[xo];for(let r=0;r<n.length;r++){let i=n[r];R0(i)}}}function qx(e,t,n){Ae(Ie.ComponentStart);let r=An(t,e);try{Ow(r,n)}finally{Ae(Ie.ComponentEnd,r[nt])}}function Ow(e,t){Pu(e)&&C2(e,t)}function C2(e,t){let r=e[U],i=e[ee],o=e[yn],a=!!(t===0&&i&16);if(a||=!!(i&64&&t===0),a||=!!(i&1024),a||=!!(o?.dirty&&lo(o)),a||=!1,o&&(o.dirty=!1),e[ee]&=-9217,a)Bx(r,e,r.template,e[nt]);else if(i&8192){let s=z(null);try{Tw(e),Rw(e,1);let c=r.components;c!==null&&Pw(e,c,1),Dw(e)}finally{z(s)}}}function Pw(e,t,n){for(let r=0;r<t.length;r++)qx(e,t[r],n)}function Ux(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Ri(~i);else{let o=i,a=n[++r],s=n[++r];yM(a,o);let c=t[o];Ae(Ie.HostBindingsUpdateStart,c);try{s(2,c)}finally{Ae(Ie.HostBindingsUpdateEnd,c)}}}}finally{Ri(-1)}}function my(e,t){let n=$0()?64:1088;for(e[Mr].changeDetectionScheduler?.notify(t);e;){e[ee]|=n;let r=Di(e);if(Pa(e)&&!r)return e;e=r}return null}function Nw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Fw(e,t){let n=rt+t;if(n<e.length)return e[n]}function al(e,t,n,r=!0){let i=t[U];if($x(i,t,e,n),r){let a=lh(n,e),s=t[_e],c=s.parentNode(e[Ti]);c!==null&&sx(i,e[Yt],s,t,c,a)}let o=t[Co];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function jw(e,t){let n=Zc(e,t);return n!==void 0&&Th(n[U],n),n}function Zc(e,t){if(e.length<=rt)return;let n=rt+t,r=e[n];if(r){let i=r[Wr];i!==null&&i!==e&&cy(i,r),t>0&&(e[n-1][Dn]=r[Dn]);let o=Tc(e,rt+t);ax(r[U],r);let a=o[wr];a!==null&&a.detachView(o[U]),r[Mt]=null,r[Dn]=null,r[ee]&=-129}return r}function $x(e,t,n,r){let i=rt+r,o=n.length;r>0&&(n[i-1][Dn]=t),r<o-rt?(t[Dn]=n[i],k0(n,rt+r,t)):(n.push(t),t[Dn]=null),t[Mt]=n;let a=t[Wr];a!==null&&n!==a&&Vw(a,t);let s=t[wr];s!==null&&s.insertView(e),Nu(t),t[ee]|=128}function Vw(e,t){let n=e[xo],r=t[Mt];if(Cr(r))e[ee]|=2;else{let i=r[Mt][zt];t[zt]!==i&&(e[ee]|=2)}n===null?e[xo]=[t]:n.push(t)}var Ni=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[U];return Kc(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[nt]}set context(t){this._lView[nt]=t}get destroyed(){return Do(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Mt];if(Gn(t)){let n=t[Oc],r=n?n.indexOf(this):-1;r>-1&&(Zc(t,r),Tc(n,r))}this._attachedToViewContainer=!1}Th(this._lView[U],this._lView)}onDestroy(t){O0(this._lView,t)}markForCheck(){my(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ee]&=-129}reattach(){Nu(this._lView),this._lView[ee]|=128}detectChanges(){this._lView[ee]|=1024,Lw(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Pa(this._lView),n=this._lView[Wr];n!==null&&!t&&cy(n,this._lView),Mw(this._lView[U],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=t;let n=Pa(this._lView),r=this._lView[Wr];r!==null&&!n&&Vw(r,this._lView),Nu(this._lView)}};var Jn=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Wx;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=ol(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Ni(o)}}return e})();function Wx(){return Oh(it(),P())}function Oh(e,t){return e.type&4?new Jn(t,e,Ja(e,t)):null}function es(e,t,n,r,i){let o=e.data[t];if(o===null)o=Gx(e,t,n,r,i),fM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=uM();o.injectorIndex=a===null?-1:a.injectorIndex}return Na(o,!0),o}function Gx(e,t,n,r,i){let o=z0(),a=q0(),s=a?o:o&&o.parent,c=e.data[t]=Zx(e,s,n,t,r,i);return Kx(e,c,o,a),c}function Kx(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function Zx(e,t,n,r,i,o){let a=t?t.injectorIndex:-1,s=0;return V0()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Xx(e){let t=e[x0]??[],r=e[Mt][_e],i=[];for(let o of t)o.data[q4]!==void 0?i.push(o):Yx(o,r);e[x0]=i}function Yx(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[z4];for(;n<i;){let o=r.nextSibling;nw(t,r,!1),r=o,n++}}}var Jx=()=>null,Qx=()=>null;function dh(e,t){return Jx(e,t)}function Hw(e,t,n){return Qx(e,t,n)}var Bw=class{},Ph=class{},_2=class{resolveComponentFactory(t){throw new b(917,!1)}},sl=class{static NULL=new _2},qt=class{},Tt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>eD()}return e})();function eD(){let e=P(),t=it(),n=An(t.index,e);return(Cr(n)?n:e)[_e]}var zw=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>null})}return e})();var eh={},S2=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,eh,r);return i!==eh||n===eh?i:this.parentInjector.get(t,n,r)}};function uh(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")o=s;else if(o==1)i=Iu(i,s);else if(o==2){let c=s,l=t[++a];r=Iu(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function F(e,t=0){let n=P();if(n===null)return Z(e,t);let r=it();return R4(r,n,kt(e),t)}function qw(e,t,n,r,i){let o=r===null?null:{"":-1},a=i(e,n);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}rD(e,t,n,s,o,c,l)}o!==null&&r!==null&&tD(n,r,o)}function tD(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new b(-301,!1);r.push(t[i],o)}}function nD(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function rD(e,t,n,r,i,o,a){let s=r.length,c=null;for(let p=0;p<s;p++){let h=r[p];c===null&&Kn(h)&&(c=h,nD(e,n,p)),u2(oh(n,t),e,h.type)}lD(n,e.data.length,s),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=uw(e,t,s,null);s>0&&(n.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(n.mergedAttrs=Ua(n.mergedAttrs,h.hostAttrs),oD(e,n,t,u,h),cD(u,h,i),a!==null&&a.has(h)){let[g,v]=a.get(h);n.directiveToIndex.set(h.type,[u,g+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let y=h.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),u++}iD(e,n,o)}function iD(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))KM(0,t,i,r),KM(1,t,i,r),XM(t,r,!1);else{let o=n.get(i);ZM(0,t,o,r),ZM(1,t,o,r),XM(t,r,!0)}}}function KM(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;e===0?a=t.inputs??={}:a=t.outputs??={},a[o]??=[],a[o].push(r),Uw(t,o)}}function ZM(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;e===0?s=t.hostDirectiveInputs??={}:s=t.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),Uw(t,a)}}function Uw(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function XM(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||ty(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===t){a??=[],a.push(c,r[s+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===t){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}e.initialInputs??=[],e.initialInputs.push(a)}function oD(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=Ii(i.type,!0)),a=new Po(o,Kn(i),F,null);e.blueprint[r]=a,n[r]=a,aD(e,t,r,uw(e,n,i.hostVars,At),i)}function aD(e,t,n,r,i){let o=i.hostBindings;if(o){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let s=~t.index;sD(a)!=s&&a.push(s),a.push(n,r,o)}}function sD(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function cD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Kn(t)&&(n[""]=e)}}function lD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function vy(e,t,n,r,i,o,a,s){let c=t[U],l=c.consts,d=Tn(l,a),u=es(c,e,n,r,d);return o&&qw(c,t,u,Tn(l,s),i),u.mergedAttrs=Ua(u.mergedAttrs,u.attrs),u.attrs!==null&&uh(u,u.attrs,!1),u.mergedAttrs!==null&&uh(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function ky(e,t){S4(e,t),D0(t)&&e.queries.elementEnd(t)}function dD(e,t,n,r,i,o){let a=t.consts,s=Tn(a,i),c=es(t,e,n,r,s);if(c.mergedAttrs=Ua(c.mergedAttrs,c.attrs),o!=null){let l=Tn(a,o);c.localNames=[];for(let d=0;d<l.length;d+=2)c.localNames.push(l[d],-1)}return c.attrs!==null&&uh(c,c.attrs,!1),c.mergedAttrs!==null&&uh(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function cl(e,t,n){return e[t]=n}function uD(e,t){return e[t]}function Qt(e,t,n){if(n===At)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Xc(e,t,n,r){let i=Qt(e,t,n);return Qt(e,t+1,r)||i}function hD(e,t,n,r,i){let o=Xc(e,t,n,r);return Qt(e,t+2,i)||o}function pD(e,t,n,r,i,o){let a=Xc(e,t,n,r);return Xc(e,t+2,i,o)||a}var Nh=Symbol("CONTROL");function Oi(e,t,n){return function r(i){let o=Kr(e)?An(e.index,t):t;my(o,5);let a=t[nt],s=YM(t,a,n,i),c=r.__ngNextListenerFn__;for(;c;)s=YM(t,a,c,i)&&s,c=c.__ngNextListenerFn__;return s}}function YM(e,t,n,r){let i=z(null);try{return Ae(Ie.OutputStart,t,n),n(r)!==!1}catch(o){return Ex(e,o),!1}finally{Ae(Ie.OutputEnd,t,n),z(i)}}function hh(e,t,n,r,i,o,a,s){let c=Oa(e),l=!1,d=null;if(!r&&c&&(d=yD(t,n,o,e.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=It(e,n),p=r?r(u):u;iI(n,p,o,s);let h=i.listen(p,o,s);if(!fD(o)){let y=r?g=>r(En(g[e.index])):e.index;$w(y,t,n,o,s,h,!1)}}return l}function fD(e){return e.startsWith("animation")||e.startsWith("transition")}function yD(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let s=t[La],c=i[o+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(o+=2)}return null}function $w(e,t,n,r,i,o,a){let s=t.firstCreatePass?N0(t):null,c=P0(n),l=c.length;c.push(i,o),s&&s.push(r,e,l,(l+1)*(a?-1:1))}function ph(e,t,n,r,i,o){let a=t[n],s=t[U],l=s.data[n].outputs[r],u=a[l].subscribe(o);$w(e.index,s,t,i,o,u,!0)}var I2=Symbol("BINDING");var fh=class extends sl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=vr(t);return new Fi(n,this.ngModule)}};function gD(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&xh.SignalBased)!==0};return i&&(o.transform=i),o})}function mD(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function vD(e,t,n){let r=t instanceof Re?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new S2(n,r):n}function kD(e){let t=e.get(qt,null);if(t===null)throw new b(407,!1);let n=e.get(zw,null),r=e.get(mr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function MD(e,t){let n=Ww(e);return ew(t,n,n==="svg"?E0:n==="math"?iM:null)}function Ww(e){return(e.selectors[0][0]||"div").toLowerCase()}var Fi=class extends Ph{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=gD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=mD(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=WI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,a){Ae(Ie.DynamicComponentStart);let s=z(null);try{let c=this.componentDef,l=wD(r,c,a,o),d=vD(c,i||this.ngModule,t),u=kD(d),p=u.rendererFactory.createRenderer(null,c),h=r?vx(p,r,c.encapsulation,d):MD(c,p),y=a?.some(JM)||o?.some(k=>typeof k!="function"&&k.bindings.some(JM)),g=ry(null,l,null,512|dw(c),null,null,u,p,d,null,W4(h,d,!0));g[Ge]=h,Bu(g);let v=null;try{let k=vy(Ge,g,2,"#host",()=>l.directiveRegistry,!0,0);rw(p,h,k),$a(h,g),Rh(l,g,k),G2(l,k,g),ky(l,k),n!==void 0&&CD(k,this.ngContentSelectors,n),v=An(k.index,g),g[nt]=v[nt],gy(l,g,null)}catch(k){throw v!==null&&p2(v),p2(g),k}finally{Ae(Ie.DynamicComponentEnd),zu()}return new yh(this.componentType,g,!!y)}finally{z(s)}}};function wD(e,t,n,r){let i=e?["ng-version","21.1.0"]:GI(t.selectors[0]),o=null,a=null,s=0;if(n)for(let d of n)s+=d[I2].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[I2].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[t];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=Du(u);c.push(p)}return ny(0,null,bD(o,a),1,s,c,null,null,null,[i],null)}function bD(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function JM(e){let t=e[I2].kind;return t==="input"||t==="twoWay"}var yh=class extends Bw{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Pc(n[U],Ge),this.location=Ja(this._tNode,n),this.instance=An(this._tNode.index,n)[nt],this.hostView=this.changeDetectorRef=new Ni(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=yy(r,i[U],i,t,n);this.previousInputValues.set(t,n);let a=An(r.index,i);my(a,1)}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function CD(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var dn=(()=>{class e{static __NG_ELEMENT_ID__=_D}return e})();function _D(){let e=it();return Kw(e,P())}var SD=dn,Gw=class extends SD{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ja(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){let t=U2(this._hostTNode,this._hostLView);if(x4(t)){let n=rh(t,this._hostLView),r=nh(t),i=n[U].data[r+8];return new Lo(i,n)}else return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=QM(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-rt}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=dh(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,i,Wa(this._hostTNode,a)),s}createComponent(t,n,r,i,o,a,s){let c=t&&!TS(t),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,a=v.directives,s=v.bindings}let d=c?t:new Fi(vr(t)),u=r||this.parentInjector;if(!o&&d.ngModule==null){let k=(c?u:this.parentInjector).get(Re,null);k&&(o=k)}let p=vr(d.componentType??{}),h=dh(this._lContainer,p?.id??null),y=h?.firstChild??null,g=d.create(u,i,y,o,a,s);return this.insertImpl(g.hostView,l,Wa(this._hostTNode,h)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(aM(i)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let c=i[Mt],l=new Gw(c,c[Yt],c[Mt]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),a=this._lContainer;return al(a,i,o,r),t.attachToViewContainerRef(),k0(r2(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=QM(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Zc(this._lContainer,n);r&&(Tc(r2(this._lContainer),n),Th(r[U],r))}detach(t){let n=this._adjustIndex(t,-1),r=Zc(this._lContainer,n);return r&&Tc(r2(this._lContainer),n)!=null?new Ni(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function QM(e){return e[Oc]}function r2(e){return e[Oc]||(e[Oc]=[])}function Kw(e,t){let n,r=t[e.index];return Gn(r)?n=r:(n=Nw(r,t,null,e),t[e.index]=n,iy(t,n)),xD(n,t,e,r),new Gw(n,e,t)}function ID(e,t){let n=e[_e],r=n.createComment(""),i=It(t,e),o=n.parentNode(i);return sh(n,o,r,n.nextSibling(i),!1),r}var xD=AD,DD=()=>!1;function ED(e,t,n){return DD(e,t,n)}function AD(e,t,n,r){if(e[Ti])return;let i;n.type&8?i=En(r):i=ID(t,n),e[Ti]=i}var x2=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},D2=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),s=this.queries[a.indexInDeclarationView];i.push(s.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)wy(t,n).matches!==null&&this.queries[n].setDirty()}},gh=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=PD(t):this.predicate=t}},E2=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},A2=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,TD(n,o)),this.matchTNodeWithReadOption(t,n,Qu(n,t,o,!1,!1))}else r===Jn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,Qu(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Se||i===dn||i===Jn&&n.type&4)this.addMatch(n.index,-2);else{let o=Qu(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function TD(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function LD(e,t){return e.type&11?Ja(e,t):e.type&4?Oh(e,t):null}function RD(e,t,n,r){return n===-1?LD(t,e):n===-2?OD(e,t,r):$c(e,e[U],n,t)}function OD(e,t,n){if(n===Se)return Ja(t,e);if(n===Jn)return Oh(t,e);if(n===dn)return Kw(t,e)}function Zw(e,t,n,r){let i=t[wr].queries[r];if(i.matches===null){let o=e.data,a=n.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let l=a[c];if(l<0)s.push(null);else{let d=o[l];s.push(RD(t,d,a[c+1],n.metadata.read))}}i.matches=s}return i.matches}function T2(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let a=Zw(e,t,i,n);for(let s=0;s<o.length;s+=2){let c=o[s];if(c>0)r.push(a[s/2]);else{let l=o[s+1],d=t[-c];for(let u=rt;u<d.length;u++){let p=d[u];p[Wr]===p[Mt]&&T2(p[U],p,l,r)}if(d[xo]!==null){let u=d[xo];for(let p=0;p<u.length;p++){let h=u[p];T2(h[U],h,l,r)}}}}}return r}function My(e,t){return e[wr].queries[t].queryList}function Xw(e,t,n){let r=new ah((n&4)===4);return F0(e,t,r,r.destroy),(t[wr]??=new D2).queries.push(new x2(r))-1}function Yw(e,t,n){let r=xe();return r.firstCreatePass&&(Qw(r,new gh(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),Xw(r,P(),t)}function Jw(e,t,n,r){let i=xe();if(i.firstCreatePass){let o=it();Qw(i,new gh(t,n,r),o.index),ND(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return Xw(i,P(),n)}function PD(e){return e.split(",").map(t=>t.trim())}function Qw(e,t,n){e.queries===null&&(e.queries=new E2),e.queries.track(new A2(t,n))}function ND(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function wy(e,t){return e.queries.getByIndex(t)}function e5(e,t){let n=e[U],r=wy(n,t);return r.crossesNgTemplate?T2(n,e,t,[]):Zw(n,e,r,t)}function by(e,t,n){let r,i=fc(()=>{r._dirtyCounter();let o=FD(r,e);if(t&&o===void 0)throw new b(-951,!1);return o});return r=i[ze],r._dirtyCounter=we(0),r._flatValue=void 0,i}function Cy(e){return by(!0,!1,e)}function _y(e){return by(!0,!0,e)}function Sy(e){return by(!1,!1,e)}function t5(e,t){let n=e[ze];n._lView=P(),n._queryIndex=t,n._queryList=My(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function FD(e,t){let n=e._lView,r=e._queryIndex;if(n===void 0||r===void 0||n[ee]&4)return t?void 0:Bt;let i=My(n,r),o=e5(n,r);return i.reset(o,N4),t?i.first:i._changesDetected||e._flatValue===void 0?e._flatValue=i.toArray():e._flatValue}var xr=class{},Fh=class{};var mh=class extends xr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new fh(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=g0(t);this._bootstrapComponents=sw(o.bootstrap),this._r3Injector=Z0(t,n,[{provide:xr,useValue:this},{provide:sl,useValue:this.componentFactoryResolver},...r],$r(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},vh=class extends Fh{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new mh(this.moduleType,t,[])}};var Yc=class extends xr{injector;componentFactoryResolver=new fh(this);instance=null;constructor(t){super();let n=new wo([...t.providers,{provide:xr,useValue:this},{provide:sl,useValue:this.componentFactoryResolver}],t.parent||Ta(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function ll(e,t,n=null){return new Yc({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var jD=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=b0(!1,n.type),i=r.length>0?ll([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(Z(Re))})}return e})();function ge(e){return Ya(()=>{let t=n5(e),n=x(m({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===$2.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(jD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Yn.Emulated,styles:e.styles||Bt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&en("NgStandalone"),r5(n);let r=e.dependencies;return n.directiveDefs=e4(r,VD),n.pipeDefs=e4(r,Bk),n.id=zD(n),n})}function VD(e){return vr(e)||Du(e)}function Fe(e){return Ya(()=>({type:e.type,bootstrap:e.bootstrap||Bt,declarations:e.declarations||Bt,imports:e.imports||Bt,exports:e.exports||Bt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function HD(e,t){if(e==null)return $n;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,a,s,c;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,c=i[3]||null):(o=i,a=i,s=xh.None,c=null),n[o]=[r,s,c],t[o]=a}return n}function BD(e){if(e==null)return $n;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function de(e){return Ya(()=>{let t=n5(e);return r5(t),t})}function ts(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function n5(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||$n,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Bt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:HD(e.inputs,t),outputs:BD(e.outputs),debugInfo:null}}function r5(e){e.features?.forEach(t=>t(e))}function e4(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function zD(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function qD(e){let t=n=>{let r=Array.isArray(e);n.hostDirectives===null?(n.resolveHostDirectives=UD,n.hostDirectives=r?e.map(L2):[e]):r?n.hostDirectives.unshift(...e.map(L2)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function UD(e){let t=[],n=!1,r=null,i=null;for(let o=0;o<e.length;o++){let a=e[o];if(a.hostDirectives!==null){let s=t.length;r??=new Map,i??=new Map,i5(a,t,r),i.set(a,[s,t.length-1])}o===0&&Kn(a)&&(n=!0,t.push(a))}for(let o=n?1:0;o<e.length;o++)t.push(e[o]);return[t,r,i]}function i5(e,t,n){if(e.hostDirectives!==null)for(let r of e.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)t4(L2(o),t,n)}else t4(r,t,n)}function t4(e,t,n){let r=Du(e.directive);$D(r.declaredInputs,e.inputs),i5(r,t,n),n.set(r,e),t.push(r)}function L2(e){return typeof e=="function"?{directive:kt(e),inputs:$n,outputs:$n}:{directive:kt(e.directive),inputs:n4(e.inputs),outputs:n4(e.outputs)}}function n4(e){if(e===void 0||e.length===0)return $n;let t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function $D(e,t){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],i=e[n];e[r]=i}}function WD(e){return Object.getPrototypeOf(e.prototype).constructor}function dt(e){let t=WD(e.type),n=!0,r=[e];for(;t;){let i;if(Kn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new b(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let a=e;a.inputs=i2(e.inputs),a.declaredInputs=i2(e.declaredInputs),a.outputs=i2(e.outputs);let s=i.hostBindings;s&&YD(e,s);let c=i.viewQuery,l=i.contentQueries;if(c&&ZD(e,c),l&&XD(e,l),GD(e,i),Hk(e.outputs,i.outputs),Kn(i)&&i.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(e),s===dt&&(n=!1)}}t=Object.getPrototypeOf(t)}KD(r)}function GD(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function KD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=Ua(i.hostAttrs,n=Ua(n,i.hostAttrs))}}function i2(e){return e===$n?{}:e===Bt?[]:e}function ZD(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function XD(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function YD(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function o5(e,t,n,r,i,o,a,s){if(n.firstCreatePass){e.mergedAttrs=Ua(e.mergedAttrs,e.attrs);let d=e.tView=ny(2,e,i,o,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),d.queries=n.queries.embeddedTView(e))}s&&(e.flags|=s),Na(e,!1);let c=QD(n,t,e,r);Uu()&&ly(n,t,c,e),$a(c,t);let l=Nw(c,t,c,e);t[r+Ge]=l,iy(t,l),ED(l,e,t)}function JD(e,t,n,r,i,o,a,s,c,l,d){let u=n+Ge,p;return t.firstCreatePass?(p=es(t,u,4,a||null,s||null),Fu()&&qw(t,e,p,Tn(t.consts,l),hy),S4(t,p)):p=t.data[u],o5(p,e,t,n,r,i,o,c),Oa(p)&&Rh(t,e,p),l!=null&&il(e,p,d),p}function Jc(e,t,n,r,i,o,a,s,c,l,d){let u=n+Ge,p;if(t.firstCreatePass){if(p=es(t,u,4,a||null,s||null),l!=null){let h=Tn(t.consts,l);p.localNames=[];for(let y=0;y<h.length;y+=2)p.localNames.push(h[y],-1)}}else p=t.data[u];return o5(p,e,t,n,r,i,o,c),l!=null&&il(e,p,d),p}function tr(e,t,n,r,i,o,a,s){let c=P(),l=xe(),d=Tn(l.consts,o);return JD(c,l,e,t,n,r,i,d,void 0,a,s),tr}var QD=eE;function eE(e,t,n,r){return jc(!0),t[_e].createComment("")}var jh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function ns(e){return typeof e=="function"&&e[ze]!==void 0}function Iy(e){return ns(e)&&typeof e.set=="function"}var xy=new C("");function Er(e){return!!e&&typeof e.then=="function"}function Vh(e){return!!e&&typeof e.subscribe=="function"}var Dy=new C("");function a5(e){return kr([{provide:Dy,multi:!0,useValue:e}])}var Ey=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=f(Dy,{optional:!0})??[];injector=f(Q);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=tt(this.injector,i);if(Er(o))n.push(o);else if(Vh(o)){let a=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hh=new C("");function s5(){If(()=>{let e="";throw new b(600,e)})}function c5(e){return e.isBoundToModule}var tE=10;var mn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=f(sn);afterRenderManager=f(Eh);zonelessEnabled=f(Hc);rootEffectScheduler=f($u);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new q;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=f(Zr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(A(n=>!n))}constructor(){f(Dr,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=f(Re);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Q.NULL){return this._injector.get(be).run(()=>{Ae(Ie.BootstrapComponentStart);let a=n instanceof Ph;if(!this._injector.get(Ey).done){let y="";throw new b(405,y)}let c;a?c=n:c=this._injector.get(sl).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=c5(c)?void 0:this._injector.get(xr),d=r||c.selector,u=c.create(i,[],d,l),p=u.location.nativeElement,h=u.injector.get(xy,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),qc(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),Ae(Ie.BootstrapComponentEnd,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Ae(Ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Dh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Ae(Ie.ChangeDetectionEnd),new b(101,!1);let n=z(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,z(n),this.afterTick.next(),Ae(Ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(qt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<tE;){Ae(Ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Ae(Ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Nc(i))continue;let o=r&&!this.zonelessEnabled?0:1;Lw(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Nc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;qc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Hh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>qc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function qc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Ay(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function ft(e,t,n,r){let i=P(),o=Zn();if(Qt(i,o,t)){let a=xe(),s=Ao();Ix(s,i,e,t,n,r)}return ft}var l5=new C("",{factory:()=>!1});var nE=!1,dl=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function d5(e){return e[Jt].get(l5,nE)}function rE(e,t,n){let r=Ga.get(e);if(r){for(let i of t)r.classList.push(i);for(let i of n)r.cleanupFns.push(i)}else Ga.set(e,{classList:t,cleanupFns:n})}function Ty(e){let t=Ga.get(e);if(t){for(let n of t.cleanupFns)n();Ga.delete(e)}Ro.delete(e)}var Ga=new WeakMap,Ro=new WeakMap,za=new WeakMap;function r4(e,t){let n=za.get(e);if(n&&n.length>0){let r=n.findIndex(i=>i===t);r>-1&&n.splice(r,1)}n?.length===0&&za.delete(e)}function u5(e,t){let n=za.get(e)?.shift(),r=t[Wr];if(r){let o=lh(e.index,r)?.previousSibling;n&&o&&n===o&&n.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function iE(e,t){za.has(e)?za.get(e)?.push(t):za.set(e,[t])}function i4(e){let t=e[Gr]??={};return t.enter??=new Map}function Bh(e){let t=e[Gr]??={};return t.leave??=new Map}function h5(e){let t=typeof e=="function"?e():e,n=Array.isArray(t)?t:null;return typeof t=="string"&&(n=t.trim().split(/\s+/).filter(r=>r)),n}function oE(e,t){if(!dl)return;let n=Ga.get(e);if(n&&n.classList.length>0&&aE(e,n.classList))for(let r of n.classList)t.removeClass(e,r);Ty(e)}function aE(e,t){for(let n of t)if(e.classList.contains(n))return!0;return!1}function p5(e,t){let n=Ro.get(t);return n===void 0?!0:t===e.target&&(n.animationName!==void 0&&e.animationName===n.animationName||n.propertyName!==void 0&&e.propertyName===n.propertyName)}function f5(e,t,n){let r=e.get(t.index)??{animateFns:[]};r.animateFns.push(n),e.set(t.index,r)}function o4(e,t){if(e)for(let n of e)n();for(let n of t)n()}function a4(e,t){let n=Bh(e).get(t.index);n&&(n.resolvers=void 0)}function Oo(e){if(en("NgAnimateEnter"),!dl)return Oo;let t=P();if(d5(t))return Oo;let n=it();return u5(n,t),f5(i4(t),n,()=>sE(t,n,e)),vw(t[Jt]),kw(t[Jt],i4(t)),Oo}function sE(e,t,n){let r=It(t,e),i=e[_e],o=e[Jt].get(be),a=h5(n),s=[],c=d=>{if(d.target!==r)return;let u=d instanceof AnimationEvent?"animationend":"transitionend";o.runOutsideAngular(()=>{i.listen(r,u,l)})},l=d=>{d.target===r&&cE(d,r,i)};if(a&&a.length>0){o.runOutsideAngular(()=>{s.push(i.listen(r,"animationstart",c)),s.push(i.listen(r,"transitionstart",c))}),rE(r,a,s);for(let d of a)i.addClass(r,d);o.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(yw(r,Ro,dl),!Ro.has(r)){for(let d of a)i.removeClass(r,d);Ty(r)}})})}}function cE(e,t,n){let r=Ga.get(t);if(!(e.target!==t||!r)&&p5(e,t)){e.stopImmediatePropagation();for(let i of r.classList)n.removeClass(t,i);Ty(t)}}function qa(e){if(en("NgAnimateLeave"),!dl)return qa;let t=P();if(d5(t))return qa;let r=it();return u5(r,t),f5(Bh(t),r,()=>lE(t,r,e)),vw(t[Jt]),qa}function lE(e,t,n){let{promise:r,resolve:i}=Ay(),o=It(t,e),a=e[_e],s=e[Jt].get(be);Pi.add(e[br]),(Bh(e).get(t.index).resolvers??=[]).push(i);let c=h5(n);return c&&c.length>0?dE(o,t,e,c,a,s):i(),{promise:r,resolve:i}}function dE(e,t,n,r,i,o){oE(e,i);let a=[],s=Bh(n).get(t.index)?.resolvers,c=l=>{if(l.target===e&&(l instanceof CustomEvent||p5(l,e))){if(l.stopImmediatePropagation(),Ro.delete(e),r4(t,e),Array.isArray(t.projection))for(let d of r)i.removeClass(e,d);o4(s,a),a4(n,t)}};o.runOutsideAngular(()=>{a.push(i.listen(e,"animationend",c)),a.push(i.listen(e,"transitionend",c))}),iE(t,e);for(let l of r)i.addClass(e,l);o.runOutsideAngular(()=>{requestAnimationFrame(()=>{yw(e,Ro,dl),Ro.has(e)||(r4(t,e),o4(s,a),a4(n,t))})})}function uE(){return P()[zt][nt]}function nr(){let e=P(),t=xe(),n=it();t.firstCreatePass&&hE(t,n,e);let r=g5(n,e);r&&(en("NgSignalForms"),n.flags&1024?c4(e,n,r,"value"):n.flags&2048?c4(e,n,r,"checked"):n.flags&4096?mE(r):n.flags&8192&&kE(e,n,r),r.\u0275register())}function ei(e,t,n){let r=P(),i=Ao(),o=Zn();if(Qt(r,o,e)){let a=xe();uy(i,r,t,e,r[_e],n)}y5(r,i)}function Ly(){let e=P(),t=Ao();y5(e,t)}function y5(e,t){let n=g5(t,e);n&&(bE(e,t,n),t.flags&1024?l4(t,e,n,"value"):t.flags&2048?l4(t,e,n,"checked"):t.flags&4096?CE(t,e,n):_E(t,e,n)),Zn()}function hE(e,t,n){let r=t.inputs?.formField;if(!r||Kr(t)&&r.includes(t.directiveStart+t.componentOffset))return;let i=r.find(a=>Nh in n[a]);if(i===void 0)return;t.fieldIndex=i;let o=pE(t,n)||fE(e,t);if(!(yE(t)||o))throw new b(318,!1)}function pE(e,t){return t[e.fieldIndex].\u0275interopControl?(e.flags|=4096,!0):!1}function fE(e,t){for(let n=t.directiveStart;n<t.directiveEnd;n++){let r=e.data[n];if(s4(r,"value"))return t.flags|=1024,t.customControlIndex=n,!0;if(s4(r,"checked"))return t.flags|=2048,t.customControlIndex=n,!0}return!1}function yE(e){return vE(e)?(e.flags|=8192,SE(e)&&(e.flags|=16384),IE(e)&&(e.flags|=32768),!0):!1}function g5(e,t){let n=e.fieldIndex;return n===-1?null:t[n]}function s4(e,t){return gE(e,t)&&m5(e,t+"Change")}function gE(e,t){return t in e.inputs}function m5(e,t){return t in e.outputs}function c4(e,t,n,r){let i=xe(),o=t.customControlIndex,a=r+"Change";ph(t,e,o,a,a,Oi(t,e,d=>n.state().setControlValue(d)));let s=i.data[o],c="touchedChange";m5(s,c)&&ph(t,e,o,c,c,Oi(t,e,()=>n.state().markAsTouched()));let l=e[o];n.focus=()=>l.focus?l.focus():n.element.focus()}function mE(e){let t=e.\u0275interopControl;t.registerOnChange(n=>e.state().setControlValue(n)),t.registerOnTouched(()=>e.state().markAsTouched()),e.focus=()=>e.element.focus()}function vE(e){if(e.type!==2)return!1;let t=e.value;return t==="input"||t==="textarea"||t==="select"}function kE(e,t,n){let r=xe(),i=e[_e],o=It(t,e),a=()=>{let c=n.state();c.setControlValue(xE(o,c.value))};hh(t,r,e,void 0,i,"input",a,Oi(t,e,a));let s=()=>{n.state().markAsTouched()};if(hh(t,r,e,void 0,i,"blur",s,Oi(t,e,s)),t.type===2&&t.value==="select"&&typeof MutationObserver=="function"){let c=ME(o,n);F0(r,e,c,c.disconnect)}n.focus=()=>o.focus()}function ME(e,t){let n=new MutationObserver(r=>{r.some(i=>wE(i))&&(e.value=t.state().value())});return n.observe(e,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),n}function wE(e){if(e.type==="childList"||e.type==="characterData"){if(e.target instanceof Comment)return!1;for(let t of e.addedNodes)if(!(t instanceof Comment))return!0;for(let t of e.removedNodes)if(!(t instanceof Comment))return!0;return!1}return e.type==="attributes"&&e.target instanceof HTMLOptionElement}function bE(e,t,n){if(n.classes){let r=qh(e);r.classes??={},n.state();let i=e[_e],o=It(t,e);for(let[a,s]of n.classes){let c=s();NE(r.classes,a,c)&&(c?i.addClass(o,a):i.removeClass(o,a))}}}function l4(e,t,n,r){let i=xe(),o=e.customControlIndex,a=t[o],s=i.data[o],c=n.state(),l=qh(t),d=c.controlValue();Ka(l,Py,d)&&Wc(s,a,r,d);let u=(e.flags&8192)!==0,p=u?It(e,t):null,h=t[_e];for(let y of Ny){let g=c[y]?.();if(Ka(l,y,g)){let v=zh[y];Ry(e,t,v,g),u&&!(v in s.inputs)&&Oy(e,h,p,y,g,v)}}}function CE(e,t,n){let r=n.\u0275interopControl,i=qh(t),o=n.state(),a=(e.flags&8192)!==0,s=a?It(e,t):null,c=t[_e],l=o.value();Ka(i,Py,l)&&$(()=>r.writeValue(l));for(let d of Ny){let u=o[d]?.();if(Ka(i,d,u)){let p=zh[d],h=Ry(e,t,p,u);d===k5?r.setDisabledState&&$(()=>r.setDisabledState(u)):a&&!h&&Oy(e,c,s,d,u,p)}}}function _E(e,t,n){let r=It(e,t),i=t[_e],o=n.state(),a=qh(t),s=o.controlValue();Ka(a,Py,s)&&DE(r,s);for(let c of Ny){let l=o[c]?.();if(Ka(a,c,l)){let d=zh[c];Oy(e,i,r,c,l,d),Ry(e,t,d,l)}}}function Ry(e,t,n,r){let i=e.inputs?.[n];if(i){let o=xe();for(let a of i){let s=o.data[a],c=t[a];Wc(s,c,n,r)}return!0}return!1}function Oy(e,t,n,r,i,o){switch(r){case RE:t.setAttribute(n,o,i);break;case k5:case OE:case PE:FE(t,n,o,i);break;case EE:case TE:e.flags&16384&&u4(t,n,o,i);break;case AE:case LE:e.flags&32768&&u4(t,n,o,i);break}}function v5(e){return e===null||e instanceof Date}function SE(e){if(!e.attrs||e.value!=="input")return!1;for(let t=0;t<e.attrs.length;t+=2){let n=e.attrs[t];if(q2(n))break;if(n==="type"){let r=e.attrs[t+1];return r==="date"||r==="datetime-local"||r==="month"||r==="number"||r==="range"||r==="time"||r==="week"}}return!1}function IE(e){return e.value!=="select"}function xE(e,t){switch(e.type){case"checkbox":return e.checked;case"number":case"range":case"datetime-local":if(typeof t()=="number")return e.valueAsNumber;break;case"date":case"month":case"time":case"week":let n=t();if(v5(n))return e.valueAsDate;if(typeof n=="number")return e.valueAsNumber;break}return e.value}function DE(e,t){switch(e.type){case"checkbox":e.checked=t;return;case"radio":e.checked=t===e.value;return;case"number":case"range":case"datetime-local":if(typeof t=="number"){d4(e,t);return}break;case"date":case"month":case"time":case"week":if(v5(t)){e.valueAsDate=t;return}else if(typeof t=="number"){d4(e,t);return}}e.value=t}function d4(e,t){isNaN(t)?e.value="":e.valueAsNumber=t}var k5=J({disabled:J}),EE=J({max:J}),AE=J({maxLength:J}),TE=J({min:J}),LE=J({minLength:J}),RE=J({name:J}),OE=J({readonly:J}),PE=J({required:J}),Py=J({controlValue:J}),zh={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},Ny=Object.keys(zh);function qh(e){let t=W0(),n=e[t];return n===At&&(n=e[t]={}),n}function Ka(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function NE(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function FE(e,t,n,r){r?e.setAttribute(t,n,""):e.removeAttribute(t,n)}function u4(e,t,n,r){r!==void 0?e.setAttribute(t,n,r.toString()):e.removeAttribute(t,n)}var R2=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function o2(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function jE(e,t,n,r){let i,o,a=0,s=e.length-1,c=void 0;if(Array.isArray(t)){z(r);let l=t.length-1;for(z(null);a<=s&&a<=l;){let d=e.at(a),u=t[a],p=o2(a,d,a,u,n);if(p!==0){p<0&&e.updateValue(a,u),a++;continue}let h=e.at(s),y=t[l],g=o2(s,h,l,y,n);if(g!==0){g<0&&e.updateValue(s,y),s--,l--;continue}let v=n(a,d),k=n(s,h),E=n(a,u);if(Object.is(E,k)){let I=n(l,y);Object.is(I,v)?(e.swap(a,s),e.updateValue(s,y),l--,s--):e.move(s,a),e.updateValue(a,u),a++;continue}if(i??=new kh,o??=p4(e,a,s,n),O2(e,i,a,E))e.updateValue(a,u),a++,s++;else if(o.has(E))i.set(v,e.detach(a)),s--;else{let I=e.create(a,t[a]);e.attach(a,I),a++,s++}}for(;a<=l;)h4(e,i,n,a,t[a]),a++}else if(t!=null){z(r);let l=t[Symbol.iterator]();z(null);let d=l.next();for(;!d.done&&a<=s;){let u=e.at(a),p=d.value,h=o2(a,u,a,p,n);if(h!==0)h<0&&e.updateValue(a,p),a++,d=l.next();else{i??=new kh,o??=p4(e,a,s,n);let y=n(a,p);if(O2(e,i,a,y))e.updateValue(a,p),a++,s++,d=l.next();else if(!o.has(y))e.attach(a,e.create(a,p)),a++,s++,d=l.next();else{let g=n(a,u);i.set(g,e.detach(a)),s--}}}for(;!d.done;)h4(e,i,n,e.length,d.value),d=l.next()}for(;a<=s;)e.destroy(e.detach(s--));i?.forEach(l=>{e.destroy(l)})}function O2(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function h4(e,t,n,r,i){if(O2(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function p4(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var kh=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function Lt(e,t,n,r,i,o,a,s){en("NgControlFlow");let c=P(),l=xe(),d=Tn(l.consts,o);return Jc(c,l,e,t,n,r,i,d,256,a,s),Fy}function Fy(e,t,n,r,i,o,a,s){en("NgControlFlow");let c=P(),l=xe(),d=Tn(l.consts,o);return Jc(c,l,e,t,n,r,i,d,512,a,s),Fy}function Rt(e,t){en("NgControlFlow");let n=P(),r=Zn(),i=n[r]!==At?n[r]:-1,o=i!==-1?Mh(n,Ge+i):void 0,a=0;if(Qt(n,r,e)){let s=z(null);try{if(o!==void 0&&jw(o,a),e!==-1){let c=Ge+e,l=Mh(n,c),d=j2(n[U],c),u=Hw(l,d,n),p=ol(n,d,t,{dehydratedView:u});al(l,p,a,Wa(d,u))}}finally{z(s)}}else if(o!==void 0){let s=Fw(o,a);s!==void 0&&(s[nt]=t)}}var P2=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-rt}};function VE(e){return e}function HE(e,t){return t}var N2=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function ul(e,t,n,r,i,o,a,s,c,l,d,u,p){en("NgControlFlow");let h=P(),y=xe(),g=c!==void 0,v=P(),k=s?a.bind(v[zt][nt]):a,E=new N2(g,k);v[Ge+e]=E,Jc(h,y,e+1,t,n,r,i,Tn(y.consts,o),256),g&&Jc(h,y,e+2,c,l,d,u,Tn(y.consts,p),512)}var F2=class extends R2{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-rt}at(t){return this.getLView(t)[nt].$implicit}attach(t,n){let r=n[Co];this.needsIndexUpdate||=t!==this.length,al(this.lContainer,n,t,Wa(this.templateTNode,r)),BE(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,zE(this.lContainer,t),qE(this.lContainer,t)}create(t,n){let r=dh(this.lContainer,this.templateTNode.tView.ssrId);return ol(this.hostLView,this.templateTNode,new P2(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Th(t[U],t)}updateValue(t,n){this.getLView(t)[nt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[nt].$index=t}getLView(t){return UE(this.lContainer,t)}};function hl(e){let t=z(null),n=_r();try{let r=P(),i=r[U],o=r[n],a=n+1,s=Mh(r,a);if(o.liveCollection===void 0){let l=j2(i,a);o.liveCollection=new F2(s,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(jE(c,e,o.trackByFn,t),c.updateIndexes(),o.hasEmptyBlock){let l=Zn(),d=c.length===0;if(Qt(r,l,d)){let u=n+2,p=Mh(r,u);if(d){let h=j2(i,u),y=Hw(p,h,r),g=ol(r,h,void 0,{dehydratedView:y});al(p,g,0,Wa(h,y))}else i.firstUpdatePass&&Xx(p),jw(p,0)}}}finally{z(t)}}function Mh(e,t){return e[t]}function BE(e,t){if(e.length<=rt)return;let n=rt+t,r=e[n],i=r?r[Gr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[Jt];ix(o,i),Pi.delete(r[br]),i.detachedLeaveAnimationFns=void 0}}function zE(e,t){if(e.length<=rt)return;let n=rt+t,r=e[n],i=r?r[Gr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function qE(e,t){return Zc(e,t)}function UE(e,t){return Fw(e,t)}function j2(e,t){return Pc(e,t)}function ut(e,t,n){let r=P(),i=Zn();if(Qt(r,i,t)){let o=xe(),a=Ao();uy(a,r,e,t,r[_e],n)}return ut}function V2(e,t,n,r,i){yy(t,e,n,i?"class":"style",r)}function R(e,t,n,r){let i=P(),o=i[U],a=e+Ge,s=o.firstCreatePass?vy(a,i,2,t,hy,Fu(),n,r):o.data[a];if(py(s,i,e,t,M5),Oa(s)){let c=i[U];Rh(c,i,s),G2(c,s,i)}return r!=null&&il(i,s),R}function j(){let e=xe(),t=it(),n=fy(t);return e.firstCreatePass&&ky(e,n),H0(n)&&B0(),j0(),n.classesWithoutHost!=null&&FS(n)&&V2(e,n,P(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&jS(n)&&V2(e,n,P(),n.stylesWithoutHost,!1),j}function Ue(e,t,n,r){return R(e,t,n,r),j(),Ue}function Vi(e,t,n,r){let i=P(),o=i[U],a=e+Ge,s=o.firstCreatePass?dD(a,o,2,t,n,r):o.data[a];return py(s,i,e,t,M5),r!=null&&il(i,s),Vi}function Hi(){let e=it(),t=fy(e);return H0(t)&&B0(),j0(),Hi}function jy(e,t,n,r){return Vi(e,t,n,r),Hi(),jy}var M5=(e,t,n,r,i)=>(jc(!0),ew(t[_e],r,bM()));function ti(e,t,n){let r=P(),i=r[U],o=e+Ge,a=i.firstCreatePass?vy(o,r,8,"ng-container",hy,Fu(),t,n):i.data[o];if(py(a,r,e,"ng-container",$E),Oa(a)){let s=r[U];Rh(s,r,a),G2(s,a,r)}return n!=null&&il(r,a),ti}function ni(){let e=xe(),t=it(),n=fy(t);return e.firstCreatePass&&ky(e,n),ni}function Bi(e,t,n){return ti(e,t,n),ni(),Bi}var $E=(e,t,n,r,i)=>(jc(!0),AI(t[_e],""));function at(){return P()}function rs(e,t,n){let r=P(),i=Zn();if(Qt(r,i,t)){let o=xe(),a=Ao();Iw(a,r,e,t,r[_e],n)}return rs}var Bc=void 0;function WE(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var GE=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Bc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Bc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",Bc,Bc,Bc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",WE],Uc={};function Vy(e,t,n){typeof t!="string"&&(n=t,t=e[Ke.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),Uc[t]=e,n&&(Uc[t][Ke.ExtraData]=n)}function tn(e){let t=KE(e),n=f4(t);if(n)return n;let r=t.split("-")[0];if(n=f4(r),n)return n;if(r==="en")return GE;throw new b(701,!1)}function f4(e){return e in Uc||(Uc[e]=xn.ng&&xn.ng.common&&xn.ng.common.locales&&xn.ng.common.locales[e]),Uc[e]}var Ke=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(Ke||{});function KE(e){return e.toLowerCase().replace(/_/g,"-")}var pl="en-US",ZE="USD";var XE=pl;function w5(e){typeof e=="string"&&(XE=e.toLowerCase().replace(/_/g,"-"))}function Ce(e,t,n){let r=P(),i=xe(),o=it();return b5(i,r,r[_e],o,e,t,n),Ce}function Uh(e,t,n){let r=P(),i=xe(),o=it();return(o.type&3||n)&&hh(o,i,r,n,r[_e],e,t,Oi(o,r,t)),Uh}function b5(e,t,n,r,i,o,a){let s=!0,c=null;if((r.type&3||a)&&(c??=Oi(r,t,o),hh(r,e,t,a,n,i,o,c)&&(s=!1)),s){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=Oi(r,t,o),ph(r,t,p,h,i,c)}if(l&&l.length)for(let u of l)c??=Oi(r,t,o),ph(r,t,u,i,i,c)}}function V(e=1){return wM(e)}function YE(e,t){let n=null,r=BI(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){n=i;continue}if(r===null?lw(e,o,!0):UI(r,o))return i}return n}function vn(e){let t=P()[zt][Yt];if(!t.projection){let n=e?e.length:1,r=t.projection=Zk(n,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let a=e?YE(o,e):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function Ut(e,t=0,n,r,i,o){let a=P(),s=xe(),c=r?e+1:null;c!==null&&Jc(a,s,c,r,i,o,null,n);let l=es(s,Ge+e,16,null,n||null);l.projection===null&&(l.projection=t),U0();let u=!a[Co]||V0();a[zt][Yt].projection[l.projection]===null&&c!==null?JE(a,s,c):u&&!Sh(l)&&yx(s,a,l)}function JE(e,t,n){let r=Ge+n,i=t.data[r],o=e[r],a=dh(o,i.tView.ssrId),s=ol(e,i,void 0,{dehydratedView:a});al(o,s,0,Wa(i,a))}function is(e,t,n,r){return Jw(e,t,n,r),is}function Fo(e,t,n){return Yw(e,t,n),Fo}function Ar(e){let t=P(),n=xe(),r=Hu();Fc(r+1);let i=wy(n,r);if(e.dirty&&oM(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=e5(t,r);e.reset(o,N4),e.notifyOnChanges()}return!0}return!1}function Tr(){return My(P(),Hu())}function C5(e,t,n,r,i){return t5(t,Jw(e,n,r,i)),C5}function zi(e,t,n,r){return t5(e,Yw(t,n,r)),zi}function jo(e=1){Fc(Hu()+e)}function Ot(e){let t=hM();return Ou(t,Ge+e)}function Xu(e,t){return e<<17|t<<2}function No(e){return e>>17&32767}function QE(e){return(e&2)==2}function e7(e,t){return e&131071|t<<17}function H2(e){return e|2}function Za(e){return(e&131068)>>2}function a2(e,t){return e&-131069|t<<2}function t7(e){return(e&1)===1}function B2(e){return e|1}function n7(e,t,n,r,i,o){let a=o?t.classBindings:t.styleBindings,s=No(a),c=Za(a);e[r]=n;let l=!1,d;if(Array.isArray(n)){let u=n;d=u[1],(d===null||Aa(u,d)>0)&&(l=!0)}else d=n;if(i)if(c!==0){let p=No(e[s+1]);e[r+1]=Xu(p,s),p!==0&&(e[p+1]=a2(e[p+1],r)),e[s+1]=e7(e[s+1],r)}else e[r+1]=Xu(s,0),s!==0&&(e[s+1]=a2(e[s+1],r)),s=r;else e[r+1]=Xu(c,0),s===0?s=r:e[c+1]=a2(e[c+1],r),c=r;l&&(e[r+1]=H2(e[r+1])),y4(e,d,r,!0),y4(e,d,r,!1),r7(t,d,e,r,o),a=Xu(s,c),o?t.classBindings=a:t.styleBindings=a}function r7(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Aa(o,t)>=0&&(n[r+1]=B2(n[r+1]))}function y4(e,t,n,r){let i=e[n+1],o=t===null,a=r?No(i):Za(i),s=!1;for(;a!==0&&(s===!1||o);){let c=e[a],l=e[a+1];i7(c,t)&&(s=!0,e[a+1]=r?B2(l):H2(l)),a=r?No(l):Za(l)}s&&(e[n+1]=r?H2(i):B2(i))}function i7(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Aa(e,t)>=0:!1}var wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _5(e){return e.substring(wt.key,wt.keyEnd)}function o7(e){return e.substring(wt.value,wt.valueEnd)}function a7(e){return x5(e),S5(e,Xa(e,0,wt.textEnd))}function S5(e,t){let n=wt.textEnd;return n===t?-1:(t=wt.keyEnd=c7(e,wt.key=t,n),Xa(e,t,n))}function s7(e){return x5(e),I5(e,Xa(e,0,wt.textEnd))}function I5(e,t){let n=wt.textEnd,r=wt.key=Xa(e,t,n);return n===r?-1:(r=wt.keyEnd=l7(e,r,n),r=g4(e,r,n,58),r=wt.value=Xa(e,r,n),r=wt.valueEnd=d7(e,r,n),g4(e,r,n,59))}function x5(e){wt.key=0,wt.keyEnd=0,wt.value=0,wt.valueEnd=0,wt.textEnd=e.length}function Xa(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function c7(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function l7(e,t,n){let r;for(;t<n&&((r=e.charCodeAt(t))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)t++;return t}function g4(e,t,n,r){return t=Xa(e,t,n),t<n&&t++,t}function d7(e,t,n){let r=-1,i=-1,o=-1,a=t,s=a;for(;a<n;){let c=e.charCodeAt(a++);if(c===59)return s;c===34||c===39?s=a=m4(e,c,a,n):t===a-4&&o===85&&i===82&&r===76&&c===40?s=a=m4(e,41,a,n):c>32&&(s=a),o=i,i=r,r=c&-33}return s}function m4(e,t,n,r){let i=-1,o=n;for(;o<r;){let a=e.charCodeAt(o++);if(a==t&&i!==92)return o;a==92&&i===92?i=0:i=a}throw new Error}function Vo(e,t,n){return D5(e,t,n,!1),Vo}function je(e,t){return D5(e,t,null,!0),je}function u7(e){E5(L5,h7,e,!1)}function h7(e,t){for(let n=s7(t);n>=0;n=I5(t,n))L5(e,_5(t),o7(t))}function Ln(e){E5(k7,p7,e,!0)}function p7(e,t){for(let n=a7(t);n>=0;n=S5(t,n))Lc(e,_5(t),!0)}function D5(e,t,n,r){let i=P(),o=xe(),a=ju(2);if(o.firstUpdatePass&&T5(o,e,a,r),t!==At&&Qt(i,a,t)){let s=o.data[_r()];R5(o,s,i,i[_e],e,i[a+1]=w7(t,n),r,a)}}function E5(e,t,n,r){let i=xe(),o=ju(2);i.firstUpdatePass&&T5(i,null,o,r);let a=P();if(n!==At&&Qt(a,o,n)){let s=i.data[_r()];if(O5(s,r)&&!A5(i,o)){let c=r?s.classesWithoutHost:s.stylesWithoutHost;c!==null&&(n=Iu(c,n||"")),V2(i,s,a,n,r)}else M7(i,s,a,a[_e],a[o+1],a[o+1]=v7(e,t,n),r,o)}}function A5(e,t){return t>=e.expandoStartIndex}function T5(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[_r()],a=A5(e,n);O5(o,r)&&t===null&&!a&&(t=!1),t=f7(i,o,t,r),n7(i,o,t,n,a,r)}}function f7(e,t,n,r){let i=mM(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=s2(null,e,t,n,r),n=Qc(n,t.attrs,r),o=null);else{let a=t.directiveStylingLast;if(a===-1||e[a]!==i)if(n=s2(i,e,t,n,r),o===null){let c=y7(e,t,r);c!==void 0&&Array.isArray(c)&&(c=s2(null,e,t,c[1],r),c=Qc(c,t.attrs,r),g7(e,t,r,c))}else o=m7(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function y7(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Za(r)!==0)return e[No(r)]}function g7(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[No(i)]=r}function m7(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let a=e[o].hostAttrs;r=Qc(r,a,n)}return Qc(r,t.attrs,n)}function s2(e,t,n,r,i){let o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<a&&(o=t[s],r=Qc(r,o.hostAttrs,i),o!==e);)s++;return e!==null&&(n.directiveStylingLast=s),r}function Qc(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?i=a:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Lc(e,a,n?!0:t[++o]))}return e===void 0?null:e}function v7(e,t,n){if(n==null||n==="")return Bt;let r=[],i=gn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function L5(e,t,n){Lc(e,t,gn(n))}function k7(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Lc(e,r,n)}function M7(e,t,n,r,i,o,a,s){i===At&&(i=Bt);let c=0,l=0,d=0<i.length?i[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let p=c<i.length?i[c+1]:void 0,h=l<o.length?o[l+1]:void 0,y=null,g;d===u?(c+=2,l+=2,p!==h&&(y=u,g=h)):u===null||d!==null&&d<u?(c+=2,y=d):(l+=2,y=u,g=h),y!==null&&R5(e,t,n,r,y,g,a,s),d=c<i.length?i[c]:null,u=l<o.length?o[l]:null}}function R5(e,t,n,r,i,o,a,s){if(!(t.type&3))return;let c=e.data,l=c[s+1],d=t7(l)?v4(c,t,n,i,Za(l),a):void 0;if(!wh(d)){wh(o)||QE(l)&&(o=v4(c,null,n,i,s,a));let u=A0(_r(),n);mx(r,a,u,i,o)}}function v4(e,t,n,r,i,o){let a=t===null,s;for(;i>0;){let c=e[i],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=n[i+1];p===At&&(p=u?Bt:void 0);let h=u?Lu(p,r):d===r?p:void 0;if(l&&!wh(h)&&(h=Lu(c,r)),wh(h)&&(s=h,a))return s;let y=e[i+1];i=a?No(y):Za(y)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(s=Lu(c,r))}return s}function wh(e){return e!==void 0}function w7(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=$r(gn(e)))),e}function O5(e,t){return(e.flags&(t?8:16))!==0}function Ze(e,t=""){let n=P(),r=xe(),i=e+Ge,o=r.firstCreatePass?es(r,i,1,t,null):r.data[i],a=b7(r,n,o,t,e);n[i]=a,Uu()&&ly(r,n,a,o),Na(o,!1)}var b7=(e,t,n,r,i)=>(jc(!0),DI(t[_e],r));function C7(e,t,n,r=""){return Qt(e,Zn(),n)?t+Ei(n)+r:At}function _7(e,t,n,r,i,o=""){let a=W0(),s=Xc(e,a,n,i);return ju(2),s?t+Ei(n)+r+Ei(i)+o:At}function $h(e){return xt("",e),$h}function xt(e,t,n){let r=P(),i=C7(r,e,t,n);return i!==At&&N5(r,_r(),i),xt}function P5(e,t,n,r,i){let o=P(),a=_7(o,e,t,n,r,i);return a!==At&&N5(o,_r(),a),P5}function N5(e,t,n){let r=A0(t,e);EI(e[_e],r,n)}function Wh(e,t,n){Iy(t)&&(t=t());let r=P(),i=Zn();if(Qt(r,i,t)){let o=xe(),a=Ao();uy(a,r,e,t,r[_e],n)}return Wh}function Hy(e,t){let n=Iy(e);return n&&e.set(t),n}function Gh(e,t){let n=P(),r=xe(),i=it();return b5(r,n,n[_e],i,e,t),Gh}function S7(e){return Qt(P(),Zn(),e)?Ei(e):At}function k4(e,t,n){let r=xe();r.firstCreatePass&&F5(t,r.data,r.blueprint,Kn(e),n)}function F5(e,t,n,r,i){if(e=kt(e),Array.isArray(e))for(let o=0;o<e.length;o++)F5(e[o],t,n,r,i);else{let o=xe(),a=P(),s=it(),c=Mo(e)?e:kt(e.provide),l=_0(e),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(Mo(e)||!e.multi){let h=new Po(l,i,F,null),y=l2(c,t,i?d:d+p,u);y===-1?(u2(oh(s,a),o,c),c2(o,e,t.length),t.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(h),a.push(h)):(n[y]=h,a[y]=h)}else{let h=l2(c,t,d+p,u),y=l2(c,t,d,d+p),g=h>=0&&n[h],v=y>=0&&n[y];if(i&&!v||!i&&!g){u2(oh(s,a),o,c);let k=D7(i?x7:I7,n.length,i,r,l,e);!i&&v&&(n[y].providerFactory=k),c2(o,e,t.length,0),t.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(k),a.push(k)}else{let k=j5(n[i?y:h],l,!i&&r);c2(o,e,h>-1?h:y,k)}!i&&r&&v&&n[y].componentProviders++}}}function c2(e,t,n,r){let i=Mo(t),o=tM(t);if(i||o){let c=(o?kt(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function j5(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function l2(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function I7(e,t,n,r,i){return z2(this.multi,[])}function x7(e,t,n,r,i){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=$c(r,r[U],this.providerFactory.index,i);a=c.slice(0,s),z2(o,a);for(let l=s;l<c.length;l++)a.push(c[l])}else a=[],z2(o,a);return a}function z2(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function D7(e,t,n,r,i,o){let a=new Po(e,n,F,null);return a.multi=[],a.index=t,a.componentProviders=0,j5(a,i,r&&!n),a}function $t(e,t){return n=>{n.providersResolver=(r,i)=>k4(r,i?i(e):e,!1),t&&(n.viewProvidersResolver=(r,i)=>k4(r,i?i(t):t,!0))}}function Kh(e,t){let n=Li()+e,r=P();return r[n]===At?cl(r,n,t()):uD(r,n)}function By(e,t,n){return V5(P(),Li(),e,t,n)}function zy(e,t,n,r){return H5(P(),Li(),e,t,n,r)}function E7(e,t,n,r,i){return T7(P(),Li(),e,t,n,r,i)}function A7(e,t,n,r,i,o,a){return L7(P(),Li(),e,t,n,r,i,o)}function Zh(e,t){let n=e[t];return n===At?void 0:n}function V5(e,t,n,r,i,o){let a=t+n;return Qt(e,a,i)?cl(e,a+1,o?r.call(o,i):r(i)):Zh(e,a+1)}function H5(e,t,n,r,i,o,a){let s=t+n;return Xc(e,s,i,o)?cl(e,s+2,a?r.call(a,i,o):r(i,o)):Zh(e,s+2)}function T7(e,t,n,r,i,o,a,s){let c=t+n;return hD(e,c,i,o,a)?cl(e,c+3,s?r.call(s,i,o,a):r(i,o,a)):Zh(e,c+3)}function L7(e,t,n,r,i,o,a,s,c){let l=t+n;return pD(e,l,i,o,a,s)?cl(e,l+4,c?r.call(c,i,o,a,s):r(i,o,a,s)):Zh(e,l+4)}function Rn(e,t){let n=xe(),r,i=e+Ge;n.firstCreatePass?(r=R7(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ii(r.type,!0)),a,s=Xt(F);try{let c=ih(!1),l=o();return ih(c),T0(n,P(),i,l),l}finally{Xt(s)}}function R7(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function On(e,t,n){let r=e+Ge,i=P(),o=Ou(i,r);return B5(i,r)?V5(i,Li(),t,o.transform,n,o):o.transform(n)}function O7(e,t,n,r){let i=e+Ge,o=P(),a=Ou(o,i);return B5(o,i)?H5(o,Li(),t,a.transform,n,r,a):a.transform(n,r)}function B5(e,t){return e[U].data[t].pure}function os(e,t){return Oh(e,t)}var bh=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},qy=(()=>{class e{compileModuleSync(n){return new vh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=g0(n),o=sw(i.declarations).reduce((a,s)=>{let c=vr(s);return c&&a.push(new Fi(c)),a},[]);return new bh(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var z5=(()=>{class e{applicationErrorHandler=f(sn);appRef=f(mn);taskService=f(Zr);ngZone=f(be);zonelessEnabled=f(Hc);tracing=f(Dr,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Ne;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Dc):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(f(Q0,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?IM:X0;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Dc+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function P7(){return en("NgZoneless"),kr([...Uy(),[]])}function Uy(){return[{provide:mr,useExisting:z5},{provide:be,useClass:Ec},{provide:Hc,useValue:!0}]}function N7(){return typeof $localize<"u"&&$localize.locale||pl}var Ho=new C("",{factory:()=>f(Ho,{optional:!0,skipSelf:!0})||N7()}),$y=new C("",{factory:()=>ZE});var fl=class{destroyed=!1;listeners=null;errorHandler=f(In,{optional:!0});destroyRef=f(Ye);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new b(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn(Un(953,!1));return}if(this.listeners===null)return;let n=z(null);try{for(let r of this.listeners)try{r(t)}catch(i){this.errorHandler?.handleError(i)}}finally{z(n)}}};function S(e,t){return fc(e,t?.equal)}var F7=e=>e;function qi(e,t){if(typeof e=="function"){let n=Zf(e,F7,t?.equal);return q5(n,t?.debugName)}else{let n=Zf(e.source,e.computation,e.equal);return q5(n,e.debugName)}}function q5(e,t){let n=e[ze],r=e;return r.set=i=>Ok(n,i),r.update=i=>Pk(n,i),r.asReadonly=Vc.bind(e),r}var Jh=Symbol("InputSignalNode#UNSET"),Y5=x(m({},yc),{transformFn:void 0,applyValueToInputSignal(e,t){Mi(e,t)}});function J5(e,t){let n=Object.create(Y5);n.value=e,n.transformFn=t?.transform;function r(){if(Vr(n),n.value===Jh){let i=null;throw new b(-950,i)}return n.value}return r[ze]=n,r}var Yh=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>el(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function un(e){return new fl}function U5(e,t){return J5(e,t)}function Z7(e){return J5(Jh,e)}var ve=(U5.required=Z7,U5);function $5(e,t){return Cy(t)}function X7(e,t){return _y(t)}var Bo=($5.required=X7,$5);function Xy(e,t){return Sy(t)}function W5(e,t){return Cy(t)}function Y7(e,t){return _y(t)}var RY=(W5.required=Y7,W5);function OY(e,t){return Sy(t)}function Q5(e,t){let n=Object.create(Y5),r=new fl;n.value=e;function i(){return Vr(n),G5(n.value),n.value}return i[ze]=n,i.asReadonly=Vc.bind(i),i.set=o=>{n.equal(n.value,o)||(Mi(n,o),r.emit(o))},i.update=o=>{G5(n.value),i.set(o(n.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function G5(e){if(e===Jh)throw new b(952,!1)}function K5(e,t){return Q5(e,t)}function J7(e){return Q5(Jh,e)}var Qh=(K5.required=J7,K5);var Gy=new C(""),Q7=new C("");function yl(e){return!e.moduleRef}function eA(e){let t=yl(e)?e.r3Injector:e.moduleRef.injector,n=t.get(be);return n.run(()=>{yl(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(sn),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),yl(e)){let o=()=>t.destroy(),a=e.platformInjector.get(Gy);a.add(o),t.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>e.moduleRef.destroy(),a=e.platformInjector.get(Gy);a.add(o),e.moduleRef.onDestroy(()=>{qc(e.allPlatformModules,e.moduleRef),i.unsubscribe(),a.delete(o)})}return nA(r,n,()=>{let o=t.get(Zr),a=o.add(),s=t.get(Ey);return s.runInitializers(),s.donePromise.then(()=>{let c=t.get(Ho,pl);if(w5(c||pl),!t.get(Q7,!0))return yl(e)?t.get(mn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(yl(e)){let d=t.get(mn);return e.rootComponent!==void 0&&d.bootstrap(e.rootComponent),d}else return tA?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{o.remove(a)})})})}var tA;function nA(e,t,n){try{let r=n();return Er(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Xh=null;function rA(e=[],t){return Q.create({name:t,providers:[{provide:Rc,useValue:"platform"},{provide:Gy,useValue:new Set([()=>Xh=null])},...e]})}function iA(e=[]){if(Xh)return Xh;let t=rA(e);return Xh=t,s5(),oA(t),t}function oA(e){let t=e.get(_h,null);tt(e,()=>{t?.forEach(n=>n())})}var aA=1e4;var PY=aA-1e3;var Wt=(()=>{class e{static __NG_ELEMENT_ID__=sA}return e})();function sA(e){return cA(it(),P(),(e&16)===16)}function cA(e,t,n){if(Kr(e)&&!n){let r=An(e.index,t);return new Ni(r,r)}else if(e.type&175){let r=t[zt];return new Ni(r,t)}return null}function eb(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;Ae(Ie.BootstrapApplicationStart);try{let o=i?.injector??iA(r),a=[Uy(),DM,...n||[]],s=new Yc({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return eA({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{Ae(Ie.BootstrapApplicationEnd)}}function Pt(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function gl(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}var Wy=Symbol("NOT_SET"),tb=new Set,lA=x(m({},yc),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Wy,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(e){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Wy&&!lo(this))return this.signal;try{for(let i of this.cleanup??tb)i()}finally{this.cleanup?.clear()}let t=[];e!==void 0&&t.push(e),t.push(this.registerCleanupFn);let n=hr(this),r;try{r=this.userFn.apply(null,t)}finally{Hr(this,n)}return(this.value===Wy||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),Ky=class extends Gc{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(t,n,r,i,o,a=null){super(t,[void 0,void 0,void 0,void 0],r,!1,o.get(Ye),a),this.scheduler=i;for(let s of ay){let c=n[s];if(c===void 0)continue;let l=Object.create(lA);l.sequence=this,l.phase=s,l.userFn=c,l.dirty=!0,l.signal=()=>(Vr(l),l.value),l.signal[ze]=l,l.registerCleanupFn=d=>(l.cleanup??=new Set).add(d),this.nodes[s]=l,this.hooks[s]=d=>l.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();super.destroy();for(let t of this.nodes)if(t)try{for(let n of t.cleanup??tb)n()}finally{Br(t)}}};function NY(e,t){let n=t?.injector??f(Q),r=n.get(mr),i=n.get(Eh),o=n.get(Dr,null,{optional:!0});i.impl??=n.get(sy);let a=e;typeof a=="function"&&(a={mixedReadWrite:e});let s=n.get(Fa,null,{optional:!0}),c=new Ky(i.impl,[a.earlyRead,a.write,a.mixedReadWrite,a.read],s?.view,r,n,o?.snapshot(null));return i.impl.register(c),c}function e1(e,t){let n=vr(e),r=t.elementInjector||Ta();return new Fi(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}function nb(e){let t=vr(e);if(!t)return null;let n=new Fi(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var rb=null;function Pn(){return rb}function Yy(e){rb??=e}var ml=class{},t1=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(ib),providedIn:"platform"})}return e})();var ib=(()=>{class e extends t1{_location;_history;_doc=f(oe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pn().getBaseHref(this._doc)}onPopState(n){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Pn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function sb(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function ob(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Ui(e){return e&&e[0]!=="?"?`?${e}`:e}var as=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(uA),providedIn:"root"})}return e})(),dA=new C(""),uA=(()=>{class e extends as{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??f(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return sb(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+Ui(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+Ui(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(Z(t1),Z(dA,8))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$i=(()=>{class e{_subject=new q;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=fA(ob(ab(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ui(r))}normalize(n){return e.stripTrailingSlash(pA(this._basePath,ab(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ui;static joinWithSlash=sb;static stripTrailingSlash=ob;static \u0275fac=function(r){return new(r||e)(Z(as))};static \u0275prov=M({token:e,factory:()=>hA(),providedIn:"root"})}return e})();function hA(){return new $i(Z(as))}function pA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function ab(e){return e.replace(/\/index.html$/,"")}function fA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var ub={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},l1=(function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e})(l1||{});var Gt=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(Gt||{}),Pe=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(Pe||{}),hn=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(hn||{}),Nt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function hb(e){return tn(e)[Ke.LocaleId]}function pb(e,t,n){let r=tn(e),i=[r[Ke.DayPeriodsFormat],r[Ke.DayPeriodsStandalone]],o=Nn(i,t);return Nn(o,n)}function fb(e,t,n){let r=tn(e),i=[r[Ke.DaysFormat],r[Ke.DaysStandalone]],o=Nn(i,t);return Nn(o,n)}function yb(e,t,n){let r=tn(e),i=[r[Ke.MonthsFormat],r[Ke.MonthsStandalone]],o=Nn(i,t);return Nn(o,n)}function gb(e,t){let r=tn(e)[Ke.Eras];return Nn(r,t)}function vl(e,t){let n=tn(e);return Nn(n[Ke.DateFormat],t)}function kl(e,t){let n=tn(e);return Nn(n[Ke.TimeFormat],t)}function Ml(e,t){let r=tn(e)[Ke.DateTimeFormat];return Nn(r,t)}function ir(e,t){let n=tn(e),r=n[Ke.NumberSymbols][t];if(typeof r>"u"){if(t===Nt.CurrencyDecimal)return n[Ke.NumberSymbols][Nt.Decimal];if(t===Nt.CurrencyGroup)return n[Ke.NumberSymbols][Nt.Group]}return r}function og(e,t){return tn(e)[Ke.NumberFormats][t]}function gA(e){return tn(e)[Ke.Currencies]}function mb(e){if(!e[Ke.ExtraData])throw new b(2303,!1)}function vb(e){let t=tn(e);return mb(t),(t[Ke.ExtraData][2]||[]).map(r=>typeof r=="string"?Jy(r):[Jy(r[0]),Jy(r[1])])}function kb(e,t,n){let r=tn(e);mb(r);let i=[r[Ke.ExtraData][0],r[Ke.ExtraData][1]],o=Nn(i,t)||[];return Nn(o,n)||[]}function Nn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new b(2304,!1)}function Jy(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}function Mb(e,t,n="en"){let r=gA(n)[e]||ub[e]||[],i=r[1];return t==="narrow"&&typeof i=="string"?i:r[0]||e}var mA=2;function wb(e){let t,n=ub[e];return n&&(t=n[2]),typeof t=="number"?t:mA}var vA=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,n1={},kA=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function bb(e,t,n,r){let i=DA(e);t=ri(n,t)||t;let a=[],s;for(;t;)if(s=kA.exec(t),s){a=a.concat(s.slice(1));let d=a.pop();if(!d)break;t=d}else{a.push(t);break}let c=i.getTimezoneOffset();r&&(c=_b(r,c),i=xA(i,r));let l="";return a.forEach(d=>{let u=SA(d);l+=u?u(i,n,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function s1(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function ri(e,t){let n=hb(e);if(n1[n]??={},n1[n][t])return n1[n][t];let r="";switch(t){case"shortDate":r=vl(e,hn.Short);break;case"mediumDate":r=vl(e,hn.Medium);break;case"longDate":r=vl(e,hn.Long);break;case"fullDate":r=vl(e,hn.Full);break;case"shortTime":r=kl(e,hn.Short);break;case"mediumTime":r=kl(e,hn.Medium);break;case"longTime":r=kl(e,hn.Long);break;case"fullTime":r=kl(e,hn.Full);break;case"short":let i=ri(e,"shortTime"),o=ri(e,"shortDate");r=r1(Ml(e,hn.Short),[i,o]);break;case"medium":let a=ri(e,"mediumTime"),s=ri(e,"mediumDate");r=r1(Ml(e,hn.Medium),[a,s]);break;case"long":let c=ri(e,"longTime"),l=ri(e,"longDate");r=r1(Ml(e,hn.Long),[c,l]);break;case"full":let d=ri(e,"fullTime"),u=ri(e,"fullDate");r=r1(Ml(e,hn.Full),[d,u]);break}return r&&(n1[n][t]=r),r}function r1(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function rr(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let a=String(e);for(;a.length<t;)a="0"+a;return r&&(a=a.slice(a.length-t)),o+a}function MA(e,t){return rr(e,3).substring(0,t)}function yt(e,t,n=0,r=!1,i=!1){return function(o,a){let s=wA(e,o);if((n>0||s>-n)&&(s+=n),e===3)s===0&&n===-12&&(s=12);else if(e===6)return MA(s,t);let c=ir(a,Nt.MinusSign);return rr(s,t,c,r,i)}}function wA(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new b(2301,!1)}}function $e(e,t,n=Gt.Format,r=!1){return function(i,o){return bA(i,o,e,t,n,r)}}function bA(e,t,n,r,i,o){switch(n){case 2:return yb(t,i,r)[e.getMonth()];case 1:return fb(t,i,r)[e.getDay()];case 0:let a=e.getHours(),s=e.getMinutes();if(o){let l=vb(t),d=kb(t,i,r),u=l.findIndex(p=>{if(Array.isArray(p)){let[h,y]=p,g=a>=h.hours&&s>=h.minutes,v=a<y.hours||a===y.hours&&s<y.minutes;if(h.hours<y.hours){if(g&&v)return!0}else if(g||v)return!0}else if(p.hours===a&&p.minutes===s)return!0;return!1});if(u!==-1)return d[u]}return pb(t,i,r)[a<12?0:1];case 3:return gb(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new b(2302,!1)}}function i1(e){return function(t,n,r){let i=-1*r,o=ir(n,Nt.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+rr(a,2,o)+rr(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+rr(a,1,o);case 2:return"GMT"+(i>=0?"+":"")+rr(a,2,o)+":"+rr(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+rr(a,2,o)+":"+rr(Math.abs(i%60),2,o);default:throw new b(2310,!1)}}}var CA=0,a1=4;function _A(e){let t=s1(e,CA,1).getDay();return s1(e,0,1+(t<=a1?a1:a1+7)-t)}function Cb(e){let t=e.getDay(),n=t===0?-3:a1-t;return s1(e.getFullYear(),e.getMonth(),e.getDate()+n)}function Qy(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{let o=Cb(n),a=_A(o.getFullYear()),s=o.getTime()-a.getTime();i=1+Math.round(s/6048e5)}return rr(i,e,ir(r,Nt.MinusSign))}}function o1(e,t=!1){return function(n,r){let o=Cb(n).getFullYear();return rr(o,e,ir(r,Nt.MinusSign),t)}}var eg={};function SA(e){if(eg[e])return eg[e];let t;switch(e){case"G":case"GG":case"GGG":t=$e(3,Pe.Abbreviated);break;case"GGGG":t=$e(3,Pe.Wide);break;case"GGGGG":t=$e(3,Pe.Narrow);break;case"y":t=yt(0,1,0,!1,!0);break;case"yy":t=yt(0,2,0,!0,!0);break;case"yyy":t=yt(0,3,0,!1,!0);break;case"yyyy":t=yt(0,4,0,!1,!0);break;case"Y":t=o1(1);break;case"YY":t=o1(2,!0);break;case"YYY":t=o1(3);break;case"YYYY":t=o1(4);break;case"M":case"L":t=yt(1,1,1);break;case"MM":case"LL":t=yt(1,2,1);break;case"MMM":t=$e(2,Pe.Abbreviated);break;case"MMMM":t=$e(2,Pe.Wide);break;case"MMMMM":t=$e(2,Pe.Narrow);break;case"LLL":t=$e(2,Pe.Abbreviated,Gt.Standalone);break;case"LLLL":t=$e(2,Pe.Wide,Gt.Standalone);break;case"LLLLL":t=$e(2,Pe.Narrow,Gt.Standalone);break;case"w":t=Qy(1);break;case"ww":t=Qy(2);break;case"W":t=Qy(1,!0);break;case"d":t=yt(2,1);break;case"dd":t=yt(2,2);break;case"c":case"cc":t=yt(7,1);break;case"ccc":t=$e(1,Pe.Abbreviated,Gt.Standalone);break;case"cccc":t=$e(1,Pe.Wide,Gt.Standalone);break;case"ccccc":t=$e(1,Pe.Narrow,Gt.Standalone);break;case"cccccc":t=$e(1,Pe.Short,Gt.Standalone);break;case"E":case"EE":case"EEE":t=$e(1,Pe.Abbreviated);break;case"EEEE":t=$e(1,Pe.Wide);break;case"EEEEE":t=$e(1,Pe.Narrow);break;case"EEEEEE":t=$e(1,Pe.Short);break;case"a":case"aa":case"aaa":t=$e(0,Pe.Abbreviated);break;case"aaaa":t=$e(0,Pe.Wide);break;case"aaaaa":t=$e(0,Pe.Narrow);break;case"b":case"bb":case"bbb":t=$e(0,Pe.Abbreviated,Gt.Standalone,!0);break;case"bbbb":t=$e(0,Pe.Wide,Gt.Standalone,!0);break;case"bbbbb":t=$e(0,Pe.Narrow,Gt.Standalone,!0);break;case"B":case"BB":case"BBB":t=$e(0,Pe.Abbreviated,Gt.Format,!0);break;case"BBBB":t=$e(0,Pe.Wide,Gt.Format,!0);break;case"BBBBB":t=$e(0,Pe.Narrow,Gt.Format,!0);break;case"h":t=yt(3,1,-12);break;case"hh":t=yt(3,2,-12);break;case"H":t=yt(3,1);break;case"HH":t=yt(3,2);break;case"m":t=yt(4,1);break;case"mm":t=yt(4,2);break;case"s":t=yt(5,1);break;case"ss":t=yt(5,2);break;case"S":t=yt(6,1);break;case"SS":t=yt(6,2);break;case"SSS":t=yt(6,3);break;case"Z":case"ZZ":case"ZZZ":t=i1(0);break;case"ZZZZZ":t=i1(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=i1(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=i1(2);break;default:return null}return eg[e]=t,t}function _b(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function IA(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function xA(e,t,n){let i=e.getTimezoneOffset(),o=_b(t,i);return IA(e,-1*(o-i))}function DA(e){if(cb(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,a=1]=e.split("-").map(s=>+s);return s1(i,o-1,a)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(vA))return EA(r)}let t=new Date(e);if(!cb(t))throw new b(2311,!1);return t}function EA(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,a,s,c,l),t}function cb(e){return e instanceof Date&&!isNaN(e.valueOf())}var AA=/^(\d+)?\.((\d+)(-(\d+))?)?$/,lb=22,c1=".",wl="0",TA=";",LA=",",tg="#",db="\xA4";function Sb(e,t,n,r,i,o,a=!1){let s="",c=!1;if(!isFinite(e))s=ir(n,Nt.Infinity);else{let l=OA(e);a&&(l=RA(l));let d=t.minInt,u=t.minFrac,p=t.maxFrac;if(o){let E=o.match(AA);if(E===null)throw new b(2306,!1);let I=E[1],_=E[3],he=E[5];I!=null&&(d=ng(I)),_!=null&&(u=ng(_)),he!=null?p=ng(he):_!=null&&u>p&&(p=u)}PA(l,u,p);let h=l.digits,y=l.integerLen,g=l.exponent,v=[];for(c=h.every(E=>!E);y<d;y++)h.unshift(0);for(;y<0;y++)h.unshift(0);y>0?v=h.splice(y,h.length):(v=h,h=[0]);let k=[];for(h.length>=t.lgSize&&k.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)k.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&k.unshift(h.join("")),s=k.join(ir(n,r)),v.length&&(s+=ir(n,i)+v.join("")),g&&(s+=ir(n,Nt.Exponential)+"+"+g)}return e<0&&!c?s=t.negPre+s+t.negSuf:s=t.posPre+s+t.posSuf,s}function Ib(e,t,n,r,i){let o=og(t,l1.Currency),a=Db(o,ir(t,Nt.MinusSign));return a.minFrac=wb(r),a.maxFrac=a.minFrac,Sb(e,a,t,Nt.CurrencyGroup,Nt.CurrencyDecimal,i).replace(db,n).replace(db,"").trim()}function xb(e,t,n){let r=og(t,l1.Decimal),i=Db(r,ir(t,Nt.MinusSign));return Sb(e,i,t,Nt.Group,Nt.Decimal,n)}function Db(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(TA),i=r[0],o=r[1],a=i.indexOf(c1)!==-1?i.split(c1):[i.substring(0,i.lastIndexOf(wl)+1),i.substring(i.lastIndexOf(wl)+1)],s=a[0],c=a[1]||"";n.posPre=s.substring(0,s.indexOf(tg));for(let d=0;d<c.length;d++){let u=c.charAt(d);u===wl?n.minFrac=n.maxFrac=d+1:u===tg?n.maxFrac=d+1:n.posSuf+=u}let l=s.split(LA);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let d=i.length-n.posPre.length-n.posSuf.length,u=o.indexOf(tg);n.negPre=o.substring(0,u).replace(/'/g,""),n.negSuf=o.slice(u+d).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function RA(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function OA(e){let t=Math.abs(e)+"",n=0,r,i,o,a,s;for((i=t.indexOf(c1))>-1&&(t=t.replace(c1,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===wl;o++);if(o===(s=t.length))r=[0],i=1;else{for(s--;t.charAt(s)===wl;)s--;for(i-=o,r=[],a=0;o<=s;o++,a++)r[a]=Number(t.charAt(o))}return i>lb&&(r=r.splice(0,lb-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function PA(e,t,n){if(t>n)throw new b(2307,!1);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,s=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(let u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(let u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(let u=0;u>a;u--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=t+e.integerLen,d=r.reduceRight(function(u,p,h,y){return p=p+u,y[h]=p<10?p:p-10,c&&(y[h]===0&&h>=l?y.pop():c=!1),p>=10?1:0},0);d&&(r.unshift(d),e.integerLen++)}function ng(e){let t=parseInt(e);if(isNaN(t))throw new b(2305,!1);return t}var bl=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||e)(F(dn))};static \u0275dir=de({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[ot]})}return e})();function d1(e,t){return new b(2100,!1)}var rg=class{createSubscription(t,n,r){return $(()=>t.subscribe({next:n,error:r}))}dispose(t){$(()=>t.unsubscribe())}},ig=class{createSubscription(t,n,r){return t.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(t){t.unsubscribe()}},NA=new ig,FA=new rg,jA=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=f(sn);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Er(n))return NA;if(Vh(n))return FA;throw d1(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(F(Wt,16))};static \u0275pipe=ts({name:"async",type:e,pure:!1})}return e})();var VA="mediumDate",Eb=new C(""),Ab=new C(""),HA=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??VA,s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return bb(n,a,o||this.locale,s)}catch(a){throw d1(e,a.message)}}static \u0275fac=function(r){return new(r||e)(F(Ho,16),F(Eb,24),F(Ab,24))};static \u0275pipe=ts({name:"date",type:e,pure:!0})}return e})();var BA=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!Tb(n))return null;i||=this._locale;try{let o=Lb(n);return xb(o,i,r)}catch(o){throw d1(e,o.message)}}static \u0275fac=function(r){return new(r||e)(F(Ho,16))};static \u0275pipe=ts({name:"number",type:e,pure:!0})}return e})();var ii=(()=>{class e{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,a){if(!Tb(n))return null;a||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let s=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?s=Mb(s,i==="symbol"?"wide":"narrow",a):s=i);try{let c=Lb(n);return Ib(c,a,s,r,o)}catch(c){throw d1(e,c.message)}}static \u0275fac=function(r){return new(r||e)(F(Ho,16),F($y,16))};static \u0275pipe=ts({name:"currency",type:e,pure:!0})}return e})();function Tb(e){return!(e==null||e===""||e!==e)}function Lb(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new b(2309,!1);return e}function u1(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var zo=class{};function JJ(e,t,n){return Vy(e,t,n)}var ag="browser";function h1(e){return e===ag}var Cl=class{_doc;constructor(t){this._doc=t}manager},p1=(()=>{class e extends Cl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(Z(oe))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),g1=new C(""),dg=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this});let i=n.filter(a=>!(a instanceof p1));this._plugins=i.slice().reverse();let o=n.find(a=>a instanceof p1);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(Z(g1),Z(be))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),sg="ng-app-id";function Rb(e){for(let t of e)t.remove()}function Ob(e,t){let n=t.createElement("style");return n.textContent=e,n}function $A(e,t,n,r){let i=e.head?.querySelectorAll(`style[${sg}="${t}"],link[${sg}="${t}"]`);if(i)for(let o of i)o.removeAttribute(sg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function lg(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var ug=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,$A(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,Ob);r?.forEach(i=>this.addUsage(i,this.external,lg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Rb(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Rb(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,Ob(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,lg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(Z(oe),Z(ji),Z(Qa,8),Z(Yr))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),cg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},hg=/%COMP%/g;var Nb="%COMP%",WA=`_nghost-${Nb}`,GA=`_ngcontent-${Nb}`,KA=!0,ZA=new C("",{factory:()=>KA});function XA(e){return GA.replace(hg,e)}function YA(e){return WA.replace(hg,e)}function Fb(e,t){return t.map(n=>n.replace(hg,e))}var pg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,a,s,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=c,this.tracingService=l,this.defaultRenderer=new _l(n,a,s,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof y1?i.applyToHost(n):i instanceof Sl&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.tracingService;switch(r.encapsulation){case Yn.Emulated:o=new y1(c,l,r,this.appId,d,a,s,u);break;case Yn.ShadowDom:return new f1(c,n,r,a,s,this.nonce,u,l);case Yn.ExperimentalIsolatedShadowDom:return new f1(c,n,r,a,s,this.nonce,u);default:o=new Sl(c,l,r,d,a,s,u);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(Z(dg),Z(ug),Z(ji),Z(ZA),Z(oe),Z(be),Z(Qa),Z(Dr,8))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),_l=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(cg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Pb(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Pb(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=cg[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=cg[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Ir.DashCase|Ir.Important)?t.style.setProperty(n,r,i&Ir.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Ir.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Pn().getGlobalEventTarget(this.doc,t),!t))throw new b(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Pb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var f1=class extends _l{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,i,o,a,s,c){super(t,i,o,s),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Fb(r.id,l);for(let u of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=u,this.shadowRoot.appendChild(p)}let d=r.getExternalStyles?.();if(d)for(let u of d){let p=lg(u,i);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},Sl=class extends _l{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,a,s,c){super(t,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?Fb(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Pi.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},y1=class extends Sl{contentAttr;hostAttr;constructor(t,n,r,i,o,a,s,c){let l=i+"-"+r.id;super(t,n,r,o,a,s,c,l),this.contentAttr=XA(l),this.hostAttr=YA(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var m1=class e extends ml{supportsDOMEvents=!0;static makeCurrent(){Yy(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=JA();return n==null?null:QA(n)}resetBaseElement(){Il=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return u1(document.cookie,t)}},Il=null;function JA(){return Il=Il||document.head.querySelector("base"),Il?Il.getAttribute("href"):null}function QA(e){return new URL(e,document.baseURI).pathname}var e9=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),jb=["alt","control","meta","shift"],t9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},n9={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},Vb=(()=>{class e extends Cl{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=e.parseEventName(r),s=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pn().onAndCancel(n,a.domEventName,s,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),jb.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let i=t9[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),jb.forEach(a=>{if(a!==i){let s=n9[a];s(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(Z(oe))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();async function r9(e,t,n){let r=m({rootComponent:e},i9(t,n));return eb(r)}function i9(e,t){return{platformRef:t?.platformRef,appProviders:[...l9,...e?.providers??[]],platformProviders:c9}}function o9(){m1.makeCurrent()}function a9(){return new In}function s9(){return W2(document),document}var c9=[{provide:Yr,useValue:ag},{provide:_h,useValue:o9,multi:!0},{provide:oe,useFactory:s9}];var l9=[{provide:Rc,useValue:"root"},{provide:In,useFactory:a9},{provide:g1,useClass:p1,multi:!0},{provide:g1,useClass:Vb,multi:!0},pg,ug,dg,{provide:qt,useExisting:pg},{provide:zo,useClass:e9},[]];var Wi=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var yg=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},gg=class{encodeKey(t){return Hb(t)}encodeValue(t){return Hb(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function d9(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,s]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(a)||[];c.push(s),n.set(a,c)}),n}var u9=/%(\d[a-f0-9])/gi,h9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Hb(e){return encodeURIComponent(e).replace(u9,(t,n)=>h9[n]??t)}function v1(e){return`${e}`}var oi=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new gg,t.fromString){if(t.fromObject)throw new b(2805,!1);this.map=d9(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(v1):[v1(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(v1(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(v1(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function p9(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Bb(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function zb(e){return typeof Blob<"u"&&e instanceof Blob}function qb(e){return typeof FormData<"u"&&e instanceof FormData}function f9(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Ub="Content-Type",$b="Accept",Wb="text/plain",Gb="application/json",y9=`${Gb}, ${Wb}, */*`,ss=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(p9(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new b(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Wi,this.context??=new yg,!this.params)this.params=new oi,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let s=n.indexOf("?"),c=s===-1?"?":s<n.length-1?"&":"";this.urlWithParams=n+c+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Bb(this.body)||zb(this.body)||qb(this.body)||f9(this.body)?this.body:this.body instanceof oi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||qb(this.body)?null:zb(this.body)?this.body.type||null:Bb(this.body)?null:typeof this.body=="string"?Wb:this.body instanceof oi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Gb:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,a=t.priority||this.priority,s=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,d=t.credentials||this.credentials,u=t.referrer||this.referrer,p=t.integrity||this.integrity,h=t.referrerPolicy||this.referrerPolicy,y=t.transferCache??this.transferCache,g=t.timeout??this.timeout,v=t.body!==void 0?t.body:this.body,k=t.withCredentials??this.withCredentials,E=t.reportProgress??this.reportProgress,I=t.headers||this.headers,_=t.params||this.params,he=t.context??this.context;return t.setHeaders!==void 0&&(I=Object.keys(t.setHeaders).reduce((He,re)=>He.set(re,t.setHeaders[re]),I)),t.setParams&&(_=Object.keys(t.setParams).reduce((He,re)=>He.set(re,t.setParams[re]),_)),new e(n,r,v,{params:_,headers:I,context:he,reportProgress:E,responseType:i,withCredentials:k,transferCache:y,keepalive:o,cache:s,priority:a,timeout:g,mode:c,redirect:l,credentials:d,referrer:u,integrity:p,referrerPolicy:h})}},qo=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(qo||{}),xl=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new Wi,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},mg=class e extends xl{constructor(t={}){super(t)}type=qo.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Dl=class e extends xl{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=qo.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},cs=class extends xl{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},g9=200,m9=204;var v9=/^\)\]\}',?\n/;var k9=(()=>{class e{xhrFactory;tracingService=f(Dr,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new b(-2800,!1);let r=this.xhrFactory;return te(null).pipe(ye(()=>new ne(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((v,k)=>a.setRequestHeader(v,k.join(","))),n.headers.has($b)||a.setRequestHeader($b,y9),!n.headers.has(Ub)){let v=n.detectContentTypeHeader();v!==null&&a.setRequestHeader(Ub,v)}if(n.timeout&&(a.timeout=n.timeout),n.responseType){let v=n.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let s=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=a.statusText||"OK",k=new Wi(a.getAllResponseHeaders()),E=a.responseURL||n.url;return c=new mg({headers:k,status:a.status,statusText:v,url:E}),c},d=this.maybePropagateTrace(()=>{let{headers:v,status:k,statusText:E,url:I}=l(),_=null;k!==m9&&(_=typeof a.response>"u"?a.responseText:a.response),k===0&&(k=_?g9:0);let he=k>=200&&k<300;if(n.responseType==="json"&&typeof _=="string"){let He=_;_=_.replace(v9,"");try{_=_!==""?JSON.parse(_):null}catch(re){_=He,he&&(he=!1,_={error:re,text:_})}}he?(o.next(new Dl({body:_,headers:v,status:k,statusText:E,url:I||void 0})),o.complete()):o.error(new cs({error:_,headers:v,status:k,statusText:E,url:I||void 0}))}),u=this.maybePropagateTrace(v=>{let{url:k}=l(),E=new cs({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:k||void 0});o.error(E)}),p=u;n.timeout&&(p=this.maybePropagateTrace(v=>{let{url:k}=l(),E=new cs({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:k||void 0});o.error(E)}));let h=!1,y=this.maybePropagateTrace(v=>{h||(o.next(l()),h=!0);let k={type:qo.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(k.total=v.total),n.responseType==="text"&&a.responseText&&(k.partialText=a.responseText),o.next(k)}),g=this.maybePropagateTrace(v=>{let k={type:qo.UploadProgress,loaded:v.loaded};v.lengthComputable&&(k.total=v.total),o.next(k)});return a.addEventListener("load",d),a.addEventListener("error",u),a.addEventListener("timeout",p),a.addEventListener("abort",u),n.reportProgress&&(a.addEventListener("progress",y),s!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(s),o.next({type:qo.Sent}),()=>{a.removeEventListener("error",u),a.removeEventListener("abort",u),a.removeEventListener("load",d),a.removeEventListener("timeout",p),n.reportProgress&&(a.removeEventListener("progress",y),s!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||e)(Z(zo))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function M9(e,t){return t(e)}function w9(e,t,n){return(r,i)=>tt(n,()=>t(r,o=>e(o,i)))}var b9=new C("",{factory:()=>[]}),Kb=new C(""),C9=new C("",{factory:()=>!0});var _9=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=Z(k9),i},providedIn:"root"})}return e})();var S9=(()=>{class e{backend;injector;chain=null;pendingTasks=f(ja);contributeToStability=f(C9);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(b9),...this.injector.get(Kb,[])]));this.chain=r.reduceRight((i,o)=>w9(i,o,this.injector),M9)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(xa(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(Z(_9),Z(Re))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),I9=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=Z(S9),i},providedIn:"root"})}return e})();function fg(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var x9=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ss)o=n;else{let c;i.headers instanceof Wi?c=i.headers:c=new Wi(i.headers);let l;i.params&&(i.params instanceof oi?l=i.params:l=new oi({fromObject:i.params})),o=new ss(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let a=te(o).pipe(_i(c=>this.handler.handle(c)));if(n instanceof ss||i.observe==="events")return a;let s=a.pipe(qe(c=>c instanceof Dl));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(A(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new b(2806,!1);return c.body}));case"blob":return s.pipe(A(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new b(2807,!1);return c.body}));case"text":return s.pipe(A(c=>{if(c.body!==null&&typeof c.body!="string")throw new b(2808,!1);return c.body}));default:return s.pipe(A(c=>c.body))}case"response":return s;default:throw new b(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new oi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,fg(i,r))}post(n,r,i={}){return this.request("POST",n,fg(i,r))}put(n,r,i={}){return this.request("PUT",n,fg(i,r))}static \u0275fac=function(r){return new(r||e)(Z(I9))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Zb=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(Z(oe))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var D9=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=Z(E9),i},providedIn:"root"})}return e})(),E9=(()=>{class e extends D9{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case er.NONE:return r;case er.HTML:return Jr(r,"HTML")?gn(r):Q2(this._doc,String(r)).toString();case er.STYLE:return Jr(r,"Style")?gn(r):r;case er.SCRIPT:if(Jr(r,"Script"))return gn(r);throw new b(5200,!1);case er.URL:return Jr(r,"URL")?gn(r):nl(String(r));case er.RESOURCE_URL:if(Jr(r,"ResourceURL"))return gn(r);throw new b(5201,!1);default:throw new b(5202,!1)}}bypassSecurityTrustHtml(n){return K2(n)}bypassSecurityTrustStyle(n){return Z2(n)}bypassSecurityTrustScript(n){return X2(n)}bypassSecurityTrustUrl(n){return Y2(n)}bypassSecurityTrustResourceUrl(n){return J2(n)}static \u0275fac=function(r){return new(r||e)(Z(oe))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ae="primary",Hl=Symbol("RouteTitle"),bg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Wo(e){return new bg(e)}function vg(e,t,n){for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i[0]===":")n[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function iC(e,t,n){let r=n.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let c={},l=e.slice(0,r.length);return vg(r,l,c)?{consumed:l,posParams:c}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),a=r.slice(i+1);if(o.length+a.length>e.length||n.pathMatch==="full"&&t.hasChildren()&&n.path!=="**")return null;let s={};return!vg(o,e.slice(0,o.length),s)||!vg(a,e.slice(e.length-a.length),s)?null:{consumed:e,posParams:s}}function _1(e){return new Promise((t,n)=>{e.pipe(qr()).subscribe({next:r=>t(r),error:r=>n(r)})})}function T9(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Rr(e[n],t[n]))return!1;return!0}function Rr(e,t){let n=e?Cg(e):void 0,r=t?Cg(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!oC(e[i],t[i]))return!1;return!0}function Cg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function oC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function L9(e){return e.length>0?e[e.length-1]:null}function Zo(e){return bc(e)?e:Er(e)?K(Promise.resolve(e)):te(e)}function aC(e){return bc(e)?_1(e):Promise.resolve(e)}var R9={exact:cC,subset:lC},sC={exact:O9,subset:P9,ignored:()=>!0};function Fg(e,t,n){let r=e instanceof Mn?e:t.parseUrl(e);return S(()=>_g(t.lastSuccessfulNavigation()?.finalUrl??new Mn,r,n))}function _g(e,t,n){return R9[n.paths](e.root,t.root,n.matrixParams)&&sC[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function O9(e,t){return Rr(e,t)}function cC(e,t,n){if(!Uo(e.segments,t.segments)||!w1(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!cC(e.children[r],t.children[r],n))return!1;return!0}function P9(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>oC(e[n],t[n]))}function lC(e,t,n){return dC(e,t,t.segments,n)}function dC(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!Uo(i,n)||t.hasChildren()||!w1(i,n,r))}else if(e.segments.length===n.length){if(!Uo(e.segments,n)||!w1(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!lC(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!Uo(e.segments,i)||!w1(e.segments,i,r)||!e.children[ae]?!1:dC(e.children[ae],t,o,r)}}function w1(e,t,n){return t.every((r,i)=>sC[n](e[i].parameters,r.parameters))}var Mn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new De([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Wo(this.queryParams),this._queryParamMap}toString(){return j9.serialize(this)}},De=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return b1(this)}},Gi=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Wo(this.parameters),this._parameterMap}toString(){return hC(this)}};function N9(e,t){return Uo(e,t)&&e.every((n,r)=>Rr(n.parameters,t[r].parameters))}function Uo(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function F9(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===ae&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(t(i,r)))}),n}var Bl=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new Ki,providedIn:"root"})}return e})(),Ki=class{parse(t){let n=new Ig(t);return new Mn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${El(t.root,!0)}`,r=B9(t.queryParams),i=typeof t.fragment=="string"?`#${V9(t.fragment)}`:"";return`${n}${r}${i}`}},j9=new Ki;function b1(e){return e.segments.map(t=>hC(t)).join("/")}function El(e,t){if(!e.hasChildren())return b1(e);if(t){let n=e.children[ae]?El(e.children[ae],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${El(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=F9(e,(r,i)=>i===ae?[El(e.children[ae],!1)]:[`${i}:${El(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ae]!=null?`${b1(e)}/${n[0]}`:`${b1(e)}/(${n.join("//")})`}}function uC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function k1(e){return uC(e).replace(/%3B/gi,";")}function V9(e){return encodeURI(e)}function Sg(e){return uC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function C1(e){return decodeURIComponent(e)}function Xb(e){return C1(e.replace(/\+/g,"%20"))}function hC(e){return`${Sg(e.path)}${H9(e.parameters)}`}function H9(e){return Object.entries(e).map(([t,n])=>`;${Sg(t)}=${Sg(n)}`).join("")}function B9(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${k1(n)}=${k1(i)}`).join("&"):`${k1(n)}=${k1(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var z9=/^[^\/()?;#]+/;function kg(e){let t=e.match(z9);return t?t[0]:""}var q9=/^[^\/()?;=#]+/;function U9(e){let t=e.match(q9);return t?t[0]:""}var $9=/^[^=?&#]+/;function W9(e){let t=e.match($9);return t?t[0]:""}var G9=/^[^&#]+/;function K9(e){let t=e.match(G9);return t?t[0]:""}var Ig=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ae]=new De(t,n)),r}parseSegment(){let t=kg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(t),new Gi(C1(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=U9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=kg(this.remaining);i&&(r=i,this.capture(r))}t[C1(n)]=C1(r)}parseQueryParam(t){let n=W9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=K9(this.remaining);a&&(r=a,this.capture(r))}let i=Xb(n),o=Xb(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=kg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ae);let a=this.parseChildren();n[o??ae]=Object.keys(a).length===1&&a[ae]?a[ae]:new De([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new b(4011,!1)}};function pC(e){return e.segments.length>0?new De([],{[ae]:e}):e}function fC(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=fC(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new De(e.segments,t);return Z9(n)}function Z9(e){if(e.numberOfChildren===1&&e.children[ae]){let t=e.children[ae];return new De(e.segments.concat(t.segments),t.children)}return e}function Zi(e){return e instanceof Mn}function yC(e,t,n=null,r=null,i=new Ki){let o=gC(e);return mC(o,t,n,r,i)}function gC(e){let t;function n(o){let a={};for(let c of o.children){let l=n(c);a[c.outlet]=l}let s=new De(o.url,a);return o===e&&(t=s),s}let r=n(e.root),i=pC(r);return t??i}function mC(e,t,n,r,i){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Mg(o,o,o,n,r,i);let a=X9(t);if(a.toRoot())return Mg(o,o,new De([],{}),n,r,i);let s=Y9(a,o,e),c=s.processChildren?Tl(s.segmentGroup,s.index,a.commands):kC(s.segmentGroup,s.index,a.commands);return Mg(o,s.segmentGroup,c,n,r,i)}function S1(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Ol(e){return typeof e=="object"&&e!=null&&e.outlets}function Yb(e,t,n){e||="\u0275";let r=new Mn;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function Mg(e,t,n,r,i,o){let a={};for(let[l,d]of Object.entries(r??{}))a[l]=Array.isArray(d)?d.map(u=>Yb(l,u,o)):Yb(l,d,o);let s;e===t?s=n:s=vC(e,t,n);let c=pC(fC(s));return new Mn(c,a,i)}function vC(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=vC(o,t,n)}),new De(e.segments,r)}var I1=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&S1(r[0]))throw new b(4003,!1);let i=r.find(Ol);if(i&&i!==L9(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function X9(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new I1(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?t++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new I1(n,t,r)}var ds=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function Y9(e,t,n){if(e.isAbsolute)return new ds(t,!0,0);if(!n)return new ds(t,!1,NaN);if(n.parent===null)return new ds(n,!0,0);let r=S1(e.commands[0])?0:1,i=n.segments.length-1+r;return J9(n,i,e.numberOfDoubleDots)}function J9(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new ds(r,!1,i-o)}function Q9(e){return Ol(e[0])?e[0].outlets:{[ae]:e}}function kC(e,t,n){if(e??=new De([],{}),e.segments.length===0&&e.hasChildren())return Tl(e,t,n);let r=eT(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new De(e.segments.slice(0,r.pathIndex),{});return o.children[ae]=new De(e.segments.slice(r.pathIndex),e.children),Tl(o,0,i)}else return r.match&&i.length===0?new De(e.segments,{}):r.match&&!e.hasChildren()?xg(e,t,n):r.match?Tl(e,0,i):xg(e,t,n)}function Tl(e,t,n){if(n.length===0)return new De(e.segments,{});{let r=Q9(n),i={};if(Object.keys(r).some(o=>o!==ae)&&e.children[ae]&&e.numberOfChildren===1&&e.children[ae].segments.length===0){let o=Tl(e.children[ae],t,n);return new De(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=kC(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new De(e.segments,i)}}function eT(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let a=e.segments[i],s=n[r];if(Ol(s))break;let c=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!Qb(c,l,a))return o;r+=2}else{if(!Qb(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function xg(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Ol(o)){let c=tT(o.outlets);return new De(r,c)}if(i===0&&S1(n[0])){let c=e.segments[t];r.push(new Gi(c.path,Jb(n[0]))),i++;continue}let a=Ol(o)?o.outlets[ae]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&S1(s)?(r.push(new Gi(a,Jb(s))),i+=2):(r.push(new Gi(a,{})),i++)}return new De(r,{})}function tT(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=xg(new De([],{}),0,r))}),t}function Jb(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function Qb(e,t,n){return e==n.path&&Rr(t,n.parameters)}var Ll="imperative",Dt=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Dt||{}),wn=class{id;url;constructor(t,n){this.id=t,this.url=n}},Go=class extends wn{type=Dt.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ar=class extends wn{urlAfterRedirects;type=Dt.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Kt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Kt||{}),Pl=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Pl||{}),Fn=class extends wn{reason;code;type=Dt.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function MC(e){return e instanceof Fn&&(e.code===Kt.Redirect||e.code===Kt.SupersededByNewNavigation)}var si=class extends wn{reason;code;type=Dt.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Ko=class extends wn{error;target;type=Dt.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hs=class extends wn{urlAfterRedirects;state;type=Dt.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},x1=class extends wn{urlAfterRedirects;state;type=Dt.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},D1=class extends wn{urlAfterRedirects;state;shouldActivate;type=Dt.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},E1=class extends wn{urlAfterRedirects;state;type=Dt.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},A1=class extends wn{urlAfterRedirects;state;type=Dt.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},T1=class{route;type=Dt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},L1=class{route;type=Dt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},R1=class{snapshot;type=Dt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},O1=class{snapshot;type=Dt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},P1=class{snapshot;type=Dt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},N1=class{snapshot;type=Dt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ps=class{},fs=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function nT(e){return!(e instanceof ps)&&!(e instanceof fs)}var F1=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ms(this.rootInjector)}},ms=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new F1(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(Z(Re))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),j1=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Dg(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Dg(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Eg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Eg(t,this._root).map(n=>n.value)}};function Dg(e,t){if(e===t.value)return t;for(let n of t.children){let r=Dg(e,n);if(r)return r}return null}function Eg(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Eg(e,n);if(r.length)return r.unshift(t),r}return[]}var kn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ls(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var Nl=class extends j1{snapshot;constructor(t,n){super(t),this.snapshot=n,jg(this,t)}toString(){return this.snapshot.toString()}};function wC(e,t){let n=rT(e,t),r=new mt([new Gi("",{})]),i=new mt({}),o=new mt({}),a=new mt({}),s=new mt(""),c=new ci(r,i,a,s,o,ae,e,n.root);return c.snapshot=n.root,new Nl(new kn(c,[]),n)}function rT(e,t){let n={},r={},i={},a=new $o([],n,i,"",r,ae,e,null,{},t);return new Fl("",new kn(a,[]))}var ci=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,a,s,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(A(l=>l[Hl]))??te(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(A(t=>Wo(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(A(t=>Wo(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function V1(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:m(m({},t.params),e.params),data:m(m({},t.data),e.data),resolve:m(m(m(m({},e.data),t.data),i?.data),e._resolvedData)}:r={params:m({},e.params),data:m({},e.data),resolve:m(m({},e.data),e._resolvedData??{})},i&&CC(i)&&(r.resolve[Hl]=i.title),r}var $o=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[Hl]}constructor(t,n,r,i,o,a,s,c,l,d){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l,this._environmentInjector=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Wo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Wo(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Fl=class extends j1{url;constructor(t,n){super(n),this.url=t,jg(this,n)}toString(){return bC(this._root)}};function jg(e,t){t.value._routerState=e,t.children.forEach(n=>jg(e,n))}function bC(e){let t=e.children.length>0?` { ${e.children.map(bC).join(", ")} } `:"";return`${e.value}${t}`}function wg(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Rr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Rr(t.params,n.params)||e.paramsSubject.next(n.params),T9(t.url,n.url)||e.urlSubject.next(n.url),Rr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ag(e,t){let n=Rr(e.params,t.params)&&N9(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Ag(e.parent,t.parent))}function CC(e){return typeof e.title=="string"||e.title===null}var _C=new C(""),Vg=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ae;activateEvents=new Me;deactivateEvents=new Me;attachEvents=new Me;detachEvents=new Me;routerOutletData=ve();parentContexts=f(ms);location=f(dn);changeDetector=f(Wt);inputBinder=f(zl,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Tg(n,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ot]})}return e})(),Tg=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===ci?this.route:t===ms?this.childContexts:t===_C?this.outletData:this.parent.get(t,n)}},zl=new C(""),Hg=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Sa([r.queryParams,r.params,r.data]).pipe(ye(([o,a,s],c)=>(s=m(m(m({},o),a),s),c===0?te(s):Promise.resolve(s)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=nb(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:s}of a.inputs)n.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Bg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ue(0,"router-outlet")},dependencies:[Vg],encapsulation:2})}return e})();function zg(e){let t=e.children&&e.children.map(zg),n=t?x(m({},e),{children:t}):m({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=Bg),n}function iT(e,t,n){let r=jl(e,t._root,n?n._root:void 0);return new Nl(r,t)}function jl(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=oT(e,t,n);return new kn(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>jl(e,s)),a}}let r=aT(t.value),i=t.children.map(o=>jl(e,o));return new kn(r,i)}}function oT(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return jl(e,r,i);return jl(e,r)})}function aT(e){return new ci(new mt(e.url),new mt(e.params),new mt(e.queryParams),new mt(e.fragment),new mt(e.data),e.outlet,e.component,e)}var ys=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},SC="ngNavigationCancelingError";function H1(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Zi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=IC(!1,Kt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function IC(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[SC]=!0,n.cancellationCode=t,n}function sT(e){return xC(e)&&Zi(e.url)}function xC(e){return!!e&&e[SC]}var Lg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),wg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=ls(n);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ls(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ls(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=ls(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new N1(o.value.snapshot))}),t.children.length&&this.forwardEvent(new O1(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(wg(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),wg(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},B1=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},us=class{component;route;constructor(t,n){this.component=t,this.route=n}};function cT(e,t,n){let r=e._root,i=t?t._root:null;return Al(r,i,n,[r.value])}function lT(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function vs(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!d0(e)?e:t.get(e):r}function Al(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ls(t);return e.children.forEach(a=>{dT(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Rl(s,n.getContext(a),i)),i}function dT(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=uT(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new B1(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Al(e,t,s?s.children:null,r,i):Al(e,t,n,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new us(s.outlet.component,a))}else a&&Rl(t,s,i),i.canActivateChecks.push(new B1(r)),o.component?Al(e,null,s?s.children:null,r,i):Al(e,null,n,r,i);return i}function uT(e,t,n){if(typeof n=="function")return tt(t._environmentInjector,()=>n(e,t));switch(n){case"pathParamsChange":return!Uo(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Uo(e.url,t.url)||!Rr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ag(e,t)||!Rr(e.queryParams,t.queryParams);default:return!Ag(e,t)}}function Rl(e,t,n){let r=ls(e),i=e.value;Object.entries(r).forEach(([o,a])=>{i.component?t?Rl(a,t.children.getContext(o),n):Rl(a,null,n):Rl(a,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new us(t.outlet.component,i)):n.canDeactivateChecks.push(new us(null,i)):n.canDeactivateChecks.push(new us(null,i))}function ql(e){return typeof e=="function"}function hT(e){return typeof e=="boolean"}function pT(e){return e&&ql(e.canLoad)}function fT(e){return e&&ql(e.canActivate)}function yT(e){return e&&ql(e.canActivateChild)}function gT(e){return e&&ql(e.canDeactivate)}function mT(e){return e&&ql(e.canMatch)}function DC(e){return e instanceof zr||e?.name==="EmptyError"}var M1=Symbol("INITIAL_VALUE");function gs(){return ye(e=>Sa(e.map(t=>t.pipe(lt(1),Si(M1)))).pipe(A(t=>{for(let n of t)if(n!==!0){if(n===M1)return M1;if(n===!1||vT(n))return n}return!0}),qe(t=>t!==M1),lt(1)))}function vT(e){return Zi(e)||e instanceof ys}function EC(e){return e.aborted?te(void 0).pipe(lt(1)):new ne(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function AC(e){return Sn(EC(e))}function kT(e){return St(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=t;return o.length===0&&i.length===0?te(x(m({},t),{guardsResult:!0})):MT(o,n,r).pipe(St(a=>a&&hT(a)?wT(n,i,e):te(a)),A(a=>x(m({},t),{guardsResult:a})))})}function MT(e,t,n){return K(e).pipe(St(r=>IT(r.component,r.route,n,t)),qr(r=>r!==!0,!0))}function wT(e,t,n){return K(t).pipe(_i(r=>bi(CT(r.route.parent,n),bT(r.route,n),ST(e,r.path),_T(e,r.route))),qr(r=>r!==!0,!0))}function bT(e,t){return e!==null&&t&&t(new P1(e)),te(!0)}function CT(e,t){return e!==null&&t&&t(new R1(e)),te(!0)}function _T(e,t){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return te(!0);let r=n.map(i=>mo(()=>{let o=t._environmentInjector,a=vs(i,o),s=fT(a)?a.canActivate(t,e):tt(o,()=>a(t,e));return Zo(s).pipe(qr())}));return te(r).pipe(gs())}function ST(e,t){let n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(o=>lT(o)).filter(o=>o!==null).map(o=>mo(()=>{let a=o.guards.map(s=>{let c=o.node._environmentInjector,l=vs(s,c),d=yT(l)?l.canActivateChild(n,e):tt(c,()=>l(n,e));return Zo(d).pipe(qr())});return te(a).pipe(gs())}));return te(i).pipe(gs())}function IT(e,t,n,r){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return te(!0);let o=i.map(a=>{let s=t._environmentInjector,c=vs(a,s),l=gT(c)?c.canDeactivate(e,t,n,r):tt(s,()=>c(e,t,n,r));return Zo(l).pipe(qr())});return te(o).pipe(gs())}function xT(e,t,n,r,i){let o=t.canLoad;if(o===void 0||o.length===0)return te(!0);let a=o.map(s=>{let c=vs(s,e),l=pT(c)?c.canLoad(t,n):tt(e,()=>c(t,n)),d=Zo(l);return i?d.pipe(AC(i)):d});return te(a).pipe(gs(),TC(r))}function TC(e){return mc(vt(t=>{if(typeof t!="boolean")throw H1(e,t)}),A(t=>t===!0))}function DT(e,t,n,r,i){let o=t.canMatch;if(!o||o.length===0)return te(!0);let a=o.map(s=>{let c=vs(s,e),l=mT(c)?c.canMatch(t,n):tt(e,()=>c(t,n));return Zo(l).pipe(AC(i))});return te(a).pipe(gs(),TC(r))}var ai=class e extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,e.prototype)}},Vl=class e extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,e.prototype)}};function ET(e){throw new b(4e3,!1)}function AT(e){throw IC(!1,Kt.GuardRejected)}var Rg=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}async lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[ae])throw ET(`${t.redirectTo}`);i=i.children[ae]}}async applyRedirectCommands(t,n,r,i,o){let a=await TT(n,i,o);if(a instanceof Mn)throw new Vl(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,r);if(a[0]==="/")throw new Vl(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new Mn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,r,i)}),new De(o,a)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function TT(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u,paramMap:p,queryParamMap:h}=t;return _1(Zo(tt(n,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,title:u,paramMap:p,queryParamMap:h}))))}function LT(e,t){return e.providers&&!e._injector&&(e._injector=ll(e.providers,t,`Route: ${e.path}`)),e._injector??t}function or(e){return e.outlet||ae}function RT(e,t){let n=e.filter(r=>or(r)===t);return n.push(...e.filter(r=>or(r)!==t)),n}var Og={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function OT(e,t,n,r,i,o){let a=LC(e,t,n);return a.matched?(r=LT(t,r),DT(r,t,n,i,o).pipe(A(s=>s===!0?a:m({},Og)))):te(a)}function LC(e,t,n){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?m({},Og):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||iC)(n,e,t);if(!i)return m({},Og);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?m(m({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function eC(e,t,n,r){return n.length>0&&FT(e,n,r)?{segmentGroup:new De(t,NT(r,new De(n,e.children))),slicedSegments:[]}:n.length===0&&jT(e,n,r)?{segmentGroup:new De(e.segments,PT(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new De(e.segments,e.children),slicedSegments:n}}function PT(e,t,n,r){let i={};for(let o of n)if(q1(e,t,o)&&!r[or(o)]){let a=new De([],{});i[or(o)]=a}return m(m({},r),i)}function NT(e,t){let n={};n[ae]=t;for(let r of e)if(r.path===""&&or(r)!==ae){let i=new De([],{});n[or(r)]=i}return n}function FT(e,t,n){return n.some(r=>q1(e,t,r)&&or(r)!==ae)}function jT(e,t,n){return n.some(r=>q1(e,t,r))}function q1(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function VT(e,t,n){return t.length===0&&!e.children[n]}var Pg=class{};async function HT(e,t,n,r,i,o,a="emptyOnly",s){return new Ng(e,t,n,r,i,a,o,s).recognize()}var BT=31,Ng=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,a,s,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=c,this.applyRedirects=new Rg(this.urlSerializer,this.urlTree)}noMatchError(t){return new b(4002,`'${t.segmentGroup}'`)}async recognize(){let t=eC(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(t),i=new kn(r,n),o=new Fl("",i),a=yC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}async match(t){let n=new $o([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,t,ae,n),rootSnapshot:n}}catch(r){if(r instanceof Vl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof ai?this.noMatchError(r):r}}async processSegmentGroup(t,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,o);let a=await this.processSegment(t,n,r,r.segments,i,!0,o);return a instanceof kn?[a]:[]}async processChildren(t,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let a=[];for(let c of o){let l=r.children[c],d=RT(n,c),u=await this.processSegmentGroup(t,d,l,c,i);a.push(...u)}let s=RC(a);return zT(s),s}async processSegment(t,n,r,i,o,a,s){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,a,s)}catch(l){if(l instanceof ai||DC(l))continue;throw l}if(VT(r,i,o))return new Pg;throw new ai(r)}async processSegmentAgainstRoute(t,n,r,i,o,a,s,c){if(or(r)!==a&&(a===ae||!q1(i,o,r)))throw new ai(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,i,r,o,a,c);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,a,c);throw new ai(i)}async expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=LC(n,i,o);if(!c)throw new ai(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>BT&&(this.allowRedirects=!1));let h=new $o(o,l,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,tC(i),or(i),i.component??i._loadedComponent??null,i,nC(i),t),y=V1(h,s,this.paramsInheritanceStrategy);if(h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(d,i.redirectTo,u,h,t),v=await this.applyRedirects.lineralizeSegments(i,g);return this.processSegment(t,r,n,v.concat(p),a,!1,s)}async matchSegmentAgainstRoute(t,n,r,i,o,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=await _1(OT(n,r,i,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!s?.matched)throw new ai(n);t=r._injector??t;let{routes:c}=await this.getChildConfig(t,r,i),l=r._loadedInjector??t,{parameters:d,consumedSegments:u,remainingSegments:p}=s,h=new $o(u,d,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,tC(r),or(r),r.component??r._loadedComponent??null,r,nC(r),t),y=V1(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(y.params),h.data=Object.freeze(y.data);let{segmentGroup:g,slicedSegments:v}=eC(n,u,p,c);if(v.length===0&&g.hasChildren()){let I=await this.processChildren(l,c,g,h);return new kn(h,I)}if(c.length===0&&v.length===0)return new kn(h,[]);let k=or(r)===o,E=await this.processSegment(l,c,g,v,k?ae:o,!0,h);return new kn(h,E instanceof kn?[E]:[])}async getChildConfig(t,n,r){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0){let o=n._loadedNgModuleFactory;return o&&!n._loadedInjector&&(n._loadedInjector=o.create(t).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await _1(xT(t,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(t,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,n._loadedNgModuleFactory=o.factory,o}throw AT(n)}return{routes:[],injector:t}}};function zT(e){e.sort((t,n)=>t.value.outlet===ae?-1:n.value.outlet===ae?1:t.value.outlet.localeCompare(n.value.outlet))}function qT(e){let t=e.value.routeConfig;return t&&t.path===""}function RC(e){let t=[],n=new Set;for(let r of e){if(!qT(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=RC(r.children);t.push(new kn(r.value,i))}return t.filter(r=>!n.has(r))}function tC(e){return e.data||{}}function nC(e){return e.resolve||{}}function UT(e,t,n,r,i,o,a){return St(async s=>{let{state:c,tree:l}=await HT(e,t,n,r,s.extractedUrl,i,o,a);return x(m({},s),{targetSnapshot:c,urlAfterRedirects:l})})}function $T(e){return St(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return te(t);let i=new Set(r.map(s=>s.route)),o=new Set;for(let s of i)if(!o.has(s))for(let c of OC(s))o.add(c);let a=0;return K(o).pipe(_i(s=>i.has(s)?WT(s,n,e):(s.data=V1(s,s.parent,e).resolve,te(void 0))),vt(()=>a++),mu(1),St(s=>a===o.size?te(t):pt))})}function OC(e){let t=e.children.map(n=>OC(n)).flat();return[e,...t]}function WT(e,t,n){let r=e.routeConfig,i=e._resolve;return r?.title!==void 0&&!CC(r)&&(i[Hl]=r.title),mo(()=>(e.data=V1(e,e.parent,n).resolve,GT(i,e,t).pipe(A(o=>(e._resolvedData=o,e.data=m(m({},e.data),o),null)))))}function GT(e,t,n){let r=Cg(e);if(r.length===0)return te({});let i={};return K(r).pipe(St(o=>KT(e[o],t,n).pipe(qr(),vt(a=>{if(a instanceof ys)throw H1(new Ki,a);i[o]=a}))),mu(1),A(()=>i),Ci(o=>DC(o)?pt:zf(o)))}function KT(e,t,n){let r=t._environmentInjector,i=vs(e,r),o=i.resolve?i.resolve(t,n):tt(r,()=>i(t,n));return Zo(o)}function rC(e){return ye(t=>{let n=e(t);return n?K(n).pipe(A(()=>t)):te(t)})}var qg=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Hl]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(PC),providedIn:"root"})}return e})(),PC=(()=>{class e extends qg{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(Z(Zb))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ks=new C("",{factory:()=>({})}),Ul=new C(""),NC=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(qy);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await aC(tt(n,()=>r.loadComponent())),a=await VC(jC(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a,a}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await FC(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function FC(e,t,n,r){let i=await aC(tt(n,()=>e.loadChildren())),o=await VC(jC(i)),a;o instanceof Fh||Array.isArray(o)?a=o:a=await t.compileModuleAsync(o),r&&r(e);let s,c,l=!1,d;return Array.isArray(a)?(c=a,l=!0):(s=a.create(n).injector,d=a,c=s.get(Ul,[],{optional:!0,self:!0}).flat()),{routes:c.map(zg),injector:s,factory:d}}function ZT(e){return e&&typeof e=="object"&&"default"in e}function jC(e){return ZT(e)?e.default:e}async function VC(e){return e}var U1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(XT),providedIn:"root"})}return e})(),XT=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ug=new C(""),$g=new C("");function HC(e,t,n){let r=e.get($g),i=e.get(oe);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,a=new Promise(l=>{o=l}),s=i.startViewTransition(()=>(o(),YT(e)));s.updateCallbackDone.catch(l=>{}),s.ready.catch(l=>{}),s.finished.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&tt(e,()=>c({transition:s,from:t,to:n})),a}function YT(e){return new Promise(t=>{ln({read:()=>setTimeout(t)},{injector:e})})}var JT=()=>{},BC=new C(""),zC=(()=>{class e{currentNavigation=we(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=we(null);events=new q;transitionAbortWithErrorSubject=new q;configLoader=f(NC);environmentInjector=f(Re);destroyRef=f(Ye);urlSerializer=f(Bl);rootContexts=f(ms);location=f($i);inputBindingEnabled=f(zl,{optional:!0})!==null;titleStrategy=f(qg);options=f(ks,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(U1);createViewTransition=f(Ug,{optional:!0});navigationErrorHandler=f(BC,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>te(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new T1(i)),r=i=>this.events.next(new L1(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;$(()=>{this.transitions?.next(x(m({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new mt(null),this.transitions.pipe(qe(r=>r!==null),ye(r=>{let i=!1,o=new AbortController,a=()=>!i&&this.currentTransition?.id===r.id;return te(r).pipe(ye(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),pt;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:c?x(m({},c),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&d!=="reload")return this.events.next(new si(s.id,this.urlSerializer.serialize(s.rawUrl),"",Pl.IgnoredSameUrlNavigation)),s.resolve(!1),pt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return te(s).pipe(ye(u=>(this.events.next(new Go(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?pt:Promise.resolve(u))),UT(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),vt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let p=new hs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:p,source:h,restoredState:y,extras:g}=s,v=new Go(u,this.urlSerializer.serialize(p),h,y);this.events.next(v);let k=wC(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=x(m({},s),{targetSnapshot:k,urlAfterRedirects:p,extras:x(m({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(E=>(E.finalUrl=p,E)),te(r)}else return this.events.next(new si(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Pl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),pt}),A(s=>{let c=new x1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);return this.events.next(c),this.currentTransition=r=x(m({},s),{guards:cT(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r}),kT(s=>this.events.next(s)),ye(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw H1(this.urlSerializer,s.guardsResult);let c=new D1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);if(this.events.next(c),!a())return pt;if(!s.guardsResult)return this.cancelNavigationTransition(s,"",Kt.GuardRejected),pt;if(s.guards.canActivateChecks.length===0)return te(s);let l=new E1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);if(this.events.next(l),!a())return pt;let d=!1;return te(s).pipe($T(this.paramsInheritanceStrategy),vt({next:()=>{d=!0;let u=new A1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(u)},complete:()=>{d||this.cancelNavigationTransition(s,"",Kt.NoDataFromResolver)}}))}),rC(s=>{let c=d=>{let u=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let p=d._environmentInjector;u.push(this.configLoader.loadComponent(p,d.routeConfig).then(h=>{d.component=h}))}for(let p of d.children)u.push(...c(p));return u},l=c(s.targetSnapshot.root);return l.length===0?te(s):K(Promise.all(l).then(()=>s))}),rC(()=>this.afterPreactivation()),ye(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return l?K(l).pipe(A(()=>r)):te(r)}),lt(1),A(s=>{let c=iT(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);this.currentTransition=r=s=x(m({},s),{targetRouterState:c}),this.currentNavigation.update(l=>(l.targetRouterState=c,l)),this.events.next(new ps),a()&&(new Lg(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),a()&&(i=!0,this.currentNavigation.update(l=>(l.abort=JT,l)),this.lastSuccessfulNavigation.set($(this.currentNavigation)),this.events.next(new ar(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)))}),Sn(EC(o.signal).pipe(qe(()=>!i&&!r.targetRouterState),vt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Kt.Aborted)}))),vt({complete:()=>{i=!0}}),Sn(this.transitionAbortWithErrorSubject.pipe(vt(s=>{throw s}))),xa(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Kt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ci(s=>{if(i=!0,this.destroyed)return r.resolve(!1),pt;if(xC(s))this.events.next(new Fn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),sT(s)?this.events.next(new fs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Ko(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=tt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof ys){let{message:d,cancellationCode:u}=H1(this.urlSerializer,l);this.events.next(new Fn(r.id,this.urlSerializer.serialize(r.extractedUrl),d,u)),this.events.next(new fs(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return pt}))}))}cancelNavigationTransition(n,r,i){let o=new Fn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=$(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function QT(e){return e!==Ll}var qC=new C("");var UC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(eL),providedIn:"root"})}return e})(),z1=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}shouldDestroyInjector(t){return!0}},eL=(()=>{class e extends z1{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qn(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Wg=(()=>{class e{urlSerializer=f(Bl);options=f(ks,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f($i);urlHandlingStrategy=f(U1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Mn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof Mn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=wC(null,f(Re));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(tL),providedIn:"root"})}return e})(),tL=(()=>{class e extends Wg{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Go?this.updateStateMemento():n instanceof si?this.commitTransition(r):n instanceof hs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ps?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof Fn&&!MC(n)?this.restoreHistory(r):n instanceof Ko?this.restoreHistory(r,!0):n instanceof ar&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let s=this.browserPageId,c=m(m({},a),this.generateNgRouterState(i,s));this.location.replaceState(n,"",c)}else{let s=m(m({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qn(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Gg(e,t){e.events.pipe(qe(n=>n instanceof ar||n instanceof Fn||n instanceof Ko||n instanceof si),A(n=>n instanceof ar||n instanceof si?0:(n instanceof Fn?n.code===Kt.Redirect||n.code===Kt.SupersededByNewNavigation:!1)?2:1),qe(n=>n!==2),lt(1)).subscribe(()=>{t()})}var Kg={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Zg={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},jn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(jh);stateManager=f(Wg);options=f(ks,{optional:!0})||{};pendingTasks=f(Zr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(zC);urlSerializer=f(Bl);location=f($i);urlHandlingStrategy=f(U1);injector=f(Re);_events=new q;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(UC);injectorCleanup=f(qC,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(Ul,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(zl,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new Ne;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=$(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Fn&&r.code!==Kt.Redirect&&r.code!==Kt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ar)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof fs){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=m({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||QT(i.source)},a);this.scheduleNavigation(s,Ll,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}nT(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ll,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=m({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o).catch(c=>{this.disposed||this.injector.get(sn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return $(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(zg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=i?i.snapshot:this.routerState.snapshot.root;u=gC(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return mC(u,n,d,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Zi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ll,null,r)}navigate(n,r={skipLocationChange:!1}){return nL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn(Un(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=m({},Kg):r===!1?i=m({},Zg):i=r,Zi(n))return _g(this.currentUrlTree,n,i);let o=this.parseUrl(n);return _g(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return Gg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nL(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new b(4008,!1)}var Ms=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=we(null);get href(){return $(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new q;applicationErrorHandler=f(sn);options=f(ks,{optional:!0});constructor(n,r,i,o,a,s){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(f(new Yh("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(n=>{n instanceof ar&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(n!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Zi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(F(jn),F(ci),el("tabindex"),F(Tt),F(Se),F(as))};static \u0275dir=de({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ce("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ft("href",i.reactiveHref(),ey)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Pt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Pt],replaceUrl:[2,"replaceUrl","replaceUrl",Pt],routerLink:"routerLink"},features:[ot]})}return e})(),Xg=(()=>{class e{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Me;link=f(Ms,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof ar&&this.update()})}ngAfterContentInit(){te(this.links.changes,te(null)).pipe(wi()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=K(n).pipe(wi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=iL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact??!1?m({},Kg):m({},Zg);return i=>{let o=i.urlTree;return o?$(Fg(o,n,r)):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(F(jn),F(Se),F(Tt),F(Wt))};static \u0275dir=de({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&is(o,Ms,5),r&2){let a;Ar(a=Tr())&&(i.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ot]})}return e})();function iL(e){return!!e.paths}var oL=new C("");function aL(e,...t){return kr([{provide:Ul,multi:!0,useValue:e},[],{provide:ci,useFactory:sL},{provide:Hh,multi:!0,useFactory:cL},t.map(n=>n.\u0275providers)])}function sL(){return f(jn).routerState.root}function $C(e,t){return{\u0275kind:e,\u0275providers:t}}function cL(){let e=f(Q);return t=>{let n=e.get(mn);if(t!==n.components[0])return;let r=e.get(jn),i=e.get(lL);e.get(dL)===1&&r.initialNavigation(),e.get(uL,null,{optional:!0})?.setUpPreloading(),e.get(oL,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var lL=new C("",{factory:()=>new q}),dL=new C("",{factory:()=>1});var uL=new C("");function hL(){return $C(8,[Hg,{provide:zl,useExisting:Hg}])}function pL(e){en("NgRouterViewTransitions");let t=[{provide:Ug,useValue:HC},{provide:$g,useValue:m({skipNextTransition:!!e?.skipInitialTransition},e)}];return $C(9,t)}function WC(e){e||(e=f(Ye));let t=new ne(n=>{if(e.destroyed){n.next();return}return e.onDestroy(n.next.bind(n))});return n=>n.pipe(Sn(t))}function GC(e,t){let n=t?.injector??f(Q),r=new fo(1),i=cn(()=>{let o;try{o=e()}catch(a){$(()=>r.error(a));return}$(()=>r.next(o))},{injector:n,manualCleanup:!0});return n.get(Ye).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}var KC=Symbol("");function ZC(e){return new Proxy(e,{has(t,n){return!!this.get(t,n,void 0)},get(t,n){let r=$(t);return!yL(r)||!(n in r)?(ns(t[n])&&t[n][KC]&&delete t[n],t[n]):(ns(t[n])||(Object.defineProperty(t,n,{value:S(()=>t()[n]),configurable:!0}),t[n][KC]=!0),ZC(t[n]))}})}var fL=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function yL(e){if(e===null||typeof e!="object"||gL(e))return!1;let t=Object.getPrototypeOf(e);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(fL.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function gL(e){return typeof e?.[Symbol.iterator]=="function"}var Yg=new WeakMap,Ft=Symbol("");function Jg(e,...t){let n=$(()=>Zt(e)),r=t.reduce((a,s)=>m(m({},a),typeof s=="function"?s(a):s),n),i=e[Ft],o=Reflect.ownKeys(e[Ft]);for(let a of Reflect.ownKeys(r))if(o.includes(a)){let s=a;n[s]!==r[s]&&i[s].set(r[s])}mL(e)}function Zt(e){let t=e[Ft];return Reflect.ownKeys(e[Ft]).reduce((n,r)=>{let i=t[r]();return x(m({},n),{[r]:i})},{})}function XC(e,t,n){let i=(n?.injector??f(Q)).get(Ye);vL(e,t),t(Zt(e));let o=()=>kL(e,t);return i.onDestroy(o),{destroy:o}}function Qg(e){return Yg.get(e[Ft])||[]}function mL(e){let t=Qg(e);for(let n of t){let r=$(()=>Zt(e));n(r)}}function vL(e,t){let n=Qg(e);Yg.set(e[Ft],[...n,t])}function kL(e,t){let n=Qg(e);Yg.set(e[Ft],n.filter(r=>r!==t))}function $1(...e){let t=[...e],n=typeof t[0]=="function"?{}:t.shift(),r=t;return(()=>{class o{constructor(){let s=r.reduce((g,v)=>v(g),ML()),{stateSignals:c,props:l,methods:d,hooks:u}=s,p=m(m(m({},c),l),d);this[Ft]=s[Ft];for(let g of Reflect.ownKeys(p))this[g]=p[g];let{onInit:h,onDestroy:y}=u;h&&h(),y&&f(Ye).onDestroy(y)}static \u0275fac=function(c){return new(c||o)};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:n.providedIn||null})}return o})()}function ML(){return{[Ft]:{},stateSignals:{},props:{},methods:{},hooks:{}}}function ws(...e){let t=typeof e[0]=="function"?e:e.slice(1);return n=>t.reduce((r,i)=>i(r),n)}function YC(e){return t=>{let n=e(m(m(m({[Ft]:t[Ft]},t.stateSignals),t.props),t.methods));return x(m({},t),{props:m(m({},t.props),n)})}}function $l(e){return t=>{let n=m(m(m({[Ft]:t[Ft]},t.stateSignals),t.props),t.methods),r=typeof e=="function"?e(n):e,i=(o,a)=>a?()=>{o&&o(),a(n)}:o;return x(m({},t),{hooks:{onInit:i(t.hooks.onInit,r.onInit),onDestroy:i(t.hooks.onDestroy,r.onDestroy)}})}}function JC(e){return t=>{let n=e(m(m(m({[Ft]:t[Ft]},t.stateSignals),t.props),t.methods));return x(m({},t),{methods:m(m({},t.methods),n)})}}function bs(e){return t=>{let n=typeof e=="function"?e():e,r=Reflect.ownKeys(n),i=t[Ft],o={};for(let a of r)i[a]=we(n[a]),o[a]=ZC(i[a]);return x(m({},t),{stateSignals:m(m({},t.stateSignals),o)})}}function Te(...e){return{reducer:e.pop(),events:e}}var Wl=Symbol(""),QC=Symbol(""),W1=class{[Wl]=new q;events$;constructor(t){let n=f(t,{skipSelf:!0,optional:!0});this.events$=n?Ia(n.events$,this[Wl]):this[Wl].asObservable()}on(...t){return this.events$.pipe(bL(t),_L())}},em=(()=>{class e extends W1{constructor(){super(e)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Gl=(()=>{class e extends W1{constructor(){super(e)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function bL(e){if(e.length===0)return n=>n;let t=CL(e);return qe(({type:n})=>!!t[n])}function CL(e){return e.reduce((t,n)=>x(m({},t),{[n.type]:n}),{})}function _L(){return A(t=>{var e=wf(t,[]);return Object.defineProperty(e,QC,{value:e.type}),e})}var G1=(()=>{class e{reducerEvents=f(Gl);events=f(em);parentDispatcher=f(e,{skipSelf:!0,optional:!0});dispatch(n,r){this.parentDispatcher&&SL(r)?this.parentDispatcher.dispatch(n,r.scope==="global"?r:void 0):(this.reducerEvents[Wl].next(n),Hf.schedule(()=>this.events[Wl].next(n)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function SL(e){return e?.scope==="parent"||e?.scope==="global"}function IL(e){let t=n=>({type:e,payload:n});return t.type=e,t}function K1(e){return Object.entries(e.events).reduce((t,[n])=>{let r=`[${e.source}] ${n}`;return x(m({},t),{[n]:IL(r)})},{})}function e3(e,t){let r=(t?.injector??f(Q)).get(G1),i={},o=c=>(i[c.scope]||(i[c.scope]=Object.entries(e).reduce((l,[d,u])=>x(m({},l),{[d]:p=>$(()=>r.dispatch(u(p),c))}),{})),i[c.scope]),a=o({scope:"self"}),s=Object.keys(a).reduce((c,l)=>x(m({},c),{[l]:{value:a[l],enumerable:!0}}),{});return Object.defineProperties(o,s),o}function xL(e){return typeof e=="object"&&e!==null&&"type"in e}function Cs(e){return ws(void 0,$l({onInit(t,n=f(G1)){let r=e(t),i=Object.values(r).map(o=>o.pipe(vt(a=>{let[s,c]=Array.isArray(a)?a:[a];xL(s)&&!(QC in s)&&n.dispatch(s,c)})));Ia(...i).pipe(WC()).subscribe()}}))}var li=K1({source:"Users",events:{getUser:void 0,getUserSuccess:void 0,getUserFailure:void 0,login:void 0,loginSuccess:void 0,loginFailure:void 0,logout:void 0,logoutSuccess:void 0,logoutFailure:void 0}}),Je={getUser:li.getUser,getUserSuccess:li.getUserSuccess,getUserFailure:li.getUserFailure,login:li.login,loginSuccess:li.loginSuccess,loginFailure:li.loginFailure,logout:li.logout,logoutSuccess:li.logoutSuccess,logoutFailure:li.logoutFailure};var DL=Symbol("DEVTOOLS_FEATURE");function EL(e){return m({[DL]:!0},e)}function t3(e){if(e==null)throw new Error("");return e}var AL=(()=>{class e{#e={};#t;get stores(){return Object.entries(this.#e).reduce((n,[r,{store:i}])=>(n[r]=i,n),{})}onChange(n){this.#t=n}removeStore(n){this.#e=Object.entries(this.#e).reduce((r,[i,o])=>(i!==n?r[i]=o:o.destroyWatcher(),r),{}),t3(this.#t)({})}track(n,r){let i=XC(r,o=>{t3(this.#t)({[n]:o})});this.#e[n]={destroyWatcher:i.destroy,store:r}}notifyRenamedStore(n){Object.keys(this.#e).includes(n)&&this.#t&&this.#t({[n]:Zt(this.#e[n].store)})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),o3="GLITCH_TRACKING_FEATURE";function X1(){return EL({name:o3,tracker:AL})}var TL=new C("ReduxDevtoolsConfig"),LL=(()=>{class e{#e=we({});get stores(){return this.#e()}#t;#r=cn(()=>{if(this.#t===void 0)throw new Error("no callback function defined");let n=this.#e(),r=Object.entries(n).reduce((i,[o,a])=>x(m({},i),{[o]:Zt(a)}),{});this.#t(r)});track(n,r){this.#e.update(i=>x(m({},i),{[n]:r}))}onChange(n){this.#t=n}removeStore(n){this.#e.update(r=>Object.entries(r).reduce((i,[o,a])=>(o!==n&&(i[o]=a),i),{}))}notifyRenamedStore(n){this.#e()[n]&&this.#e.update(r=>m({},r))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Z1=new Set,n3={send:()=>{}},r3=(()=>{class e{#e={};#t=h1(f(Yr));#r=[];#i=m({name:"NgRx SignalStore"},f(TL,{optional:!0}));#n={};#o=1;#a=f(be).runOutsideAngular(()=>this.#t&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__.connect(this.#i):n3);constructor(){this.#t}ngOnDestroy(){Z1.clear()}syncToDevTools(n){let r=Object.entries(n).reduce((a,[s,c])=>{let{options:l,name:d}=this.#e[s];return a[d]=l.map(c),a},{});this.#n=m(m({},this.#n),r);let i=Array.from(Z1),o=i.length?i.join(", "):"Store Update";Z1.clear(),this.#a.send({type:o},this.#n)}getNextId(){return String(this.#o++)}addStore(n,r,i,o){let a=r,s=Object.values(this.#e).map(l=>l.name);if(s.includes(a)&&!o.indexNames)throw new Error(`An instance of the store ${a} already exists. Enable automatic indexing via withDevTools('${a}', { indexNames: true }), or rename it upon instantiation.`);for(let l=1;s.includes(a);l++)a=`${r}-${l}`;this.#e[n]={name:a,options:o};let c=o.tracker;this.#r.includes(c)||this.#r.push(c),c.onChange(l=>this.syncToDevTools(l)),c.track(n,i)}removeStore(n){let r=this.#e[n].name;this.#e=Object.entries(this.#e).reduce((i,[o,a])=>(o!==n&&(i[o]=a),i),{}),this.#n=Object.entries(this.#n).reduce((i,[o,a])=>(o!==r&&(i[o]=a),i),{});for(let i of this.#r)i.removeStore(n)}renameStore(n,r){let i=this.#e[n];if(!i)return;let o=i.name;if(o===r)return;if(Object.entries(this.#e).filter(([s])=>s!==n).map(([,s])=>s.name).includes(r))throw new Error(`NgRx Toolkit/DevTools: cannot rename from ${o} to ${r}. ${r} is already assigned to another SignalStore instance.`);this.#e=Object.entries(this.#e).reduce((s,[c,l])=>(c===n?s[c]=x(m({},l),{name:r}):s[c]=l,s),{}),this.#n=Object.entries(this.#n).reduce((s,[c,l])=>(c!==o&&(s[c]=l),s),{}),this.#r.forEach(s=>s.notifyRenamedStore(n))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),RL="___renameDevtoolsName",i3="___uniqueDevtoolsId",tm=Symbol("DEVTOOL_PROP");function Y1(e,...t){return ws(JC(()=>{let n=f(r3),r=n.getNextId();return{[RL]:i=>{n.renameStore(r,i)},[i3]:()=>r}}),YC(()=>({[tm]:t.filter(Boolean).map(n=>n.name)})),$l(n=>{let r=f(r3),i=String(n[i3]());return{onInit(){let o={indexNames:!t.some(a=>a.indexNames===!1),map:t.find(a=>a.map)?.map??(a=>a),tracker:f(t.find(a=>a.tracker)?.tracker||LL)};r.addStore(i,e,n,o)},onDestroy(){r.removeStore(i)}}}))}function OL(e,t,...n){return Z1.add(t),Jg(e,...n)}function J1(...e){return ws({state:void 0},Cs((t,n=f(Gl))=>e.map(r=>n.on(...r.events).pipe(vt(i=>{let o=$(()=>Zt(t)),a=r.reducer(i,o),s=Array.isArray(a)?a:[a];OL(t,i.type,...s)})))),$l(t=>({onInit(){if(!(tm in t))throw new Error("In order to use withTrackedReducer, you must first enable the devtools feature via withDevtools('[your store name]', withGlitchTracking())");if(!t[tm].includes(o3))throw new Error("In order to use withTrackedReducer, you must first enable the glitch tracking devtools feature via withDevtools('[your store name]', withGlitchTracking())")}})))}var Lte=ws(bs({}));var a3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var _s=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Kl=class extends _s{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ss=class extends _s{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Is=class extends _s{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},Q1=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(Q1||{});var Zl=class{constructor(t,{headers:n={},customFetch:r,region:i=Q1.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=a3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return tu(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{let{headers:s,method:c,body:l,signal:d,timeout:u}=r,p={},{region:h}=r;h||(h=this.region);let y=new URL(`${this.url}/${n}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let g;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(p["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(p["Content-Type"]="application/json",g=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?g=JSON.stringify(l):g=l;let v=d;u&&(a=new AbortController,o=setTimeout(()=>a.abort(),u),d?(v=a.signal,d.addEventListener("abort",()=>a.abort())):v=a.signal);let k=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:g,signal:v}).catch(he=>{throw new Kl(he)}),E=k.headers.get("x-relay-error");if(E&&E==="true")throw new Ss(k);if(!k.ok)throw new Is(k);let I=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return I==="application/json"?_=yield k.json():I==="application/octet-stream"||I==="application/pdf"?_=yield k.blob():I==="text/event-stream"?_=k:I==="multipart/form-data"?_=yield k.formData():_=yield k.text(),{data:_,error:null,response:k}}catch(s){return{data:null,error:s,response:s instanceof Is||s instanceof Ss?s.context:void 0}}finally{o&&clearTimeout(o)}})}};var c3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},PL=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,c=null,l=o.status,d=o.statusText;if(o.ok){var u,p;if(n.method!=="HEAD"){var h;let k=await o.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((h=n.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?s=k:s=JSON.parse(k))}let g=(u=n.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),v=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,c=null,l=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var y;let g=await o.text();try{a=JSON.parse(g),Array.isArray(a)&&o.status===404&&(s=[],a=null,l=200,d="OK")}catch{o.status===404&&g===""?(l=204,d="No Content"):a={message:g}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,l=200,d="OK"),a&&n.shouldThrowOnError)throw new c3(a)}return{error:a,data:s,count:c,status:l,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="",c=o?.cause;if(c){var l,d,u,p;let y=(l=c?.message)!==null&&l!==void 0?l:"",g=(d=c?.code)!==null&&d!==void 0?d:"";s=`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,s+=`

Caused by: ${(p=c?.name)!==null&&p!==void 0?p:"Error"}: ${y}`,g&&(s+=` (${g})`),c?.stack&&(s+=`
${c.stack}`)}else{var h;s=(h=o?.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(a=o?.name)!==null&&a!==void 0?a:"FetchError"}: ${o?.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},NL=class extends PL{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;let s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},s3=new RegExp("[,()]"),xs=class extends NL{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&s3.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&s3.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},FL=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET",o=!1,a=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join(""),{url:s,headers:c}=this.cloneRequestState();return s.searchParams.set("select",a),r&&c.append("Prefer",`count=${r}`),new xs({method:i,url:s,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let i="POST",{url:o,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(s.length>0){let c=[...new Set(s)].map(l=>`"${l}"`);o.searchParams.set("columns",c.join(","))}}return new xs({method:i,url:o,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;let a="POST",{url:s,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){let l=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){let d=[...new Set(l)].map(u=>`"${u}"`);s.searchParams.set("columns",d.join(","))}}return new xs({method:a,url:s,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;let r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new xs({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;let n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new xs({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},l3=class d3{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new FL(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new d3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s,c=new URL(`${this.url}/rpc/${t}`),l,d=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(d)),u=r&&Object.values(n).some(d);u?(s="POST",l=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([h,y])=>y!==void 0).map(([h,y])=>[h,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([h,y])=>{c.searchParams.append(h,y)})):(s="POST",l=n);let p=new Headers(this.headers);return u?p.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&p.set("Prefer",`count=${o}`),new xs({method:s,url:c,headers:p,schema:this.schemaName,body:l,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};var nm=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let n=globalThis.process;if(n){let r=n.versions;if(r&&r.node){let i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},rm=nm;var u3="2.90.1";var h3=`realtime-js/${u3}`,im="1.0.0",p3="2.0.0",om=im;var Xl=1e4,f3=1e3,y3=100,Xi=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Xi||{}),bt=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(bt||{}),Vn=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Vn||{}),am=(function(e){return e.websocket="websocket",e})(am||{}),Xo=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Xo||{});var ep=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,o;let a=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",l=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},u=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`metadata length ${u.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+a.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+p),y=new DataView(h),g=0;y.setUint8(g++,this.KINDS.userBroadcastPush),y.setUint8(g++,c.length),y.setUint8(g++,s.length),y.setUint8(g++,a.length),y.setUint8(g++,l.length),y.setUint8(g++,u.length),y.setUint8(g++,n),Array.from(c,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(s,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(a,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(l,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(u,k=>y.setUint8(g++,k.charCodeAt(0)));var v=new Uint8Array(h.byteLength+r.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(r),h.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,a,s,c]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,i)}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+i));c=c+i;let d=r.decode(t.slice(c,c+o));c=c+o;let u=r.decode(t.slice(c,c+a));c=c+a;let p=t.slice(c,t.byteLength),h=s===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,y={type:this.BROADCAST_EVENT,event:d,payload:h};return a>0&&(y.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var Ds=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Xe=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(Xe||{}),cm=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=jL(a,e,t,i),o),{}):{}},jL=(e,t,n,r)=>{let i=t.find(s=>s.name===e),o=i?.type,a=n[e];return o&&!r.includes(o)?g3(o,a):sm(a)},g3=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return zL(t,n)}switch(e){case Xe.bool:return VL(t);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return HL(t);case Xe.json:case Xe.jsonb:return BL(t);case Xe.timestamp:return qL(t);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return sm(t);default:return sm(t)}},sm=e=>e,VL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},HL=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},BL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},zL=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>g3(t,s))}return e},qL=e=>typeof e=="string"?e.replace(" ","T"):e,tp=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var Es=class{constructor(t,n,r={},i=Xl){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Yl=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,a),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),a=this.transformState(n),s={},c={};return this.map(o,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=o[l];if(u){let p=d.map(v=>v.presence_ref),h=u.map(v=>v.presence_ref),y=d.filter(v=>h.indexOf(v.presence_ref)<0),g=u.filter(v=>p.indexOf(v.presence_ref)<0);y.length>0&&(s[l]=y),g.length>0&&(c[l]=g)}else s[l]=d}),this.syncDiff(o,{joins:s,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,c)=>{var l;let d=(l=t[s])!==null&&l!==void 0?l:[];if(t[s]=this.cloneDeep(c),d.length>0){let u=t[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);t[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=t[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),t[s]=l,i(s,l,c),l.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Jl=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(Jl||{}),di=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(di||{});var Ql=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Es(this,Vn.join,this.params,this.timeout),this.rejoinTimer=new Ds(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Vn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Yl(this),this.broadcastEndpointURL=tp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){let{config:{broadcast:a,presence:s,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[Jl.PRESENCE]&&this.bindings[Jl.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,u={},p={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(di.CHANNEL_ERROR,h)),this._onClose(()=>t?.(di.CLOSED)),this.updateJoinPayload(Object.assign({config:p},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t?.(di.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,v=(y=g?.length)!==null&&y!==void 0?y:0,k=[];for(let E=0;E<v;E++){let I=g[E],{filter:{event:_,schema:he,table:He,filter:re}}=I,se=h&&h[E];if(se&&se.event===_&&e.isFilterValueEqual(se.schema,he)&&e.isFilterValueEqual(se.table,He)&&e.isFilterValueEqual(se.filter,re))k.push(Object.assign(Object.assign({},I),{id:se.id}));else{this.unsubscribe(),this.state=bt.errored,t?.(di.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(di.SUBSCRIBED);return}}).receive("error",h=>{this.state=bt.errored,t?.(di.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(di.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===bt.joined&&t===Jl.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");let o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{let l=await s.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:a}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,c;let l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bt.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Vn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Es(this,Vn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Es(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>y3){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let a=t.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=Vn;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,g,v;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(o=this.bindings[a])===null||o===void 0||o.filter(h=>{var y,g,v,k,E,I,_,he;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let He=h.id,re=(y=h.filter)===null||y===void 0?void 0:y.event;return He&&((g=n.ids)===null||g===void 0?void 0:g.includes(He))&&(re==="*"||re?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((k=h.filter)===null||k===void 0)&&k.table)||h.filter.table===((E=n.data)===null||E===void 0?void 0:E.table))}else{let He=(_=(I=h?.filter)===null||I===void 0?void 0:I.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return He==="*"||He===((he=n?.event)===null||he===void 0?void 0:he.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:g,table:v,commit_timestamp:k,type:E,errors:I}=y;p=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:k,eventType:E,new:{},old:{},errors:I}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Vn.close,{},t)}_onError(t){this._on(Vn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=cm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=cm(t.columns,t.old_record)),n}};var lm=()=>{},np={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},$L=[1e3,2e3,5e3,1e4],WL=1e4,GL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,ed=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Xl,this.transport=null,this.heartbeatIntervalMs=np.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=lm,this.ref=0,this.reconnectTimer=null,this.vsn=om,this.logger=lm,this.conn=null,this.sendBuffer=[],this.serializer=new ep,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${am.websocket}`,this.httpEndpoint=tp(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=rm.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xi.connecting:return Xo.Connecting;case Xi.open:return Xo.Open;case Xi.closing:return Xo.Closing;default:return Xo.Closed}}isConnected(){return this.connectionState()===Xo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new Ql(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(f3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},np.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){let l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",l)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${s}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Xi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xi.open||this.conn.readyState===Xi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Vn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([GL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:h3};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Vn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ds(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},np.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,a,s,c,l,d,u,p,h;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Xl,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:np.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:lm,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:om,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:y=>$L[y-1]||WL,this.vsn){case im:this.encode=(d=t?.encode)!==null&&d!==void 0?d:(y,g)=>g(JSON.stringify(y)),this.decode=(u=t?.decode)!==null&&u!==void 0?u:(y,g)=>g(JSON.parse(y));break;case p3:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var td=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function KL(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function ZL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function XL(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){let s=KL(e.baseUrl,r,i),c=await ZL(e.auth),l=await t(s,{method:n,headers:m(m(m({},o?{"Content-Type":"application/json"}:{}),c),a),body:o?JSON.stringify(o):void 0}),d=await l.text(),u=(l.headers.get("content-type")||"").includes("application/json"),p=u&&d?JSON.parse(d):d;if(!l.ok){let h=u?p:void 0,y=h?.error;throw new td(y?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:y?.type,icebergCode:y?.code,details:h})}return{status:l.status,headers:l.headers,data:p}}}}function rp(e){return e.join("")}var YL=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:rp(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${rp(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${rp(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${rp(e.namespace)}`}),!0}catch(t){if(t instanceof td&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof td&&n.status===409)return;throw n}}};function As(e){return e.join("")}var JL=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof td&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof td&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},m3=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=XL({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new YL(this.client,t),this.tableOps=new JL(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var ip=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function Qe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var QL=class extends ip{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},hm=class extends ip{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}},ym=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),eR=()=>Response,pm=e=>{if(Array.isArray(e))return e.map(n=>pm(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=pm(r)}),t},tR=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},nR=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function nd(e){"@babel/helpers - typeof";return nd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nd(e)}function rR(e,t){if(nd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iR(e){var t=rR(e,"string");return nd(t)=="symbol"?t:t+""}function oR(e,t,n){return(t=iR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v3(Object(n),!0).forEach(function(r){oR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var dm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},aR=async(e,t,n)=>{e instanceof await eR()&&!n?.noResolveJson?e.json().then(r=>{let i=e.status||500,o=r?.statusCode||i+"";t(new QL(dm(r),i,o))}).catch(r=>{t(new hm(dm(r),r))}):t(new hm(dm(e),e))},sR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(tR(r)?(i.headers=Y({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),Y(Y({},i),n))};async function id(e,t,n,r,i,o){return new Promise((a,s)=>{e(n,sR(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>aR(c,s,r))})}async function rd(e,t,n,r){return id(e,"GET",t,n,r)}async function sr(e,t,n,r,i){return id(e,"POST",t,r,i,n)}async function fm(e,t,n,r,i){return id(e,"PUT",t,r,i,n)}async function cR(e,t,n,r){return id(e,"HEAD",t,Y(Y({},n),{},{noResolveJson:!0}),r)}async function gm(e,t,n,r,i){return id(e,"DELETE",t,r,i,n)}var lR=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}},w3;w3=Symbol.toStringTag;var dR=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[w3]="BlobDownloadBuilder",this.promise=null}asStream(){return new lR(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(Qe(t))return{data:null,error:t};throw t}}},uR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},k3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},hR=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=ym(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let o,a=Y(Y({},k3),r),s=Y(Y({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r?.headers&&(s=Y(Y({},s),r.headers));let l=i._removeEmptyFolders(t),d=i._getFinalPath(l),u=await(e=="PUT"?fm:sr)(i.fetch,`${i.url}/object/${d}`,o,Y({headers:s},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(Qe(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;let o=i._removeEmptyFolders(e),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let c,l=Y({upsert:k3.upsert},r),d=Y(Y({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType),{data:{path:o,fullPath:(await fm(i.fetch,s.toString(),c,{headers:d})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(Qe(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e),i=Y({},n.headers);t?.upsert&&(i["x-upsert"]="true");let o=await sr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new ip("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await sr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await sr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),o=await sr(r.fetch,`${r.url}/object/sign/${i}`,Y({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{let i=await sr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Y(Y({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),a=()=>rd(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new dR(a,this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);try{return{data:pm(await rd(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await cR(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Qe(r)&&r instanceof hm){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);let o=typeof t?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(t?.transform||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(e){var t=this;try{return{data:await gm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{let i=Y(Y(Y({},uR),t),{},{prefix:e||""});return{data:await sr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(Qe(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{let r=Y({},e);return{data:await sr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},b3="2.90.1",C3={"X-Client-Info":`storage-js/${b3}`},pR=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Y(Y({},C3),t),this.fetch=ym(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{let n=t.listBucketOptionsToQueryString(e);return{data:await rd(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await rd(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await sr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await fm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Qe(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await gm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},fR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Y(Y({},C3),t),this.fetch=ym(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await sr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await rd(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await gm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(Qe(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!nR(e))throw new ip("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new m3({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){let a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},mm={"X-Client-Info":`storage-js/${b3}`,"Content-Type":"application/json"},_3=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function bn(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var um=class extends _3{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},yR=class extends _3{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};var vm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var gR=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var M3=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),mR=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{let a=o?.statusCode||o?.code||r+"";t(new um(M3(o),r,a))}).catch(()=>{let o=r+"";t(new um(i.statusText||`HTTP ${r} error`,r,o))});else{let o=r+"";t(new um(i.statusText||`HTTP ${r} error`,r,o))}}else t(new yR(M3(e),e))},vR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(gR(r)?(i.headers=Y({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,Y(Y({},i),n))};async function kR(e,t,n,r,i,o){return new Promise((a,s)=>{e(n,vR(t,r,i,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>mR(c,s,r))})}async function Cn(e,t,n,r,i){return kR(e,"POST",t,r,i,n)}var MR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Y(Y({},mm),t),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Cn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Cn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(bn(r))return{data:null,error:r};throw r}}},wR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Y(Y({},mm),t),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Cn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Cn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Cn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}},bR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Y(Y({},mm),t),this.fetch=vm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Cn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(bn(n))return{data:null,error:n};throw n}}},CR=class extends bR{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new _R(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},_R=class extends MR{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,Y(Y({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,Y(Y({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new SR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},SR=class extends wR{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,Y(Y({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,Y(Y({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,Y(Y({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,Y(Y({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,Y(Y({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},S3=class extends pR{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new hR(this.url,this.headers,e,this.fetch)}get vectors(){return new CR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new fR(this.url+"/iceberg",this.headers,this.fetch)}};var op="2.90.1";var Yo=30*1e3,ap=3,sp=ap*Yo,I3="http://localhost:9999",x3="supabase.auth.token";var D3={"X-Client-Info":`gotrue-js/${op}`};var od="X-Supabase-Api-Version",km={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},E3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,A3=600*1e3;var Yi=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function N(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var cp=class extends Yi{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function T3(e){return N(e)&&e.name==="AuthApiError"}var Hn=class extends Yi{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},cr=class extends Yi{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},jt=class extends cr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function L3(e){return N(e)&&e.name==="AuthSessionMissingError"}var ui=class extends cr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Jo=class extends cr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},Qo=class extends cr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function R3(e){return N(e)&&e.name==="AuthImplicitGrantRedirectError"}var ad=class extends cr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},lp=class extends cr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var Ts=class extends cr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function dp(e){return N(e)&&e.name==="AuthRetryableFetchError"}var sd=class extends cr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var ea=class extends cr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var up="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),O3=` 	
\r=`.split(""),IR=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<O3.length;t+=1)e[O3[t].charCodeAt(0)]=-2;for(let t=0;t<up.length;t+=1)e[up[t].charCodeAt(0)]=t;return e})();function P3(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(up[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(up[r]),t.queuedBits-=6}}function N3(e,t,n){let r=IR[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Mm(e){let t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{ER(a,r,n)};for(let a=0;a<e.length;a+=1)N3(e.charCodeAt(a),i,o);return t.join("")}function xR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function DR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}xR(r,t)}}function ER(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Ji(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)N3(e.charCodeAt(i),n,r);return new Uint8Array(t)}function F3(e){let t=[];return DR(e,n=>t.push(n)),new Uint8Array(t)}function hi(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>P3(i,n,r)),P3(null,n,r),t.join("")}function j3(e){return Math.round(Date.now()/1e3)+e}function V3(){return Symbol("auth-callback")}var Ct=()=>typeof window<"u"&&typeof document<"u",ta={tested:!1,writable:!1},hp=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ta.tested)return ta.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ta.tested=!0,ta.writable=!0}catch{ta.tested=!0,ta.writable=!1}return ta.writable};function H3(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var pp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),B3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",na=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Qi=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Et=async(e,t)=>{await e.removeItem(t)},cd=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};cd.promiseConstructor=Promise;function fp(e){let t=e.split(".");if(t.length!==3)throw new ea("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!E3.test(t[r]))throw new ea("JWT not in base64url format");return{header:JSON.parse(Mm(t[0])),payload:JSON.parse(Mm(t[1])),signature:Ji(t[2]),raw:{header:t[0],payload:t[1]}}}async function z3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function q3(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function AR(e){return("0"+e.toString(16)).substr(-2)}function TR(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,AR).join("")}async function LR(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function RR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await LR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ra(e,t,n=!1){let r=TR(),i=r;n&&(i+="/PASSWORD_RECOVERY"),await na(e,`${t}-code-verifier`,i);let o=await RR(r);return[o,r===o?"plain":"s256"]}var OR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function U3(e){let t=e.headers.get(od);if(!t||!t.match(OR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function $3(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function W3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var PR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ia(e){if(!PR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function yp(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function G3(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function wm(e){return JSON.parse(JSON.stringify(e))}var oa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),NR=[502,503,504];async function K3(e){var t;if(!B3(e))throw new Ts(oa(e),0);if(NR.includes(e.status))throw new Ts(oa(e),e.status);let n;try{n=await e.json()}catch(o){throw new Hn(oa(o),o)}let r,i=U3(e);if(i&&i.getTime()>=km["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new sd(oa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new jt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new sd(oa(n),e.status,n.weak_password.reasons);throw new cp(oa(n),e.status||500,r)}var FR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function W(e,t,n,r){var i;let o=Object.assign({},r?.headers);o[od]||(o[od]=km["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await jR(e,t,n+s,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function jR(e,t,n,r,i,o){let a=FR(t,r,i,o),s;try{s=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Ts(oa(c),0)}if(s.ok||await K3(s),r?.noResolveJson)return s;try{return await s.json()}catch(c){await K3(c)}}function Bn(e){var t;let n=null;VR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=j3(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function bm(e){let t=Bn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Or(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Z3(e){return{data:e,error:null}}function X3(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=go(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function Cm(e){return e}function VR(e){return e.access_token&&e.refresh_token&&e.expires_in}var gp=["global","local","others"];var Ls=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=pp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=gp[0]){if(gp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${gp.join(", ")}`);try{return await W(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await W(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Or})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=go(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await W(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:X3,redirectTo:n?.redirectTo})}catch(n){if(N(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await W(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Or})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Cm});if(d.error)throw d.error;let u=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(N(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){ia(t);try{return await W(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Or})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){ia(t);try{return await W(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:Or})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){ia(t);try{return await W(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:Or})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){ia(t.userId);try{let{data:n,error:r}=await W(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteFactor(t){ia(t.userId),ia(t.id);try{return{data:await W(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=await W(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Cm});if(d.error)throw d.error;let u=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(N(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await W(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await W(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await W(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await W(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}};function _m(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var aa={debug:!!(globalThis&&hp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ld=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},mp=class extends ld{};async function Sm(e,t,n){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),aa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw aa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new mp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(aa.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function Y3(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Im(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function J3(e){return parseInt(e,16)}function Q3(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function e_(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:c,resources:l,scheme:d,uri:u,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let h=Im(e.address),y=d?`${d}://${r}`:r,g=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${h}

${g}`,k=`URI: ${u}
Version: ${p}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),s&&(k+=`
Not Before: ${s.toISOString()}`),c&&(k+=`
Request ID: ${c}`),l){let E=`
Resources:`;for(let I of l){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);E+=`
- ${I}`}k+=E}return`${v}
${k}`}var et=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},sa=class extends et{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function t_({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new et({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new et({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new et({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new et({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new et({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new et({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let a=window.location.hostname;if(xm(a)){if(o.rp.id!==a)return new et({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new et({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function n_({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new et({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new et({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(xm(r)){if(n.rpId!==r)return new et({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new et({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new et({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new et({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Dm=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},HR=new Dm;function i_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=go(e,["challenge","user","excludeCredentials"]),o=Ji(t).buffer,a=Object.assign(Object.assign({},n),{id:Ji(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Ji(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function o_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=go(e,["challenge","allowCredentials"]),i=Ji(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){let s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Ji(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function a_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:hi(new Uint8Array(e.response.attestationObject)),clientDataJSON:hi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function s_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:hi(new Uint8Array(i.authenticatorData)),clientDataJSON:hi(new Uint8Array(i.clientDataJSON)),signature:hi(new Uint8Array(i.signature)),userHandle:i.userHandle?hi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xm(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function r_(){var e,t;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function BR(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sa("Browser returned unexpected credential type",t)}:{data:null,error:new sa("Empty credential response",t)}}catch(t){return{data:null,error:t_({error:t,options:e})}}}async function zR(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new sa("Browser returned unexpected credential type",t)}:{data:null,error:new sa("Empty credential response",t)}}catch(t){return{data:null,error:n_({error:t,options:e})}}}var qR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},UR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function vp(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){let s=r[o];t(s)?r[o]=vp(s,a):r[o]=vp(a)}else r[o]=a}return r}function $R(e,t){return vp(qR,e,t||{})}function WR(e,t){return vp(UR,e,t||{})}var kp=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{let{data:a,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:s};let c=i??HR.createNewAbortSignal();if(a.webauthn.type==="create"){let{user:l}=a.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${r}`),l.displayName||(l.displayName=l.name)}switch(a.webauthn.type){case"create":{let l=$R(a.webauthn.credential_options.publicKey,o?.create),{data:d,error:u}=await BR({publicKey:l,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:u}}case"request":{let l=WR(a.webauthn.credential_options.publicKey,o?.request),{data:d,error:u}=await zR(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:l,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:u}}}}catch(a){return N(a)?{data:null,error:a}:{data:null,error:new Hn("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Yi("rpId is required for WebAuthn authentication")};try{if(!r_())return{data:null,error:new Hn("Browser does not support WebAuthn",null)};let{data:a,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};let{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return N(a)?{data:null,error:a}:{data:null,error:new Hn("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Yi("rpId is required for WebAuthn registration")};try{if(!r_())return{data:null,error:new Hn("Browser does not support WebAuthn",null)};let{data:a,error:s}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var u;return(u=d.data)===null||u===void 0?void 0:u.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:s};let{data:c,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(a){return N(a)?{data:null,error:a}:{data:null,error:new Hn("Unexpected error in register",a)}}}};Y3();var GR={url:I3,storageKey:x3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:D3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function c_(e,t,n){return await n()}var Rs={},KR=(()=>{class e{get jwks(){var n,r;return(r=(n=Rs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Rs[this.storageKey]=Object.assign(Object.assign({},Rs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Rs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Rs[this.storageKey]=Object.assign(Object.assign({},Rs[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let a=Object.assign(Object.assign({},GR),n);if(this.storageKey=a.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ct()){let s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ls({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=pp(a.fetch),this.lock=a.lock||c_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Ct()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Sm:this.lock=c_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new kp(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:hp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_m(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=_m(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${op}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(Ct()&&(r=H3(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Ct()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:a}=await this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),R3(a)){let l=(n=a.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return{error:a}}let{session:s,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return N(r)?this._returnResult({error:r}):this._returnResult({error:new Hn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,o;try{let a=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:Bn}),{data:s,error:c}=a;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});let l=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(a){if(N(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(n){var r,i,o;try{let a;if("email"in n){let{email:u,password:p,options:h}=n,y=null,g=null;this.flowType==="pkce"&&([y,g]=await ra(this.storage,this.storageKey)),a=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:g},xform:Bn})}else if("phone"in n){let{phone:u,password:p,options:h}=n;a=await W(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Bn})}else throw new Jo("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return await Et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(a){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(n){try{let r;if("email"in n){let{email:a,password:s,options:c}=n;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bm})}else if("phone"in n){let{phone:a,password:s,options:c}=n;r=await W(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:bm})}else throw new Jo("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let a=new ui;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,o,a;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=n.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,o,a,s,c,l,d,u,p,h;let y,g;if("message"in n)y=n.message,g=n.signature;else{let{chain:v,wallet:k,statement:E,options:I}=n,_;if(Ct())if(typeof k=="object")_=k;else{let rn=window;if("ethereum"in rn&&typeof rn.ethereum=="object"&&"request"in rn.ethereum&&typeof rn.ethereum.request=="function")_=rn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=k}let he=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),He=await _.request({method:"eth_requestAccounts"}).then(rn=>rn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!He||He.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let re=Im(He[0]),se=(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!se){let rn=await _.request({method:"eth_chainId"});se=J3(rn)}let Ee={domain:he.host,address:re,statement:E,uri:he.href,version:"1",chainId:se,nonce:(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(s=(a=I?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.resources};y=e_(Ee),g=await _.request({method:"personal_sign",params:[Q3(y),re]})}try{let{data:v,error:k}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:g},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=n.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Bn});if(k)throw k;if(!v||!v.session||!v.user){let E=new ui;return this._returnResult({data:{user:null,session:null},error:E})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:k})}catch(v){if(N(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(n){var r,i,o,a,s,c,l,d,u,p,h,y;let g,v;if("message"in n)g=n.message,v=n.signature;else{let{chain:k,wallet:E,statement:I,options:_}=n,he;if(Ct())if(typeof E=="object")he=E;else{let re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))he=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");he=E}let He=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in he&&he.signIn){let re=await he.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:He.host,uri:He.href}),I?{statement:I}:null)),se;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")se=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)se=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)g=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),v=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in he)||typeof he.signMessage!="function"||!("publicKey"in he)||typeof he!="object"||!he.publicKey||!("toBase58"in he.publicKey)||typeof he.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${He.host} wants you to sign in with your Solana account:`,he.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${He.href}`,`Issued At: ${(o=(i=_?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((p=(u=_?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",..._.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);let re=await he.signMessage(new TextEncoder().encode(g),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=re}}try{let{data:k,error:E}=await W(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:hi(v)},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Bn});if(E)throw E;if(!k||!k.session||!k.user){let I=new ui;return this._returnResult({data:{user:null,session:null},error:I})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:E})}catch(k){if(N(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(n){let r=await Qi(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new lp;let{data:a,error:s}=await W(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:Bn});if(await Et(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){let c=new ui;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:s})}catch(a){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(n){try{let{options:r,provider:i,token:o,access_token:a,nonce:s}=n,c=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:Bn}),{data:l,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){let u=new ui;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:d})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,o,a,s;try{if("email"in n){let{email:c,options:l}=n,d=null,u=null;this.flowType==="pkce"&&([d,u]=await ra(this.storage,this.storageKey));let{error:p}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:c,options:l}=n,{data:d,error:u}=await W(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:u})}throw new Jo("You must provide either an email or phone number.")}catch(c){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,i;try{let o,a;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,a=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:s,error:c}=await W(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:Bn});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(o){if(N(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,i,o,a,s;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await ra(this.storage,this.storageKey));let d=await W(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:Z3});return!((a=d.data)===null||a===void 0)&&a.url&&Ct()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new jt;let{error:o}=await W(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:a}=n,{error:s}=await W(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in n){let{phone:i,type:o,options:a}=n,{data:s,error:c}=await W(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new Jo("You must provide either an email or phone number and a type")}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Qi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<sp:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let s=await Qi(this.userStorage,this.storageKey+"-user");s?.user?n.user=s.user:n.user=yp()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};n.user=G3(n.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:a}=await this._callRefreshToken(n.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:Or}):await this._useSession(async r=>{var i,o,a;let{data:s,error:c}=r;if(c)throw c;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new jt}:await W(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:Or})})}catch(r){if(N(r))return L3(r)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{let{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new jt;let s=o.session,c=null,l=null;this.flowType==="pkce"&&n.email!=null&&([c,l]=await ra(this.storage,this.storageKey));let{data:d,error:u}=await W(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:l}),jwt:s.access_token,xform:Or});if(u)throw u;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(i){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new jt;let r=Date.now()/1e3,i=r,o=!0,a=null,{payload:s}=fp(n.access_token);if(s.exp&&(i=s.exp,o=i<=r),o){let{data:c,error:l}=await this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=await this._getUser(n.access_token);if(l)throw l;a={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(N(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){let{data:s,error:c}=r;if(c)throw c;n=(i=s.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new jt;let{data:o,error:a}=await this._callRefreshToken(n.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!Ct())throw new Qo("No browser detected.");if(n.error||n.error_description||n.error_code)throw new Qo(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new ad("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Qo("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new ad("No code detected.");let{data:I,error:_}=await this._exchangeCodeForSession(n.code);if(_)throw _;let he=new URL(window.location.href);return he.searchParams.delete("code"),window.history.replaceState(window.history.state,"",he.toString()),{data:{session:I.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=n;if(!a||!c||!s||!d)throw new Qo("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let y=h-u;y*1e3<=Yo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let g=h-p;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);let{data:v,error:k}=await this._getUser(a);if(k)throw k;let E={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:n.type},error:null})}catch(i){if(N(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Qi(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:a}=r;if(a)return this._returnResult({error:a});let s=(i=o.session)===null||i===void 0?void 0:i.access_token;if(s){let{error:c}=await this.admin.signOut(s,n);if(c&&!(T3(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=V3(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,o;try{let{data:{session:a},error:s}=r;if(s)throw s;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",n,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",a),console.error(a)}})}async resetPasswordForEmail(n,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ra(this.storage,this.storageKey,!0));try{return await W(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var n;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:i,error:o}=await this._useSession(async a=>{var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await W(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(o)throw o;return Ct()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(N(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:a}}=r;if(o)throw o;let{options:s,provider:c,token:l,access_token:d,nonce:u}=n,p=await W(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Bn}),{data:h,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new ui}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:y}))}catch(o){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,o;let{data:a,error:s}=r;if(s)throw s;return await W(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await q3(async o=>(o>0&&await z3(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await W(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Bn})),(o,a)=>{let s=200*Math.pow(2,o);return a&&dp(a)&&Date.now()+s-i<Yo})}catch(i){if(this._debug(r,"error",i),N(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Ct()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await Qi(this.storage,this.storageKey);if(o&&this.userStorage){let s=await Qi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:o.user},await na(this.userStorage,this.storageKey+"-user",s)),o.user=(n=s?.user)!==null&&n!==void 0?n:yp()}else if(o&&!o.user&&!o.user){let s=await Qi(this.storage,this.storageKey+"-user");s&&s?.user?(o.user=s.user,await Et(this.storage,this.storageKey+"-user"),await na(this.storage,this.storageKey,o)):o.user=yp()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<sp;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${sp}s`),a){if(this.autoRefreshToken&&o.refresh_token){let{error:s}=await this._callRefreshToken(o.refresh_token);s&&(console.error(s),dp(s)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=await this._getUser(o.access_token);!c&&s?.user?(o.user=s.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(i,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new cd;let{data:a,error:s}=await this._refreshAccessToken(n);if(s)throw s;if(!a.session)throw new jt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),N(a)){let s={data:null,error:a};return dp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,i=!0){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Et(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await na(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let a=wm(o);await na(this.storage,this.storageKey,a)}else{let o=wm(r);await na(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Yo);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Yo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Yo}ms, refresh threshold is ${ap} ticks`),o<=ap&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof ld)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[a,s]=await ra(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(c.toString())}if(i?.queryParams){let a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;let{data:o,error:a}=r;return a?this._returnResult({data:null,error:a}):await W(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,o;let{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:d}=await W(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(n.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});let s=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?a_(n.webauthn.credential_response):s_(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=await W(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:s,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});let s=await W(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:i_(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:o_(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let a of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=fp(i.access_token),s=null;a.aal&&(s=a.aal);let c=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await W(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new jt})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new jt});let s=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new jt});let s=await W(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await W(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new jt})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await W(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new jt})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+A3>o)return i;let{data:a,error:s}=await W(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(c=>c.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){let{data:y,error:g}=await this.getSession();if(g||!y.session)return this._returnResult({data:null,error:g});i=y.session.access_token}let{header:o,payload:a,signature:s,raw:{header:c,payload:l}}=fp(i);r?.allowExpired||$3(a.exp);let d=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:y}=await this.getUser(i);if(y)throw y;return{data:{claims:a,header:o,signature:s},error:null}}let u=W3(o.alg),p=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,p,s,F3(`${c}.${l}`)))throw new ea("Invalid JWT signature");return{data:{claims:a,header:o,signature:s},error:null}}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}}return e.nextInstanceID={},e})(),Em=KR;var ZR=Em,Am=ZR;var XR="2.90.1",dd="";typeof Deno<"u"?dd="deno":typeof document<"u"?dd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dd="react-native":dd="node";var YR={"X-Client-Info":`supabase-js-${dd}/${XR}`},JR={headers:YR},QR={schema:"public"},eO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},tO={};function ud(e){"@babel/helpers - typeof";return ud=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ud(e)}function nO(e,t){if(ud(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ud(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function rO(e){var t=nO(e,"string");return ud(t)=="symbol"?t:t+""}function iO(e,t,n){return(t=rO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?l_(Object(n),!0).forEach(function(r){iO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var oO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),aO=()=>Headers,sO=(e,t,n)=>{let r=oO(n),i=aO();return async(o,a)=>{var s;let c=(s=await t())!==null&&s!==void 0?s:e,l=new i(a?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,st(st({},a),{},{headers:l}))}};function cO(e){return e.endsWith("/")?e:e+"/"}function lO(e,t){var n,r;let{db:i,auth:o,realtime:a,global:s}=e,{db:c,auth:l,realtime:d,global:u}=t,p={db:st(st({},c),i),auth:st(st({},l),o),realtime:st(st({},d),a),storage:{},global:st(st(st({},u),s),{},{headers:st(st({},(n=u?.headers)!==null&&n!==void 0?n:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function dO(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var uO=class extends Am{constructor(e){super(e)}},hO=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;let o=dO(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:QR,realtime:tO,auth:st(st({},eO),{},{storageKey:a}),global:JR},c=lO(n??{},s);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,u)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(u)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=sO(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new l3(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new S3(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Zl(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:c,throwOnError:l},d,u){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new uO({url:this.authUrl.href,headers:st(st({},p),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:c,throwOnError:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new ed(this.realtimeUrl.href,st(st({},e),{},{params:st(st({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},d_=(e,t,n)=>new hO(e,t,n);function pO(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}pO()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Tm={supabaseUrl:"https://wxltfyevnqrmqrtszpkp.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4bHRmeWV2bnFybXFydHN6cGtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5NDI2MDIsImV4cCI6MjA3ODUxODYwMn0.lvBJos0aR01yUQePUCv53NFYjUJS64IV7OUzZ4uU1Mo"};var Ve=d_(Tm.supabaseUrl,Tm.supabaseKey);var Os=class e{getUser(){return K(Ve.auth.getUser()).pipe(A(({data:t})=>t.user??null),lt(1))}login(t,n){return K(Ve.auth.signInWithPassword({email:t,password:n})).pipe(lt(1),A(r=>{if(r.error)throw r.error;return r}))}logout(){return K(Ve.auth.signOut())}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};function We(e){return t=>t.pipe(A(n=>e.next(n)),Ci(n=>te(e.error(n))))}function u_(){let e=f(em),t=f(Os),n=f(jn);return{getUser$:e.on(Je.getUser).pipe(ye(()=>t.getUser().pipe(We({next:r=>Je.getUserSuccess(r),error:r=>Je.getUserFailure(r)})))),login$:e.on(Je.login).pipe(ye(({payload:{email:r,password:i}})=>t.login(r,i).pipe(We({next:()=>Je.loginSuccess(),error(o){return Je.loginFailure(o.message)}})))),getUserOnLoginSuccess$:e.on(Je.loginSuccess).pipe(A(()=>Je.getUser())),navigateOnLoginSuccess$:e.on(Je.loginSuccess).pipe(vt(()=>n.navigate(["/base"]))),logout$:e.on(Je.logout).pipe(ye(()=>t.logout().pipe(We({next:()=>Je.logoutSuccess(),error:r=>Je.logoutFailure(r)})))),navigateOnLogoutSuccess$:e.on(Je.logoutSuccess).pipe(vt(()=>n.navigate(["/login"])))}}var Mp=$1(Y1("users",X1()),bs({user:null,loadProcessStatus:"init",isLoggedIn:!1,loginError:null}),Cs(()=>u_()),J1(Te(Je.getUserSuccess,({payload:e})=>({user:e??null,loadProcessStatus:"success",isLoggedIn:e!==null})),Te(Je.getUserFailure,()=>({loadProcessStatus:"error"})),Te(Je.loginSuccess,()=>({isLoggedIn:!0})),Te(Je.loginFailure,({payload:e})=>({loginError:e})),Te(Je.logoutSuccess,()=>({isLoggedIn:!1,user:null}))));var Ps=class e{dispatcher=f(G1);store=f(Mp);user=this.store.user;isLoggedIn=this.store.isLoggedIn;loginError=this.store.loginError;loadProcessStatus$=GC(this.store.loadProcessStatus);getUser(){this.dispatcher.dispatch(Je.getUser())}login(t,n){this.dispatcher.dispatch(Je.login({email:t,password:n}))}logout(){this.dispatcher.dispatch(Je.logout())}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};function soe(){return[Os,Ps,Mp]}var O=K1({source:"Monthly Check",events:{create:void 0,createSuccess:void 0,createFailure:void 0,getMonth:void 0,getMonthSuccess:void 0,getMonthFailure:void 0,getCreatedMonths:void 0,getCreatedMonthsSuccess:void 0,getCreatedMonthsFailure:void 0,addRevenue:void 0,addRevenueSuccess:void 0,addRevenueFailure:void 0,updateRevenue:void 0,updateRevenueSuccess:void 0,updateRevenueFailure:void 0,deleteRevenue:void 0,deleteRevenueSuccess:void 0,deleteRevenueFailure:void 0,addFixedCost:void 0,addFixedCostSuccess:void 0,addFixedCostFailure:void 0,updateFixedCost:void 0,updateFixedCostSuccess:void 0,updateFixedCostFailure:void 0,deleteFixedCost:void 0,deleteFixedCostSuccess:void 0,deleteFixedCostFailure:void 0,addVariableCost:void 0,addVariableCostSuccess:void 0,addVariableCostFailure:void 0,updateVariableCost:void 0,updateVariableCostSuccess:void 0,updateVariableCostFailure:void 0,deleteVariableCost:void 0,deleteVariableCostSuccess:void 0,deleteVariableCostFailure:void 0,addVariableCostHistoryEntry:void 0,addVariableCostHistoryEntrySuccess:void 0,addVariableCostHistoryEntryFailure:void 0,removeVariableCostHistoryEntry:void 0,removeVariableCostHistoryEntrySuccess:void 0,removeVariableCostHistoryEntryFailure:void 0,deleteVariableCostHistoryEntry:void 0,deleteVariableCostHistoryEntrySuccess:void 0,deleteVariableCostHistoryEntryFailure:void 0,updateVariableCostHistoryEntry:void 0,updateVariableCostHistoryEntrySuccess:void 0,updateVariableCostHistoryEntryFailure:void 0,addBudget:void 0,addBudgetSuccess:void 0,addBudgetFailure:void 0,updateBudget:void 0,updateBudgetSuccess:void 0,updateBudgetFailure:void 0,deleteBudget:void 0,deleteBudgetSuccess:void 0,deleteBudgetFailure:void 0,addBudgetHistoryEntry:void 0,addBudgetHistoryEntrySuccess:void 0,addBudgetHistoryEntryFailure:void 0,deleteBudgetHistoryEntry:void 0,deleteBudgetHistoryEntrySuccess:void 0,deleteBudgetHistoryEntryFailure:void 0,updateBudgetHistoryEntry:void 0,updateBudgetHistoryEntrySuccess:void 0,updateBudgetHistoryEntryFailure:void 0}}),w={create:O.create,createSuccess:O.createSuccess,createFailure:O.createFailure,getMonth:O.getMonth,getMonthSuccess:O.getMonthSuccess,getMonthFailure:O.getMonthFailure,getCreatedMonths:O.getCreatedMonths,getCreatedMonthsSuccess:O.getCreatedMonthsSuccess,getCreatedMonthsFailure:O.getCreatedMonthsFailure,addRevenue:O.addRevenue,addRevenueSuccess:O.addRevenueSuccess,addRevenueFailure:O.addRevenueFailure,updateRevenue:O.updateRevenue,updateRevenueSuccess:O.updateRevenueSuccess,updateRevenueFailure:O.updateRevenueFailure,deleteRevenue:O.deleteRevenue,deleteRevenueSuccess:O.deleteRevenueSuccess,deleteRevenueFailure:O.deleteRevenueFailure,addFixedCost:O.addFixedCost,addFixedCostSuccess:O.addFixedCostSuccess,addFixedCostFailure:O.addFixedCostFailure,updateFixedCost:O.updateFixedCost,updateFixedCostSuccess:O.updateFixedCostSuccess,updateFixedCostFailure:O.updateFixedCostFailure,deleteFixedCost:O.deleteFixedCost,deleteFixedCostSuccess:O.deleteFixedCostSuccess,deleteFixedCostFailure:O.deleteFixedCostFailure,addVariableCost:O.addVariableCost,addVariableCostSuccess:O.addVariableCostSuccess,addVariableCostFailure:O.addVariableCostFailure,updateVariableCost:O.updateVariableCost,updateVariableCostSuccess:O.updateVariableCostSuccess,updateVariableCostFailure:O.updateVariableCostFailure,deleteVariableCost:O.deleteVariableCost,deleteVariableCostSuccess:O.deleteVariableCostSuccess,deleteVariableCostFailure:O.deleteVariableCostFailure,addVariableCostHistoryEntry:O.addVariableCostHistoryEntry,addVariableCostHistoryEntrySuccess:O.addVariableCostHistoryEntrySuccess,addVariableCostHistoryEntryFailure:O.addVariableCostHistoryEntryFailure,deleteVariableCostHistoryEntry:O.deleteVariableCostHistoryEntry,deleteVariableCostHistoryEntrySuccess:O.deleteVariableCostHistoryEntrySuccess,deleteVariableCostHistoryEntryFailure:O.deleteVariableCostHistoryEntryFailure,updateVariableCostHistoryEntry:O.updateVariableCostHistoryEntry,updateVariableCostHistoryEntrySuccess:O.updateVariableCostHistoryEntrySuccess,updateVariableCostHistoryEntryFailure:O.updateVariableCostHistoryEntryFailure,addBudget:O.addBudget,addBudgetSuccess:O.addBudgetSuccess,addBudgetFailure:O.addBudgetFailure,updateBudget:O.updateBudget,updateBudgetSuccess:O.updateBudgetSuccess,updateBudgetFailure:O.updateBudgetFailure,deleteBudget:O.deleteBudget,deleteBudgetSuccess:O.deleteBudgetSuccess,deleteBudgetFailure:O.deleteBudgetFailure,addBudgetHistoryEntry:O.addBudgetHistoryEntry,addBudgetHistoryEntrySuccess:O.addBudgetHistoryEntrySuccess,addBudgetHistoryEntryFailure:O.addBudgetHistoryEntryFailure,deleteBudgetHistoryEntry:O.deleteBudgetHistoryEntry,deleteBudgetHistoryEntrySuccess:O.deleteBudgetHistoryEntrySuccess,deleteBudgetHistoryEntryFailure:O.deleteBudgetHistoryEntryFailure,updateBudgetHistoryEntry:O.updateBudgetHistoryEntry,updateBudgetHistoryEntrySuccess:O.updateBudgetHistoryEntrySuccess,updateBudgetHistoryEntryFailure:O.updateBudgetHistoryEntryFailure};var Ns=class e{createMonth(t){return K(Ve.rpc("create_monthly_snapshot",{p_month:t}))}getCreatedMonths(){return K(Ve.from("monthly_snapshots").select("month")).pipe(A(t=>t.data?.map(n=>n.month.substring(0,7))??[]))}getMonth(t){return K(Ve.from("monthly_snapshots").select("*").eq("month",t).single()).pipe(A(n=>n.data))}addRevenue(t){return K(Ve.rpc("add_monthly_snapshot_revenue_line",{p_snapshot_id:t,p_line:{value:0,category:""}}).select("*").single()).pipe(A(n=>({revenue:n.data.retval_line,total:n.data.retval_revenue_total})))}updateRevenue(t,n){return K(Ve.rpc("update_monthly_snapshot_revenue_line",{p_snapshot_id:t,p_line_id:n.id.toString(),p_new_values:{value:n.value,category:n.category}}).select("*").single()).pipe(A(r=>({revenue:r.data.retval_revenue_lines,total:r.data.retval_revenue_total})))}deleteRevenue(t,n){return K(Ve.rpc("delete_monthly_snapshot_revenue_line",{p_snapshot_id:t,p_line_id:n.toString()}).select("*").single()).pipe(A(r=>({revenue:r.data.retval_revenue_lines,total:r.data.retval_revenue_total})))}addFixedCost(t){return K(Ve.rpc("add_monthly_snapshot_fixed_costs_line",{p_snapshot_id:t,p_line:{value:0,category:""}}).select("*").single()).pipe(A(n=>({fixedCost:n.data.retval_line,total:n.data.retval_fixed_costs_total})))}updateFixedCost(t,n){return K(Ve.rpc("update_monthly_snapshot_fixed_costs_line",{p_snapshot_id:t,p_line_id:n.id.toString(),p_new_values:{value:n.value,category:n.category}}).select("*").single()).pipe(A(r=>({fixedCosts:r.data.retval_fixed_costs,total:r.data.retval_fixed_costs_total})))}deleteFixedCost(t,n){return K(Ve.rpc("delete_monthly_snapshot_fixed_costs_line",{p_snapshot_id:t,p_line_id:n.toString()}).select("*").single()).pipe(A(r=>({fixedCosts:r.data.retval_fixed_costs,total:r.data.retval_fixed_costs_total})))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};var Fs=class e{addVariableCost(t){return K(Ve.rpc("add_monthly_snapshot_variable_costs_line",{p_snapshot_id:t,p_line:{value:0,category:"Neu",forecast:0,history:[]}}).select("*").single()).pipe(A(n=>({variableCost:n.data.retval_line,total:n.data.retval_variable_costs_total})))}updateVariableCost(t,n){return K(Ve.rpc("update_monthly_snapshot_variable_costs_line",{p_snapshot_id:t,p_line_id:n.id.toString(),p_new_values:{value:n.value,category:n.category,forecast:n.forecast}}).select("*").single()).pipe(A(r=>({variableCosts:r.data.out_variable_costs_lines,total:r.data.out_variable_costs_total})))}deleteVariableCost(t,n){return K(Ve.rpc("delete_monthly_snapshot_variable_costs_line",{p_snapshot_id:t,p_line_id:n.toString()}).select("*").single()).pipe(A(r=>({variableCosts:r.data.retval_variable_costs,total:r.data.retval_variable_costs_total})))}addVariableCostHistoryEntry(t,n){return K(Ve.rpc("add_variable_costs_history_entry",{p_snapshot_id:t,p_line_id:n}).select("*").single()).pipe(A(r=>({variableCosts:r.data.variable_costs_lines,total:r.data.variable_costs_total})))}updateVariableCostHistoryEntry(t,n,r){return K(Ve.rpc("update_variable_costs_history_entry",{p_snapshot_id:t,p_line_id:n,p_history_item:r}).select("*").single()).pipe(A(i=>({variableCosts:i.data.variable_costs_lines,total:i.data.variable_costs_total})))}deleteVariableCostHistoryEntry(t,n,r){return K(Ve.rpc("delete_monthly_snapshot_variable_costs_history_entry",{p_history_item_id:r,p_line_id:n,p_snapshot_id:t}).select("*").single()).pipe(A(i=>({variableCosts:i.data.out_variable_costs_lines,total:i.data.out_variable_costs_total})))}addBudget(t){return K(Ve.rpc("add_monthly_snapshot_budget_line",{p_snapshot_id:t,p_line:{value:0,category:"Neu",forecast:0,history:[]}}))}updateBudget(t,n){return K(Ve.rpc("update_monthly_snapshot_budget_line",{p_snapshot_id:t,p_line_id:n.id.toString(),p_new_values:{value:n.value,category:n.category,forecast:n.forecast}}))}deleteBudget(t,n){return K(Ve.rpc("delete_monthly_snapshot_budget_line",{p_snapshot_id:t,p_line_id:n}))}addBudgetHistoryEntry(t,n){return K(Ve.rpc("add_budget_history_entry",{p_snapshot_id:t,p_line_id:n}))}deleteBudgetHistoryEntry(t,n,r){return K(Ve.rpc("delete_monthly_snapshot_budget_history_entry",{p_snapshot_id:t,p_line_id:n,p_history_item_id:r}))}updateBudgetHistoryEntry(t,n,r){return K(Ve.rpc("update_budget_history_entry",{p_snapshot_id:t,p_line_id:n,p_history_item:r}).select("*")).pipe(A(i=>({budgets:i.data.budget_lines})))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};var h_=Uv(Om());function p_(e,t=f(Ns),n=f(Fs),r=f(Gl),i=f(jn)){function o(){return mc(A(()=>Zt(e).month.id))}return{create$:r.on(w.create).pipe(ye(({payload:a})=>t.createMonth(a).pipe(We({next:()=>w.createSuccess(a),error:s=>w.createFailure(s)})))),navigateOnCreateSuccess$:r.on(w.createSuccess).pipe(ye(({payload:a})=>{let s=(0,h_.default)(a);return i.navigateByUrl(`/monthly-check/${s.year()}/${s.format("MM")}`)})),getCreatedMonths$:r.on(w.getCreatedMonths).pipe(ye(()=>t.getCreatedMonths().pipe(We({next:a=>w.getCreatedMonthsSuccess(a),error:a=>w.getCreatedMonthsFailure(a)})))),getMonth$:r.on(w.getMonth).pipe(ye(({payload:a})=>t.getMonth(a).pipe(We({next:s=>w.getMonthSuccess(s),error:s=>w.getMonthFailure(s)})))),addRevenue$:r.on(w.addRevenue).pipe(o(),ye(a=>t.addRevenue(a).pipe(We({next:s=>w.addRevenueSuccess(s),error:s=>w.addRevenueFailure(s)})))),updateRevenue$:r.on(w.updateRevenue).pipe(ye(({payload:{revenue:a,monthId:s}})=>t.updateRevenue(s,a).pipe(We({next:c=>w.updateRevenueSuccess(c),error:c=>w.updateRevenueFailure(c)})))),deleteRevenue$:r.on(w.deleteRevenue).pipe(ye(({payload:{monthId:a,revenueId:s}})=>t.deleteRevenue(a,s).pipe(We({next:c=>w.deleteRevenueSuccess(c),error:c=>w.deleteRevenueFailure(c)})))),addFixedCost$:r.on(w.addFixedCost).pipe(ye(({payload:a})=>t.addFixedCost(a).pipe(We({next:s=>w.addFixedCostSuccess(s),error:s=>w.addFixedCostFailure(s)})))),updateFixedCost$:r.on(w.updateFixedCost).pipe(ye(({payload:{fixedCost:a,monthId:s}})=>t.updateFixedCost(s,a).pipe(We({next:c=>w.updateFixedCostSuccess(c),error:c=>w.updateFixedCostFailure(c)})))),deleteFixedCost$:r.on(w.deleteFixedCost).pipe(ye(({payload:{monthId:a,fixedCostId:s}})=>t.deleteFixedCost(a,s).pipe(We({next:c=>w.deleteFixedCostSuccess(c),error:c=>w.deleteFixedCostFailure(c)})))),addVariableCost$:r.on(w.addVariableCost).pipe(ye(({payload:a})=>n.addVariableCost(a).pipe(We({next:s=>w.addVariableCostSuccess(s),error:s=>w.addVariableCostFailure(s)})))),updateVariableCost$:r.on(w.updateVariableCost).pipe(ye(({payload:{variableCost:a,monthId:s}})=>n.updateVariableCost(s,a).pipe(We({next:c=>w.updateVariableCostSuccess(c),error:c=>w.updateVariableCostFailure(c)})))),deleteVariableCost$:r.on(w.deleteVariableCost).pipe(ye(({payload:{monthId:a,variableCostId:s}})=>n.deleteVariableCost(a,s).pipe(We({next:c=>w.deleteVariableCostSuccess(c),error:c=>w.deleteVariableCostFailure(c)})))),addVariableCostHistoryEntry$:r.on(w.addVariableCostHistoryEntry).pipe(ye(({payload:{monthId:a,variableCostId:s}})=>n.addVariableCostHistoryEntry(a,s).pipe(We({next:c=>w.addVariableCostHistoryEntrySuccess(c),error:c=>w.addVariableCostHistoryEntryFailure(c)})))),deleteVariableCostHistoryEntry$:r.on(w.deleteVariableCostHistoryEntry).pipe(ye(({payload:{monthId:a,variableCostId:s,entryId:c}})=>n.deleteVariableCostHistoryEntry(a,s,c).pipe(We({next:l=>w.deleteVariableCostHistoryEntrySuccess(l),error:l=>w.deleteVariableCostHistoryEntryFailure(l)})))),updateVariableCostHistoryEntry$:r.on(w.updateVariableCostHistoryEntry).pipe(ye(({payload:{monthId:a,variableCostId:s,entry:c}})=>n.updateVariableCostHistoryEntry(a,s,c).pipe(We({next:l=>w.updateVariableCostHistoryEntrySuccess(l),error:l=>w.updateVariableCostHistoryEntryFailure(l)})))),addBudget$:r.on(w.addBudget).pipe(o(),ye(a=>n.addBudget(a).pipe(We({next:()=>w.addBudgetSuccess(),error:s=>w.addBudgetFailure(s)})))),updateBudget$:r.on(w.updateBudget).pipe(A(({payload:a})=>({budget:a,monthId:Zt(e).month.id})),ye(({budget:a,monthId:s})=>n.updateBudget(s,a).pipe(We({next:()=>w.updateBudgetSuccess(),error:c=>w.updateBudgetFailure(c)})))),deleteBudget$:r.on(w.deleteBudget).pipe(A(({payload:a})=>({id:a,monthId:Zt(e).month.id})),ye(({id:a,monthId:s})=>n.deleteBudget(s,a).pipe(We({next:()=>w.deleteBudgetSuccess(),error:c=>w.deleteBudgetFailure(c)})))),addBudgetHistoryEntry$:r.on(w.addBudgetHistoryEntry).pipe(A(({payload:a})=>({budgetId:a,monthId:Zt(e).month.id})),ye(({budgetId:a,monthId:s})=>n.addBudgetHistoryEntry(s,a).pipe(We({next:()=>w.addBudgetHistoryEntrySuccess(),error:c=>w.addBudgetHistoryEntryFailure(c)})))),deleteBudgetHistoryEntry$:r.on(w.deleteBudgetHistoryEntry).pipe(A(({payload:{budgetId:a,entryId:s}})=>({budgetId:a,entryId:s,monthId:Zt(e).month.id})),ye(({budgetId:a,entryId:s,monthId:c})=>n.deleteBudgetHistoryEntry(c,a,s).pipe(We({next:()=>w.deleteBudgetHistoryEntrySuccess(),error:l=>w.deleteBudgetHistoryEntryFailure(l)})))),updateBudgetHistoryEntry$:r.on(w.updateBudgetHistoryEntry).pipe(A(({payload:{budgetId:a,entry:s}})=>({budgetId:a,entry:s,monthId:Zt(e).month.id})),ye(({budgetId:a,entry:s,monthId:c})=>n.updateBudgetHistoryEntry(c,a,s).pipe(We({next:l=>w.updateBudgetHistoryEntrySuccess(l),error:l=>w.updateBudgetHistoryEntryFailure(l)})))),reloadMonth$:r.on(w.addVariableCostSuccess,w.addBudgetSuccess,w.deleteBudgetSuccess,w.addBudgetHistoryEntrySuccess,w.deleteBudgetHistoryEntrySuccess,w.updateBudgetSuccess).pipe(A(()=>Zt(e).month.month),A(a=>w.getMonth(a)))}}var nn="init",hd="pending",lr="success",pd="error",wp=$1(Y1("monthly-check",X1()),bs({month:null,createdMonths:[],createProcessStatus:nn,getMonthProcessStatus:nn,getCreatedMonthsProcessStatus:nn,saveRevenueProcessStatus:nn,addRevenueProcessStatus:nn,deleteRevenueProcessStatus:nn,saveFixedCostProcessStatus:nn,addFixedCostProcessStatus:nn,deleteFixedCostProcessStatus:nn,saveVariableCostProcessStatus:nn,addVariableCostProcessStatus:nn,deleteVariableCostProcessStatus:nn,addHistoryEntryProcessStatus:nn,addBudgetProcessStatus:nn}),Cs(e=>p_(e)),J1(Te(w.create,()=>({createProcessStatus:hd})),Te(w.createSuccess,()=>({createProcessStatus:lr})),Te(w.createFailure,()=>({createProcessStatus:pd})),Te(w.getCreatedMonthsSuccess,({payload:e})=>({createdMonths:e,getCreatedMonthsProcessStatus:lr})),Te(w.getMonth,()=>({getMonthProcessStatus:hd})),Te(w.getMonthSuccess,({payload:e})=>({month:e,getMonthProcessStatus:lr})),Te(w.getMonthFailure,()=>({getMonthProcessStatus:pd})),Te(w.updateRevenue,()=>({saveRevenueProcessStatus:hd})),Te(w.addRevenueSuccess,({payload:{revenue:e,total:t}},{month:n})=>({addRevenueProcessStatus:lr,month:x(m({},n),{revenue_lines:[...n.revenue_lines,e],revenue_total:t})})),Te(w.updateRevenueSuccess,w.deleteRevenueSuccess,({payload:{revenue:e,total:t}},{month:n})=>({saveRevenueProcessStatus:lr,month:x(m({},n),{revenue_lines:e,revenue_total:t})})),Te(w.updateRevenueFailure,()=>({saveRevenueProcessStatus:pd})),Te(w.updateFixedCost,()=>({saveFixedCostProcessStatus:hd})),Te(w.addFixedCostSuccess,({payload:{fixedCost:e,total:t}},{month:n})=>({addFixedCostProcessStatus:lr,month:x(m({},n),{fixed_costs_lines:[...n.fixed_costs_lines,e],fixed_costs_total:t})})),Te(w.updateFixedCostSuccess,w.deleteFixedCostSuccess,({payload:{fixedCosts:e,total:t}},{month:n})=>({saveFixedCostProcessStatus:lr,month:x(m({},n),{fixed_costs_lines:e,fixed_costs_total:t})})),Te(w.updateFixedCostFailure,()=>({saveFixedCostProcessStatus:pd})),Te(w.addVariableCostSuccess,({payload:{variableCost:e,total:t}},{month:n})=>{if(!n)return{month:null};let r=n.variable_costs_lines;return r&&(r=[...r,e]),{addFixedCostProcessStatus:lr,month:x(m({},n),{variable_costs_lines:r??[],variable_costs_total:t})}}),Te(w.updateVariableCostSuccess,w.deleteVariableCostSuccess,w.addVariableCostHistoryEntrySuccess,w.deleteVariableCostHistoryEntrySuccess,w.updateVariableCostHistoryEntrySuccess,({payload:{variableCosts:e,total:t}},{month:n})=>({saveVariableCostProcessStatus:lr,month:x(m({},n),{variable_costs_lines:e,variable_costs_total:t})})),Te(w.updateBudgetHistoryEntrySuccess,({payload:{budgets:e}},{month:t})=>({month:x(m({},t),{budget_lines:e})})),Te(w.addVariableCostHistoryEntry,w.addBudgetHistoryEntry,()=>({addHistoryEntryProcessStatus:hd})),Te(w.addVariableCostHistoryEntrySuccess,w.addBudgetHistoryEntrySuccess,()=>({addHistoryEntryProcessStatus:lr})),Te(w.deleteBudgetHistoryEntry,w.deleteVariableCostHistoryEntry,()=>({addHistoryEntryProcessStatus:nn})),Te(w.updateVariableCostFailure,()=>({saveVariableCostProcessStatus:pd})),Te(w.addBudgetSuccess,()=>({addBudgetProcessStatus:lr}))));var Pm=Uv(Om());var js=class e{events=e3(w);store=f(wp);router=f(jn);currentMonth=this.store.month;areMonthsLoaded=S(()=>this.store.getCreatedMonthsProcessStatus()==="success");isMonthLoading=S(()=>this.store.getMonthProcessStatus()==="pending");isMonthLoaded=S(()=>this.store.getMonthProcessStatus()==="success");isSavingRevenue=S(()=>this.store.saveRevenueProcessStatus()==="pending");isRevenueAdded=S(()=>this.store.addRevenueProcessStatus()==="success");isSavingFixedCost=S(()=>this.store.saveFixedCostProcessStatus()==="pending");isFixedCostAdded=S(()=>this.store.addFixedCostProcessStatus()==="success");isSavingVariableCost=S(()=>this.store.saveVariableCostProcessStatus()==="pending");isVariableCostAdded=S(()=>this.store.addVariableCostProcessStatus()==="success");isHistoryEntryAdded=S(()=>this.store.addHistoryEntryProcessStatus()==="success");isBudgetAdded=S(()=>this.store.addBudgetProcessStatus()==="success");revenue=S(()=>this.currentMonth()?.revenue_lines??[]);totalRevenue=S(()=>this.currentMonth()?.revenue_total??0);fixedCosts=S(()=>this.currentMonth()?.fixed_costs_lines??[]);totalFixedCosts=S(()=>this.currentMonth()?.fixed_costs_total??0);variableCosts=S(()=>this.currentMonth()?.variable_costs_lines??[]);totalVariableCosts=S(()=>this.currentMonth()?.variable_costs_total??0);budgets=S(()=>this.currentMonth()?.budget_lines??[]);totalBudgets=S(()=>{let t=this.budgets();return t.length===0?0:t.reduce((n,r)=>n+r.value,0)});snapshots=S(()=>this.store.createdMonths().map(t=>({month:t,translated:(0,Pm.default)(t).format("MMMM")})));createdYears=S(()=>Array.from(new Set(this.store.createdMonths().map(t=>(0,Pm.default)(t).format("YYYY")))));createMonth(t){this.events.create(t)}getCreatedMonths(){this.events.getCreatedMonths()}getMonth(t){let n=`${t}-01`;this.events.getMonth(n)}addRevenue(){this.events.addRevenue()}updateRevenue(t){this.events.updateRevenue({revenue:t,monthId:this.currentMonth().id})}deleteRevenue(t){this.events.deleteRevenue({monthId:this.currentMonth().id,revenueId:t})}addFixedCost(){this.events.addFixedCost(this.currentMonth().id)}updateFixedCost(t){this.events.updateFixedCost({fixedCost:t,monthId:this.currentMonth().id})}deleteFixedCost(t){this.events.deleteFixedCost({monthId:this.currentMonth().id,fixedCostId:t})}addVariableCost(){this.events.addVariableCost(this.currentMonth().id)}updateVariableCost(t){this.events.updateVariableCost({variableCost:t,monthId:this.currentMonth().id})}deleteVariableCost(t){this.events.deleteVariableCost({monthId:this.currentMonth().id,variableCostId:t})}addVariableCostHistoryEntry(t){this.events.addVariableCostHistoryEntry({variableCostId:t,monthId:this.currentMonth().id})}deleteVariableCostHistoryEntry(t,n){this.events.deleteVariableCostHistoryEntry({monthId:this.currentMonth().id,variableCostId:t,entryId:n})}updateVariableCostHistoryEntry(t,n){this.events.updateVariableCostHistoryEntry({monthId:this.currentMonth().id,variableCostId:t,entry:n})}addBudget(){this.events.addBudget()}updateBudget(t){this.events.updateBudget(t)}deleteBudget(t){this.events.deleteBudget(t.toString())}addBudgetHistoryEntry(t){this.events.addBudgetHistoryEntry(t)}deleteBudgetHistoryEntry(t,n){this.events.deleteBudgetHistoryEntry({budgetId:t,entryId:n})}updateBudgetHistoryEntry(t,n){this.events.updateBudgetHistoryEntry({budgetId:t,entry:n})}navigateTo(t,n){if(t&&!n){this.router.navigate(["/monthly-check",t]);return}this.router.navigate(["/monthly-check",t,n])}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};function Qoe(){return[Ns,Fs,wp,js]}var fO=new C("cdk-dir-doc",{providedIn:"root",factory:()=>f(oe)}),yO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function f_(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?yO.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var eo=(()=>{class e{get value(){return this.valueSignal()}valueSignal=we("ltr");change=new Me;constructor(){let n=f(fO,{optional:!0});if(n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(f_(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var y_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fe({type:e});static \u0275inj=Oe({})}return e})();var gO=["*"];var mO=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],vO=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],kO=new C("MAT_CARD_CONFIG"),bp=(()=>{class e{appearance;constructor(){let n=f(kO,{optional:!0});this.appearance=n?.appearance||"raised"}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(r,i){r&2&&je("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")("mat-mdc-card-filled",i.appearance==="filled")("mdc-card--filled",i.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:gO,decls:1,vars:0,template:function(r,i){r&1&&(vn(),Ut(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return e})(),yae=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return e})();var Cp=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})();var gae=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:vO,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){r&1&&(vn(mO),Ut(0),Vi(1,"div",0),Ut(2,1),Hi(),Ut(3,2))},encapsulation:2,changeDetection:0})}return e})();var C_=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(F(Tt),F(Se))};static \u0275dir=de({type:e})}return e})(),MO=(()=>{class e extends C_{static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qn(e)))(i||e)}})();static \u0275dir=de({type:e,features:[dt]})}return e})(),zs=new C("");var wO={provide:zs,useExisting:fn(()=>Pp),multi:!0};function bO(){let e=Pn()?Pn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var CO=new C(""),Pp=(()=>{class e extends C_{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!bO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(F(Tt),F(Se),F(CO,8))};static \u0275dir=de({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ce("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[$t([wO]),dt]})}return e})();function Vm(e){return e==null||Hm(e)===0}function Hm(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var qs=new C(""),bd=new C(""),_O=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Sp=class{static min(t){return SO(t)}static max(t){return IO(t)}static required(t){return __(t)}static requiredTrue(t){return xO(t)}static email(t){return DO(t)}static minLength(t){return EO(t)}static maxLength(t){return AO(t)}static pattern(t){return TO(t)}static nullValidator(t){return Ip()}static compose(t){return A_(t)}static composeAsync(t){return T_(t)}};function SO(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function IO(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function __(e){return Vm(e.value)?{required:!0}:null}function xO(e){return e.value===!0?null:{required:!0}}function DO(e){return Vm(e.value)||_O.test(e.value)?null:{email:!0}}function EO(e){return t=>{let n=t.value?.length??Hm(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function AO(e){return t=>{let n=t.value?.length??Hm(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function TO(e){if(!e)return Ip;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Vm(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Ip(e){return null}function S_(e){return e!=null}function I_(e){return Er(e)?K(e):e}function x_(e){let t={};return e.forEach(n=>{t=n!=null?m(m({},t),n):t}),Object.keys(t).length===0?null:t}function D_(e,t){return t.map(n=>n(e))}function LO(e){return!e.validate}function E_(e){return e.map(t=>LO(t)?t:n=>t.validate(n))}function A_(e){if(!e)return null;let t=e.filter(S_);return t.length==0?null:function(n){return x_(D_(n,t))}}function Bm(e){return e!=null?A_(E_(e)):null}function T_(e){if(!e)return null;let t=e.filter(S_);return t.length==0?null:function(n){let r=D_(n,t).map(I_);return qf(r).pipe(A(x_))}}function zm(e){return e!=null?T_(E_(e)):null}function g_(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function L_(e){return e._rawValidators}function R_(e){return e._rawAsyncValidators}function Nm(e){return e?Array.isArray(e)?e:[e]:[]}function xp(e,t){return Array.isArray(e)?e.includes(t):e===t}function m_(e,t){let n=Nm(t);return Nm(e).forEach(i=>{xp(n,i)||n.push(i)}),n}function v_(e,t){return Nm(t).filter(n=>!xp(e,n))}var Dp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Bm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},pi=class extends Dp{name;get formDirective(){return null}get path(){return null}},dr=class extends Dp{_parent=null;name=null;valueAccessor=null},Ep=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var O_=(()=>{class e extends Ep{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(F(dr,2))};static \u0275dir=de({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[dt]})}return e})(),Rae=(()=>{class e extends Ep{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(F(pi,10))};static \u0275dir=de({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&je("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[dt]})}return e})();var fd="VALID",_p="INVALID",Vs="PENDING",yd="DISABLED",to=class{},Ap=class extends to{value;source;constructor(t,n){super(),this.value=t,this.source=n}},md=class extends to{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},vd=class extends to{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Hs=class extends to{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Tp=class extends to{source;constructor(t){super(),this.source=t}},Md=class extends to{source;constructor(t){super(),this.source=t}};function qm(e){return(Np(e)?e.validators:e)||null}function RO(e){return Array.isArray(e)?Bm(e):e||null}function Um(e,t){return(Np(t)?t.asyncValidators:e)||null}function OO(e){return Array.isArray(e)?zm(e):e||null}function Np(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function P_(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function N_(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var no=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return $(this.statusReactive)}set status(t){$(()=>this.statusReactive.set(t))}_status=S(()=>this.statusReactive());statusReactive=we(void 0);get valid(){return this.status===fd}get invalid(){return this.status===_p}get pending(){return this.status==Vs}get disabled(){return this.status===yd}get enabled(){return this.status!==yd}errors;get pristine(){return $(this.pristineReactive)}set pristine(t){$(()=>this.pristineReactive.set(t))}_pristine=S(()=>this.pristineReactive());pristineReactive=we(!0);get dirty(){return!this.pristine}get touched(){return $(this.touchedReactive)}set touched(t){$(()=>this.touchedReactive.set(t))}_touched=S(()=>this.touchedReactive());touchedReactive=we(!1);get untouched(){return!this.touched}_events=new q;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(m_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(m_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(v_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(v_(t,this._rawAsyncValidators))}hasValidator(t){return xp(this._rawValidators,t)}hasAsyncValidator(t){return xp(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(x(m({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new vd(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new vd(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(x(m({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new md(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new md(!0,r))}markAsPending(t={}){this.status=Vs;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Hs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(x(m({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=yd,this.errors=null,this._forEachChild(i=>{i.disable(x(m({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ap(this.value,r)),this._events.next(new Hs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(x(m({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=fd,this._forEachChild(r=>{r.enable(x(m({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(x(m({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===fd||this.status===Vs)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Ap(this.value,n)),this._events.next(new Hs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(x(m({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?yd:fd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Vs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=I_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Hs(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?yd:this.errors?_p:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vs)?Vs:this._anyControlsHaveStatus(_p)?_p:fd}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new md(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new vd(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Np(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=RO(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=OO(this._rawAsyncValidators)}},Bs=class extends no{constructor(t,n,r){super(qm(n),Um(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){N_(this,!0,t),Object.keys(t).forEach(r=>{P_(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,x(m({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Md(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Fm=class extends Bs{};var Us=new C("",{factory:()=>Fp}),Fp="always";function F_(e,t){return[...t.path,e]}function wd(e,t,n=Fp){$m(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),NO(e,t),jO(e,t),FO(e,t),PO(e,t)}function Lp(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Op(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Rp(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function PO(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function $m(e,t){let n=L_(e);t.validator!==null?e.setValidators(g_(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=R_(e);t.asyncValidator!==null?e.setAsyncValidators(g_(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Rp(t._rawValidators,i),Rp(t._rawAsyncValidators,i)}function Op(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=L_(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=R_(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return Rp(t._rawValidators,r),Rp(t._rawAsyncValidators,r),n}function NO(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&j_(e,t)})}function FO(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&j_(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function j_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function jO(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function V_(e,t){e==null,$m(e,t)}function VO(e,t){return Op(e,t)}function Wm(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function HO(e){return Object.getPrototypeOf(e.constructor)===MO}function H_(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Gm(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===Pp?n=o:HO(o)?r=o:i=o}),i||r||n||null}function BO(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var zO={provide:pi,useExisting:fn(()=>qO)},gd=Promise.resolve(),qO=(()=>{class e extends pi{callSetDisabledState;get submitted(){return $(this.submittedReactive)}_submitted=S(()=>this.submittedReactive());submittedReactive=we(!1);_directives=new Set;form;ngSubmit=new Me;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new Bs({},Bm(n),zm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){gd.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),wd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){gd.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){gd.then(()=>{let r=this._findContainer(n.path),i=new Bs({});V_(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){gd.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){gd.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),H_(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Tp(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(F(qs,10),F(bd,10),F(Us,8))};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$t([zO]),dt]})}return e})();function k_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function M_(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var kd=class extends no{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(qm(n),Um(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Np(n)&&(n.nonNullable||n.initialValueIsDefault)&&(M_(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new Md(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){k_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){k_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){M_(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var UO=e=>e instanceof kd;var $O={provide:dr,useExisting:fn(()=>Km)},w_=Promise.resolve(),Km=(()=>{class e extends dr{_changeDetectorRef;callSetDisabledState;control=new kd;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(n,r,i,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Gm(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Wm(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){wd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){w_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Pt(r);w_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?F_(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(F(pi,9),F(qs,10),F(bd,10),F(zs,10),F(Wt,8),F(Us,8))};static \u0275dir=de({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[$t([$O]),dt,ot]})}return e})();var Pae=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var jm=class extends no{constructor(t,n,r){super(qm(n),Um(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){Array.isArray(t)?t.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){N_(this,!1,t),t.forEach((r,i)=>{P_(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],x(m({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new Md(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};var WO=(()=>{class e extends pi{callSetDisabledState;get submitted(){return $(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=S(()=>this._submittedReactive());_submittedReactive=we(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this.onChanges(n)}ngOnDestroy(){this.onDestroy()}onChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Op(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(n){let r=this.form.get(n.path);return wd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Lp(n.control||null,n,!1),BO(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}getFormArray(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}updateModel(n,r){this.form.get(n.path).setValue(r)}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}onSubmit(n){return this.submitted=!0,H_(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Tp(this.control)),n?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Lp(r||null,n),UO(i)&&(wd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);V_(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&VO(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){$m(this.form,this),this._oldForm&&Op(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||e)(F(qs,10),F(bd,10),F(Us,8))};static \u0275dir=de({type:e,features:[dt,ot]})}return e})();var Zm=new C(""),GO={provide:dr,useExisting:fn(()=>KO)},KO=(()=>{class e extends dr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(n){}model;update=new Me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Gm(this,i)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&Lp(r,this,!1),wd(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Wm(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Lp(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||e)(F(qs,10),F(bd,10),F(zs,10),F(Zm,8),F(Us,8))};static \u0275dir=de({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[$t([GO]),dt,ot]})}return e})();var ZO={provide:dr,useExisting:fn(()=>XO)},XO=(()=>{class e extends dr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,a){super(),this._ngModelWarningConfig=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Gm(this,o)}ngOnChanges(n){this._added||this._setUpControl(),Wm(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return F_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(F(pi,13),F(qs,10),F(bd,10),F(zs,10),F(Zm,8))};static \u0275dir=de({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[$t([ZO]),dt,ot]})}return e})();var YO={provide:pi,useExisting:fn(()=>JO)},JO=(()=>{class e extends WO{form=null;ngSubmit=new Me;get control(){return this.form}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qn(e)))(i||e)}})();static \u0275dir=de({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[$t([YO]),dt]})}return e})();var QO=(()=>{class e{_validator=Ip;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ip,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,features:[ot]})}return e})();var eP={provide:qs,useExisting:fn(()=>tP),multi:!0};var tP=(()=>{class e extends QO{required;inputName="required";normalizeInput=Pt;createValidator=n=>__;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qn(e)))(i||e)}})();static \u0275dir=de({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ft("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[$t([eP]),dt]})}return e})();var B_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fe({type:e});static \u0275inj=Oe({})}return e})();function b_(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var nP=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return b_(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Bs(i,o)}record(n,r=null){let i=this._reduceControls(n);return new Fm(i,r)}control(n,r,i){let o={};return this.useNonNullable?(b_(r)?o=r:(o.validators=r,o.asyncValidators=i),new kd(n,x(m({},o),{nonNullable:!0}))):new kd(n,r,i)}array(n,r,i){let o=n.map(a=>this._createControl(a));return new jm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof kd)return n;if(n instanceof no)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Nae=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(nP).nonNullable,providedIn:"root"})}return e})();var z_=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Us,useValue:n.callSetDisabledState??Fp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fe({type:e});static \u0275inj=Oe({imports:[B_]})}return e})(),Fae=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:Zm,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:Us,useValue:n.callSetDisabledState??Fp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fe({type:e});static \u0275inj=Oe({imports:[B_]})}return e})();var iP=["*"];var $ae=[["path",{d:"M12 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5",key:"x6cv4u"}],["path",{d:"m16 19 3 3 3-3",key:"1ibux0"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M6 12h.01",key:"c2rlol"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Wae=[["path",{d:"M12 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5",key:"x6cv4u"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M19 22v-6",key:"qhmiwi"}],["path",{d:"m22 19-3-3-3 3",key:"rn6bg2"}],["path",{d:"M6 12h.01",key:"c2rlol"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]];var Gae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var Kae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]];var Zae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]];var Xae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]];var Yae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]];var Jae=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]];var Qae=[["path",{d:"m15 18-.722-3.25",key:"1j64jw"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0",key:"1e7gxb"}],["path",{d:"m20 15-1.726-2.05",key:"1cnuld"}],["path",{d:"m4 15 1.726-2.05",key:"1dsqqd"}],["path",{d:"m9 18 .722-3.25",key:"ypw2yx"}]];var ese=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var tse=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]];var nse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]];var rse=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]];var ise=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]];var ose=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M8 12h5",key:"1g6qi8"}],["path",{d:"M16 9.5a4 4 0 1 0 0 5.2",key:"b2px4r"}]];var ase=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]];var sse=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var Cd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},Xm=new C("LucideIcons",{factory:()=>new _d({})}),_d=class{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return typeof this.icons=="object"&&t in this.icons}},oP=(()=>{class e{constructor(){this.color=Cd.stroke,this.size=Cd.width,this.strokeWidth=Cd["stroke-width"],this.absoluteStrokeWidth=!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function aP(e,t=3){return parseFloat(e.toFixed(t)).toString(10)}var jp=(()=>{class e{constructor(n,r,i,o,a){this.elem=n,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=Cd.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let i=this.getIcon(this.toPascalCase(r));if(i)this.replaceElement(i);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=x(m({},Cd),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?aP(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),i=this.createElement(["svg",r,n]);i.classList.add("lucide"),typeof this.name=="string"&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let o=this.elem.nativeElement.childNodes;for(let a of o)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,i=[]]){let o=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(o,a,s)}),i.length&&i.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(o,s)}),o}}return e.\u0275fac=function(n){return new(n||e)(F(Se),F(Tt),F(Wt),F(Xm),F(oP))},e.\u0275cmp=ge({type:e,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[ot],ngContentSelectors:iP,decls:1,vars:0,template:function(n,r){n&1&&(vn(),Ut(0))},encapsulation:2}),e})(),Ym=class{constructor(t){this.icons=t}},sP=e=>new _d(e??{}),$s=(()=>{class e{static pick(n){return{ngModule:e,providers:[{provide:Xm,multi:!0,useValue:new _d(n)},{provide:Xm,multi:!0,useFactory:sP,deps:[[new Ch,Ym]]}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Fe({type:e}),e.\u0275inj=Oe({imports:[[]]}),e})();var cP=["noContentFallback"],lP=["maffiButton",""],dP=["*"];function uP(e,t){if(e&1&&Ue(0,"i-lucide",1),e&2){let n=V();ut("name",t)("size",n._size())}}function hP(e,t){e&1&&(R(0,"div",2),To(),R(1,"svg",4),Ue(2,"path",5)(3,"path",6),j()())}function pP(e,t){e&1&&Ue(0,"span",7,0)}var Pr=class e{icon=ve();theme=ve("primary");isLoading=ve(!1);disabled=ve(!1);size=ve("small");noContentFallback=Bo("noContentFallback");buttonType=S(()=>this.icon()&&this.noContentFallback()?"fab":"button");_size=S(()=>{switch(this.size()){case"mini":return 12;case"small":return 16;case"medium":return 24;case"large":return 32}});isDisabled=S(()=>this.isLoading()||this.disabled());classes=S(()=>{let t="min-h-8";this.size()==="mini"&&(t="min-h-6");let n=`
      relative
      inline-flex
      gap-2
      items-center
      ${t}
      text-xs
    `,r=`
      hover:cursor-pointer
      disabled:hover:cursor-auto

      focus-visible:outline-dotted
      focus-visible:outline-1
      focus-visible:outline-blue-700
      focus-visible:outline-offset-2

      disabled:text-black
      disabled:bg-gray-200

      transition-colors
    `,i=this.getTypeClasses(this.buttonType()),o=this.getThemeClasses();return`${n} ${r} ${i} ${o}`});getThemeClasses(){switch(this.theme()){case"primary":return`
          text-white
          bg-blue-900
          hover:bg-blue-800
          active:bg-blue-800
        `;case"secondary":return`
        text-gray-100
        hover:bg-gray-700
        active:bg-gray-700
        `;case"plain":return`
          text-gray-100
        `;case"inactive":return`
          text-neutral-400
          hover:text-gray-100
        `;default:throw new Error(`Theme ${this.theme()} is not supported for Button2Component`)}}getTypeClasses(t){switch(t){case"fab":return"rounded-full aspect-square justify-center";case"button":return"px-4 py-2 w-fit rounded-lg justify-start"}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["button","maffiButton",""]],viewQuery:function(n,r){n&1&&zi(r.noContentFallback,cP,5),n&2&&jo()},hostVars:3,hostBindings:function(n,r){n&2&&(rs("disabled",r.isDisabled()),Ln(r.classes()))},inputs:{icon:[1,"icon"],theme:[1,"theme"],isLoading:[1,"isLoading"],disabled:[1,"disabled"],size:[1,"size"]},attrs:lP,ngContentSelectors:dP,decls:5,vars:2,consts:[["noContentFallback",""],[3,"name","size"],["role","status",1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","opacity-30"],["aria-hidden","true",1,"absolute","inset-0","-m-2"],["aria-hidden","true","viewBox","0 0 100 101","xmlns","http://www.w3.org/2000/svg",1,"fill-primary","h-6","w-6","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"hidden"]],template:function(n,r){if(n&1&&(vn(),Lt(0,uP,1,2,"i-lucide",1),Lt(1,hP,4,0,"div",2),Ut(2,0,null,pP,2,0),Ue(4,"span",3)),n&2){let i;Rt((i=r.icon())?0:-1,i),H(),Rt(r.isLoading()?1:-1)}},dependencies:[$s,jp],encapsulation:2,changeDetection:0})};var Jm;try{Jm=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Jm=!1}var gt=(()=>{class e{_platformId=f(Yr);isBrowser=this._platformId?h1(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||Jm)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Sd;function U_(){if(Sd==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Sd=!0}))}finally{Sd=Sd||!1}return Sd}function Qm(e){return U_()?e:!!e.capture}var ur=(function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e})(ur||{}),Vp,ca;function Hp(){if(ca==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return ca=!1,ca;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)ca=!0;else{let e=Element.prototype.scrollTo;e?ca=!/\{\s*\[native code\]\s*\}/.test(e.toString()):ca=!1}}return ca}function Ws(){if(typeof document!="object"||!document)return ur.NORMAL;if(Vp==null){let e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),Vp=ur.NORMAL,e.scrollLeft===0&&(e.scrollLeft=1,Vp=e.scrollLeft===0?ur.NEGATED:ur.INVERTED),e.remove()}return Vp}var ev;function $_(){if(ev==null){let e=typeof document<"u"?document.head:null;ev=!!(e&&(e.createShadowRoot||e.attachShadow))}return ev}function tv(e){if($_()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function la(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function Nr(e){return e.composedPath?e.composedPath()[0]:e.target}function nv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Gs,W_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function bse(){if(Gs)return Gs;if(typeof document!="object"||!document)return Gs=new Set(W_),Gs;let e=document.createElement("input");return Gs=new Set(W_.filter(t=>(e.setAttribute("type",t),e.type===t))),Gs}var fP=["*",[["mat-toolbar-row"]]],yP=["*","mat-toolbar-row"],gP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),Bp=(()=>{class e{_elementRef=f(Se);_platform=f(gt);_document=f(oe);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(r&1&&is(o,gP,5),r&2){let a;Ar(a=Tr())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){r&2&&(Ln(i.color?"mat-"+i.color:""),je("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:yP,decls:2,vars:0,template:function(r,i){r&1&&(vn(fP),Ut(0),Ut(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return e})();var G_=()=>({exact:!0}),K_=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-bottom-nav"]],hostAttrs:[1,"sticky","bottom-0","z-10","w-full"],decls:8,vars:7,consts:[["base","routerLinkActive"],["weeklyCheck","routerLinkActive"],["monthlyCheck","routerLinkActive"],[1,"flex","w-full!","items-center","justify-center","border-t-1","border-gray-100","bg-gray-800!"],[1,"flex","items-center","justify-center","gap-3"],["maffiButton","","icon","HandCoins","routerLink","base","routerLinkActive","",3,"routerLinkActiveOptions","theme"],["maffiButton","","icon","ReceiptEuro","routerLink","weekly-check","routerLinkActive","",3,"routerLinkActiveOptions","theme"],["maffiButton","","icon","Calendar","routerLink","monthly-check","routerLinkActive","",3,"theme"]],template:function(n,r){if(n&1&&(R(0,"mat-toolbar",3)(1,"div",4),Ue(2,"button",5,0)(4,"button",6,1)(6,"button",7,2),j()()),n&2){let i=Ot(3),o=Ot(5),a=Ot(7);H(2),ut("routerLinkActiveOptions",Kh(5,G_))("theme",i.isActive?"plain":"inactive"),H(2),ut("routerLinkActiveOptions",Kh(6,G_))("theme",o.isActive?"plain":"inactive"),H(2),ut("theme",a.isActive?"plain":"inactive")}},dependencies:[Pr,Ms,Xg,Bp],encapsulation:2})};var mP=["*"],Z_=class e{usersFacade=f(Ps);title=ve.required();logout(){this.usersFacade.logout()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-header"]],inputs:{title:[1,"title"]},ngContentSelectors:mP,decls:5,vars:1,consts:[[1,"sticky","top-0","z-10","flex","justify-between","border-b-1","bg-gray-800!","text-gray-100!"],[1,"text-2xl!"],["maffiButton","","icon","LogOut",3,"click"]],template:function(n,r){n&1&&(vn(),R(0,"mat-toolbar",0)(1,"h1",1),Ze(2),j(),Ut(3),R(4,"button",2),Ce("click",function(){return r.logout()}),j()()),n&2&&(H(2),$h(r.title()))},dependencies:[Bp,Pr],encapsulation:2})};var rv={},fi=class e{_appId=f(ji);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(t,n=!1){return this._appId!=="ng"&&(t+=this._appId),rv.hasOwnProperty(t)||(rv[t]=0),`${t}${n?e._infix+"-":""}${rv[t]++}`}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};var X_=(()=>{class e{_listeners=[];notify(n,r){for(let i of this._listeners)i(n,r)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(r=>n!==r)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var iv=new C("CdkAccordion"),oce=(()=>{class e{_stateChanges=new q;_openCloseAllActions=new q;id=f(fi).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(n){this._stateChanges.next(n)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",Pt]},exportAs:["cdkAccordion"],features:[$t([{provide:iv,useExisting:e}]),ot]})}return e})(),Y_=(()=>{class e{accordion=f(iv,{optional:!0,skipSelf:!0});_changeDetectorRef=f(Wt);_expansionDispatcher=f(X_);_openCloseAllSubscription=Ne.EMPTY;closed=new Me;opened=new Me;destroyed=new Me;expandedChange=new Me;id=f(fi).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(n){if(this._expanded!==n){if(this._expanded=n,this.expandedChange.emit(n),n){this.opened.emit();let r=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,r)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(n){this._disabled.set(n)}_disabled=we(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((n,r)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===r&&this.id!==n&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(n=>{this.disabled||(this.expanded=n)})}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Pt],disabled:[2,"disabled","disabled",Pt]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[$t([{provide:iv,useValue:void 0}])]})}return e})();function Ks(e){return Array.isArray(e)?e:[e]}var J_=new Set,da,zp=(()=>{class e{_platform=f(gt);_nonce=f(Qa,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):kP}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&vP(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function vP(e,t){if(!J_.has(e))try{da||(da=document.createElement("style"),t&&da.setAttribute("nonce",t),da.setAttribute("type","text/css"),document.head.appendChild(da)),da.sheet&&(da.sheet.insertRule(`@media ${e} {body{ }}`,0),J_.add(e))}catch(n){console.error(n)}}function kP(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var ov=(()=>{class e{_mediaMatcher=f(zp);_zone=f(be);_queries=new Map;_destroySubject=new q;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return Q_(Ks(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=Q_(Ks(n)).map(a=>this._registerQuery(a).observable),o=Sa(i);return o=bi(o.pipe(lt(1)),o.pipe(Cc(1),$f(0))),o.pipe(A(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:l})=>{s.matches=s.matches||c,s.breakpoints[l]=c}),s}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new ne(a=>{let s=c=>this._zone.run(()=>a.next(c));return r.addListener(s),()=>{r.removeListener(s)}}).pipe(Si(r),A(({matches:a})=>({query:n,matches:a})),Sn(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Q_(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var ua={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var MP=new C("MATERIAL_ANIMATIONS"),e8=null;function av(){return f(MP,{optional:!0})?.animationsDisabled||f(tl,{optional:!0})==="NoopAnimations"?"di-disabled":(e8??=f(zp).matchMedia("(prefers-reduced-motion)").matches,e8?"reduced-motion":"enabled")}function sv(){return av()!=="enabled"}var wP=["determinateSpinner"];function bP(e,t){if(e&1&&(To(),R(0,"svg",11),Ue(1,"circle",12),j()),e&2){let n=V();ft("viewBox",n._viewBox()),H(),Vo("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeCircumference()/2,"px")("stroke-width",n._circleStrokeWidth(),"%"),ft("r",n._circleRadius())}}var CP=new C("mat-progress-spinner-default-options",{providedIn:"root",factory:()=>({diameter:t8})}),t8=100,_P=10,n8=(()=>{class e{_elementRef=f(Se);_noopAnimations;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;_defaultColor="primary";_determinateCircle;constructor(){let n=f(CP),r=av(),i=this._elementRef.nativeElement;this._noopAnimations=r==="di-disabled"&&!!n&&!n._forceAnimations,this.mode=i.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&r==="reduced-motion"&&i.classList.add("mat-progress-spinner-reduced-motion"),n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,n||0))}_value=0;get diameter(){return this._diameter}set diameter(n){this._diameter=n||0}_diameter=t8;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(n){this._strokeWidth=n||0}_strokeWidth;_circleRadius(){return(this.diameter-_P)/2}_viewBox(){let n=this._circleRadius()*2+this.strokeWidth;return`0 0 ${n} ${n}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,i){if(r&1&&Fo(wP,5),r&2){let o;Ar(o=Tr())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,i){r&2&&(ft("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),Ln("mat-"+i.color),Vo("width",i.diameter,"px")("height",i.diameter,"px")("--mat-progress-spinner-size",i.diameter+"px")("--mat-progress-spinner-active-indicator-width",i.diameter+"px"),je("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",gl],diameter:[2,"diameter","diameter",gl],strokeWidth:[2,"strokeWidth","strokeWidth",gl]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,i){if(r&1&&(tr(0,bP,2,8,"ng-template",null,0,os),R(2,"div",2,1),To(),R(4,"svg",3),Ue(5,"circle",4),j()(),qu(),R(6,"div",5)(7,"div",6)(8,"div",7),Bi(9,8),j(),R(10,"div",9),Bi(11,8),j(),R(12,"div",10),Bi(13,8),j()()()),r&2){let o=Ot(1);H(4),ft("viewBox",i._viewBox()),H(),Vo("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),ft("r",i._circleRadius()),H(4),ut("ngTemplateOutlet",o),H(2),ut("ngTemplateOutlet",o),H(2),ut("ngTemplateOutlet",o)}},dependencies:[bl],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return e})();var Ace=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fe({type:e});static \u0275inj=Oe({imports:[y_]})}return e})();var cv=0;function SP(){return cv}function ro(e,t){return(...n)=>{try{return cv=t,e(...n)}finally{cv=0}}}function IP(e){return!e}function r8(e){return e}function yi(e){return Array.isArray(e)}function Zs(e){return(typeof e=="object"||typeof e=="function")&&e!=null}var ha=Symbol(),Xp=Symbol(),xd=class{predicates;fns=[];constructor(t){this.predicates=t}push(t){this.fns.push(i8(this.predicates,t))}mergeIn(t){let n=this.predicates?t.fns.map(r=>i8(this.predicates,r)):t.fns;this.fns.push(...n)}},Up=class extends xd{get defaultValue(){return!1}compute(t){return this.fns.some(n=>{let r=n(t);return r&&r!==Xp})}},Xs=class e extends xd{ignore;static ignoreNull(t){return new e(t,n=>n===null)}constructor(t,n){super(t),this.ignore=n}get defaultValue(){return[]}compute(t){return this.fns.reduce((n,r)=>{let i=r(t);return i===void 0||i===Xp?n:yi(i)?[...n,...this.ignore?i.filter(o=>!this.ignore(o)):i]:this.ignore&&this.ignore(i)?n:[...n,i]},[])}},lv=class extends Xs{constructor(t){super(t,void 0)}},dv=class extends xd{key;get defaultValue(){return this.key.reducer.getInitial()}constructor(t,n){super(t),this.key=n}compute(t){if(this.fns.length===0)return this.key.reducer.getInitial();let n=this.key.reducer.getInitial();for(let r=0;r<this.fns.length;r++){let i=this.fns[r](t);i!==Xp&&(n=this.key.reducer.reduce(n,i))}return n}};function i8(e,t){return e.length===0?t:n=>{for(let r of e){let i=n.stateOf(r.path),o=$(i.structure.pathKeys).length-r.depth;for(let a=0;a<o;a++)i=i.structure.parent;if(!r.fn(i.context))return Xp}return t(n)}}var Ys=class{predicates;hidden;disabledReasons;readonly;syncErrors;syncTreeErrors;asyncErrors;metadata=new Map;constructor(t){this.predicates=t,this.hidden=new Up(t),this.disabledReasons=new lv(t),this.readonly=new Up(t),this.syncErrors=Xs.ignoreNull(t),this.syncTreeErrors=Xs.ignoreNull(t),this.asyncErrors=Xs.ignoreNull(t)}hasMetadata(t){return this.metadata.has(t)}getMetadataKeys(){return this.metadata.keys()}getMetadata(t){return this.metadata.has(t)||this.metadata.set(t,new dv(this.predicates,t)),this.metadata.get(t)}mergeIn(t){this.hidden.mergeIn(t.hidden),this.disabledReasons.mergeIn(t.disabledReasons),this.readonly.mergeIn(t.readonly),this.syncErrors.mergeIn(t.syncErrors),this.syncTreeErrors.mergeIn(t.syncTreeErrors),this.asyncErrors.mergeIn(t.asyncErrors);for(let n of t.getMetadataKeys()){let r=t.metadata.get(n);this.getMetadata(n).mergeIn(r)}}},$p=class{depth;constructor(t){this.depth=t}build(){return new Wp(this,[],0)}},Js=class e extends $p{constructor(t){super(t)}current;all=[];addHiddenRule(t){this.getCurrent().addHiddenRule(t)}addDisabledReasonRule(t){this.getCurrent().addDisabledReasonRule(t)}addReadonlyRule(t){this.getCurrent().addReadonlyRule(t)}addSyncErrorRule(t){this.getCurrent().addSyncErrorRule(t)}addSyncTreeErrorRule(t){this.getCurrent().addSyncTreeErrorRule(t)}addAsyncErrorRule(t){this.getCurrent().addAsyncErrorRule(t)}addMetadataRule(t,n){this.getCurrent().addMetadataRule(t,n)}getChild(t){if(t===ha){let n=this.getCurrent().children;n.size>(n.has(ha)?1:0)&&(this.current=void 0)}return this.getCurrent().getChild(t)}hasLogic(t){return this===t?!0:this.all.some(({builder:n})=>n.hasLogic(t))}mergeIn(t,n){n?this.all.push({builder:t,predicate:{fn:ro(n.fn,this.depth),path:n.path}}):this.all.push({builder:t}),this.current=void 0}getCurrent(){return this.current===void 0&&(this.current=new Dd(this.depth),this.all.push({builder:this.current})),this.current}static newRoot(){return new e(0)}},Dd=class extends $p{logic=new Ys([]);children=new Map;constructor(t){super(t)}addHiddenRule(t){this.logic.hidden.push(ro(t,this.depth))}addDisabledReasonRule(t){this.logic.disabledReasons.push(ro(t,this.depth))}addReadonlyRule(t){this.logic.readonly.push(ro(t,this.depth))}addSyncErrorRule(t){this.logic.syncErrors.push(ro(t,this.depth))}addSyncTreeErrorRule(t){this.logic.syncTreeErrors.push(ro(t,this.depth))}addAsyncErrorRule(t){this.logic.asyncErrors.push(ro(t,this.depth))}addMetadataRule(t,n){this.logic.getMetadata(t).push(ro(n,this.depth))}getChild(t){return this.children.has(t)||this.children.set(t,new Js(this.depth+1)),this.children.get(t)}hasLogic(t){return this===t}},Wp=class e{builder;predicates;depth;logic;constructor(t,n,r){this.builder=t,this.predicates=n,this.depth=r,this.logic=t?xP(t,n,r):new Ys([])}getChild(t){let n=this.builder?a8(this.builder,t):[];if(n.length===0)return new e(void 0,[],this.depth+1);if(n.length===1){let{builder:r,predicates:i}=n[0];return new e(r,[...this.predicates,...i.map(o=>hv(o,this.depth))],this.depth+1)}else{let r=n.map(({builder:i,predicates:o})=>new e(i,[...this.predicates,...o.map(a=>hv(a,this.depth))],this.depth+1));return new uv(r)}}hasLogic(t){return this.builder?.hasLogic(t)??!1}},uv=class e{all;logic;constructor(t){this.all=t,this.logic=new Ys([]);for(let n of t)this.logic.mergeIn(n.logic)}getChild(t){return new e(this.all.flatMap(n=>n.getChild(t)))}hasLogic(t){return this.all.some(n=>n.hasLogic(t))}};function a8(e,t){if(e instanceof Js)return e.all.flatMap(({builder:n,predicate:r})=>{let i=a8(n,t);return r?i.map(({builder:o,predicates:a})=>({builder:o,predicates:[...a,r]})):i});if(e instanceof Dd)return[...t!==ha&&e.children.has(ha)?[{builder:e.getChild(ha),predicates:[]}]:[],...e.children.has(t)?[{builder:e.getChild(t),predicates:[]}]:[]];throw new b(1909,!1)}function xP(e,t,n){let r=new Ys(t);if(e instanceof Js){let i=e.all.map(({builder:o,predicate:a})=>new Wp(o,a?[...t,hv(a,n)]:t,n));for(let o of i)r.mergeIn(o.logic)}else if(e instanceof Dd)r.mergeIn(e.logic);else throw new b(1909,!1);return r}function hv(e,t){return x(m({},e),{depth:t})}var s8=Symbol("PATH"),gi=class e{keys;parent;keyInParent;root;children=new Map;fieldPathProxy=new Proxy(this,DP);logicBuilder;constructor(t,n,r,i){this.keys=t,this.parent=r,this.keyInParent=i,this.root=n??this,r||(this.logicBuilder=Js.newRoot())}get builder(){return this.logicBuilder?this.logicBuilder:this.parent.builder.getChild(this.keyInParent)}getChild(t){return this.children.has(t)||this.children.set(t,new e([...this.keys,t],this.root,this,t)),this.children.get(t)}mergeIn(t,n){let r=t.compile();this.builder.mergeIn(r.builder,n)}static unwrapFieldPath(t){return t[s8]}static newRoot(){return new e([],void 0,void 0,void 0)}},DP={get(e,t){return t===s8?e:e.getChild(t).fieldPathProxy}},qp,Id=new Map,Gp=class e{schemaFn;constructor(t){this.schemaFn=t}compile(){if(Id.has(this))return Id.get(this);let t=gi.newRoot();Id.set(this,t);let n=qp;try{qp=t,this.schemaFn(t.fieldPathProxy)}finally{qp=n}return t}static create(t){return t instanceof e?t:new e(t)}static rootCompile(t){try{return Id.clear(),t===void 0?gi.newRoot():t instanceof e?t.compile():new e(t).compile()}finally{Id.clear()}}};function EP(e){return e instanceof Gp||typeof e=="function"}function Cv(e){if(qp!==gi.unwrapFieldPath(e).root)throw new b(1908,!1)}function _v(e,t,n){return Cv(e),gi.unwrapFieldPath(e).builder.addMetadataRule(t,n),t}var io={list(){return{reduce:(e,t)=>t===void 0?e:[...e,t],getInitial:()=>[]}},min(){return{reduce:(e,t)=>e===void 0||t===void 0?e??t:Math.min(e,t),getInitial:()=>{}}},max(){return{reduce:(e,t)=>e===void 0||t===void 0?e??t:Math.max(e,t),getInitial:()=>{}}},or(){return{reduce:(e,t)=>e||t,getInitial:()=>!1}},and(){return{reduce:(e,t)=>e&&t,getInitial:()=>!0}},override:AP};function AP(e){return{reduce:(t,n)=>n,getInitial:()=>e?.()}}var Kp=class{reducer;create;brand;constructor(t,n){this.reducer=t,this.create=n}};function mi(e){return new Kp(e??io.override())}var Sv=mi(io.or()),c8=mi(io.max()),l8=mi(io.min()),d8=mi(io.max()),u8=mi(io.min()),h8=mi(io.list());function TP(e){return e.errors().length>0?"invalid":e.pending()?"unknown":"valid"}var pv=class{node;constructor(t){this.node=t}rawSyncTreeErrors=S(()=>this.shouldSkipValidation()?[]:[...this.node.logicNode.logic.syncTreeErrors.compute(this.node.context),...this.node.structure.parent?.validationState.rawSyncTreeErrors()??[]]);syncErrors=S(()=>this.shouldSkipValidation()?[]:[...this.node.logicNode.logic.syncErrors.compute(this.node.context),...this.syncTreeErrors(),...LP(this.node.submitState.submissionErrors())]);syncValid=S(()=>this.shouldSkipValidation()?!0:this.node.structure.reduceChildren(this.syncErrors().length===0,(t,n)=>n&&t.validationState.syncValid(),IP));syncTreeErrors=S(()=>this.rawSyncTreeErrors().filter(t=>t.fieldTree===this.node.fieldProxy));rawAsyncErrors=S(()=>this.shouldSkipValidation()?[]:[...this.node.logicNode.logic.asyncErrors.compute(this.node.context),...this.node.structure.parent?.validationState.rawAsyncErrors()??[]]);asyncErrors=S(()=>this.shouldSkipValidation()?[]:this.rawAsyncErrors().filter(t=>t==="pending"||t.fieldTree===this.node.fieldProxy));errors=S(()=>[...this.syncErrors(),...this.asyncErrors().filter(t=>t!=="pending")]);errorSummary=S(()=>this.node.structure.reduceChildren(this.errors(),(t,n)=>[...n,...t.errorSummary()]));pending=S(()=>this.node.structure.reduceChildren(this.asyncErrors().includes("pending"),(t,n)=>n||t.validationState.asyncErrors().includes("pending")));status=S(()=>{if(this.shouldSkipValidation())return"valid";let t=TP(this);return this.node.structure.reduceChildren(t,(n,r)=>r==="invalid"||n.validationState.status()==="invalid"?"invalid":r==="unknown"||n.validationState.status()==="unknown"?"unknown":"valid",n=>n==="invalid")});valid=S(()=>this.status()==="valid");invalid=S(()=>this.status()==="invalid");shouldSkipValidation=S(()=>this.node.hidden()||this.node.disabled()||this.node.readonly())};function LP(e){return e===void 0?[]:yi(e)?e:[e]}function p8(e,t){if(yi(e))for(let n of e)n.fieldTree??=t;else e&&(e.fieldTree??=t);return e}var fv=mi(),yv=class{node;cache=new WeakMap;constructor(t){this.node=t}resolve(t){if(!this.cache.has(t)){let n=S(()=>{let r=gi.unwrapFieldPath(t),i=this.node,o=SP();for(;o>0||!i.structure.logic.hasLogic(r.root.builder);)if(o--,i=i.structure.parent,i===void 0)throw new b(1900,!1);for(let a of r.keys)if(i=i.structure.getChild(a),i===void 0)throw new b(1901,!1);return i.fieldProxy});this.cache.set(t,n)}return this.cache.get(t)()}get fieldTree(){return this.node.fieldProxy}get state(){return this.node}get value(){return this.node.structure.value}get key(){return this.node.structure.keyInParent}get pathKeys(){return this.node.structure.pathKeys}index=S(()=>{let t=this.key();if(!yi($(this.node.structure.parent.value)))throw new b(1906,!1);return Number(t)});fieldTreeOf=t=>this.resolve(t);stateOf=t=>this.resolve(t)();valueOf=t=>{let n=this.resolve(t)().value();if(n instanceof no)throw new b(1907,!1);return n}},gv=class{node;metadata=new Map;constructor(t){this.node=t;for(let n of this.node.logicNode.logic.getMetadataKeys())if(n.create){let r=this.node.logicNode.logic.getMetadata(n),i=$(()=>tt(this.node.structure.injector,()=>n.create(S(()=>r.compute(this.node.context)))));this.metadata.set(n,i)}}get(t){if(this.has(t)&&!this.metadata.has(t)){if(t.create)throw new b(1912,!1);let n=this.node.logicNode.logic.getMetadata(t);this.metadata.set(t,S(()=>n.compute(this.node.context)))}return this.metadata.get(t)}has(t){return this.node.logicNode.logic.hasMetadata(t)}},RP={get(e,t,n){let r=e(),i=r.structure.getChild(t);if(i!==void 0)return i.fieldProxy;let o=$(r.value);if(yi(o)){if(t==="length")return r.value().length;if(t===Symbol.iterator)return()=>(r.value(),Array.prototype[Symbol.iterator].apply(r.fieldProxy))}if(Zs(o)&&t===Symbol.iterator)return function*(){for(let a in n)yield[a,n[a]]}},getOwnPropertyDescriptor(e,t){let n=$(e().value),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&!r.configurable&&(r.configurable=!0),r},ownKeys(e){let t=$(e().value);return typeof t=="object"&&t!==null?Reflect.ownKeys(t):[]}};function OP(e,t){let n=S(()=>e()[t()]);return n[ze]=e[ze],n.set=r=>{e.update(i=>PP(i,r,t()))},n.update=r=>{n.set(r($(n)))},n.asReadonly=()=>n,n}function PP(e,t,n){if(yi(e)){let r=[...e];return r[n]=t,r}else return x(m({},e),{[n]:t})}var Zp=class{logic;node;createChildNode;identitySymbol=Symbol();_injector=void 0;get injector(){return this._injector??=Q.create({providers:[],parent:this.fieldManager.injector}),this._injector}constructor(t,n,r){this.logic=t,this.node=n,this.createChildNode=r}children(){let t=this.childrenMap();return t===void 0?[]:Array.from(t.byPropertyKey.values()).map(n=>$(n.reader))}getChild(t){let n=t.toString(),r=$(this.childrenMap)?.byPropertyKey.get(n)?.reader;return r||(r=this.createReader(n)),r()}reduceChildren(t,n,r){let i=this.childrenMap();if(!i)return t;let o=t;for(let a of i.byPropertyKey.values()){if(r?.(o))break;o=n($(a.reader),o)}return o}destroy(){this.injector.destroy()}createKeyInParent(t,n,r){if(t.kind==="root")return f8;if(n===void 0){let i=r;return S(()=>{if(this.parent.structure.getChild(i)!==this.node)throw new b(1902,!1);return i})}else{let i=r;return S(()=>{let o=this.parent.structure.value();if(!yi(o))throw new b(1903,!1);let a=o[i];if(Zs(a)&&a.hasOwnProperty(this.parent.structure.identitySymbol)&&a[this.parent.structure.identitySymbol]===n)return i;for(let s=0;s<o.length;s++){let c=o[s];if(Zs(c)&&c.hasOwnProperty(this.parent.structure.identitySymbol)&&c[this.parent.structure.identitySymbol]===n)return i=s.toString()}throw new b(1904,!1)})}}createChildrenMap(){return qi({source:this.value,computation:(t,n)=>{if(!Zs(t))return;let r=n?.value??{byPropertyKey:new Map},i,o=yi(t);r!==void 0&&(o?i=FP(r,t,this.identitySymbol):i=jP(r,t));for(let a of Object.keys(t)){let s,c=t[a];if(c===void 0){r.byPropertyKey.has(a)&&(i??=m({},r),i.byPropertyKey.delete(a));continue}o&&Zs(c)&&!yi(c)&&(s=c[this.identitySymbol]??=Symbol(""));let l;s&&(r.byTrackingKey?.has(s)||(i??=m({},r),i.byTrackingKey??=new Map,i.byTrackingKey.set(s,this.createChildNode(a,s,o))),l=(i??r).byTrackingKey.get(s));let d=r.byPropertyKey.get(a);d===void 0?(i??=m({},r),i.byPropertyKey.set(a,{reader:this.createReader(a),node:l??this.createChildNode(a,s,o)})):l&&l!==d.node&&(i??=m({},r),d.node=l)}return i??r}})}createReader(t){return S(()=>this.childrenMap()?.byPropertyKey.get(t)?.node)}},mv=class extends Zp{fieldManager;value;get parent(){}get root(){return this.node}get pathKeys(){return NP}get keyInParent(){return f8}childrenMap;constructor(t,n,r,i,o){super(n,t,o),this.fieldManager=r,this.value=i,this.childrenMap=this.createChildrenMap()}},vv=class extends Zp{logic;parent;root;pathKeys;keyInParent;value;childrenMap;get fieldManager(){return this.root.structure.fieldManager}constructor(t,n,r,i,o,a){super(n,t,a),this.logic=n,this.parent=r,this.root=this.parent.structure.root,this.keyInParent=this.createKeyInParent({kind:"child",parent:r,pathNode:void 0,logic:n,initialKeyInParent:o,identityInParent:i,fieldAdapter:void 0},i,o),this.pathKeys=S(()=>[...r.structure.pathKeys(),this.keyInParent()]),this.value=OP(this.parent.structure.value,this.keyInParent),this.childrenMap=this.createChildrenMap(),this.fieldManager.structures.add(this)}};var NP=S(()=>[]),f8=S(()=>{throw new b(1905,!1)});function FP(e,t,n){let r,i=new Set(e.byPropertyKey.keys()),o=new Set(e.byTrackingKey?.keys());for(let a=0;a<t.length;a++){let s=t[a];i.delete(a.toString()),Zs(s)&&s.hasOwnProperty(n)&&o.delete(s[n])}if(i.size>0){r??=m({},e);for(let a of i)r.byPropertyKey.delete(a)}if(o.size>0){r??=m({},e);for(let a of o)r.byTrackingKey?.delete(a)}return r}function jP(e,t){let n;for(let r of e.byPropertyKey.keys())t.hasOwnProperty(r)||(n??=m({},e),n.byPropertyKey.delete(r));return n}var kv=class{node;selfSubmitting=we(!1);submissionErrors;constructor(t){this.node=t,this.submissionErrors=qi({source:this.node.structure.value,computation:()=>[]})}submitting=S(()=>this.selfSubmitting()||(this.node.structure.parent?.submitting()??!1))},Ed=class{structure;validationState;metadataState;nodeState;submitState;fieldAdapter;_context=void 0;get context(){return this._context??=new yv(this)}fieldProxy=new Proxy(()=>this,RP);pathNode;constructor(t){this.pathNode=t.pathNode,this.fieldAdapter=t.fieldAdapter,this.structure=this.fieldAdapter.createStructure(this,t),this.validationState=this.fieldAdapter.createValidationState(this,t),this.nodeState=this.fieldAdapter.createNodeState(this,t),this.metadataState=new gv(this),this.submitState=new kv(this)}focusBoundControl(){this.getBindingForFocus()?.focus()}getBindingForFocus(){let t=this.formFieldBindings().filter(n=>n.focus!==void 0).reduce(o8,void 0);return t||this.structure.children().map(n=>n.getBindingForFocus()).reduce(o8,void 0)}pendingSync=qi({source:()=>this.value(),computation:(t,n)=>{n?.value?.abort()}});get logicNode(){return this.structure.logic}get value(){return this.structure.value}_controlValue=qi(()=>this.value());get controlValue(){return this._controlValue.asReadonly()}get keyInParent(){return this.structure.keyInParent}get errors(){return this.validationState.errors}get errorSummary(){return this.validationState.errorSummary}get pending(){return this.validationState.pending}get valid(){return this.validationState.valid}get invalid(){return this.validationState.invalid}get dirty(){return this.nodeState.dirty}get touched(){return this.nodeState.touched}get disabled(){return this.nodeState.disabled}get disabledReasons(){return this.nodeState.disabledReasons}get hidden(){return this.nodeState.hidden}get readonly(){return this.nodeState.readonly}get formFieldBindings(){return this.nodeState.formFieldBindings}get submitting(){return this.submitState.submitting}get name(){return this.nodeState.name}get max(){return this.metadata(l8)}get maxLength(){return this.metadata(u8)}get min(){return this.metadata(c8)}get minLength(){return this.metadata(d8)}get pattern(){return this.metadata(h8)??VP}get required(){return this.metadata(Sv)??HP}metadata(t){return this.metadataState.get(t)}hasMetadata(t){return this.metadataState.has(t)}markAsTouched(){this.nodeState.markAsTouched(),this.pendingSync()?.abort(),this.sync()}markAsDirty(){this.nodeState.markAsDirty()}reset(t){$(()=>this._reset(t))}_reset(t){t!==void 0&&this.value.set(t),this.nodeState.markAsUntouched(),this.nodeState.markAsPristine();for(let n of this.structure.children())n._reset()}setControlValue(t){this._controlValue.set(t),this.markAsDirty(),this.debounceSync()}sync(){this.value.set(this.controlValue())}async debounceSync(){this.pendingSync()?.abort();let t=this.nodeState.debouncer();if(t){let n=new AbortController,r=t(n.signal);if(r&&(this.pendingSync.set(n),await r,n.signal.aborted))return}this.sync()}static newRoot(t,n,r,i){return i.newRoot(t,n,r,i)}createStructure(t){return t.kind==="root"?new mv(this,t.logic,t.fieldManager,t.value,this.newChild.bind(this)):new vv(this,t.logic,t.parent,t.identityInParent,t.initialKeyInParent,this.newChild.bind(this))}newChild(t,n,r){let i,o;return r?(i=this.pathNode.getChild(ha),o=this.structure.logic.getChild(ha)):(i=this.pathNode.getChild(t),o=this.structure.logic.getChild(t)),this.fieldAdapter.newChild({kind:"child",parent:this,pathNode:i,logic:o,initialKeyInParent:t,identityInParent:n,fieldAdapter:this.fieldAdapter})}},VP=S(()=>[]),HP=S(()=>!1);function o8(e,t){return e?t&&e.element.compareDocumentPosition(t.element)&Node.DOCUMENT_POSITION_PRECEDING?t:e:t}var Mv=class{node;selfTouched=we(!1);selfDirty=we(!1);markAsTouched(){this.selfTouched.set(!0)}markAsDirty(){this.selfDirty.set(!0)}markAsPristine(){this.selfDirty.set(!1)}markAsUntouched(){this.selfTouched.set(!1)}formFieldBindings=we([]);constructor(t){this.node=t}dirty=S(()=>{let t=this.selfDirty()&&!this.isNonInteractive();return this.node.structure.reduceChildren(t,(n,r)=>r||n.nodeState.dirty(),r8)});touched=S(()=>{let t=this.selfTouched()&&!this.isNonInteractive();return this.node.structure.reduceChildren(t,(n,r)=>r||n.nodeState.touched(),r8)});disabledReasons=S(()=>[...this.node.structure.parent?.nodeState.disabledReasons()??[],...this.node.logicNode.logic.disabledReasons.compute(this.node.context)]);disabled=S(()=>!!this.disabledReasons().length);readonly=S(()=>(this.node.structure.parent?.nodeState.readonly()||this.node.logicNode.logic.readonly.compute(this.node.context))??!1);hidden=S(()=>(this.node.structure.parent?.nodeState.hidden()||this.node.logicNode.logic.hidden.compute(this.node.context))??!1);name=S(()=>{let t=this.node.structure.parent;return t?`${t.name()}.${this.node.structure.keyInParent()}`:this.node.structure.fieldManager.rootName});debouncer=S(()=>{if(this.node.logicNode.logic.hasMetadata(fv)){let n=this.node.logicNode.logic.getMetadata(fv).compute(this.node.context);if(n)return r=>n(this.node.context,r)}return this.node.structure.parent?.nodeState.debouncer?.()});isNonInteractive=S(()=>this.hidden()||this.disabled()||this.readonly())},wv=class{newRoot(t,n,r,i){return new Ed({kind:"root",fieldManager:t,value:n,pathNode:r,logic:r.builder.build(),fieldAdapter:i})}newChild(t){return new Ed(t)}createNodeState(t){return new Mv(t)}createValidationState(t){return new pv(t)}createStructure(t,n){return t.createStructure(n)}},bv=class{injector;rootName;constructor(t,n){this.injector=t,this.rootName=n??`${this.injector.get(ji)}.form${BP++}`}structures=new Set;createFieldManagementEffect(t){cn(()=>{let n=new Set;this.markStructuresLive(t,n);for(let r of this.structures)n.has(r)||(this.structures.delete(r),$(()=>r.destroy()))},{injector:this.injector})}markStructuresLive(t,n){n.add(t);for(let r of t.children())this.markStructuresLive(r.structure,n)}},BP=0;function zP(e){let t,n,r;return e.length===3?[t,n,r]=e:e.length===2?EP(e[1])?[t,n]=e:[t,r]=e:[t]=e,[t,n,r]}function Ad(...e){let[t,n,r]=zP(e),i=r?.injector??f(Q),o=tt(i,()=>Gp.rootCompile(n)),a=new bv(i,r?.name),s=r?.adapter??new wv,c=Ed.newRoot(a,t,o,s);return a.createFieldManagementEffect(c.structure),c.fieldProxy}var qP=new C("");var Iv=class{field;constructor(t){this.field=t}control=this;get value(){return this.field().value()}get valid(){return this.field().valid()}get invalid(){return this.field().invalid()}get pending(){return this.field().pending()}get disabled(){return this.field().disabled()}get enabled(){return!this.field().disabled()}get errors(){let t=this.field().errors();if(t.length===0)return null;let n={};for(let r of t)n[r.kind]=r;return n}get pristine(){return!this.field().dirty()}get dirty(){return this.field().dirty()}get touched(){return this.field().touched()}get untouched(){return!this.field().touched()}get status(){if(this.field().disabled())return"DISABLED";if(this.field().valid())return"VALID";if(this.field().invalid())return"INVALID";if(this.field().pending())return"PENDING";throw new b(1910,!1)}valueAccessor=null;hasValidator(t){return t===Sp.required?this.field().required():!1}updateValueAndValidity(){}},UP=new C(""),$P={create:nr,update:Ly},Yp=(()=>{class e{element=f(Se).nativeElement;injector=f(Q);formField=ve.required();state=S(()=>this.formField()());[Nh]=$P;config=f(qP,{optional:!0});classes=Object.entries(this.config?.classes??{}).map(([n,r])=>[n,S(()=>r(this))]);controlValueAccessors=f(zs,{optional:!0,self:!0});interopNgControl;get \u0275interopControl(){return this.controlValueAccessors?.[0]??this.interopNgControl?.valueAccessor??void 0}getOrCreateNgControl(){return this.interopNgControl??=new Iv(this.state)}\u0275register(){cn(n=>{let r=this.state();r.nodeState.formFieldBindings.update(i=>[...i,this]),n(()=>{r.nodeState.formFieldBindings.update(i=>i.filter(o=>o!==this))})},{injector:this.injector})}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["","formField",""]],inputs:{formField:[1,"formField"]},features:[$t([{provide:UP,useExisting:e},{provide:dr,useFactory:()=>f(e).getOrCreateNgControl()}])]})}return e})();function y8(e,t){return e instanceof Function?e(t):e}function WP(e){return typeof e=="number"?isNaN(e):e===""||e===!1||e==null}function GP(e,t){Cv(e),gi.unwrapFieldPath(e).builder.addSyncErrorRule(r=>p8(t(r),r.fieldTree))}function KP(e){return new Dv(e)}var xv=class{__brand=void 0;kind="";fieldTree;message;constructor(t){t&&Object.assign(this,t)}},Dv=class extends xv{kind="required"};function Kce(e,t){let n=_v(e,mi(),r=>t?.when?t.when(r):!0);_v(e,Sv,({state:r})=>r.metadata(n)()),GP(e,r=>{if(r.state.metadata(n)()&&WP(r.value()))return t?.error?y8(t.error,r):KP({message:y8(t?.message,r)})})}var Qs=class e{icon=ve.required();size=ve("small");_size=S(()=>{switch(this.size()){case"mini":return 12;case"small":return 16;case"medium":return 24;case"large":return 32}});static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-icon"]],inputs:{icon:[1,"icon"],size:[1,"size"]},decls:1,vars:2,consts:[[3,"name","size"]],template:function(n,r){n&1&&Ue(0,"i-lucide",0),n&2&&ut("name",r.icon())("size",r._size())},dependencies:[$s,jp],encapsulation:2})};var g8=class e{balance=ve.required();static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-balance"]],inputs:{balance:[1,"balance"]},decls:9,vars:3,consts:[[1,"grid","h-5","w-full","grid-cols-[1.5rem_6.5rem_1rem]","items-center","gap-2"],["icon","Scale","size","medium"],[1,"text-sm","font-semibold"],[1,"text-(length:--text-xs)","leading-(--text-sm--line-height)","font-medium"]],template:function(n,r){n&1&&(R(0,"mat-card")(1,"mat-card-content")(2,"div",0),Ue(3,"app-icon",1),R(4,"span",2),Ze(5,"Saldo"),j(),R(6,"h1",3),Ze(7),Rn(8,"currency"),j()()()()),n&2&&(H(7),xt(" ",On(8,1,r.balance())," "))},dependencies:[bp,Cp,$s,Qs,ii],encapsulation:2})};var Jp=class e{value=Qh();blurred=un();enterPress=un();setValue(t){t&&this.value.set(+t)}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-number-input"]],inputs:{value:[1,"value"]},outputs:{value:"valueChange",blurred:"blurred",enterPress:"enterPress"},decls:2,vars:1,consts:[["inputRef",""],["type","number",1,"mb-1","w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"input","blur","keyup.enter","value"]],template:function(n,r){if(n&1){let i=at();Vi(0,"input",1,0),Uh("input",function(a){return ce(i),le(r.setValue(a.target.value))})("blur",function(){return ce(i),le(r.blurred.emit())})("keyup.enter",function(){return ce(i),le(r.enterPress.emit())}),Hi()}n&2&&rs("value",r.value())},encapsulation:2})};var Qp=class e{value=Qh();blurred=un();enterPress=un();static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-string-input"]],inputs:{value:[1,"value"]},outputs:{value:"valueChange",blurred:"blurred",enterPress:"enterPress"},decls:2,vars:1,consts:[["inputRef",""],["type","text",1,"mb-1","w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"ngModelChange","blur","keyup.enter","ngModel"]],template:function(n,r){if(n&1){let i=at();R(0,"input",1,0),Gh("ngModelChange",function(a){return ce(i),Hy(r.value,a)||(r.value=a),le(a)}),Ce("blur",function(){return ce(i),le(r.blurred.emit())})("keyup.enter",function(){return ce(i),le(r.enterPress.emit())}),j()}n&2&&Wh("ngModel",r.value)},dependencies:[z_,Pp,O_,Km],encapsulation:2})};var Td=class{_attachedHost=null;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},ec=class extends Td{component;viewContainerRef;injector;projectableNodes;constructor(t,n,r,i){super(),this.component=t,this.viewContainerRef=n,this.injector=r,this.projectableNodes=i}},tc=class extends Td{templateRef;viewContainerRef;context;injector;constructor(t,n,r,i){super(),this.templateRef=t,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Ev=class extends Td{element;constructor(t){super(),this.element=t instanceof Se?t.nativeElement:t}},nc=class{_attachedPortal=null;_disposeFn=null;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof ec)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof tc)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Ev)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},ef=class extends nc{outletElement;_appRef;_defaultInjector;constructor(t,n,r){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=r}attachComponentPortal(t){let n;if(t.viewContainerRef){let r=t.injector||t.viewContainerRef.injector,i=r.get(xr,null,{optional:!0})||void 0;n=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let r=this._appRef,i=t.injector||this._defaultInjector||Q.NULL,o=i.get(Re,r.injector);n=e1(t.component,{elementInjector:i,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),r.attachView(n.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=t,r}attachDomPortal=t=>{let n=t.element;n.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");n.parentNode.insertBefore(r,n),this.outletElement.appendChild(n),this._attachedPortal=t,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Ld=(()=>{class e extends nc{_moduleRef=f(xr,{optional:!0});_document=f(oe);_viewContainerRef=f(dn);_isInitialized=!1;_attachedRef=null;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new Me;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,i=r.createComponent(n.component,{index:r.length,injector:n.injector||r.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=n=>{let r=n.element;r.parentNode;let i=this._document.createComment("dom-portal");n.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[dt]})}return e})();function m8(e){return e.buttons===0||e.detail===0}function v8(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}function ZP(e,t=0){return XP(e)?Number(e):arguments.length===2?t:0}function XP(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function rc(e){return e instanceof Se?e.nativeElement:e}var YP=new C("cdk-input-modality-detector-options"),JP={ignoreKeys:[18,17,224,91,16]},k8=650,Av={passive:!0,capture:!0},QP=(()=>{class e{_platform=f(gt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new mt(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(r=>r===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Nr(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<k8||(this._modality.next(m8(n)?"keyboard":"mouse"),this._mostRecentTarget=Nr(n))};_onTouchstart=n=>{if(v8(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Nr(n)};constructor(){let n=f(be),r=f(oe),i=f(YP,{optional:!0});if(this._options=m(m({},JP),i),this.modalityDetected=this._modality.pipe(Cc(1)),this.modalityChanged=this.modalityDetected.pipe(gu()),this._platform.isBrowser){let o=f(qt).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,Av),o.listen(r,"mousedown",this._onMousedown,Av),o.listen(r,"touchstart",this._onTouchstart,Av)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),nf=(function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e})(nf||{}),eN=new C("cdk-focus-monitor-default-options"),tf=Qm({passive:!0,capture:!0}),M8=(()=>{class e{_ngZone=f(be);_platform=f(gt);_inputModalityDetector=f(QP);_origin=null;_lastFocusOrigin=null;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(oe);_stopInputModalityDetector=new q;constructor(){let n=f(eN,{optional:!0});this._detectionMode=n?.detectionMode||nf.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let r=Nr(n);for(let i=r;i;i=i.parentElement)n.type==="focus"?this._onFocus(n,i):this._onBlur(n,i)};monitor(n,r=!1){let i=rc(n);if(!this._platform.isBrowser||i.nodeType!==1)return te();let o=tv(i)||this._document,a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;let s={checkChildren:r,subject:new q,rootNode:o};return this._elementInfo.set(i,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(n){let r=rc(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){let o=rc(n),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,c])=>this._originChanged(s,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===nf.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===nf.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?k8:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(n,r){let i=this._elementInfo.get(r),o=Nr(n);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(n,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,tf),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,tf)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Sn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tf),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tf),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((i,o)=>{(o===n||i.checkChildren&&o.contains(n))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var rf=new WeakMap,ic=(()=>{class e{_appRef;_injector=f(Q);_environmentInjector=f(Re);load(n){let r=this._appRef=this._appRef||this._injector.get(mn),i=rf.get(r);i||(i={loaders:new Set,refs:[]},rf.set(r,i),r.onDestroy(()=>{rf.get(r)?.refs.forEach(o=>o.destroy()),rf.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(e1(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var w8=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return e})(),of;function tN(){if(of===void 0&&(of=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(of=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return of}function $le(e){return tN()?.createHTML(e)||e}var nN=(()=>{class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Kle=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Fe({type:e});static \u0275inj=Oe({providers:[nN]})}return e})();var Lv=(()=>{class e{_platform=f(gt);constructor(){}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return iN(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=rN(hN(n));if(r&&(b8(r)===-1||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),o=b8(n);return n.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!dN(n)?!1:i==="audio"?n.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return uN(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function rN(e){try{return e.frameElement}catch{return null}}function iN(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function oN(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function aN(e){return cN(e)&&e.type=="hidden"}function sN(e){return lN(e)&&e.hasAttribute("href")}function cN(e){return e.nodeName.toLowerCase()=="input"}function lN(e){return e.nodeName.toLowerCase()=="a"}function C8(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function b8(e){if(!C8(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function dN(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function uN(e){return aN(e)?!1:oN(e)||sN(e)||e.hasAttribute("contenteditable")||C8(e)}function hN(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Tv=class{_element;_checker;_ngZone;_document;_injector;_startAnchor=null;_endAnchor=null;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,n,r,i,o=!1,a){this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._injector=a,o||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(t),!!r}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?ln(t,{injector:this._injector}):setTimeout(t)}},Rv=(()=>{class e{_checker=f(Lv);_ngZone=f(be);_document=f(oe);_injector=f(Q);constructor(){f(ic).load(w8)}create(n,r=!1){return new Tv(n,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ade=(()=>{class e{_elementRef=f(Se);_focusTrapFactory=f(Rv);focusTrap=void 0;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(n){this.focusTrap&&(this.focusTrap.enabled=n)}autoCapture=!1;constructor(){f(gt).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(n){let r=n.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=la(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Pt],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Pt]},exportAs:["cdkTrapFocus"],features:[ot]})}return e})();function af(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function ht(e){return e==null?"":typeof e=="string"?e:`${e}px`}var pN=20,sf=(()=>{class e{_ngZone=f(be);_platform=f(gt);_renderer=f(qt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new q;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=pN){return this._platform.isBrowser?new ne(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=n>0?this._scrolled.pipe(yu(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):te()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(qe(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_scrollableContainsElement(n,r){let i=rc(r),o=n.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ide=(()=>{class e{elementRef=f(Se);scrollDispatcher=f(sf);ngZone=f(be);dir=f(eo,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new q;_renderer=f(Tt);_cleanupScroll;_elementScrolled=new q;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",n=>this._elementScrolled.next(n))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){let r=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";n.left==null&&(n.left=i?n.end:n.start),n.right==null&&(n.right=i?n.start:n.end),n.bottom!=null&&(n.top=r.scrollHeight-r.clientHeight-n.bottom),i&&Ws()!=ur.NORMAL?(n.left!=null&&(n.right=r.scrollWidth-r.clientWidth-n.left),Ws()==ur.INVERTED?n.left=n.right:Ws()==ur.NEGATED&&(n.left=n.right?-n.right:n.right)):n.right!=null&&(n.left=r.scrollWidth-r.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){let r=this.elementRef.nativeElement;Hp()?r.scrollTo(n):(n.top!=null&&(r.scrollTop=n.top),n.left!=null&&(r.scrollLeft=n.left))}measureScrollOffset(n){let r="left",i="right",o=this.elementRef.nativeElement;if(n=="top")return o.scrollTop;if(n=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return n=="start"?n=a?i:r:n=="end"&&(n=a?r:i),a&&Ws()==ur.INVERTED?n==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&Ws()==ur.NEGATED?n==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:n==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(r){return new(r||e)};static \u0275dir=de({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return e})(),fN=20,Rd=(()=>{class e{_platform=f(gt);_listeners;_viewportSize=null;_change=new q;_document=f(oe);constructor(){let n=f(be),r=f(qt).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect(),a=-o.top||n.body?.scrollTop||r.scrollY||i.scrollTop||0,s=-o.left||n.body?.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:a,left:s}}change(n=fN){return n>0?this._change.pipe(yu(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var _8=Hp();function sc(e){return new cf(e.get(Rd),e.get(oe))}var cf=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,n){this._viewportRuler=t,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ht(-this._previousScrollPosition.left),t.style.top=ht(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,r=t.style,i=n.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),_8&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),_8&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.documentElement,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};function L8(e,t){return new lf(e.get(sf),e.get(be),e.get(Rd),t)}var lf=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,n,r,i){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(qe(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Od=class{enable(){}disable(){}attach(){}};function Ov(e,t){return t.some(n=>{let r=e.bottom<n.top,i=e.top>n.bottom,o=e.right<n.left,a=e.left>n.right;return r||i||o||a})}function S8(e,t){return t.some(n=>{let r=e.top<n.top,i=e.bottom>n.bottom,o=e.left<n.left,a=e.right>n.right;return r||i||o||a})}function R8(e,t){return new df(e.get(sf),e.get(Rd),e.get(be),t)}var df=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,n,r,i){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Ov(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},O8=(()=>{class e{_injector=f(Q);constructor(){}noop=()=>new Od;close=n=>L8(this._injector,n);block=()=>sc(this._injector);reposition=n=>R8(this._injector,n);static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),oc=class{positionStrategy;scrollStrategy=new Od;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(t){if(t){let n=Object.keys(t);for(let r of n)t[r]!==void 0&&(this[r]=t[r])}}};var uf=class{connectionPair;scrollableViewProperties;constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var P8=(()=>{class e{_attachedOverlays=[];_document=f(oe);_isAttached=!1;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),N8=(()=>{class e extends P8{_ngZone=f(be);_renderer=f(qt).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qn(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),F8=(()=>{class e extends P8{_platform=f(gt);_ngZone=f(be);_renderer=f(qt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget=null;_cleanups;add(n){if(super.add(n),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=Nr(n)};_clickListener=n=>{let r=Nr(n),i=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(I8(s.overlayElement,r)||I8(s.overlayElement,i))break;let c=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(n)):c.next(n)}};static \u0275fac=(()=>{let n;return function(i){return(n||(n=Qn(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function I8(e,t){let n=typeof ShadowRoot<"u"&&ShadowRoot,r=t;for(;r;){if(r===e)return!0;r=n&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var j8=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return e})(),ff=(()=>{class e{_platform=f(gt);_containerElement;_document=f(oe);_styleLoader=f(ic);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||nv()){let i=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(n),nv()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(j8)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Pv=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,n,r,i){this._renderer=n,this._ngZone=r,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function Nv(e){return e&&e.nodeType===1}var ac=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new q;_attachments=new q;_detachments=new q;_positionStrategy;_scrollStrategy;_locationChanges=Ne.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed=!1;_previousHostParent;_keydownEvents=new q;_outsidePointerEvents=new q;_afterNextRenderRef;constructor(t,n,r,i,o,a,s,c,l,d=!1,u,p){this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._injector=u,this._renderer=p,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){if(this._disposed)return null;this._attachHost();let n=this._portalOutlet.attach(t);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=ln(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){if(this._disposed)return;let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=m(m({},this._config),t),this._updateElementSize()}setDirection(t){this._config=x(m({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ht(this._config.width),t.height=ht(this._config.height),t.minWidth=ht(this._config.minWidth),t.minHeight=ht(this._config.minHeight),t.maxWidth=ht(this._config.maxWidth),t.maxHeight=ht(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachHost(){if(!this._host.parentElement){let t=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;Nv(t)?t.after(this._host):t?.type==="parent"?t.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Pv(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,n,r){let i=Ks(n||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=ln(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(n){if(t)throw n;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},x8="cdk-overlay-connected-position-bounding-box",yN=/([A-Za-z%]+)$/;function V8(e,t){return new hf(t,e.get(Rd),e.get(oe),e.get(gt),e.get(ff))}var hf=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender=!1;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed=!1;_boundingBox=null;_lastPosition=null;_lastScrollVisibility=null;_positionChanges=new q;_resizeSubscription=Ne.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount=null;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(x8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let t=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],a;for(let s of this._preferredPositions){let c=this._getOriginPoint(t,i,s),l=this._getOverlayPoint(c,n,s),d=this._getOverlayFit(l,n,r,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,c);return}if(this._canFitWithFlexibleDimensions(d,l,r)){o.push({position:s,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,s)});continue}(!a||a.overlayFit.visibleArea<d.visibleArea)&&(a={overlayFit:d,overlayPoint:l,originPoint:c,position:s,overlayRect:n})}if(o.length){let s=null,c=-1;for(let l of o){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,s=l)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&pa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(x8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;t?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(t,this._getOriginPoint(this._originRect,this._containerRect,t))):this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}withPopoverLocation(t){return this._popoverLocation=t,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof Se?this._origin.nativeElement:Nv(this._origin)?this._origin:null}_getOriginPoint(t,n,r){let i;if(r.originX=="center")i=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;i=r.originX=="start"?a:s}n.left<0&&(i-=n.left);let o;return r.originY=="center"?o=t.top+t.height/2:o=r.originY=="top"?t.top:t.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(t,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let o;return r.overlayY=="center"?o=-n.height/2:o=r.overlayY=="top"?0:-n.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,n,r,i){let o=E8(n),{x:a,y:s}=t,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(a+=c),l&&(s+=l);let d=0-a,u=a+o.width-r.width,p=0-s,h=s+o.height-r.height,y=this._subtractOverflows(o.width,d,u),g=this._subtractOverflows(o.height,p,h),v=y*g;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(t,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,o=r.right-n.x,a=D8(this._overlayRef.getConfig().minHeight),s=D8(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||a!=null&&a<=i,l=t.fitsInViewportHorizontally||s!=null&&s<=o;return c&&l}return!1}_pushOverlayOnScreen(t,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let i=E8(n),o=this._viewportRect,a=Math.max(t.x+i.width-o.width,0),s=Math.max(t.y+i.height-o.height,0),c=Math.max(o.top-r.top-t.y,0),l=Math.max(o.left-r.left-t.x,0),d=0,u=0;return i.width<=o.width?d=l||-a:d=t.x<this._getViewportMarginStart()?o.left-r.left-t.x:0,i.height<=o.height?u=c||-s:u=t.y<this._getViewportMarginTop()?o.top-r.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!gN(this._lastScrollVisibility,r)){let i=new uf(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=t.overlayY;t.overlayX==="center"?r="center":this._isRtl()?r=t.overlayX==="start"?"right":"left":r=t.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,n){let r=this._viewportRect,i=this._isRtl(),o,a,s;if(n.overlayY==="top")a=t.y,o=r.height-a+this._getViewportMarginBottom();else if(n.overlayY==="bottom")s=r.height-t.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=r.height-s+this._getViewportMarginTop();else{let h=Math.min(r.bottom-t.y+r.top,t.y),y=this._lastBoundingBoxSize.height;o=h*2,a=t.y-h,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-y/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,l=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,d,u,p;if(l)p=r.width-t.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),d=t.x-this._getViewportMarginStart();else if(c)u=t.x,d=r.right-t.x-this._getViewportMarginEnd();else{let h=Math.min(r.right-t.x+r.left,t.x),y=this._lastBoundingBoxSize.width;d=h*2,u=t.x-h,d>y&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-y/2)}return{top:a,left:u,bottom:s,right:p,width:d,height:o}}_setBoundingBoxStyles(t,n){let r=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="auto",i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.width=ht(r.width),i.height=ht(r.height),i.top=ht(r.top)||"auto",i.bottom=ht(r.bottom)||"auto",i.left=ht(r.left)||"auto",i.right=ht(r.right)||"auto",n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=ht(o)),a&&(i.maxWidth=ht(a))}this._lastBoundingBoxSize=r,pa(this._boundingBox.style,i)}_resetBoundingBoxStyles(){pa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){pa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();pa(r,this._getExactOverlayY(n,t,d)),pa(r,this._getExactOverlayX(n,t,d))}else r.position="static";let s="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(s+=`translateX(${c}px) `),l&&(s+=`translateY(${l}px)`),r.transform=s.trim(),a.maxHeight&&(i?r.maxHeight=ht(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=ht(a.maxWidth):o&&(r.maxWidth="")),pa(this._pane.style,r)}_getExactOverlayY(t,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;i.bottom=`${a-(o.y+this._overlayRect.height)}px`}else i.top=ht(o.y);return i}_getExactOverlayX(t,n,r){let i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;i.right=`${s-(o.x+this._overlayRect.width)}px`}else i.left=ht(o.x);return i}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:S8(t,r),isOriginOutsideView:Ov(t,r),isOverlayClipped:S8(n,r),isOverlayOutsideView:Ov(n,r)}}_subtractOverflows(t,...n){return n.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._getViewportMarginTop(),left:r.left+this._getViewportMarginStart(),right:r.left+t-this._getViewportMarginEnd(),bottom:r.top+n-this._getViewportMarginBottom(),width:t-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:n-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Ks(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let t=this._origin;if(t instanceof Se)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+n,height:r,width:n}}_getContainerRect(){let t=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",n=this._overlayContainer.getContainerElement();t&&(n.style.display="block");let r=n.getBoundingClientRect();return t&&(n.style.display=""),r}};function pa(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function D8(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(yN);return!n||n==="px"?parseFloat(t):null}return e||null}function E8(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function gN(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var A8="cdk-global-overlay-wrapper";function cc(e){return new pf}var pf=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(A8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:s}=r,c=(i==="100%"||i==="100vw")&&(!a||a==="100%"||a==="100vw"),l=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,u=this._xOffset,p=this._overlayRef.getConfig().direction==="rtl",h="",y="",g="";c?g="flex-start":d==="center"?(g="center",p?y=u:h=u):p?d==="left"||d==="end"?(g="flex-end",h=u):(d==="right"||d==="start")&&(g="flex-start",y=u):d==="left"||d==="start"?(g="flex-start",h=u):(d==="right"||d==="end")&&(g="flex-end",y=u),t.position=this._cssPosition,t.marginLeft=c?"0":h,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":y,n.justifyContent=g,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(A8),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},H8=(()=>{class e{_injector=f(Q);constructor(){}global(){return cc()}flexibleConnectedTo(n){return V8(this._injector,n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),B8=new C("OVERLAY_DEFAULT_CONFIG");function yf(e,t){e.get(ic).load(j8);let n=e.get(ff),r=e.get(oe),i=e.get(fi),o=e.get(mn),a=e.get(eo),s=e.get(Tt,null,{optional:!0})||e.get(qt).createRenderer(null,null),c=new oc(t),l=e.get(B8,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||a.value,"showPopover"in r.body?c.usePopover=t?.usePopover??l:c.usePopover=!1;let d=r.createElement("div"),u=r.createElement("div");d.id=i.getId("cdk-overlay-"),d.classList.add("cdk-overlay-pane"),u.appendChild(d),c.usePopover&&(u.setAttribute("popover","manual"),u.classList.add("cdk-overlay-popover"));let p=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return Nv(p)?p.after(u):p?.type==="parent"?p.element.appendChild(u):n.getContainerElement().appendChild(u),new ac(new ef(d,o,e),u,d,c,e.get(be),e.get(N8),r,e.get($i),e.get(F8),t?.disableAnimations??e.get(tl,null,{optional:!0})==="NoopAnimations",e.get(Re),s)}var mN=(()=>{class e{scrollStrategies=f(O8);_positionBuilder=f(H8);_injector=f(Q);constructor(){}create(n){return yf(this._injector,n)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function kN(e,t){}var lc=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var jv=(()=>{class e extends nc{_elementRef=f(Se);_focusTrapFactory=f(Rv);_config;_interactivityChecker=f(Lv);_ngZone=f(be);_focusMonitor=f(M8);_renderer=f(Tt);_changeDetectorRef=f(Wt);_injector=f(Q);_platform=f(gt);_document=f(oe);_portalOutlet;_focusTrapped=new q;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=f(lc,{optional:!0})||new lc,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}attachDomPortal=n=>{this._portalOutlet.hasAttached();let r=this._portalOutlet.attachDomPortal(n);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),a(),n.removeAttribute("tabindex")},o=this._renderer.listen(n,"blur",i),a=this._renderer.listen(n,"mousedown",i)})),n.focus(r)}_focusByCssSelector(n,r){let i=this._elementRef.nativeElement.querySelector(n);i&&this._forceFocus(i,r)}_trapFocus(n){this._isDestroyed||ln(()=>{let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus(n);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(n)||this._focusDialogContainer(n);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',n);break;default:this._focusByCssSelector(this._config.autoFocus,n);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let i=la(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(n){this._elementRef.nativeElement.focus?.(n)}_containsFocus(){let n=this._elementRef.nativeElement,r=la();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=la()))}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(r&1&&Fo(Ld,7),r&2){let o;Ar(o=Tr())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){r&2&&ft("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[dt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){r&1&&tr(0,kN,0,0,"ng-template",0)},dependencies:[Ld],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return e})(),Pd=class{overlayRef;config;componentInstance=null;componentRef=null;containerInstance;disableClose;closed=new q;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,n){this.overlayRef=t,this.config=n,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!af(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this._canClose(t)){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}_canClose(t){let n=this.config;return!!this.containerInstance&&(!n.closePredicate||n.closePredicate(t,n,this.componentInstance))}},MN=new C("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=f(Q);return()=>sc(e)}}),wN=new C("DialogData"),bN=new C("DefaultDialogConfig");function CN(e){let t=we(e),n=new Me;return{valueSignal:t,get value(){return t()},change:n,ngOnDestroy(){n.complete()}}}var q8=(()=>{class e{_injector=f(Q);_defaultOptions=f(bN,{optional:!0});_parentDialog=f(e,{optional:!0,skipSelf:!0});_overlayContainer=f(ff);_idGenerator=f(fi);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new q;_afterOpenedAtThisLevel=new q;_ariaHiddenElements=new Map;_scrollStrategy=f(MN);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=mo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Si(void 0)));constructor(){}open(n,r){let i=this._defaultOptions||new lc;r=m(m({},i),r),r.id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),a=yf(this._injector,o),s=new Pd(a,r),c=this._attachContainer(a,s,r);if(s.containerInstance=c,!this.openDialogs.length){let l=this._overlayContainer.getContainerElement();c._focusTrapped?c._focusTrapped.pipe(lt(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(l)}):this._hideNonDialogContentFromAssistiveTechnology(l)}return this._attachDialogContent(n,s,c,r),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){Fv(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){Fv(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),Fv(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new oc({positionStrategy:n.positionStrategy||cc().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation,disableAnimations:n.disableAnimations});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,i){let o=i.injector||i.viewContainerRef?.injector,a=[{provide:lc,useValue:i},{provide:Pd,useValue:r},{provide:ac,useValue:n}],s;i.container?typeof i.container=="function"?s=i.container:(s=i.container.type,a.push(...i.container.providers(i))):s=jv;let c=new ec(s,i.viewContainerRef,Q.create({parent:o||this._injector,providers:a}));return n.attach(c).instance}_attachDialogContent(n,r,i,o){if(n instanceof Jn){let a=this._createInjector(o,r,i,void 0),s={$implicit:o.data,dialogRef:r};o.templateContext&&(s=m(m({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new tc(n,null,s,a))}else{let a=this._createInjector(o,r,i,this._injector),s=i.attachComponentPortal(new ec(n,o.viewContainerRef,a));r.componentRef=s,r.componentInstance=s.instance}}_createInjector(n,r,i,o){let a=n.injector||n.viewContainerRef?.injector,s=[{provide:wN,useValue:n.data},{provide:Pd,useValue:r}];return n.providers&&(typeof n.providers=="function"?s.push(...n.providers(r,n,i)):s.push(...n.providers)),n.direction&&(!a||!a.get(eo,null,{optional:!0}))&&s.push({provide:eo,useValue:CN(n.direction)}),Q.create({parent:a||o,providers:s})}_removeOpenDialog(n,r){let i=this.openDialogs.indexOf(n);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(n){if(n.parentElement){let r=n.parentElement.children;for(let i=r.length-1;i>-1;i--){let o=r[i];o!==n&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&!o.hasAttribute("popover")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Fv(e,t){let n=e.length;for(;n--;)t(e[n])}function _N(e,t){}var U8="_mat-bottom-sheet-enter",$8="_mat-bottom-sheet-exit",SN=(()=>{class e extends jv{_breakpointSubscription;_animationsDisabled=sv();_animationState="void";_animationStateChanged=new Me;_destroyed=!1;constructor(){super();let n=f(ov);this._breakpointSubscription=n.observe([ua.Medium,ua.Large,ua.XLarge]).subscribe(()=>{let r=this._elementRef.nativeElement.classList;r.toggle("mat-bottom-sheet-container-medium",n.isMatched(ua.Medium)),r.toggle("mat-bottom-sheet-container-large",n.isMatched(ua.Large)),r.toggle("mat-bottom-sheet-container-xlarge",n.isMatched(ua.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(U8))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation($8))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(n){this._ngZone.run(()=>{this._handleAnimationEvent(!0,n),setTimeout(()=>this._handleAnimationEvent(!1,n))})}_trapFocus(){super._trapFocus({preventScroll:!0})}_handleAnimationEvent(n,r){let i=r===U8;(i||r===$8)&&this._animationStateChanged.emit({toState:i?"visible":"hidden",phase:n?"start":"done"})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(r,i){r&1&&Ce("animationstart",function(a){return i._handleAnimationEvent(!0,a.animationName)})("animationend",function(a){return i._handleAnimationEvent(!1,a.animationName)})("animationcancel",function(a){return i._handleAnimationEvent(!1,a.animationName)}),r&2&&(ft("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-label",i._config.ariaLabel),je("mat-bottom-sheet-container-animations-enabled",!i._animationsDisabled)("mat-bottom-sheet-container-enter",i._animationState==="visible")("mat-bottom-sheet-container-exit",i._animationState==="hidden"))},features:[dt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){r&1&&tr(0,_N,0,0,"ng-template",0)},dependencies:[Ld],styles:[`@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}
`],encapsulation:2})}return e})(),Hv=new C("MatBottomSheetData"),Vv=class{viewContainerRef;injector;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},gf=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new q;_result;_closeFallbackTimeout;constructor(t,n,r){this._ref=t,this.containerInstance=r,this.disableClose=n.disableClose,r._animationStateChanged.pipe(qe(i=>i.phase==="done"&&i.toState==="visible"),lt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(qe(i=>i.phase==="done"&&i.toState==="hidden"),lt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),t.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),Ia(this.backdropClick(),this.keydownEvents().pipe(qe(i=>i.keyCode===27))).subscribe(i=>{!this.disableClose&&(i.type!=="keydown"||!af(i))&&(i.preventDefault(),this.dismiss())})}dismiss(t){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(qe(n=>n.phase==="start"),lt(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},IN=new C("mat-bottom-sheet-default-options"),W8=(()=>{class e{_injector=f(Q);_parentBottomSheet=f(e,{optional:!0,skipSelf:!0});_animationsDisabled=sv();_defaultOptions=f(IN,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=f(q8);get _openedBottomSheetRef(){let n=this._parentBottomSheet;return n?n._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(n){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=n:this._bottomSheetRefAtThisLevel=n}constructor(){}open(n,r){let i=m(m({},this._defaultOptions||new Vv),r),o;return this._dialog.open(n,x(m({},i),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:SN,scrollStrategy:i.scrollStrategy||sc(this._injector),positionStrategy:cc(this._injector).centerHorizontally().bottom("0"),disableAnimations:this._animationsDisabled,templateContext:()=>({bottomSheetRef:o}),providers:(a,s,c)=>(o=new gf(a,i,c),[{provide:gf,useValue:o},{provide:Hv,useValue:i.data}])})),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(n){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(n)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var xN=["valueInput"],DN=["noteInput"],EN=["historyScroll"],AN=(e,t)=>t.id;function TN(e,t){if(e&1){let n=at();R(0,"div",9)(1,"span",10),Ce("click",function(){let i=ce(n).$implicit,o=V();return le(o.edit(i,"note"))}),Ze(2),j(),R(3,"span",11),Ce("click",function(){let i=ce(n).$implicit,o=V();return le(o.edit(i,"value"))}),Ze(4),Rn(5,"currency"),j(),R(6,"input",12,1),Ce("click",function(){ce(n);let i=Ot(7);return le(i.select())})("blur",function(){ce(n);let i=V();return le(i.submit())})("keyup.enter",function(){ce(n);let i=V();return i.submit(),le(i.reset())}),j(),nr(),R(8,"input",13,2),Ce("click",function(){ce(n);let i=Ot(9);return le(i.select())})("blur",function(){ce(n);let i=V();return le(i.submit())})("keyup.enter",function(){ce(n);let i=V();return i.submit(),le(i.reset())}),j(),nr(),R(10,"button",14),Ce("click",function(){let i=ce(n).$implicit,o=V();return le(o.deleteHistory(i.id))}),j()()}if(e&2){let n=t.$implicit,r=t.$index,i=t.$count,o=V(),a="ml-2 my-2 p-4";je("border-b-gray-50",r!==i-1)("border-b",r!==i-1),H(),Ln(a),je("hidden",o.selectedEntry()===n.id),H(),xt(" ",n.note," "),H(),Ln(a),je("hidden",o.selectedEntry()===n.id),H(),xt(" ",On(5,28,n.value)," "),H(2),Ln(a),je("hidden",o.selectedEntry()!==n.id),ft("data-id",n.id),ei(o.form.note,"formField"),H(2),Ln(a),je("hidden",o.selectedEntry()!==n.id),ft("data-id",n.id),ei(o.form.value,"formField")}}function LN(e,t){e&1&&(R(0,"div",7),Ze(1,"Noch keine Eintr\xE4ge vorhanden."),j())}var mf=class e{facade=f(js);data=f(Hv);isAdded=this.facade.isHistoryEntryAdded;isMonthLoaded=this.facade.isMonthLoaded;selectedEntry=we(null);formModel=we(this.initForm());form=Ad(this.formModel);valueInputs=Xy("valueInput");noteInputs=Xy("noteInput");historyScroll=Bo("historyScroll");currentHistory=S(()=>{switch(this.data.kind){case"budgets":return this.facade.budgets().find(t=>t.id===this.data.row.id).history;case"variableCosts":return this.facade.variableCosts().find(t=>t.id===this.data.row.id).history;default:throw new Error(`History not found for ${this.data.kind}`)}});focusOnAdd=cn(()=>{this.isAdded()&&this.isMonthLoaded()&&$(()=>{let t=this.currentHistory();if(t.length===0)return;let n=t.at(-1);this.edit(n,this.data.row.category==="Amazon"?"note":"value"),setTimeout(()=>{let r=this.historyScroll()?.nativeElement;r&&r.scrollTo({top:r.scrollHeight,behavior:"smooth"})})})});addHistory(){switch(this.data.kind){case"budgets":this.facade.addBudgetHistoryEntry(this.data.row.id);break;case"variableCosts":this.facade.addVariableCostHistoryEntry(this.data.row.id);break;default:throw new Error(`History not found for ${this.data.kind}`)}}deleteHistory(t){switch(this.data.kind){case"budgets":this.facade.deleteBudgetHistoryEntry(this.data.row.id,t);break;case"variableCosts":this.facade.deleteVariableCostHistoryEntry(this.data.row.id,t);break;default:throw new Error(`History not found for ${this.data.kind}`)}this.facade.deleteBudgetHistoryEntry(this.data.row.id,t)}updateHistory(t){switch(this.data.kind){case"budgets":this.facade.updateBudgetHistoryEntry(this.data.row.id,t);break;case"variableCosts":this.facade.updateVariableCostHistoryEntry(this.data.row.id,t);break;default:throw new Error(`History not found for ${this.data.kind}`)}}edit(t,n){this.selectedEntry.set(t.id),this.setForm(t),setTimeout(()=>{let r=this.selectedEntry();if(r)switch(n){case"note":{this.noteInputs().find(o=>o.nativeElement.dataset.id===r).nativeElement.select();break}case"value":{this.valueInputs().find(o=>o.nativeElement.dataset.id===r).nativeElement.select();break}}})}submit(){this.updateHistory(this.formModel())}reset(){this.selectedEntry.set(null),this.formModel.set(this.initForm())}initForm(){return{id:null,value:null,date:null,note:""}}setForm(t){this.formModel.set({id:t.id,value:t.value,date:t.date,note:t.note??""})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-monthly-history"]],viewQuery:function(n,r){n&1&&zi(r.valueInputs,xN,5)(r.noteInputs,DN,5)(r.historyScroll,EN,5),n&2&&jo(3)},decls:9,vars:1,consts:[["historyScroll",""],["noteInput",""],["valueInput",""],[1,"flex","flex-col","gap-2","overflow-hidden","pb-2"],[1,"max-h-64","overflow-auto"],[1,"flex","w-full","flex-col","items-center","justify-center","**:text-white"],[1,"grid","w-full","grid-cols-[auto_6rem_min-content]","items-center","gap-2",3,"border-b-gray-50","border-b"],[1,"p-2"],["maffiButton","","icon","CirclePlus",1,"self-center",3,"click"],[1,"grid","w-full","grid-cols-[auto_6rem_min-content]","items-center","gap-2"],[3,"click"],[1,"m-0!","my-0!","w-full","text-right",3,"click"],[1,"w-full","rounded","border","border-blue-400","bg-gray-600","outline-none",3,"click","blur","keyup.enter","formField"],["type","number",1,"w-full","rounded","border","border-blue-400","bg-gray-600","text-right","outline-none",3,"click","blur","keyup.enter","formField"],["maffiButton","","icon","Trash",1,"mr-2",3,"click"]],template:function(n,r){if(n&1){let i=at();R(0,"section",3)(1,"div",4,0)(3,"div",5),ul(4,TN,11,30,"div",6,AN,!1,LN,2,0,"div",7),j()(),R(7,"button",8),Ce("click",function(){return ce(i),le(r.addHistory())}),Ze(8," Hinzuf\xFCgen "),j()()}n&2&&(H(4),hl(r.currentHistory()))},dependencies:[Pr,Yp,ii],encapsulation:2})};var RN=["category"],ON=["value"],PN=(e,t)=>({$implicit:e,last:t}),NN=e=>({$implicit:e}),FN=(e,t)=>t.id;function jN(e,t){e&1&&(R(0,"div",8),Ue(1,"div"),R(2,"span",11),Ze(3,"Forecast"),j(),R(4,"span",11),Ze(5,"Wert"),j(),Ue(6,"div"),j())}function VN(e,t){if(e&1&&Bi(0,9),e&2){let n=t.$implicit,r=t.$index,i=t.$count,o=V(2),a=Ot(3),s=Ot(5);ut("ngTemplateOutlet",o.useDataTemplate()==="values"?a:s)("ngTemplateOutletContext",zy(2,PN,n,r===i-1))}}function HN(e,t){if(e&1&&(R(0,"span"),Ze(1," Summe "),j(),R(2,"span",13),Ze(3),Rn(4,"currency"),j(),Ue(5,"div")),e&2){let n=V(3);H(3),xt(" ",On(4,1,n.total()))}}function BN(e,t){if(e&1){let n=at();R(0,"div",10),Lt(1,HN,6,3),R(2,"button",12),qa("animate-fade-out"),Oo("animate-fade-in"),Ce("click",function(i){return ce(n),V(2).addRow.emit(),le(i.stopPropagation())}),Ze(3," Hinzuf\xFCgen "),j()()}if(e&2){let n=V(2);H(),Rt(n.hasSum()?1:-1),H(),je("justify-self-end",n.hasSum())}}function zN(e,t){if(e&1&&(R(0,"section",6),Oo("animate-fade-in"),R(1,"header",7),Lt(2,jN,7,0,"div",8),j(),ul(3,VN,1,5,"ng-container",9,FN),Lt(5,BN,4,3,"div",10),j()),e&2){let n=V();H(2),Rt(n.useDataTemplate()==="valuesWithHistory"?2:-1),H(),hl(n.data()),H(2),Rt(n.isExpanded()?5:-1)}}function qN(e,t){if(e&1){let n=at();R(0,"app-string-input",19),Ce("blurred",function(){ce(n);let i=V(2);return le(i.submitAndReset())})("enterPress",function(){ce(n);let i=V(2);return le(i.onCategoryEnterPressed())}),j(),nr()}if(e&2){let n=V(2);ei(n.form.category,"formField")}}function UN(e,t){if(e&1){let n=at();R(0,"div",16)(1,"span",20),Ce("click",function(){ce(n);let i=V().$implicit,o=V();return le(o.editCategory(i))}),Ze(2),j()()}if(e&2){let n=V().$implicit;H(2),xt(" ",n.category," ")}}function $N(e,t){if(e&1){let n=at();R(0,"app-number-input",19),Ce("blurred",function(){ce(n);let i=V(2);return le(i.submitAndReset())})("enterPress",function(){ce(n);let i=V(2);return le(i.selectedField.set(null))}),j(),nr()}if(e&2){let n=V(2);ei(n.form.value,"formField")}}function WN(e,t){if(e&1){let n=at();R(0,"div",17)(1,"span",20),Ce("click",function(){ce(n);let i=V().$implicit,o=V();return le(o.editValue(i))}),Ze(2),Rn(3,"currency"),j()()}if(e&2){let n=V().$implicit;H(2),xt(" ",On(3,1,n.value)," ")}}function GN(e,t){}function KN(e,t){if(e&1){let n=at();R(0,"div",14),ti(1,null,2),Lt(3,qN,1,2,"app-string-input",15)(4,UN,3,1,"div",16),ni(),ti(5,null,3),Lt(7,$N,1,2,"app-number-input",15)(8,WN,4,3,"div",17),ni(),R(9,"div",null,4),tr(11,GN,0,0,"ng-template",9),j(),R(12,"button",18),Ce("click",function(){let i=ce(n).$implicit,o=V();return le(o.deleteRow.emit(i.id))}),j()()}if(e&2){let n=t.$implicit,r=t.last,i=V();je("border-b-0",r);let o=i.selectedRow()===n.id,a=i.selectedField()==="category";H(3),Rt(o&&a?3:4);let s=i.selectedField()==="value";H(4),Rt(o&&s?7:8),H(4),ut("ngTemplateOutlet",i.col3Template())("ngTemplateOutletContext",By(6,NN,n))}}function ZN(e,t){if(e&1){let n=at();R(0,"app-string-input",19),Ce("blurred",function(){ce(n);let i=V(2);return le(i.submitAndReset())})("enterPress",function(){ce(n);let i=V(2);return le(i.onCategoryEnterPressed())}),j(),nr()}if(e&2){let n=V(2);ei(n.form.category,"formField")}}function XN(e,t){if(e&1){let n=at();R(0,"div",16)(1,"span",20),Ce("click",function(){ce(n);let i=V().$implicit,o=V();return le(o.editCategory(i))}),Ze(2),j()()}if(e&2){let n=V().$implicit;H(2),xt(" ",n.category," ")}}function YN(e,t){if(e&1){let n=at();R(0,"app-number-input",23),Ce("blurred",function(){ce(n);let i=V(2);return le(i.submitAndReset())})("enterPress",function(){ce(n);let i=V(2);return le(i.selectedField.set(null))}),j(),nr()}if(e&2){let n=V(2);ei(n.form.forecast,"formField")}}function JN(e,t){if(e&1){let n=at();R(0,"div",17)(1,"span",20),Ce("click",function(){ce(n);let i=V().$implicit,o=V();return le(o.editForecast(i))}),Ze(2),Rn(3,"currency"),j()()}if(e&2){let n=V().$implicit;H(2),xt(" ",On(3,1,n.forecast)," ")}}function QN(e,t){if(e&1){let n=at();R(0,"div",21),ti(1,null,2),Lt(3,ZN,1,2,"app-string-input",15)(4,XN,3,1,"div",16),ni(),ti(5,null,5),Lt(7,YN,1,2,"app-number-input",22)(8,JN,4,3,"div",17),ni(),ti(9,null,3),R(11,"div",17)(12,"span",20),Ce("click",function(){let i=ce(n).$implicit,o=V();return le(o.editValue(i))}),Ze(13),Rn(14,"currency"),j()(),ni(),R(15,"button",18),Ce("click",function(){let i=ce(n).$implicit,o=V();return le(o.deleteRow.emit(i.id))}),j()()}if(e&2){let n=t.$implicit,r=t.last,i=V();je("border-b-0",r);let o=i.selectedRow()===n.id,a=i.selectedField()==="category";H(3),Rt(o&&a?3:4);let s=i.selectedField()==="forecast";H(4),Rt(o&&s?7:8),H(4),je("text-green-500",n.value<=n.forecast)("text-red-500",n.value>n.forecast),H(2),xt(" ",On(14,9,n.value)," ")}}var vf=class e{bottomSheet=f(W8);viewContainerRef=f(dn);isExpanded=ve.required();data=ve.required();isLoading=ve.required();isSaving=ve.required();isAdded=ve.required();total=ve.required();hasSum=ve(!0);col3Template=ve();useDataTemplate=ve("values");valuesWithHistoryKind=ve();updateRow=un();deleteRow=un();addRow=un();categoryRef=Bo("category");valueRef=Bo("value");selectedRow=we(null);selectedField=we(null);formModel=we(this.initForm());form=Ad(this.formModel);editCategory(t){this.setForm(t),this.selectedRow.set(t.id),this.selectedField.set("category"),setTimeout(()=>this.categoryRef()?.nativeElement.select())}editValue(t){t.category!=="Einkauf"&&(this.setForm(t),this.selectedRow.set(t.id),this.selectedField.set("value"),t.history&&this.bottomSheet.open(mf,{data:{row:t,kind:this.valuesWithHistoryKind()},viewContainerRef:this.viewContainerRef}))}editForecast(t){this.setForm(t),this.selectedRow.set(t.id),this.selectedField.set("forecast")}onCategoryEnterPressed(){this.selectedField.set("value"),setTimeout(()=>this.valueRef()?.nativeElement.select())}submitAndReset(){this.updateRow.emit(this.formModel()),this.selectedRow.set(null),this.selectedField.set(null),this.formModel.set(this.initForm())}initForm(){return{id:null,category:null,value:null,forecast:null}}setForm(t){this.formModel.set({id:t.id,category:t.category,value:t.value,forecast:t.forecast??null})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-money-table-content"]],viewQuery:function(n,r){n&1&&zi(r.categoryRef,RN,5)(r.valueRef,ON,5),n&2&&jo(2)},inputs:{isExpanded:[1,"isExpanded"],data:[1,"data"],isLoading:[1,"isLoading"],isSaving:[1,"isSaving"],isAdded:[1,"isAdded"],total:[1,"total"],hasSum:[1,"hasSum"],col3Template:[1,"col3Template"],useDataTemplate:[1,"useDataTemplate"],valuesWithHistoryKind:[1,"valuesWithHistoryKind"]},outputs:{updateRow:"updateRow",deleteRow:"deleteRow",addRow:"addRow"},decls:6,vars:1,consts:[["values",""],["valuesWithHistory",""],["categoryCell",""],["valueCell",""],["col3",""],["forecastCell",""],[1,"flex","w-full","flex-col","gap-3","rounded-lg","bg-gray-800","p-1"],[1,"empty:hidden"],[1,"grid","grid-cols-[43%_20%_18%_1fr]","items-center","gap-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"grid","w-full","grid-cols-[39%_20%_1fr_auto]","items-center","[&_span]:font-semibold"],[1,"text-right","text-sm"],["maffiButton","","size","small",1,"w-5",3,"click"],[1,"text-right"],[1,"grid","grid-cols-[40%_20%_1fr_auto]","items-center","justify-center","gap-2","border-b","border-b-gray-500","text-sm"],[3,"formField"],[1,"flex","items-center"],[1,"flex","items-center","justify-end"],["maffiButton","","icon","Trash","size","mini","theme","secondary",1,"mb-1","h-full",3,"click"],[3,"blurred","enterPress","formField"],[1,"h-full",3,"click"],[1,"grid","grid-cols-[40%_20%_20%_auto]","items-center","justify-center","gap-2","border-b","border-b-gray-500","text-sm"],[1,"*:w-20",3,"formField"],[1,"*:w-20",3,"blurred","enterPress","formField"]],template:function(n,r){n&1&&(R(0,"main"),Lt(1,zN,6,2,"section",6),j(),tr(2,KN,13,8,"ng-template",null,0,os)(4,QN,16,11,"ng-template",null,1,os)),n&2&&(H(),Rt(r.isExpanded()?1:-1))},dependencies:[Pr,Jp,Qp,Yp,bl,ii],encapsulation:2})};function eF(e,t){e&1&&Ue(0,"mat-spinner",9)}function tF(e,t){if(e&1&&(Ze(0),Rn(1,"currency")),e&2){let n=V(2);xt(" ",On(1,1,n.total())," ")}}function nF(e,t){if(e&1){let n=at();R(0,"header",5),Ce("click",function(){ce(n),V();let i=Ot(3);return le(i.toggle())}),Ue(1,"app-icon",6,1),R(3,"div",7,2)(5,"h2",8),Ze(6),j(),Lt(7,eF,1,0,"mat-spinner",9),j(),R(8,"h1",10),Lt(9,tF,2,3),j(),Ue(10,"app-icon",11,3),j(),R(12,"app-money-table-content",12),Ce("updateRow",function(i){ce(n);let o=V();return le(o.updateRow.emit(i))})("deleteRow",function(i){ce(n);let o=V();return le(o.deleteRow.emit(i))})("addRow",function(){ce(n);let i=V();return le(i.addRow.emit())}),j()}if(e&2){let n=V(),r=Ot(3);H(),ut("icon",n.headerIcon()),H(5),xt(" ",n.headerTitle()," "),H(),Rt(n.isSaving()?7:-1),H(2),Rt(r.expanded?-1:9),H(),ut("icon",r.expanded?"ChevronUp":"ChevronDown"),H(2),ut("isExpanded",r.expanded)("data",n.data())("isLoading",n.isLoading())("isSaving",n.isSaving())("isAdded",n.isAdded())("total",n.total())("hasSum",n.hasSum())("col3Template",n.col3Template())("useDataTemplate",n.useDataTemplate())("valuesWithHistoryKind",n.valuesWithHistoryKind())}}var G8=class e{data=ve.required();isLoading=ve.required();isSaving=ve.required();isAdded=ve.required();total=ve.required();headerIcon=ve.required();headerTitle=ve();hasSum=ve(!0);col3Template=ve();useDataTemplate=ve("values");valuesWithHistoryKind=ve();updateRow=un();deleteRow=un();addRow=un();static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-money-table-v2"]],inputs:{data:[1,"data"],isLoading:[1,"isLoading"],isSaving:[1,"isSaving"],isAdded:[1,"isAdded"],total:[1,"total"],headerIcon:[1,"headerIcon"],headerTitle:[1,"headerTitle"],hasSum:[1,"hasSum"],col3Template:[1,"col3Template"],useDataTemplate:[1,"useDataTemplate"],valuesWithHistoryKind:[1,"valuesWithHistoryKind"]},outputs:{updateRow:"updateRow",deleteRow:"deleteRow",addRow:"addRow"},decls:5,vars:3,consts:[["accItem","cdkAccordionItem"],["col1",""],["col2",""],["col3",""],[1,"flex","flex-col"],[1,"sticky","top-14","z-10","grid","w-full","grid-cols-[auto_32%_1fr_1rem]","items-center","gap-2","overflow-hidden","bg-gray-800","py-2","backdrop-blur","transition-all","duration-100","md:top-16",3,"click"],["size","medium",3,"icon"],[1,"flex","items-center","gap-2"],[1,"w-min","text-sm","font-semibold","text-gray-100"],["diameter","18"],[1,"text-(length:--text-xs)","leading-(--text-sm--line-height)","font-medium"],["size","small",1,"ml-1",3,"icon"],[3,"updateRow","deleteRow","addRow","isExpanded","data","isLoading","isSaving","isAdded","total","hasSum","col3Template","useDataTemplate","valuesWithHistoryKind"]],template:function(n,r){if(n&1&&(R(0,"mat-card")(1,"mat-card-content")(2,"cdk-accordion-item",4,0),Lt(4,nF,13,15),j()()()),n&2){let i=Ot(3);H(2),je("gap-3",i.expanded),H(2),Rt(r.headerTitle()?4:-1)}},dependencies:[Cp,bp,Y_,Qs,n8,vf,ii],encapsulation:2})};export{m as a,x as b,e6 as c,Uv as d,Ne as e,mc as f,ne as g,q as h,fo as i,ck as j,dk as k,pt as l,K as m,te as n,zf as o,bc as p,_6 as q,A as r,mo as s,qf as t,Uf as u,Ia as v,qe as w,yu as x,Ci as y,$f as z,lt as A,xa as B,Tk as C,Gf as D,Lk as E,Si as F,ye as G,Sn as H,vt as I,fn as J,M as K,Oe as L,C as M,Z as N,f as O,Jk as P,ce as Q,le as R,Q as S,oe as T,Ye as U,Me as V,be as W,In as X,vS as Y,we as Z,cn as _,$,ot as aa,Qn as ba,Se as ca,er as da,iw as ea,H as fa,nx as ga,Jn as ha,qt as ia,Tt as ja,dn as ka,ge as la,Fe as ma,de as na,ts as oa,qD as pa,dt as qa,tr as ra,ns as sa,a5 as ta,ft as ua,Oo as va,uE as wa,nr as xa,ei as ya,Lt as za,Rt as Aa,VE as Ba,HE as Ca,ul as Da,hl as Ea,ut as Fa,R as Ga,j as Ha,Ue as Ia,Vi as Ja,Hi as Ka,jy as La,ti as Ma,ni as Na,Bi as Oa,at as Pa,rs as Qa,Ce as Ra,Uh as Sa,V as Ta,vn as Ua,Ut as Va,is as Wa,Fo as Xa,Ar as Ya,Tr as Za,C5 as _a,zi as $a,jo as ab,Ot as bb,Vo as cb,je as db,u7 as eb,Ln as fb,Ze as gb,$h as hb,xt as ib,P5 as jb,S7 as kb,$t as lb,Kh as mb,By as nb,zy as ob,E7 as pb,A7 as qb,Rn as rb,On as sb,O7 as tb,os as ub,P7 as vb,Ho as wb,$y as xb,S as yb,qi as zb,Yh as Ab,un as Bb,ve as Cb,Bo as Db,Xy as Eb,RY as Fb,OY as Gb,Qh as Hb,Wt as Ib,Pt as Jb,gl as Kb,NY as Lb,bl as Mb,jA as Nb,HA as Ob,BA as Pb,ii as Qb,JJ as Rb,r9 as Sb,x9 as Tb,D9 as Ub,Vg as Vb,ys as Wb,jn as Xb,aL as Yb,hL as Zb,pL as _b,WC as $b,Zt as ac,$1 as bc,bs as cc,Te as dc,em as ec,Gl as fc,G1 as gc,K1 as hc,e3 as ic,Cs as jc,X1 as kc,Y1 as lc,J1 as mc,Ve as nc,We as oc,Ps as pc,soe as qc,Om as rc,js as sc,Qoe as tc,eo as uc,y_ as vc,bp as wc,yae as xc,Cp as yc,gae as zc,zs as Ac,Pp as Bc,Sp as Cc,dr as Dc,O_ as Ec,Rae as Fc,qO as Gc,kd as Hc,Pae as Ic,KO as Jc,XO as Kc,JO as Lc,tP as Mc,Nae as Nc,Fae as Oc,ZP as Pc,rc as Qc,gt as Rc,Qm as Sc,Nr as Tc,bse as Uc,ic as Vc,m8 as Wc,v8 as Xc,M8 as Yc,$le as Zc,Kle as _c,ade as $c,fi as ad,af as bd,sv as cd,$ae as dd,Wae as ed,Gae as fd,Kae as gd,Zae as hd,Xae as id,Yae as jd,Jae as kd,Qae as ld,ese as md,tse as nd,nse as od,rse as pd,ise as qd,ose as rd,ase as sd,sse as td,jp as ud,$s as vd,Pr as wd,Qs as xd,K_ as yd,Z_ as zd,oce as Ad,Y_ as Bd,n8 as Cd,Ace as Dd,Ad as Ed,Yp as Fd,Kce as Gd,tc as Hd,Ld as Id,Ide as Jd,sc as Kd,oc as Ld,cc as Md,mN as Nd,lc as Od,jv as Pd,q8 as Qd,Hv as Rd,W8 as Sd,G8 as Td,g8 as Ud};
