import{h as P,i as F,j as r,k as C,l as y,m as h,n as R,o as g,p as b,q as p,r as l}from"./chunk-YGY3DK22.js";import{E as m,ba as c,ha as v,kc as f,ma as i,y as n}from"./chunk-MCAXJ275.js";var S=class t{getFixedCosts(){return n(p.from("fixed_costs").select("*").order("id")).pipe(m(e=>e.data))}addFixedCost(e){return n(p.from("fixed_costs").insert(e).select("*").single()).pipe(m(s=>s.data))}updateFixedCost(e){return n(p.from("fixed_costs").update({category:e.category,value:e.value}).eq("id",e.id).select("*").single()).pipe(m(s=>s.data))}deleteFixedCost(e){return n(p.from("fixed_costs").delete().eq("id",e))}static \u0275fac=function(s){return new(s||t)};static \u0275prov=v({token:t,factory:t.\u0275fac})};var u=h({source:"Fixed Costs",events:{load:void 0,loadSuccess:void 0,add:void 0,addSuccess:void 0,addFailure:void 0,update:void 0,updateSuccess:void 0,updateFailure:void 0,delete:void 0,deleteSuccess:void 0,deleteFailure:void 0}}),o={load:u.load,loadSuccess:u.loadSuccess,add:u.add,addSuccess:u.addSuccess,addFailure:u.addFailure,update:u.update,updateSuccess:u.updateSuccess,updateFailure:u.updateFailure,delete:u.delete,deleteSuccess:u.deleteSuccess,deleteFailure:u.deleteFailure};function U(){let t=i(C),e=i(S);return{$load:t.on(o.load).pipe(c(()=>e.getFixedCosts().pipe(l({next:s=>o.loadSuccess(s),error:console.error})))),add$:t.on(o.add).pipe(c(({payload:s})=>e.addFixedCost(s).pipe(l({next:d=>o.addSuccess(d),error:d=>o.addFailure(d)})))),update$:t.on(o.update).pipe(c(({payload:s})=>e.updateFixedCost(s).pipe(l({next:d=>o.updateSuccess(d),error:d=>o.updateFailure(d)})))),delete$:t.on(o.delete).pipe(c(({payload:s})=>e.deleteFixedCost(s).pipe(l({next:()=>o.deleteSuccess(s),error:d=>o.deleteFailure(d)}))))}}var w=P(b("fixed-costs"),F({fixedCosts:new Array,loadProcessStatus:"init",saveProcessStatus:"init",addProcessStatus:"init"}),R(()=>U()),g(r(o.load,()=>({loadProcessStatus:"pending"})),r(o.loadSuccess,({payload:t})=>({fixedCosts:t??[],loadProcessStatus:"success"})),r(o.add,()=>({addProcessStatus:"pending"})),r(o.addSuccess,({payload:t},e)=>({fixedCosts:e.fixedCosts.concat(t),addProcessStatus:"success"})),r(o.update,()=>({saveProcessStatus:"pending"})),r(o.updateSuccess,({payload:t},e)=>({fixedCosts:e.fixedCosts.map(s=>s.id===t.id?t:s),saveProcessStatus:"success"})),r(o.deleteSuccess,({payload:t},e)=>({fixedCosts:e.fixedCosts.filter(s=>s.id!==t)}))));var A=class t{dispatcher=i(y);store=i(w);loadProcessStatus=this.store.loadProcessStatus;saveProcessStatus=this.store.saveProcessStatus;addProcessStatus=this.store.addProcessStatus;fixedCosts=this.store.fixedCosts;isLoading=f(()=>this.loadProcessStatus()==="pending");isSaving=f(()=>this.saveProcessStatus()==="pending");isAdded=f(()=>this.addProcessStatus()==="success");loadFixedCosts(){this.dispatcher.dispatch(o.load())}addFixedCost(e){this.dispatcher.dispatch(o.add(e))}updateFixedCost(e){this.dispatcher.dispatch(o.update(e))}deleteFixedCost(e){this.dispatcher.dispatch(o.delete(e))}static \u0275fac=function(s){return new(s||t)};static \u0275prov=v({token:t,factory:t.\u0275fac})};function ie(){return[S,A,w]}var a=h({source:"Revenue",events:{load:void 0,loadSuccess:void 0,add:void 0,addSuccess:void 0,addFailure:void 0,update:void 0,updateSuccess:void 0,updateFailure:void 0,delete:void 0,deleteSuccess:void 0,deleteFailure:void 0}});var x=class t{getRevenue(){return n(p.from("revenue").select("*").order("id")).pipe(m(e=>e.data))}addRevenue(e){return n(p.from("revenue").insert(e).select("*").single()).pipe(m(s=>s.data))}updateRevenue(e){return n(p.from("revenue").update({category:e.category,value:e.value}).eq("id",e.id).select("*").single()).pipe(m(s=>s.data))}deleteRevenue(e){return n(p.from("revenue").delete().eq("id",e))}static \u0275fac=function(s){return new(s||t)};static \u0275prov=v({token:t,factory:t.\u0275fac})};function k(){let t=i(C),e=i(x);return{$load:t.on(a.load).pipe(c(()=>e.getRevenue().pipe(l({next:s=>a.loadSuccess(s),error:console.error})))),add$:t.on(a.add).pipe(c(({payload:s})=>e.addRevenue(s).pipe(l({next:d=>a.addSuccess(d),error:d=>a.addFailure(d)})))),update$:t.on(a.update).pipe(c(({payload:s})=>e.updateRevenue(s).pipe(l({next:d=>a.updateSuccess(d),error:d=>a.updateFailure(d)})))),delete$:t.on(a.delete).pipe(c(({payload:s})=>e.deleteRevenue(s).pipe(l({next:()=>a.deleteSuccess(s),error:d=>a.deleteFailure(d)}))))}}var D=P(b("revenue"),F({revenue:new Array,loadProcessStatus:"init",saveProcessStatus:"init",addProcessStatus:"init"}),R(()=>k()),g(r(a.load,()=>({loadProcessStatus:"pending"})),r(a.loadSuccess,({payload:t})=>({revenue:t??[],loadProcessStatus:"success"})),r(a.add,()=>({addProcessStatus:"pending"})),r(a.addSuccess,({payload:t},e)=>({revenue:e.revenue.concat(t),addProcessStatus:"success"})),r(a.update,()=>({saveProcessStatus:"pending"})),r(a.updateSuccess,({payload:t},e)=>({revenue:e.revenue.map(s=>s.id===t.id?t:s),saveProcessStatus:"success"})),r(a.deleteSuccess,({payload:t},e)=>({revenue:e.revenue.filter(s=>s.id!==t)}))));var E=class t{dispatcher=i(y);store=i(D);loadProcessStatus=this.store.loadProcessStatus;saveProcessStatus=this.store.saveProcessStatus;addProcessStatus=this.store.addProcessStatus;revenue=this.store.revenue;isLoading=f(()=>this.loadProcessStatus()==="pending");isSaving=f(()=>this.saveProcessStatus()==="pending");isAdded=f(()=>this.addProcessStatus()==="success");loadRevenue(){this.dispatcher.dispatch(a.load())}addRevenue(e){this.dispatcher.dispatch(a.add(e))}updateRevenue(e){this.dispatcher.dispatch(a.update(e))}deleteRevenue(e){this.dispatcher.dispatch(a.delete(e))}static \u0275fac=function(s){return new(s||t)};static \u0275prov=v({token:t,factory:t.\u0275fac})};function Le(){return[x,E,D]}export{A as a,ie as b,E as c,Le as d};
