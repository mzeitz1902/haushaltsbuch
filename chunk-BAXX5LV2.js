import{a as H}from"./chunk-OOQORJ22.js";import{h as yo,i as we,j as bo,k as Co}from"./chunk-3VWP2IBB.js";import{a as ct}from"./chunk-6G5QV65G.js";import{a as co}from"./chunk-GHDSBMPP.js";import{$ as fe,$a as Je,A as k,Aa as w,Ab as ye,Ad as Fo,B as $t,Ba as D,Bd as ko,Ca as Kt,Cd as Ro,D as zt,Da as Xe,Dd as Oo,Ea as Ge,Eb as be,Ed as Po,F as Ye,Fa as g,Fb as X,Fd as Ho,Ga as l,Gc as ho,Gd as No,Ha as c,Hc as Ft,Hd as Lo,I as We,Ia as C,Id as Vo,Jb as no,K as W,Kb as ro,Kc as uo,Kd as Bo,Lb as ao,Ld as jo,M as E,Ma as Ie,Mb as tt,Mc as ot,Md as kt,N as Me,Na as Se,Nd as nt,O as s,Od as Yo,Pa as b,Pb as so,Pd as Oe,Q as u,Qa as St,Qb as lo,Qc as fo,Qd as rt,R as f,Ra as h,Rd as at,S as Y,Sa as d,Sc as it,Sd as Wo,T as ce,Ta as qe,Td as $o,Ua as Qe,Uc as go,Ud as st,V as Q,Va as Zt,Vc as _o,Vd as zo,W as $e,Wa as Ke,Wc as vo,Wd as Rt,X as ze,Xa as Ae,Xc as Re,Xd as ee,Ya as Fe,Yc as Ce,Yd as te,Z as N,Zc as xe,Zd as lt,_ as de,_a as Ze,_d as Uo,a as T,ab as et,b as se,ba as Ue,bb as Jt,ca as $,cb as U,d as Vt,da as ge,db as eo,e as he,ea as m,eb as pe,fb as _,ga as Ut,gb as K,h as B,ha as Te,hb as P,i as Et,ja as Xt,jb as At,ka as It,kb as to,la as v,mc as ke,n as j,na as _e,o as Bt,oa as Gt,oc as po,p as jt,pa as qt,pb as M,pd as xo,qa as ve,qb as L,qc as mo,qd as J,r as ue,ra as F,rb as Z,rd as wo,s as Be,t as Yt,td as Do,ua as z,ud as Mo,v as je,va as Ee,vb as I,vd as To,w as le,wa as Qt,wb as oo,wd as Eo,xb as io,xd as Io,y as Wt,ya as R,yb as V,yd as So,za as O,zb as S,zd as Ao}from"./chunk-MHI7PC6L.js";var xt=Vt(co());var dt=class i{facade=s(H);revenue=this.facade.revenue;total=this.facade.totalRevenue;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingRevenue;isAdded=this.facade.isRevenueAdded;addRevenue(){this.facade.addRevenue()}updateRevenue(n){this.facade.updateRevenue(n)}deleteRevenue(n){this.facade.deleteRevenue(n)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-revenue-month-table"]],decls:1,vars:5,consts:[["headerTitle","Einnahmen","headerIcon","BanknoteArrowUp",3,"addRow","updateRow","deleteRow","data","total","isLoading","isSaving","isAdded"]],template:function(e,t){e&1&&(l(0,"app-money-table",0),h("addRow",function(){return t.addRevenue()})("updateRow",function(r){return t.updateRevenue(r)})("deleteRow",function(r){return t.deleteRevenue(r)}),c()),e&2&&g("data",t.revenue())("total",t.total())("isLoading",t.isLoading())("isSaving",t.isSaving())("isAdded",t.isAdded())},dependencies:[lt],encapsulation:2})};var pt=class i{facade=s(H);fixedCosts=this.facade.fixedCosts;total=this.facade.totalFixedCosts;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingFixedCost;isAdded=this.facade.isFixedCostAdded;addFixedCost(){this.facade.addFixedCost()}updateFixedCost(n){this.facade.updateFixedCost(n)}deleteFixedCost(n){this.facade.deleteFixedCost(n)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-fixed-costs-month-table"]],decls:1,vars:5,consts:[["headerTitle","Fixkosten","headerIcon","BanknoteArrowDown",3,"addRow","updateRow","deleteRow","data","total","isLoading","isSaving","isAdded"]],template:function(e,t){e&1&&(l(0,"app-money-table",0),h("addRow",function(){return t.addFixedCost()})("updateRow",function(r){return t.updateFixedCost(r)})("deleteRow",function(r){return t.deleteFixedCost(r)}),c()),e&2&&g("data",t.fixedCosts())("total",t.total())("isLoading",t.isLoading())("isSaving",t.isSaving())("isAdded",t.isAdded())},dependencies:[lt],encapsulation:2})};var ui=["value"],fi=["note"],gi=(i,n)=>n.id;function _i(i,n){if(i&1){let e=b();l(0,"input",9,0),h("blur",function(){u(e);let o=d(2);return f(o.submitAndReset())}),c(),R()}if(i&2){let e=d(2);O(e.form.value)}}function vi(i,n){if(i&1){let e=b();l(0,"span",10),h("click",function(){u(e);let o=d().$implicit,r=d();return f(r.editValue(o))}),_(1),M(2,"currency"),c()}if(i&2){let e=d().$implicit;m(),P(" ",Z(2,1,e.value,"EUR")," ")}}function yi(i,n){if(i&1){let e=b();l(0,"input",11,1),h("blur",function(){u(e);let o=d(2);return f(o.submitAndReset())}),c(),R()}if(i&2){let e=d(2);O(e.form.note)}}function bi(i,n){if(i&1){let e=b();l(0,"span",12),h("click",function(){u(e);let o=d().$implicit,r=d();return f(r.editNote(o))}),_(1),c()}if(i&2){let e=d().$implicit;m(),K(e.note)}}function Ci(i,n){if(i&1){let e=b();l(0,"span",3),w(1,_i,2,2,"input",5)(2,vi,3,4,"span",6),l(3,"span"),_(4),M(5,"date"),c(),w(6,yi,2,2,"input",7)(7,bi,2,1,"span"),l(8,"button",8),h("click",function(){let o=u(e).$implicit,r=d();return f(r.deleteHistory.emit(o.id))}),c()()}if(i&2){let e=n.$implicit,t=d();m(),D(t.selectedEntry()===e.id?1:2),m(3),K(L(5,3,e.date)),m(2),D(t.selectedEntry()===e.id?6:7)}}function xi(i,n){i&1&&_(0," Keine Historie vorhanden. ")}var mt=class i{facade=s(H);row=S.required();addHistory=V();updateHistory=V();deleteHistory=V();isAdded=this.facade.isHistoryEntryAdded;isMonthLoaded=this.facade.isMonthLoaded;selectedEntry=N(null);formModel=N(this.initForm());form=ee(this.formModel);valueRef=ye("value");noteRef=ye("note");history=I(()=>this.row().history);focusValueOnAdd=de(()=>{this.isAdded()&&this.isMonthLoaded()&&fe(()=>{let n=this.history();if(n.length===0)return;let e=n.at(-1);this.editValue(e)})});update(){this.updateHistory.emit(this.form().value())}editValue(n){this.setForm(n),this.selectedEntry.set(n.id),setTimeout(()=>this.valueRef()?.nativeElement.select())}editNote(n){this.setForm(n),this.selectedEntry.set(n.id),setTimeout(()=>this.noteRef()?.nativeElement.select())}submitAndReset(){this.update(),this.selectedEntry.set(null),this.formModel.set(this.initForm())}initForm(){return{id:null,value:null,date:null,note:""}}setForm(n){this.formModel.set({id:n.id,value:n.value,date:n.date,note:n.note??""})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-history"]],viewQuery:function(e,t){e&1&&Ze(t.valueRef,ui,5)(t.noteRef,fi,5),e&2&&Je(2)},inputs:{row:[1,"row"]},outputs:{addHistory:"addHistory",updateHistory:"updateHistory",deleteHistory:"deleteHistory"},decls:6,vars:1,consts:[["value",""],["note",""],[1,"mb-2","flex","flex-col","gap-1"],[1,"grid","grid-cols-[2.5rem_4rem_4rem_min-content]","items-center","gap-4"],["maffiButton","","size","mini","icon","CirclePlus",1,"w-full","!justify-center",3,"click"],["type","number",1,"w-10","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"field"],[1,"self-right","flex","w-8","justify-end"],["type","text",1,"w-20","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"field"],["maffiButton","","icon","CircleMinus",3,"click"],["type","number",1,"w-10","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"blur","field"],[1,"self-right","flex","w-8","justify-end",3,"click"],["type","text",1,"w-20","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"blur","field"],[3,"click"]],template:function(e,t){e&1&&(l(0,"div",2),Xe(1,Ci,9,5,"span",3,gi,!1,xi,1,0),c(),l(4,"button",4),h("click",function(){return t.addHistory.emit()}),_(5,` Hinzuf\xFCgen
`),c()),e&2&&(m(),Ge(t.history()))},dependencies:[J,te,tt,ro],encapsulation:2})};var Ti=["*"];function Ei(i,n){if(i&1&&C(0,"div",3),i&2){let e=d(2);eo(e.arrowStyles)}}function Ii(i,n){if(i&1){let e=b();l(0,"div",0),h("keydown",function(o){u(e);let r=d();return f(r._handleKeydown(o))})("click",function(){u(e);let o=d();return f(o._handleClick())})("mouseover",function(){u(e);let o=d();return f(o._handleMouseOver())})("mouseleave",function(){u(e);let o=d();return f(o._handleMouseLeave())})("animationstart",function(o){u(e);let r=d();return f(r._onAnimationStart(o.animationName))})("animationend",function(o){u(e);let r=d();return f(r._onAnimationDone(o.animationName))})("animationcancel",function(o){u(e);let r=d();return f(r._onAnimationDone(o.animationName))}),l(1,"div",1),Qe(2),c(),w(3,Ei,1,2,"div",2),c()}if(i&2){let e=d();pe(e._classList),U("mtx-popover-panel-animations-disabled",e._animationsDisabled)("mtx-popover-panel-exit-animation",e._panelAnimationState==="void")("mtx-popover-panel-animating",e._isAnimating)("mtx-popover-panel-without-arrow",e.hideArrow),g("id",e.panelId)("cdkTrapFocus",e.focusTrapEnabled)("cdkTrapFocusAutoCapture",e.focusTrapAutoCaptureEnabled),z("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null),m(3),D(e.hideArrow?-1:3)}}var Si=new E("MtxPopoverContent");function Ai(){throw Error(`mtx-popover-trigger: must pass in an mtx-popover instance.

    Example:
      <mtx-popover #popover="mtxPopover"></mtx-popover>
      <button [mtxPopoverTriggerFor]="popover"></button>`)}function Fi(){throw Error(`mtxPopoverPosition[0] value must be either 'above', 'below', 'before' or 'after'.
    Example: <mtx-popover [position]="['below', 'after']" #popover="mtxPopover"></mtx-popover>`)}function ki(){throw Error(`mtxPopoverPosition[1] value must be either 'above', 'below', 'before', 'after' or 'center'.
    Example: <mtx-popover [position]="['below', 'after']" #popover="mtxPopover"></mtx-popover>`)}var Ri=new E("mtx-popover-default-options",{providedIn:"root",factory:()=>({backdropClass:"cdk-overlay-transparent-backdrop"})}),Oi=0,Ot="_mtx-popover-enter",ht="_mtx-popover-exit",ut=(()=>{class i{constructor(){this._changeDetectorRef=s(be),this._elementRef=s($),this._unusedNgZone=s($e),this._defaultOptions=s(Ri),this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._animationsDisabled=xe(),this._classList={},this._panelAnimationState="void",this._animationDone=new B,this._isAnimating=!1,this.closeDisabled=!1,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this.triggerEvent=this._defaultOptions.triggerEvent??"hover",this.enterDelay=this._defaultOptions.enterDelay??100,this.leaveDelay=this._defaultOptions.leaveDelay??100,this._position=this._defaultOptions.position??["below","after"],this.xOffset=this._defaultOptions.xOffset??0,this.yOffset=this._defaultOptions.yOffset??0,this.arrowWidth=this._defaultOptions.arrowWidth??16,this.arrowHeight=this._defaultOptions.arrowHeight??16,this.arrowOffsetX=this._defaultOptions.arrowOffsetX??20,this.arrowOffsetY=this._defaultOptions.arrowOffsetY??20,this.hideArrow=this._defaultOptions.hideArrow??!1,this.closeOnPanelClick=this._defaultOptions.closeOnPanelClick??!1,this.closeOnBackdropClick=this._defaultOptions.closeOnBackdropClick??!0,this.focusTrapEnabled=this._defaultOptions.focusTrapEnabled??!1,this.focusTrapAutoCaptureEnabled=this._defaultOptions.focusTrapAutoCaptureEnabled??!1,this.hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Q,this.panelId=`mtx-popover-panel-${Oi++}`}get position(){return this._position}set position(e){["before","after","above","below"].includes(e[0])||Fi(),["before","after","above","below","center"].includes(e[1])||ki(),this._position=e,this.setPositionClasses()}set panelClass(e){let t=this._previousPanelClass,o=T({},this._classList);t&&t.length&&t.split(" ").forEach(r=>{o[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{o[r]=!0}),this._elementRef.nativeElement.className="",this.setPositionClasses()),this._classList=o}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngOnDestroy(){this.closed.complete(),clearTimeout(this._exitFallbackTimeout)}_handleKeydown(e){switch(e.keyCode){case 27:Ce(e)||(e.preventDefault(),this.closed.emit("keydown"));break}}_handleClick(){this.closeOnPanelClick&&this.closed.emit("click")}_handleMouseOver(){this.triggerEvent==="hover"&&(this.closeDisabled=!0)}_handleMouseLeave(){this.triggerEvent==="hover"&&setTimeout(()=>{this.closeDisabled=!1,this.closed.emit()},this.leaveDelay)}setCurrentStyles(e=this.position){let t=e[1]==="after"?`${this.arrowOffsetX-this.arrowWidth/2}px`:e[1]==="center"?`calc(50% - ${this.arrowWidth/2}px)`:"",o=e[1]==="before"?`${this.arrowOffsetX-this.arrowWidth/2}px`:"",r=e[1]==="above"?`${this.arrowOffsetY-this.arrowHeight/2}px`:e[1]==="center"?`calc(50% - ${this.arrowHeight/2}px)`:"",a=e[1]==="below"?`${this.arrowOffsetY-this.arrowHeight/2}px`:"";this.arrowStyles=e[0]==="above"||e[0]==="below"?{left:this.direction==="ltr"?t:o,right:this.direction==="ltr"?o:t}:{top:a,bottom:r}}setPositionClasses(e=this.position){this._classList=se(T({},this._classList),{"mtx-popover-before-above":e[0]==="before"&&e[1]==="above","mtx-popover-before-center":e[0]==="before"&&e[1]==="center","mtx-popover-before-below":e[0]==="before"&&e[1]==="below","mtx-popover-after-above":e[0]==="after"&&e[1]==="above","mtx-popover-after-center":e[0]==="after"&&e[1]==="center","mtx-popover-after-below":e[0]==="after"&&e[1]==="below","mtx-popover-above-before":e[0]==="above"&&e[1]==="before","mtx-popover-above-center":e[0]==="above"&&e[1]==="center","mtx-popover-above-after":e[0]==="above"&&e[1]==="after","mtx-popover-below-before":e[0]==="below"&&e[1]==="before","mtx-popover-below-center":e[0]==="below"&&e[1]==="center","mtx-popover-below-after":e[0]==="below"&&e[1]==="after"}),this._changeDetectorRef.markForCheck()}setElevation(){if(this._baseElevation===null){let a=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mtx-popover-base-elevation-level")||"8";this._baseElevation=parseInt(a)}let e=Math.min(this._baseElevation,24),t=`${this._elevationPrefix}${e}`,o=Object.keys(this._classList).find(r=>r.startsWith(this._elevationPrefix));if(!o||o===this._previousElevation){let r=T({},this._classList);this._previousElevation&&(r[this._previousElevation]=!1),r[t]=!0,this._previousElevation=t,this._classList=r}}_onAnimationDone(e){let t=e===ht;(t||e===Ot)&&(t&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(t?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===Ot||e===ht)&&(this._isAnimating=!0)}_setIsOpen(e){this._panelAnimationState=e?"enter":"void",e||this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(ht),200)),this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?Ot:ht)}),this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=v({type:i,selectors:[["mtx-popover"]],contentQueries:function(t,o,r){if(t&1&&Zt(r,Si,5),t&2){let a;Ae(a=Fe())&&(o.lazyContent=a.first)}},viewQuery:function(t,o){if(t&1&&Ke(Te,5),t&2){let r;Ae(r=Fe())&&(o.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],triggerEvent:"triggerEvent",enterDelay:"enterDelay",leaveDelay:"leaveDelay",position:"position",xOffset:"xOffset",yOffset:"yOffset",arrowWidth:"arrowWidth",arrowHeight:"arrowHeight",arrowOffsetX:"arrowOffsetX",arrowOffsetY:"arrowOffsetY",hideArrow:[2,"hideArrow","hideArrow",X],closeOnPanelClick:[2,"closeOnPanelClick","closeOnPanelClick",X],closeOnBackdropClick:[2,"closeOnBackdropClick","closeOnBackdropClick",X],focusTrapEnabled:[2,"focusTrapEnabled","focusTrapEnabled",X],focusTrapAutoCaptureEnabled:[2,"focusTrapAutoCaptureEnabled","focusTrapAutoCaptureEnabled",X],hasBackdrop:[2,"hasBackdrop","hasBackdrop",X],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed"},exportAs:["mtxPopover"],ngContentSelectors:Ti,decls:1,vars:0,consts:[["tabindex","-1","role","dialog",1,"mtx-popover-panel",3,"keydown","click","mouseover","mouseleave","animationstart","animationend","animationcancel","id","cdkTrapFocus","cdkTrapFocusAutoCapture"],[1,"mtx-popover-content"],[1,"mtx-popover-direction-arrow",3,"style"],[1,"mtx-popover-direction-arrow"]],template:function(t,o){t&1&&(qe(),F(0,Ii,4,17,"ng-template"))},dependencies:[vo],styles:[`@keyframes _mtx-popover-enter{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:none}}@keyframes _mtx-popover-exit{0%{opacity:1}to{opacity:0}}.mtx-popover-panel{position:relative;max-height:calc(100vh - 48px);padding:8px;font-size:inherit;outline:0;animation:_mtx-popover-enter .12s cubic-bezier(0,0,.2,1);border-radius:var(--mtx-popover-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mtx-popover-background-color, var(--mat-sys-surface-container));color:var(--mtx-popover-text-color, var(--mat-sys-on-surface))}.mtx-popover-panel.mtx-popover-panel-exit-animation{animation:_mtx-popover-exit .1s 25ms linear forwards}.mtx-popover-panel.mtx-popover-panel-animations-disabled{animation:none}.mtx-popover-panel.mtx-popover-panel-animating{pointer-events:none}.mtx-popover-panel[class*=mtx-popover-below]{margin-top:calc(.5em + 2px)}.mtx-popover-panel[class*=mtx-popover-above]{margin-bottom:calc(.5em + 2px)}.mtx-popover-panel[class*=mtx-popover-before]{margin-right:calc(.5em + 2px)}[dir=rtl] .mtx-popover-panel[class*=mtx-popover-before]{margin-right:auto;margin-left:calc(.5em + 2px)}.mtx-popover-panel[class*=mtx-popover-after]{margin-left:calc(.5em + 2px)}[dir=rtl] .mtx-popover-panel[class*=mtx-popover-after]{margin-left:auto;margin-right:calc(.5em + 2px)}.mtx-popover-panel.mtx-popover-panel-without-arrow{margin:0}.mtx-popover-direction-arrow{position:absolute}.mtx-popover-direction-arrow:before,.mtx-popover-direction-arrow:after{position:absolute;display:inline-block;content:"";border-width:.5em;border-style:solid}.mtx-popover-direction-arrow:before{border-color:var(--mtx-popover-outline-color, var(--mat-sys-surface-container))}.mtx-popover-direction-arrow:after{border-width:calc(.5em - 1px);border-color:var(--mtx-popover-background-color, var(--mat-sys-surface-container))}[class*=mtx-popover-below] .mtx-popover-direction-arrow,[class*=mtx-popover-above] .mtx-popover-direction-arrow{width:1em}[class*=mtx-popover-below] .mtx-popover-direction-arrow:before,[class*=mtx-popover-below] .mtx-popover-direction-arrow:after,[class*=mtx-popover-above] .mtx-popover-direction-arrow:before,[class*=mtx-popover-above] .mtx-popover-direction-arrow:after{border-left-color:transparent;border-right-color:transparent}[class*=mtx-popover-below] .mtx-popover-direction-arrow:after,[class*=mtx-popover-above] .mtx-popover-direction-arrow:after{left:1px}[dir=rtl] [class*=mtx-popover-below] .mtx-popover-direction-arrow:after,[dir=rtl] [class*=mtx-popover-above] .mtx-popover-direction-arrow:after{right:1px;left:auto}[class*=mtx-popover-below] .mtx-popover-direction-arrow{top:0}[class*=mtx-popover-below] .mtx-popover-direction-arrow:before,[class*=mtx-popover-below] .mtx-popover-direction-arrow:after{bottom:0;border-top-width:0}[class*=mtx-popover-above] .mtx-popover-direction-arrow{bottom:0}[class*=mtx-popover-above] .mtx-popover-direction-arrow:before,[class*=mtx-popover-above] .mtx-popover-direction-arrow:after{top:0;border-bottom-width:0}[class*=mtx-popover-before] .mtx-popover-direction-arrow,[class*=mtx-popover-after] .mtx-popover-direction-arrow{height:1em}[class*=mtx-popover-before] .mtx-popover-direction-arrow:before,[class*=mtx-popover-before] .mtx-popover-direction-arrow:after,[class*=mtx-popover-after] .mtx-popover-direction-arrow:before,[class*=mtx-popover-after] .mtx-popover-direction-arrow:after{border-top-color:transparent;border-bottom-color:transparent}[class*=mtx-popover-before] .mtx-popover-direction-arrow:after,[class*=mtx-popover-after] .mtx-popover-direction-arrow:after{top:1px}[class*=mtx-popover-before] .mtx-popover-direction-arrow{right:0}[class*=mtx-popover-before] .mtx-popover-direction-arrow:before,[class*=mtx-popover-before] .mtx-popover-direction-arrow:after{left:0;border-right-width:0}[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow{right:auto;left:0}[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow:before,[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow:after{left:auto;right:0;border-left-width:0}[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow:before{border-right-width:.5em}[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow:after{border-right-width:calc(.5em - 1px)}[class*=mtx-popover-after] .mtx-popover-direction-arrow{left:0}[class*=mtx-popover-after] .mtx-popover-direction-arrow:before,[class*=mtx-popover-after] .mtx-popover-direction-arrow:after{right:0;border-left-width:0}[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow{left:auto;right:0}[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow:before,[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow:after{right:auto;left:0;border-right-width:0}[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow:before{border-left-width:.5em}[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow:after{border-left-width:calc(.5em - 1px)}
`],encapsulation:2,changeDetection:0})}}return i})();var Pi=new E("mtx-popover-scroll-strategy",{providedIn:"root",factory:()=>{let i=s(Rt);return()=>i.scrollStrategies.reposition()}}),Go=(()=>{class i{constructor(){this._overlay=s(Rt),this._elementRef=s($),this._viewContainerRef=s(It),this._dir=s(ke,{optional:!0}),this._changeDetectorRef=s(be),this._focusMonitor=s(it),this._overlayRef=null,this._popoverOpen=!1,this._halt=!1,this._positionSubscription=he.EMPTY,this._popoverCloseSubscription=he.EMPTY,this._closingActionsSubscription=he.EMPTY,this._scrollStrategy=s(Pi),this._openedBy=void 0,this.popoverOpened=new Q,this.popoverClosed=new Q}get popover(){return this._popover}set popover(e){e!==this._popover&&(this._popover=e,this._popoverCloseSubscription.unsubscribe(),e&&(this._popoverCloseSubscription=e.closed.subscribe(t=>{this._destroyPopover(t)})))}ngAfterContentInit(){this._checkPopover(),this._setCurrentConfig()}ngOnDestroy(){this._halt=!0,this._positionSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),this._popoverCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}_setCurrentConfig(){this.triggerEvent&&(this.popover.triggerEvent=this.triggerEvent),this.popover.setCurrentStyles()}get popoverOpen(){return this._popoverOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_handleClick(e){this.popover.triggerEvent==="click"&&this.togglePopover()}_handleMouseEnter(e){this._halt=!1,this.popover.triggerEvent==="hover"&&(this._mouseoverTimer=setTimeout(()=>{this.openPopover()},this.popover.enterDelay))}_handleMouseLeave(e){this.popover.triggerEvent==="hover"&&(this._mouseoverTimer&&(clearTimeout(this._mouseoverTimer),this._mouseoverTimer=null),this._popoverOpen?setTimeout(()=>{this.popover.closeDisabled||this.closePopover()},this.popover.leaveDelay):this._halt=!0)}_handleMousedown(e){fo(e)||(this._openedBy=e.button===0?"mouse":void 0)}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard")}togglePopover(){return this._popoverOpen?this.closePopover():this.openPopover()}openPopover(){if(this._popoverOpen||this._halt)return;this._checkPopover(),this._pendingRemoval?.unsubscribe();let e=this._createOverlay(),t=e.getConfig();this._setPosition(t.positionStrategy),this.popover.triggerEvent==="click"&&(t.hasBackdrop=this.popover.hasBackdrop??!0),e.attach(this._getPortal()),this.popover.lazyContent&&this.popover.lazyContent.attach(this.popoverData),this._closingActionsSubscription=this._popoverClosingActions().subscribe(()=>this.closePopover()),this._initPopover(),this.popover instanceof ut&&this.popover._setIsOpen(!0)}closePopover(){this.popover.closed.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._elementRef,e,t):this._elementRef.nativeElement.focus(t)}_destroyPopover(e){let t=this._overlayRef;if(!t||!this.popoverOpen)return;this._mouseoverTimer&&(clearTimeout(this._mouseoverTimer),this._mouseoverTimer=null);let o=this.popover;this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),t.detach(),o instanceof ut?this._pendingRemoval=o._animationDone.pipe(le(r=>r==="void"),k(1)).subscribe(()=>{o.lazyContent?.detach()}):o.lazyContent?.detach(),this._openedBy=void 0,this._setIsPopoverOpen(!1)}_initPopover(){this.popover.direction=this.dir,this.popover.setElevation(),this._setIsPopoverOpen(!0)}_setIsPopoverOpen(e){e!==this._popoverOpen&&(this._popoverOpen=e,this._popoverOpen?this.popoverOpened.emit():this.popoverClosed.emit(),this._changeDetectorRef.markForCheck())}_checkPopover(){this.popover||Ai()}_createOverlay(){if(this._overlayRef)this._overlayRef.getConfig().positionStrategy.setOrigin(this._getTargetElement());else{let e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e)}return this._overlayRef}_getOverlayConfig(){return new at({positionStrategy:this._overlay.position().flexibleConnectedTo(this._getTargetElement()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mtx-popover-panel"),backdropClass:this.popover.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.popover.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||void 0})}_getTargetElement(){return this.targetElement?this.targetElement.elementRef:this._elementRef}_subscribeToPositions(e){this._positionSubscription=e.positionChanges.subscribe(t=>{let o=t.connectionPair.overlayX==="start"?"after":t.connectionPair.overlayX==="end"?"before":"center",r=t.connectionPair.overlayY==="top"?"below":t.connectionPair.overlayY==="bottom"?"above":"center",a=this.popover.position[0]==="above"||this.popover.position[0]==="below"?[r,o]:[o,r];this._changeDetectorRef.markForCheck(),this.popover.setCurrentStyles(a),this.popover.setPositionClasses(a)})}_setPosition(e){let[t,o,r]=this.popover.position[0]==="before"||this.popover.position[1]==="after"?["start","center","end"]:this.popover.position[0]==="after"||this.popover.position[1]==="before"?["end","center","start"]:["center","start","end"],[a,p,y]=this.popover.position[0]==="above"||this.popover.position[1]==="below"?["top","center","bottom"]:this.popover.position[0]==="below"||this.popover.position[1]==="above"?["bottom","center","top"]:["center","top","bottom"],[x,q]=this.popover.position[0]==="below"||this.popover.position[0]==="above"?[t,t]:this.popover.position[0]==="before"?["end","start"]:["start","end"],[ne,wt]=this.popover.position[0]==="before"||this.popover.position[0]==="after"?[a,a]:this.popover.position[0]==="below"?["top","bottom"]:["bottom","top"],Dt=x,Mt=ne,re=this.popover.xOffset&&!isNaN(Number(this.popover.xOffset))?Number(this.dir==="ltr"?this.popover.xOffset:-this.popover.xOffset):0,ae=this.popover.yOffset&&!isNaN(Number(this.popover.yOffset))?Number(this.popover.yOffset):0,Tt=[{originX:t,originY:a,overlayX:x,overlayY:ne}];(this.popover.position[0]==="above"||this.popover.position[0]==="below")&&(Tt=[{originX:t,originY:a,overlayX:x,overlayY:ne,offsetY:ae},{originX:o,originY:a,overlayX:o,overlayY:ne,offsetY:ae},{originX:r,originY:a,overlayX:r,overlayY:ne,offsetY:ae},{originX:t,originY:Mt,overlayX:x,overlayY:wt,offsetY:-ae},{originX:o,originY:Mt,overlayX:o,overlayY:wt,offsetY:-ae},{originX:r,originY:Mt,overlayX:r,overlayY:wt,offsetY:-ae}]),(this.popover.position[0]==="before"||this.popover.position[0]==="after")&&(Tt=[{originX:t,originY:a,overlayX:x,overlayY:ne,offsetX:re},{originX:t,originY:p,overlayX:x,overlayY:p,offsetX:re},{originX:t,originY:y,overlayX:x,overlayY:y,offsetX:re},{originX:Dt,originY:a,overlayX:q,overlayY:ne,offsetX:-re},{originX:Dt,originY:p,overlayX:q,overlayY:p,offsetX:-re},{originX:Dt,originY:y,overlayX:q,overlayY:y,offsetX:-re}]),e.withPositions(Tt).withDefaultOffsetX(re).withDefaultOffsetY(ae)}_popoverClosingActions(){let e=this.popover.triggerEvent==="click"&&this.popover.closeOnBackdropClick===!0?this._overlayRef.backdropClick():j(),t=this._overlayRef.detachments();return je(e,t)}_getPortal(){return(!this._portal||this._portal.templateRef!==this.popover.templateRef)&&(this._portal=new nt(this.popover.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275dir=_e({type:i,selectors:[["","mtx-popover-trigger-for",""],["","mtxPopoverTriggerFor",""]],hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(t,o){t&1&&h("click",function(a){return o._handleClick(a)})("mouseenter",function(a){return o._handleMouseEnter(a)})("mouseleave",function(a){return o._handleMouseLeave(a)})("mousedown",function(a){return o._handleMousedown(a)})("keydown",function(a){return o._handleKeydown(a)}),t&2&&z("aria-expanded",o.popoverOpen)("aria-controls",o.popoverOpen?o.popover.panelId:null)},inputs:{popover:[0,"mtxPopoverTriggerFor","popover"],popoverData:[0,"mtxPopoverTriggerData","popoverData"],targetElement:[0,"mtxPopoverTargetAt","targetElement"],triggerEvent:[0,"mtxPopoverTriggerOn","triggerEvent"]},outputs:{popoverOpened:"popoverOpened",popoverClosed:"popoverClosed"},exportAs:["mtxPopoverTrigger"]})}}return i})();var Hi=["category"],Ni=["forecast"],Li=()=>["above","before"];function Vi(i,n){i&1&&C(0,"mat-spinner",11)}function Bi(i,n){i&1&&C(0,"td",36)}function ji(i,n){if(i&1){let e=b();l(0,"input",40,3),h("blur",function(){u(e);let o=d(2);return f(o.updateAndReset())})("keyup.enter",function(){u(e);let o=d(2);return f(o.onCategoryEnterPressed())}),c(),R()}if(i&2){let e=d(2);O(e.form.category)}}function Yi(i,n){if(i&1){let e=b();l(0,"div",41),h("click",function(){u(e);let o=d().$implicit,r=d();return f(r.editCategory(o))}),l(1,"span"),_(2),c()()}if(i&2){let e=d().$implicit;m(2),P(" ",e.category," ")}}function Wi(i,n){if(i&1&&(l(0,"td",37),w(1,ji,2,2,"input",38)(2,Yi,3,1,"div",39),c()),i&2){let e=n.$implicit,t=d();m(),D(t.selectedRow()===e.id&&t.selectedField()==="category"?1:2)}}function $i(i,n){i&1&&(l(0,"td",42),_(1," Summe "),c())}function zi(i,n){i&1&&(l(0,"td",43),_(1," Forecast "),c())}function Ui(i,n){if(i&1){let e=b();l(0,"input",47,4),h("blur",function(){u(e);let o=d(2);return f(o.updateAndReset())}),c(),R()}if(i&2){let e=d(2);O(e.form.forecast)}}function Xi(i,n){if(i&1){let e=b();l(0,"div",48),h("click",function(){u(e);let o=d().$implicit,r=d();return f(r.editForecast(o))}),l(1,"span"),_(2),M(3,"currency"),c()()}if(i&2){let e=d().$implicit;m(2),P(" ",Z(3,1,e.forecast,"EUR")," ")}}function Gi(i,n){if(i&1&&(l(0,"td",44),w(1,Ui,2,2,"input",45)(2,Xi,4,4,"div",46),c()),i&2){let e=n.$implicit,t=d();m(),D(t.selectedRow()===e.id&&t.selectedField()==="forecast"?1:2)}}function qi(i,n){if(i&1&&(l(0,"td",49),_(1),M(2,"currency"),c()),i&2){let e=d();m(),P(" ",Z(2,1,e.forecastTotal(),"EUR")," ")}}function Qi(i,n){i&1&&(l(0,"td",43),_(1," Wert "),c())}function Ki(i,n){if(i&1){let e=b();l(0,"td",50)(1,"span",51),_(2),M(3,"currency"),c(),l(4,"mtx-popover",52,5)(6,"app-history",53),h("addHistory",function(){let o=u(e).$implicit,r=d();return f(r.addHistory.emit(o.id))})("deleteHistory",function(o){let r=u(e).$implicit,a=d();return f(a.deleteHistory.emit({rowId:r.id,historyId:o}))})("updateHistory",function(o){let r=u(e).$implicit,a=d();return f(a.updateHistory.emit({rowId:r.id,entry:o}))}),c()()()}if(i&2){let e=n.$implicit,t=et(5),o=d();m(),U("!text-green-500",o.showForecast()&&e.value<e.forecast)("!text-red-500",o.showForecast()&&e.value>e.forecast),g("mtxPopoverTriggerFor",t)("mtxPopoverTriggerOn","click"),m(),P(" ",Z(3,9,e.value,"EUR")," "),m(2),g("position",to(12,Li)),m(2),g("row",e)}}function Zi(i,n){if(i&1&&(l(0,"td",49),_(1),M(2,"currency"),c()),i&2){let e=d();U("!text-green-500",e.showForecast()&&e.total()<e.forecastTotal())("!text-red-500",e.showForecast()&&e.total()>e.forecastTotal()),m(),P(" ",Z(2,5,e.total(),"EUR")," ")}}function Ji(i,n){i&1&&C(0,"td",36)}function en(i,n){if(i&1){let e=b();l(0,"td",54)(1,"button",55),h("click",function(){let o=u(e).$implicit,r=d();return f(r.deleteRow.emit(o.id))}),c()()}}function tn(i,n){i&1&&C(0,"td",56)}function on(i,n){i&1&&C(0,"tr",31)}function nn(i,n){if(i&1&&F(0,on,1,0,"tr",57),i&2){let e=d();g("matHeaderRowDef",e.displayedColumns())}}function rn(i,n){i&1&&C(0,"tr",58)}function an(i,n){i&1&&C(0,"tr",59)}function sn(i,n){if(i&1){let e=b();l(0,"button",60),Qt("animate-fade-out"),Ee("animate-fade-in"),h("click",function(o){return u(e),d().addRow.emit(),f(o.stopPropagation())}),_(1," Hinzuf\xFCgen "),c()}}var De=class i{title=S.required();expanded=S.required();showForecast=S.required();data=S.required();isLoading=S.required();isSaving=S.required();isAdded=S.required();total=S.required();updateRow=V();deleteRow=V();addRow=V();addHistory=V();updateHistory=V();deleteHistory=V();selectedRow=N(null);selectedField=N(null);formModel=N(this.initForm());form=ee(this.formModel);categoryRef=ye("category");forecastRef=ye("forecast");category=I(()=>this.formModel().category);forecast=I(()=>this.formModel().forecast);forecastTotal=I(()=>this.data().reduce((n,e)=>n+e.forecast,0));focusCategoryOnAdd=de(()=>{this.isAdded()&&fe(()=>{let n=this.data().at(-1);this.editCategory(n),setTimeout(()=>this.categoryRef()?.nativeElement.scrollIntoView({behavior:"smooth"}))})});trackByFn(n,e){return e?.id}editCategory(n){this.setForm(n),this.selectedRow.set(n.id),this.selectedField.set("category"),setTimeout(()=>this.categoryRef()?.nativeElement.select())}editForecast(n){this.setForm(n),this.selectedRow.set(n.id),this.selectedField.set("forecast"),setTimeout(()=>this.forecastRef()?.nativeElement.select())}updateAndReset(){this.updateRow.emit(this.formModel()),this.selectedRow.set(null),this.selectedField.set(null),this.formModel.set(this.initForm())}onCategoryEnterPressed(){this.selectedField.set("forecast"),setTimeout(()=>this.forecastRef()?.nativeElement.select())}initForm(){return{id:null,category:null,forecast:null}}setForm(n){this.formModel.set({id:n.id,category:n.category,forecast:n.forecast})}displayedColumns=I(()=>{let n=["category","forecast","value","delete_button"];return this.showForecast()?n:n.filter(e=>e!=="forecast")});static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-money-with-history-table"]],viewQuery:function(e,t){e&1&&Ze(t.categoryRef,Hi,5)(t.forecastRef,Ni,5),e&2&&Je(2)},inputs:{title:[1,"title"],expanded:[1,"expanded"],showForecast:[1,"showForecast"],data:[1,"data"],isLoading:[1,"isLoading"],isSaving:[1,"isSaving"],isAdded:[1,"isAdded"],total:[1,"total"]},outputs:{updateRow:"updateRow",deleteRow:"deleteRow",addRow:"addRow",addHistory:"addHistory",updateHistory:"updateHistory",deleteHistory:"deleteHistory"},decls:40,vars:16,consts:[["accItem","cdkAccordionItem"],["col1",""],["col2",""],["category",""],["forecast",""],["popover","mtxPopover"],[3,"expanded"],[1,"sticky","top-14","z-10","grid","w-full","grid-cols-[2rem_1fr_1rem]","items-center","gap-2","overflow-hidden","bg-gray-800","py-2","backdrop-blur","transition-all","duration-100","md:top-16",3,"click"],["icon","BanknoteArrowDown","size","medium"],[1,"flex","items-center","gap-2"],[1,"text-sm","font-semibold","text-gray-100"],["diameter","18"],[1,"text-(length:--text-xs)","leading-(--text-sm--line-height)","font-medium"],["size","small",1,"ml-1",3,"icon"],[1,"overflow-hidden","transition-[max-height]","duration-300","ease-in-out"],[1,"flex","w-full","flex-col","gap-3","rounded-lg","bg-gray-800","p-1"],["mat-table","",1,"mt-2","!min-w-[95%]","!bg-transparent","!p-4",3,"dataSource","trackBy"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","!h-1 !w-24 !p-0.5 !text-xs !text-gray-100",4,"matCellDef"],["mat-footer-cell","","class","!h-1 !p-0 !pt-2 font-semibold !text-gray-100",4,"matFooterCellDef"],["matColumnDef","forecast"],["mat-header-cell","","class","!text-right",4,"matHeaderCellDef"],["mat-cell","","class","!h-1 !w-24 !p-0.5 !text-right !text-xs !text-gray-100",4,"matCellDef"],["mat-footer-cell","","class","!p-0 !pt-2 !text-right font-semibold !text-gray-100",4,"matFooterCellDef"],["matColumnDef","value"],["mat-cell","","class","!h-1 !w-12 !p-0 !text-right !text-xs",4,"matCellDef"],["mat-footer-cell","","class","!p-0 !pt-2 !text-right font-semibold !text-gray-100",3,"!text-green-500","!text-red-500",4,"matFooterCellDef"],["matColumnDef","delete_button"],["mat-cell","","class","self-right w-1 !p-0 !text-right",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["mat-header-row","",1,"!h-7","*:!pr-2","**:!text-gray-100"],["mat-row","","class","!h-1 *:!pr-2",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","class","!h-1 **:!pr-2",4,"matFooterRowDef"],[1,"w-5"],["maffiButton","","icon","CirclePlus","size","small",1,"w-5"],["mat-header-cell",""],["mat-cell","",1,"!h-1","!w-24","!p-0.5","!text-xs","!text-gray-100"],[1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"field"],[1,"flex","h-5","w-full","items-center","gap-1"],[1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"blur","keyup.enter","field"],[1,"flex","h-5","w-full","items-center","gap-1",3,"click"],["mat-footer-cell","",1,"!h-1","!p-0","!pt-2","font-semibold","!text-gray-100"],["mat-header-cell","",1,"!text-right"],["mat-cell","",1,"!h-1","!w-24","!p-0.5","!text-right","!text-xs","!text-gray-100"],["type","number",1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"field"],[1,"flex","h-5","w-full","justify-end"],["type","number",1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"blur","field"],[1,"flex","h-5","w-full","justify-end",3,"click"],["mat-footer-cell","",1,"!p-0","!pt-2","!text-right","font-semibold","!text-gray-100"],["mat-cell","",1,"!h-1","!w-12","!p-0","!text-right","!text-xs"],[1,"block","h-5","w-full","!text-gray-100",3,"mtxPopoverTriggerFor","mtxPopoverTriggerOn"],[1,"!p-4","**:text-xs",3,"position"],[3,"addHistory","deleteHistory","updateHistory","row"],["mat-cell","",1,"self-right","w-1","!p-0","!text-right"],["maffiButton","","icon","Trash","size","mini","theme","secondary",1,"mb-1",3,"click"],["mat-footer-cell",""],["mat-header-row","","class","!h-7 *:!pr-2 **:!text-gray-100",4,"matHeaderRowDef"],["mat-row","",1,"!h-1","*:!pr-2"],["mat-footer-row","",1,"!h-1","**:!pr-2"],["maffiButton","","icon","CirclePlus","size","small",1,"w-5",3,"click"]],template:function(e,t){if(e&1){let o=b();l(0,"mat-card")(1,"mat-card-content")(2,"cdk-accordion-item",6,0)(4,"header",7),h("click",function(){u(o);let a=et(3);return f(a.toggle())}),C(5,"app-icon",8,1),l(7,"div",9,2)(9,"h2",10),_(10),c(),w(11,Vi,1,0,"mat-spinner",11),l(12,"h1",12),_(13),M(14,"currency"),c()(),C(15,"app-icon",13),c(),l(16,"div",14)(17,"div",15),Ee("animate-fade-in"),l(18,"table",16),Ie(19,17),F(20,Bi,1,0,"td",18)(21,Wi,3,1,"td",19)(22,$i,2,0,"td",20),Se(),Ie(23,21),F(24,zi,2,0,"td",22)(25,Gi,3,1,"td",23)(26,qi,3,4,"td",24),Se(),Ie(27,25),F(28,Qi,2,0,"td",22)(29,Ki,7,13,"td",26)(30,Zi,3,8,"td",27),Se(),Ie(31,28),F(32,Ji,1,0,"td",18)(33,en,2,0,"td",29)(34,tn,1,0,"td",30),Se(),w(35,nn,1,1,"tr",31),F(36,rn,1,0,"tr",32)(37,an,1,0,"tr",33),c(),l(38,"div",34),w(39,sn,2,0,"button",35),c()()()()()()}if(e&2){let o=et(3);m(2),g("expanded",t.expanded()),m(8),K(t.title()),m(),D(t.isSaving()?11:-1),m(2),P(" ",Z(14,13,t.total(),"EUR")," "),m(2),g("icon",o.expanded?"ChevronUp":"ChevronDown"),m(),Jt("max-height",o.expanded?"1000px":"0px"),m(2),g("dataSource",t.data())("trackBy",t.trackByFn),m(17),D(t.displayedColumns().includes("forecast")?35:-1),m(),g("matRowDefColumns",t.displayedColumns()),m(),g("matFooterRowDef",t.displayedColumns()),m(2),D(o.expanded?39:-1)}},dependencies:[J,jo,mt,wo,po,mo,ko,Eo,Ao,Fo,No,Oo,Ho,Ro,Vo,Lo,Po,To,ut,So,Io,Go,te,tt],encapsulation:2})};var gt=class i{facade=s(H);data=this.facade.variableCosts;total=this.facade.totalVariableCosts;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingVariableCost;isAdded=this.facade.isVariableCostAdded;add(){this.facade.addVariableCost()}delete(n){this.facade.deleteVariableCost(n)}update(n){this.facade.updateVariableCost(n)}addHistory(n){this.facade.addVariableCostHistoryEntry(n)}updateHistory({rowId:n,entry:e}){this.facade.updateVariableCostHistoryEntry(n,e)}deleteHistory({rowId:n,historyId:e}){this.facade.deleteVariableCostHistoryEntry(n,e)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-variable-costs-table"]],features:[At([ao])],decls:1,vars:7,consts:[["title","Variabel",3,"addRow","deleteRow","updateRow","addHistory","deleteHistory","updateHistory","expanded","showForecast","data","isAdded","isLoading","isSaving","total"]],template:function(e,t){e&1&&(l(0,"app-money-with-history-table",0),h("addRow",function(){return t.add()})("deleteRow",function(r){return t.delete(r)})("updateRow",function(r){return t.update(r)})("addHistory",function(r){return t.addHistory(r)})("deleteHistory",function(r){return t.deleteHistory(r)})("updateHistory",function(r){return t.updateHistory(r)}),c()),e&2&&g("expanded",!0)("showForecast",!1)("data",t.data())("isAdded",t.isAdded())("isLoading",t.isLoading())("isSaving",t.isSaving())("total",t.total())},dependencies:[xo,De],encapsulation:2})};function cn(i,n){}var oe=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var Ht=(()=>{class i extends Yo{_elementRef=s($);_focusTrapFactory=s(_o);_config;_interactivityChecker=s(go);_ngZone=s($e);_focusMonitor=s(it);_renderer=s(Xt);_changeDetectorRef=s(be);_injector=s(Y);_platform=s(uo);_document=s(ce);_portalOutlet;_focusTrapped=new B;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=s(oe,{optional:!0})||new oe,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}attachDomPortal=e=>{this._portalOutlet.hasAttached();let t=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),t};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let o=()=>{r(),a(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",o),a=this._renderer.listen(e,"mousedown",o)})),e.focus(t)}_focusByCssSelector(e,t){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,t)}_trapFocus(e){this._isDestroyed||Ut(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let o=ot(),r=this._elementRef.nativeElement;(!o||o===this._document.body||o===r||r.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,t=ot();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=ot()))}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(t,o){if(t&1&&Ke(Oe,7),t&2){let r;Ae(r=Fe())&&(o._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,o){t&2&&z("id",o._config.id||null)("role",o._config.role)("aria-modal",o._config.ariaModal)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null)},features:[ve],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,o){t&1&&F(0,cn,0,0,"ng-template",0)},dependencies:[Oe],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return i})(),Ne=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new B;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,e){this.overlayRef=n,this.config=e,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!Ce(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this._canClose(n)){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(n),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}_canClose(n){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(n,e,this.componentInstance))}},dn=new E("DialogScrollStrategy",{providedIn:"root",factory:()=>{let i=s(Y);return()=>rt(i)}}),pn=new E("DialogData"),mn=new E("DefaultDialogConfig");function hn(i){let n=N(i),e=new Q;return{valueSignal:n,get value(){return n()},change:e,ngOnDestroy(){e.complete()}}}var qo=(()=>{class i{_injector=s(Y);_defaultOptions=s(mn,{optional:!0});_parentDialog=s(i,{optional:!0,skipSelf:!0});_overlayContainer=s(Wo);_idGenerator=s(Re);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new B;_afterOpenedAtThisLevel=new B;_ariaHiddenElements=new Map;_scrollStrategy=s(dn);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Be(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ye(void 0)));constructor(){}open(e,t){let o=this._defaultOptions||new oe;t=T(T({},o),t),t.id=t.id||this._idGenerator.getId("cdk-dialog-"),t.id&&this.getDialogById(t.id);let r=this._getOverlayConfig(t),a=zo(this._injector,r),p=new Ne(a,t),y=this._attachContainer(a,p,t);if(p.containerInstance=y,!this.openDialogs.length){let x=this._overlayContainer.getContainerElement();y._focusTrapped?y._focusTrapped.pipe(k(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(x)}):this._hideNonDialogContentFromAssistiveTechnology(x)}return this._attachDialogContent(e,p,y,t),this.openDialogs.push(p),p.closed.subscribe(()=>this._removeOpenDialog(p,!0)),this.afterOpened.next(p),p}closeAll(){Pt(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){Pt(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),Pt(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new at({positionStrategy:e.positionStrategy||st().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,o){let r=o.injector||o.viewContainerRef?.injector,a=[{provide:oe,useValue:o},{provide:Ne,useValue:t},{provide:$o,useValue:e}],p;o.container?typeof o.container=="function"?p=o.container:(p=o.container.type,a.push(...o.container.providers(o))):p=Ht;let y=new kt(p,o.viewContainerRef,Y.create({parent:r||this._injector,providers:a}));return e.attach(y).instance}_attachDialogContent(e,t,o,r){if(e instanceof Te){let a=this._createInjector(r,t,o,void 0),p={$implicit:r.data,dialogRef:t};r.templateContext&&(p=T(T({},p),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),o.attachTemplatePortal(new nt(e,null,p,a))}else{let a=this._createInjector(r,t,o,this._injector),p=o.attachComponentPortal(new kt(e,r.viewContainerRef,a));t.componentRef=p,t.componentInstance=p.instance}}_createInjector(e,t,o,r){let a=e.injector||e.viewContainerRef?.injector,p=[{provide:pn,useValue:e.data},{provide:Ne,useValue:t}];return e.providers&&(typeof e.providers=="function"?p.push(...e.providers(t,e,o)):p.push(...e.providers)),e.direction&&(!a||!a.get(ke,null,{optional:!0}))&&p.push({provide:ke,useValue:hn(e.direction)}),Y.create({parent:a||r,providers:p})}_removeOpenDialog(e,t){let o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,a)=>{r?a.setAttribute("aria-hidden",r):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let t=e.parentElement.children;for(let o=t.length-1;o>-1;o--){let r=t[o];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&!r.hasAttribute("popover")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(t){return new(t||i)};static \u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function Pt(i,n){let e=i.length;for(;e--;)n(i[e])}function un(i,n){}var vt=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},Nt="mdc-dialog--open",Qo="mdc-dialog--opening",Ko="mdc-dialog--closing",fn=150,gn=75,_n=(()=>{class i extends Ht{_animationStateChanged=new Q;_animationsEnabled=!xe();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Jo(this._config.enterAnimationDuration)??fn:0;_exitAnimationDuration=this._animationsEnabled?Jo(this._config.exitAnimationDuration)??gn:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(Zo,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Qo,Nt)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Nt),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Nt),this._animationsEnabled?(this._hostElement.style.setProperty(Zo,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ko)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Qo,Ko)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ue(i)))(o||i)}})();static \u0275cmp=v({type:i,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,o){t&2&&(St("id",o._config.id),z("aria-modal",o._config.ariaModal)("role",o._config.role)("aria-labelledby",o._config.ariaLabel?null:o._ariaLabelledByQueue[0])("aria-label",o._config.ariaLabel)("aria-describedby",o._config.ariaDescribedBy||null),U("_mat-animation-noopable",!o._animationsEnabled)("mat-mdc-dialog-container-with-actions",o._actionSectionCount>0))},features:[ve],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,o){t&1&&(l(0,"div",0)(1,"div",1),F(2,un,0,0,"ng-template",2),c()())},dependencies:[Oe],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return i})(),Zo="--mat-dialog-transition-duration";function Jo(i){return i==null?null:typeof i=="number"?i:i.endsWith("ms")?Ft(i.substring(0,i.length-2)):i.endsWith("s")?Ft(i.substring(0,i.length-1))*1e3:i==="0"?0:null}var _t=(function(i){return i[i.OPEN=0]="OPEN",i[i.CLOSING=1]="CLOSING",i[i.CLOSED=2]="CLOSED",i})(_t||{}),ie=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new Et(1);_beforeClosed=new Et(1);_result;_closeFallbackTimeout;_state=_t.OPEN;_closeInteractionType;constructor(n,e,t){this._ref=n,this._config=e,this._containerInstance=t,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(le(o=>o.state==="opened"),k(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(le(o=>o.state==="closed"),k(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),je(this.backdropClick(),this.keydownEvents().pipe(le(o=>o.keyCode===27&&!this.disableClose&&!Ce(o)))).subscribe(o=>{this.disableClose||(o.preventDefault(),vn(this,o.type==="keydown"?"keyboard":"mouse"))})}close(n){let e=this._config.closePredicate;e&&!e(n,this._config,this.componentInstance)||(this._result=n,this._containerInstance._animationStateChanged.pipe(le(t=>t.state==="closing"),k(1)).subscribe(t=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=_t.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=_t.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function vn(i,n,e){return i._closeInteractionType=n,i.close(e)}var Le=new E("MatMdcDialogData"),yn=new E("mat-mdc-dialog-default-options"),bn=new E("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let i=s(Y);return()=>rt(i)}}),Lt=(()=>{class i{_defaultOptions=s(yn,{optional:!0});_scrollStrategy=s(bn);_parentDialog=s(i,{optional:!0,skipSelf:!0});_idGenerator=s(Re);_injector=s(Y);_dialog=s(qo);_animationsDisabled=xe();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new B;_afterOpenedAtThisLevel=new B;dialogConfigClass=vt;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Be(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ye(void 0)));constructor(){this._dialogRefConstructor=ie,this._dialogContainerType=_n,this._dialogDataToken=Le}open(e,t){let o;t=T(T({},this._defaultOptions||new vt),t),t.id=t.id||this._idGenerator.getId("mat-mdc-dialog-"),t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(e,se(T({},t),{positionStrategy:st(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||t.enterAnimationDuration?.toLocaleString()==="0"||t.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:oe,useValue:t}]},templateContext:()=>({dialogRef:o}),providers:(a,p,y)=>(o=new this._dialogRefConstructor(a,t,y),o.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:y},{provide:this._dialogDataToken,useValue:p.data},{provide:this._dialogRefConstructor,useValue:o}])}));return o.componentRef=r.componentRef,o.componentInstance=r.componentInstance,this.openDialogs.push(o),this.afterOpened.next(o),o.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(o);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),o}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static \u0275fac=function(t){return new(t||i)};static \u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var Cn=(()=>{class i{_dialogRef=s(ie,{optional:!0});_elementRef=s($);_dialog=s(Lt);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=xn(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(t){return new(t||i)};static \u0275dir=_e({type:i})}return i})(),ei=(()=>{class i extends Cn{id=s(Re).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(o){return(e||(e=Ue(i)))(o||i)}})();static \u0275dir=_e({type:i,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,o){t&2&&St("id",o.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[ve]})}return i})(),ti=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=_e({type:i,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[qt([Mo])]})}return i})();function xn(i,n){let e=i.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?n.find(t=>t.id===e.id):null}var Ve=Vt(co());var yt=class i{dialogRef=s(ie);data=s(Le);formModel=N({month:(0,Ve.default)().add(1,"month").format("MM"),year:(0,Ve.default)().year()});form=ee(this.formModel);selectedYear=I(()=>this.formModel().year);months=I(()=>{let n=this.createdSnapshots.filter(e=>e.year()===this.selectedYear());return this.allMonths.filter(e=>!n.some(t=>t.month()===e.date.month()))});submitForm(){this.dialogRef.close(this.formModel())}allMonths=Array.from({length:12},(n,e)=>{let t=(0,Ve.default)().month(e);return{label:t.format("MMMM"),value:t.format("MM"),date:t}});years=[2025,2026];createdSnapshots=this.data.createdMonths.map(n=>(0,Ve.default)(n.month));static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-create-month-dialog"]],decls:9,vars:8,consts:[[1,"flex","flex-col","items-center","justify-center","p-4","**:text-white!"],["mat-dialog-title",""],["mat-dialog-content","",1,"flex!","w-full","flex-col","gap-2"],[1,"grid","w-full","grid-cols-2","gap-2"],["placeholder","Jahr ausw\xE4hlen","appendTo",".mat-mdc-dialog-title",3,"items","clearable","field"],["bindLabel","label","bindValue","value","placeholder","Monat ausw\xE4hlen","appendTo",".mat-mdc-dialog-title",3,"items","clearable","field"],["maffiButton","","icon","CirclePlus",1,"w-full","!justify-center",3,"click"]],template:function(e,t){e&1&&(l(0,"div",0)(1,"h1",1),_(2,"Monat anlegen"),c(),l(3,"div",2)(4,"div",3),C(5,"ng-select",4),R(),C(6,"ng-select",5),R(),c(),l(7,"button",6),h("click",function(){return t.submitForm()}),_(8," Anlegen "),c()()()),e&2&&(m(5),g("items",t.years)("clearable",!1),O(t.form.year),m(),g("items",t.months())("clearable",!1),O(t.form.month))},dependencies:[ei,ti,ct,te,J],encapsulation:2})};function oi(i){return Error(`Unable to find icon with the name "${i}"`)}function wn(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function ii(i){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${i}".`)}function ni(i){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${i}".`)}var G=class{url;svgText;options;svgElement;constructor(n,e,t){this.url=n,this.svgText=e,this.options=t}},ai=(()=>{class i{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,t,o,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._document=o}addSvgIcon(e,t,o){return this.addSvgIconInNamespace("",e,t,o)}addSvgIconLiteral(e,t,o){return this.addSvgIconLiteralInNamespace("",e,t,o)}addSvgIconInNamespace(e,t,o,r){return this._addSvgIconConfig(e,t,new G(o,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,o,r){let a=this._sanitizer.sanitize(ge.HTML,o);if(!a)throw ni(o);let p=we(a);return this._addSvgIconConfig(e,t,new G("",p,r))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,o){return this._addSvgIconSetConfig(e,new G(t,null,o))}addSvgIconSetLiteralInNamespace(e,t,o){let r=this._sanitizer.sanitize(ge.HTML,t);if(!r)throw ni(t);let a=we(r);return this._addSvgIconSetConfig(e,new G("",a,o))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(ge.RESOURCE_URL,e);if(!t)throw ii(e);let o=this._cachedIconsByUrl.get(t);return o?j(bt(o)):this._loadSvgIconFromConfig(new G(e,null)).pipe(We(r=>this._cachedIconsByUrl.set(t,r)),ue(r=>bt(r)))}getNamedSvgIcon(e,t=""){let o=ri(t,e),r=this._svgIconConfigs.get(o);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(o,r),this._getSvgFromConfig(r);let a=this._iconSetConfigs.get(t);return a?this._getSvgFromIconSetConfigs(e,a):Bt(oi(o))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?j(bt(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(ue(t=>bt(t)))}_getSvgFromIconSetConfigs(e,t){let o=this._extractIconWithNameFromAnySet(e,t);if(o)return j(o);let r=t.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Wt(p=>{let x=`Loading icon set URL: ${this._sanitizer.sanitize(ge.RESOURCE_URL,a.url)} failed: ${p.message}`;return this._errorHandler.handleError(new Error(x)),j(null)})));return Yt(r).pipe(ue(()=>{let a=this._extractIconWithNameFromAnySet(e,t);if(!a)throw oi(e);return a}))}_extractIconWithNameFromAnySet(e,t){for(let o=t.length-1;o>=0;o--){let r=t[o];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(r),p=this._extractSvgIconFromSet(a,e,r.options);if(p)return p}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(We(t=>e.svgText=t),ue(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?j(null):this._fetchIcon(e).pipe(We(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,o){let r=e.querySelector(`[id="${t}"]`);if(!r)return null;let a=r.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,o);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),o);let p=this._svgElementFromString(we("<svg></svg>"));return p.appendChild(a),this._setSvgAttributes(p,o)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let o=t.querySelector("svg");if(!o)throw Error("<svg> tag not found");return o}_toSvgElement(e){let t=this._svgElementFromString(we("<svg></svg>")),o=e.attributes;for(let r=0;r<o.length;r++){let{name:a,value:p}=o[r];a!=="id"&&t.setAttribute(a,p)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:o}=e,r=o?.withCredentials??!1;if(!this._httpClient)throw wn();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let a=this._sanitizer.sanitize(ge.RESOURCE_URL,t);if(!a)throw ii(t);let p=this._inProgressUrlFetches.get(a);if(p)return p;let y=this._httpClient.get(a,{responseType:"text",withCredentials:r}).pipe(ue(x=>we(x)),$t(()=>this._inProgressUrlFetches.delete(a)),zt());return this._inProgressUrlFetches.set(a,y),y}_addSvgIconConfig(e,t,o){return this._svgIconConfigs.set(ri(e,t),o),this}_addSvgIconSetConfig(e,t){let o=this._iconSetConfigs.get(e);return o?o.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let o=0;o<this._resolvers.length;o++){let r=this._resolvers[o](t,e);if(r)return Dn(r)?new G(r.url,null,r.options):new G(r,null)}}static \u0275fac=function(t){return new(t||i)(Me(so,8),Me(lo),Me(ce,8),Me(ze))};static \u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();function bt(i){return i.cloneNode(!0)}function ri(i,n){return i+":"+n}function Dn(i){return!!(i.url&&i.options)}var Mn=["*"],Tn=new E("MAT_ICON_DEFAULT_OPTIONS"),En=new E("mat-icon-location",{providedIn:"root",factory:()=>{let i=s(ce),n=i?i.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),si=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],In=si.map(i=>`[${i}]`).join(", "),Sn=/^url\(['"]?#(.*?)['"]?\)$/,li=(()=>{class i{_elementRef=s($);_iconRegistry=s(ai);_location=s(En);_errorHandler=s(ze);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=he.EMPTY;constructor(){let e=s(new io("aria-hidden"),{optional:!0}),t=s(Tn,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let o=e.childNodes[t];(o.nodeType!==1||o.nodeName.toLowerCase()==="svg")&&o.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(o=>o.length>0);this._previousFontSetClass.forEach(o=>e.classList.remove(o)),t.forEach(o=>e.classList.add(o)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((o,r)=>{o.forEach(a=>{r.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(In),o=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)si.forEach(a=>{let p=t[r],y=p.getAttribute(a),x=y?y.match(Sn):null;if(x){let q=o.get(p);q||(q=[],o.set(p,q)),q.push({name:a,value:x[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,o]=this._splitIconName(e);t&&(this._svgNamespace=t),o&&(this._svgName=o),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(o,t).pipe(k(1)).subscribe(r=>this._setSvgElement(r),r=>{let a=`Error retrieving icon ${t}:${o}! ${r.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=v({type:i,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,o){t&2&&(z("data-mat-icon-type",o._usingFontIcon()?"font":"svg")("data-mat-icon-name",o._svgName||o.fontIcon)("data-mat-icon-namespace",o._svgNamespace||o.fontSet)("fontIcon",o._usingFontIcon()?o.fontIcon:null),pe(o.color?"mat-"+o.color:""),U("mat-icon-inline",o.inline)("mat-icon-no-color",o.color!=="primary"&&o.color!=="accent"&&o.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",X],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Mn,decls:1,vars:0,template:function(t,o){t&1&&(qe(),Qe(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return i})();var _s=ci(24,i=>String(i)),vs=ci(60,i=>String(i));function ci(i,n){let e=Array(i);for(let t=0;t<i;t++)e[t]=n(t);return e}var di=(()=>{class i{transform(e){return jt(e)?e:j(e)}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275pipe=Gt({name:"toObservable",type:i,pure:!0})}}return i})();function An(i,n){if(i&1){let e=b();l(0,"button",4),h("click",function(){u(e);let o=d(2);return f(o._onClose())}),l(1,"mat-icon"),_(2,"close"),c()()}}function Fn(i,n){if(i&1&&(l(0,"h1",0)(1,"span"),_(2),M(3,"toObservable"),M(4,"async"),c(),w(5,An,3,0,"button",3),c()),i&2){let e=d();m(2),K(L(4,4,L(3,2,e.data.title))),m(3),D(e.data.showCloseIcon?5:-1)}}function kn(i,n){if(i&1&&(l(0,"div",1)(1,"p"),_(2),M(3,"toObservable"),M(4,"async"),c()()),i&2){let e=d();m(2),K(L(4,3,L(3,1,e.data.description)))}}function Rn(i,n){if(i&1){let e=b();l(0,"button",7),h("click",function(){u(e);let o=d().$implicit,r=d();return f(r._onClick(o.onClick))}),_(1),M(2,"toObservable"),M(3,"async"),c()}if(i&2){let e=d().$implicit;pe(e.class),g("matButton",e.type||"text")("color",e.color),m(),P(" ",L(3,7,L(2,5,e.text))," ")}}function On(i,n){if(i&1){let e=b();l(0,"button",8),h("click",function(){u(e);let o=d().$implicit,r=d();return f(r._onClick(o.onClick))}),_(1),M(2,"toObservable"),M(3,"async"),c()}if(i&2){let e=d().$implicit;pe(e.class),g("matButton",e.type||"text")("color",e.color),m(),P(" ",L(3,7,L(2,5,e.text))," ")}}function Pn(i,n){if(i&1&&w(0,Rn,4,9,"button",5)(1,On,4,9,"button",6),i&2){let e=n.$implicit;D(e.focusInitial?0:1)}}var pi=(()=>{class i{constructor(){this.dialogRef=s(ie),this.data=s(Le)}_onClick(e){e&&e.call(this),this._onClose()}_onClose(){this.dialogRef.close()}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=v({type:i,selectors:[["mtx-dialog-container"]],hostAttrs:[1,"mtx-dialog-container"],exportAs:["mtxDialogContainer"],decls:5,vars:2,consts:[[1,"mtx-dialog-title"],[1,"mtx-dialog-content"],[1,"mtx-dialog-actions"],["matIconButton",""],["matIconButton","",3,"click"],["cdkFocusInitial","",3,"matButton","color","class"],[3,"matButton","color","class"],["cdkFocusInitial","",3,"click","matButton","color"],[3,"click","matButton","color"]],template:function(t,o){t&1&&(w(0,Fn,6,6,"h1",0),w(1,kn,5,5,"div",1),l(2,"div",2),Xe(3,Pn,2,1,null,null,Kt),c()),t&2&&(D(o.data.title?0:-1),m(),D(o.data.description?1:-1),m(2),Ge(o.data.buttons))},dependencies:[Co,bo,li,no,di],styles:[`.mtx-dialog-title{display:flex;justify-content:space-between;align-items:center;padding:8px 24px;margin:0;line-height:48px;font-weight:500;font-size:20px}.mtx-dialog-title .mat-mdc-button-base{margin-right:-16px}[dir=rtl] .mtx-dialog-title .mat-mdc-button-base{margin-right:0;margin-left:-16px}.mtx-dialog-content{display:block;max-height:65vh;padding:0 24px;overflow:auto;-webkit-overflow-scrolling:touch}.mtx-dialog-content p{margin-top:0}.mtx-dialog-actions{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:8px}.mtx-dialog-actions .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mtx-dialog-actions .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}}return i})(),Hn={title:"",description:"",buttons:[{text:"Cancel",onClick:()=>{}},{color:"warn",text:"OK",focusInitial:!0,onClick:()=>{}}],showCloseIcon:!1,disableClose:!0,width:"300px"},mi=(()=>{class i{constructor(){this.dialog=s(Lt)}originalOpen(e=pi,t){return this.dialog.open(e,t)}open(e,t=pi){let o=Object.assign({},Hn,e);return this.dialog.open(t,se(T({},o),{data:o}))}alert(e,t="",o=()=>{}){this.open({title:e,description:t,buttons:[{color:"warn",text:"OK",onClick:()=>o()}]})}confirm(e,t="",o=()=>{},r=()=>{}){this.open({title:e,description:t,buttons:[{text:"Cancel",onClick:()=>r()},{color:"warn",text:"OK",focusInitial:!0,onClick:()=>o()}]})}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275prov=W({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var Ct=class i{facade=s(H);budgets=this.facade.budgets;total=this.facade.totalBudgets;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingFixedCost;isAdded=this.facade.isBudgetAdded;add(){this.facade.addBudget()}delete(n){this.facade.deleteBudget(n)}update(n){this.facade.updateVariableCost(n)}addHistory(n){this.facade.addBudgetHistoryEntry(n)}deleteHistory({rowId:n,historyId:e}){this.facade.deleteBudgetHistoryEntry(n,e)}updateHistory({rowId:n,entry:e}){this.facade.updateBudgetHistoryEntry(n,e)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-monthly-budgets-table"]],decls:1,vars:7,consts:[["title","Budgets",3,"addRow","deleteRow","updateRow","addHistory","deleteHistory","updateHistory","expanded","showForecast","data","isAdded","isLoading","isSaving","total"]],template:function(e,t){e&1&&(l(0,"app-money-with-history-table",0),h("addRow",function(){return t.add()})("deleteRow",function(r){return t.delete(r)})("updateRow",function(r){return t.update(r)})("addHistory",function(r){return t.addHistory(r)})("deleteHistory",function(r){return t.deleteHistory(r)})("updateHistory",function(r){return t.updateHistory(r)}),c()),e&2&&g("expanded",!1)("showForecast",!0)("data",t.budgets())("isAdded",t.isAdded())("isLoading",t.isLoading())("isSaving",t.isSaving())("total",t.total())},dependencies:[De],encapsulation:2})};function Nn(i,n){if(i&1&&C(0,"app-revenue-month-table")(1,"app-fixed-costs-month-table")(2,"app-monthly-budgets-table")(3,"app-variable-costs-table")(4,"app-balance",7),i&2){let e=d();m(4),g("balance",e.balance())}}var hi=class i{facade=s(H);mtxDialog=s(mi);year=S();month=S();snapshots=this.facade.snapshots;createdYears=this.facade.createdYears;isLoaded=this.facade.isMonthLoaded;formModel=oo(()=>{let n=(0,xt.default)().format("YYYY-MM-DD"),e=this.year();return this.year()&&this.month()&&(n=`${this.year()}-${this.month()}-01`),this.isSnapshotCreated(n)||(n=null),e&&!this.isYearValid(e)&&(e=null),{snapshot:n,year:e}});form=ee(this.formModel);currentYearSnapshots=I(()=>{let n=this.selectedYear();return this.snapshots().filter(e=>(0,xt.default)(e.month).format("YYYY").includes(n||""))});selectedMonth=I(()=>this.formModel().snapshot);selectedYear=I(()=>this.formModel().year);balance=I(()=>{let n=this.facade.totalFixedCosts(),e=this.facade.totalVariableCosts();return this.facade.totalRevenue()-(n+e)});loadMonth=de(()=>{let n=this.selectedMonth(),e=this.selectedYear();n&&e&&this.isYearValid(e)&&this.isSnapshotCreated(n)&&this.facade.getMonth(n)});navigateOnFormModelChange=de(()=>{let{snapshot:n,year:e}=this.formModel();fe(()=>{if(!this.facade.areMonthsLoaded())return;let t=n?(0,xt.default)(n).format("MM"):null;if(e&&!n){this.facade.navigateTo(e);return}n&&this.facade.navigateTo(e,t)})});constructor(){this.facade.getCreatedMonths()}openCreateMonthDialog(){this.mtxDialog.originalOpen(yt,{height:"400px",data:{createdMonths:this.snapshots()}}).afterClosed().pipe(k(1)).subscribe(e=>{this.createMonth(e)})}createMonth(n){let e=`${n.year}-${n.month}-01`;this.facade.createMonth(e)}isYearValid(n){return this.createdYears().includes(n)}isSnapshotCreated(n){return this.snapshots().map(e=>e.month).includes(n)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=v({type:i,selectors:[["app-monthly-check"]],inputs:{year:[1,"year"],month:[1,"month"]},decls:9,vars:9,consts:[["title","Monatscheck"],["maffiButton","","icon","CirclePlus",3,"click"],[1,"container-max-sm","mt-2","flex","flex-col","items-center","gap-2","p-2","md:p-6"],[1,"grid","w-full","grid-cols-2","gap-4"],["placeholder","Jahr ausw\xE4hlen",3,"items","clearable","field"],["bindLabel","translated","bindValue","month","placeholder","Monat ausw\xE4hlen",1,"higher",3,"items","clearable","field"],[1,"flex","w-full","flex-col","gap-2","*:w-full"],[3,"balance"]],template:function(e,t){e&1&&(l(0,"app-header",0)(1,"button",1),h("click",function(){return t.openCreateMonthDialog()}),_(2," Monat anlegen "),c()(),l(3,"section",2)(4,"div",3),C(5,"ng-select",4),R(),C(6,"ng-select",5),R(),c(),l(7,"cdk-accordion",6),Ee("animate-fade-in"),w(8,Nn,5,1),c()()),e&2&&(m(5),g("items",t.createdYears())("clearable",!1),O(t.form.year),m(),g("items",t.currentYearSnapshots())("clearable",!1),O(t.form.snapshot),m(2),D(t.selectedMonth()?8:-1))},dependencies:[yo,ho,ct,Do,te,dt,pt,Bo,gt,J,Uo,Ct],encapsulation:2})};export{hi as MonthlyCheckComponent};
