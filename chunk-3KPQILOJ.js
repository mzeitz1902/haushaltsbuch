var J8=Object.create;var Cf=Object.defineProperty,e6=Object.defineProperties,t6=Object.getOwnPropertyDescriptor,n6=Object.getOwnPropertyDescriptors,r6=Object.getOwnPropertyNames,jd=Object.getOwnPropertySymbols,i6=Object.getPrototypeOf,_f=Object.prototype.hasOwnProperty,Kv=Object.prototype.propertyIsEnumerable;var Gv=(e,t,n)=>t in e?Cf(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,m=(e,t)=>{for(var n in t||={})_f.call(t,n)&&Gv(e,n,t[n]);if(jd)for(var n of jd(t))Kv.call(t,n)&&Gv(e,n,t[n]);return e},x=(e,t)=>e6(e,n6(t));var Sf=(e,t)=>{var n={};for(var r in e)_f.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&jd)for(var r of jd(e))t.indexOf(r)<0&&Kv.call(e,r)&&(n[r]=e[r]);return n};var o6=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var a6=(e,t,n,r)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of r6(t))!_f.call(e,i)&&i!==n&&Cf(e,i,{get:()=>t[i],enumerable:!(r=t6(t,i))||r.enumerable});return e};var If=(e,t,n)=>(n=e!=null?J8(i6(e)):{},a6(t||!e||!e.__esModule?Cf(n,"default",{value:e,enumerable:!0}):n,e));var Cp=o6((jm,Vm)=>{"use strict";(function(e,t){typeof jm=="object"&&typeof Vm<"u"?Vm.exports=t():typeof define=="function"&&define.amd?define(t):(e=typeof globalThis<"u"?globalThis:e||self).dayjs=t()})(jm,function(){"use strict";var e=1e3,t=6e4,n=36e5,r="millisecond",i="second",o="minute",a="hour",s="day",c="week",l="month",d="quarter",u="year",p="date",h="Invalid Date",y=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,g=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,v={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(ie){var O=["th","st","nd","rd"],D=ie%100;return"["+ie+(O[(D-20)%10]||O[D]||O[0])+"]"}},k=function(ie,O,D){var H=String(ie);return!H||H.length>=O?ie:""+Array(O+1-H.length).join(D)+ie},A={s:k,z:function(ie){var O=-ie.utcOffset(),D=Math.abs(O),H=Math.floor(D/60),T=D%60;return(O<=0?"+":"-")+k(H,2,"0")+":"+k(T,2,"0")},m:function ie(O,D){if(O.date()<D.date())return-ie(D,O);var H=12*(D.year()-O.year())+(D.month()-O.month()),T=O.clone().add(H,l),fe=D-T<0,ye=O.clone().add(H+(fe?-1:1),l);return+(-(H+(D-T)/(fe?T-ye:ye-T))||0)},a:function(ie){return ie<0?Math.ceil(ie)||0:Math.floor(ie)},p:function(ie){return{M:l,y:u,w:c,d:s,D:p,h:a,m:o,s:i,ms:r,Q:d}[ie]||String(ie||"").toLowerCase().replace(/s$/,"")},u:function(ie){return ie===void 0}},I="en",_={};_[I]=v;var pe="$isDayjsObject",Be=function(ie){return ie instanceof tn||!(!ie||!ie[pe])},re=function ie(O,D,H){var T;if(!O)return I;if(typeof O=="string"){var fe=O.toLowerCase();_[fe]&&(T=fe),D&&(_[fe]=D,T=fe);var ye=O.split("-");if(!T&&ye.length>1)return ie(ye[0])}else{var ze=O.name;_[ze]=O,T=ze}return!H&&T&&(I=T),T||!H&&I},se=function(ie,O){if(Be(ie))return ie.clone();var D=typeof O=="object"?O:{};return D.date=ie,D.args=arguments,new tn(D)},Te=A;Te.l=re,Te.i=Be,Te.w=function(ie,O){return se(ie,{locale:O.$L,utc:O.$u,x:O.$x,$offset:O.$offset})};var tn=(function(){function ie(D){this.$L=re(D.locale,null,!0),this.parse(D),this.$x=this.$x||D.x||{},this[pe]=!0}var O=ie.prototype;return O.parse=function(D){this.$d=(function(H){var T=H.date,fe=H.utc;if(T===null)return new Date(NaN);if(Te.u(T))return new Date;if(T instanceof Date)return new Date(T);if(typeof T=="string"&&!/Z$/i.test(T)){var ye=T.match(y);if(ye){var ze=ye[2]-1||0,ct=(ye[7]||"0").substring(0,3);return fe?new Date(Date.UTC(ye[1],ze,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,ct)):new Date(ye[1],ze,ye[3]||1,ye[4]||0,ye[5]||0,ye[6]||0,ct)}}return new Date(T)})(D),this.init()},O.init=function(){var D=this.$d;this.$y=D.getFullYear(),this.$M=D.getMonth(),this.$D=D.getDate(),this.$W=D.getDay(),this.$H=D.getHours(),this.$m=D.getMinutes(),this.$s=D.getSeconds(),this.$ms=D.getMilliseconds()},O.$utils=function(){return Te},O.isValid=function(){return this.$d.toString()!==h},O.isSame=function(D,H){var T=se(D);return this.startOf(H)<=T&&T<=this.endOf(H)},O.isAfter=function(D,H){return se(D)<this.startOf(H)},O.isBefore=function(D,H){return this.endOf(H)<se(D)},O.$g=function(D,H,T){return Te.u(D)?this[H]:this.set(T,D)},O.unix=function(){return Math.floor(this.valueOf()/1e3)},O.valueOf=function(){return this.$d.getTime()},O.startOf=function(D,H){var T=this,fe=!!Te.u(H)||H,ye=Te.p(D),ze=function(ao,nn){var ki=Te.w(T.$u?Date.UTC(T.$y,nn,ao):new Date(T.$y,nn,ao),T);return fe?ki:ki.endOf(s)},ct=function(ao,nn){return Te.w(T.toDate()[ao].apply(T.toDate("s"),(fe?[0,0,0,0]:[23,59,59,999]).slice(nn)),T)},_t=this.$W,Ft=this.$M,In=this.$D,ya="set"+(this.$u?"UTC":"");switch(ye){case u:return fe?ze(1,0):ze(31,11);case l:return fe?ze(1,Ft):ze(0,Ft+1);case c:var oo=this.$locale().weekStart||0,uc=(_t<oo?_t+7:_t)-oo;return ze(fe?In-uc:In+(6-uc),Ft);case s:case p:return ct(ya+"Hours",0);case a:return ct(ya+"Minutes",1);case o:return ct(ya+"Seconds",2);case i:return ct(ya+"Milliseconds",3);default:return this.clone()}},O.endOf=function(D){return this.startOf(D,!1)},O.$set=function(D,H){var T,fe=Te.p(D),ye="set"+(this.$u?"UTC":""),ze=(T={},T[s]=ye+"Date",T[p]=ye+"Date",T[l]=ye+"Month",T[u]=ye+"FullYear",T[a]=ye+"Hours",T[o]=ye+"Minutes",T[i]=ye+"Seconds",T[r]=ye+"Milliseconds",T)[fe],ct=fe===s?this.$D+(H-this.$W):H;if(fe===l||fe===u){var _t=this.clone().set(p,1);_t.$d[ze](ct),_t.init(),this.$d=_t.set(p,Math.min(this.$D,_t.daysInMonth())).$d}else ze&&this.$d[ze](ct);return this.init(),this},O.set=function(D,H){return this.clone().$set(D,H)},O.get=function(D){return this[Te.p(D)]()},O.add=function(D,H){var T,fe=this;D=Number(D);var ye=Te.p(H),ze=function(Ft){var In=se(fe);return Te.w(In.date(In.date()+Math.round(Ft*D)),fe)};if(ye===l)return this.set(l,this.$M+D);if(ye===u)return this.set(u,this.$y+D);if(ye===s)return ze(1);if(ye===c)return ze(7);var ct=(T={},T[o]=t,T[a]=n,T[i]=e,T)[ye]||1,_t=this.$d.getTime()+D*ct;return Te.w(_t,this)},O.subtract=function(D,H){return this.add(-1*D,H)},O.format=function(D){var H=this,T=this.$locale();if(!this.isValid())return T.invalidDate||h;var fe=D||"YYYY-MM-DDTHH:mm:ssZ",ye=Te.z(this),ze=this.$H,ct=this.$m,_t=this.$M,Ft=T.weekdays,In=T.months,ya=T.meridiem,oo=function(nn,ki,hc,Fd){return nn&&(nn[ki]||nn(H,fe))||hc[ki].slice(0,Fd)},uc=function(nn){return Te.s(ze%12||12,nn,"0")},ao=ya||function(nn,ki,hc){var Fd=nn<12?"AM":"PM";return hc?Fd.toLowerCase():Fd};return fe.replace(g,function(nn,ki){return ki||(function(hc){switch(hc){case"YY":return String(H.$y).slice(-2);case"YYYY":return Te.s(H.$y,4,"0");case"M":return _t+1;case"MM":return Te.s(_t+1,2,"0");case"MMM":return oo(T.monthsShort,_t,In,3);case"MMMM":return oo(In,_t);case"D":return H.$D;case"DD":return Te.s(H.$D,2,"0");case"d":return String(H.$W);case"dd":return oo(T.weekdaysMin,H.$W,Ft,2);case"ddd":return oo(T.weekdaysShort,H.$W,Ft,3);case"dddd":return Ft[H.$W];case"H":return String(ze);case"HH":return Te.s(ze,2,"0");case"h":return uc(1);case"hh":return uc(2);case"a":return ao(ze,ct,!0);case"A":return ao(ze,ct,!1);case"m":return String(ct);case"mm":return Te.s(ct,2,"0");case"s":return String(H.$s);case"ss":return Te.s(H.$s,2,"0");case"SSS":return Te.s(H.$ms,3,"0");case"Z":return ye}return null})(nn)||ye.replace(":","")})},O.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},O.diff=function(D,H,T){var fe,ye=this,ze=Te.p(H),ct=se(D),_t=(ct.utcOffset()-this.utcOffset())*t,Ft=this-ct,In=function(){return Te.m(ye,ct)};switch(ze){case u:fe=In()/12;break;case l:fe=In();break;case d:fe=In()/3;break;case c:fe=(Ft-_t)/6048e5;break;case s:fe=(Ft-_t)/864e5;break;case a:fe=Ft/n;break;case o:fe=Ft/t;break;case i:fe=Ft/e;break;default:fe=Ft}return T?fe:Te.a(fe)},O.daysInMonth=function(){return this.endOf(l).$D},O.$locale=function(){return _[this.$L]},O.locale=function(D,H){if(!D)return this.$L;var T=this.clone(),fe=re(D,H,!0);return fe&&(T.$L=fe),T},O.clone=function(){return Te.w(this.$d,this)},O.toDate=function(){return new Date(this.valueOf())},O.toJSON=function(){return this.isValid()?this.toISOString():null},O.toISOString=function(){return this.$d.toISOString()},O.toString=function(){return this.$d.toUTCString()},ie})(),Wv=tn.prototype;return se.prototype=Wv,[["$ms",r],["$s",i],["$m",o],["$H",a],["$W",s],["$M",l],["$y",u],["$D",p]].forEach(function(ie){Wv[ie[1]]=function(O){return this.$g(O,ie[0],ie[1])}}),se.extend=function(ie,O){return ie.$i||(ie(O,tn,se),ie.$i=!0),se},se.locale=re,se.isDayjs=Be,se.unix=function(ie){return se(1e3*ie)},se.en=_[I],se.Ls=_,se.p={},se})});var jt=null,Vd=!1,xf=1,s6=null,qe=Symbol("SIGNAL");function B(e){let t=jt;return jt=e,t}function Hd(){return jt}var zr={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function qr(e){if(Vd)throw new Error("");if(jt===null)return;jt.consumerOnSignalRead(e);let t=jt.producersTail;if(t!==void 0&&t.producer===e)return;let n,r=jt.recomputing;if(r&&(n=t!==void 0?t.nextProducer:jt.producers,n!==void 0&&n.producer===e)){jt.producersTail=n,n.lastReadVersion=e.version;return}let i=e.consumersTail;if(i!==void 0&&i.consumer===jt&&(!r||c6(i,jt)))return;let o=ma(jt),a={producer:e,consumer:jt,nextProducer:n,prevConsumer:i,lastReadVersion:e.version,nextConsumer:void 0};jt.producersTail=a,t!==void 0?t.nextProducer=a:jt.producers=a,o&&Jv(e,a)}function Zv(){xf++}function co(e){if(!(ma(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===xf)){if(!e.producerMustRecompute(e)&&!lo(e)){ga(e);return}e.producerRecomputeValue(e),ga(e)}}function Df(e){if(e.consumers===void 0)return;let t=Vd;Vd=!0;try{for(let n=e.consumers;n!==void 0;n=n.nextConsumer){let r=n.consumer;r.dirty||Xv(r)}}finally{Vd=t}}function Ef(){return jt?.consumerAllowSignalWrites!==!1}function Xv(e){e.dirty=!0,Df(e),e.consumerMarkedDirty?.(e)}function ga(e){e.dirty=!1,e.lastCleanEpoch=xf}function fr(e){return e&&Yv(e),B(e)}function Yv(e){e.producersTail=void 0,e.recomputing=!0}function Ur(e,t){B(t),e&&Qv(e)}function Qv(e){e.recomputing=!1;let t=e.producersTail,n=t!==void 0?t.nextProducer:e.producers;if(n!==void 0){if(ma(e))do n=Af(n);while(n!==void 0);t!==void 0?t.nextProducer=void 0:e.producers=void 0}}function lo(e){for(let t=e.producers;t!==void 0;t=t.nextProducer){let n=t.producer,r=t.lastReadVersion;if(r!==n.version||(co(n),r!==n.version))return!0}return!1}function $r(e){if(ma(e)){let t=e.producers;for(;t!==void 0;)t=Af(t)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Jv(e,t){let n=e.consumersTail,r=ma(e);if(n!==void 0?(t.nextConsumer=n.nextConsumer,n.nextConsumer=t):(t.nextConsumer=void 0,e.consumers=t),t.prevConsumer=n,e.consumersTail=t,!r)for(let i=e.producers;i!==void 0;i=i.nextProducer)Jv(i.producer,i)}function Af(e){let t=e.producer,n=e.nextProducer,r=e.nextConsumer,i=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,r!==void 0?r.prevConsumer=i:t.consumersTail=i,i!==void 0)i.nextConsumer=r;else if(t.consumers=r,!ma(t)){let o=t.producers;for(;o!==void 0;)o=Af(o)}return n}function ma(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function pc(e){s6?.(e)}function c6(e,t){let n=t.producersTail;if(n!==void 0){let r=t.producers;do{if(r===e)return!0;if(r===n)break;r=r.nextProducer}while(r!==void 0)}return!1}function fc(e,t){return Object.is(e,t)}function yc(e,t){let n=Object.create(l6);n.computation=e,t!==void 0&&(n.equal=t);let r=()=>{if(co(n),qr(n),n.value===Br)throw n.error;return n.value};return r[qe]=n,pc(n),r}var Mi=Symbol("UNSET"),so=Symbol("COMPUTING"),Br=Symbol("ERRORED"),l6=x(m({},zr),{value:Mi,dirty:!0,error:null,equal:fc,kind:"computed",producerMustRecompute(e){return e.value===Mi||e.value===so},producerRecomputeValue(e){if(e.value===so)throw new Error("");let t=e.value;e.value=so;let n=fr(e),r,i=!1;try{r=e.computation(),B(null),i=t!==Mi&&t!==Br&&r!==Br&&e.equal(t,r)}catch(o){r=Br,e.error=o}finally{Ur(e,n)}if(i){e.value=t;return}e.value=r,e.version++}});function d6(){throw new Error}var ek=d6;function tk(e){ek(e)}function Tf(e){ek=e}var u6=null;function Lf(e,t){let n=Object.create(gc);n.value=e,t!==void 0&&(n.equal=t);let r=()=>nk(n);return r[qe]=n,pc(n),[r,a=>wi(n,a),a=>Bd(n,a)]}function nk(e){return qr(e),e.value}function wi(e,t){Ef()||tk(e),e.equal(e.value,t)||(e.value=t,h6(e))}function Bd(e,t){Ef()||tk(e),wi(e,t(e.value))}var gc=x(m({},zr),{equal:fc,value:void 0,kind:"signal"});function h6(e){e.version++,Zv(),Df(e),u6?.(e)}function Rf(e){let t=B(null);try{return e()}finally{B(t)}}var Of=x(m({},zr),{consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,dirty:!0,kind:"effect"});function Pf(e){if(e.dirty=!1,e.version>0&&!lo(e))return;e.version++;let t=fr(e);try{e.cleanup(),e.fn()}finally{Ur(e,t)}}function W(e){return typeof e=="function"}function va(e){let n=e(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var zd=va(e=>function(n){e(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function uo(e,t){if(e){let n=e.indexOf(t);0<=n&&e.splice(n,1)}}var je=class e{constructor(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let t;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(W(r))try{r()}catch(o){t=o instanceof zd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{rk(o)}catch(a){t=t??[],a instanceof zd?t=[...t,...a.errors]:t.push(a)}}if(t)throw new zd(t)}}add(t){var n;if(t&&t!==this)if(this.closed)rk(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(t)}}_hasParent(t){let{_parentage:n}=this;return n===t||Array.isArray(n)&&n.includes(t)}_addParent(t){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(t),n):n?[n,t]:t}_removeParent(t){let{_parentage:n}=this;n===t?this._parentage=null:Array.isArray(n)&&uo(n,t)}remove(t){let{_finalizers:n}=this;n&&uo(n,t),t instanceof e&&t._removeParent(this)}};je.EMPTY=(()=>{let e=new je;return e.closed=!0,e})();var Nf=je.EMPTY;function qd(e){return e instanceof je||e&&"closed"in e&&W(e.remove)&&W(e.add)&&W(e.unsubscribe)}function rk(e){W(e)?e():e.unsubscribe()}var qn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ka={setTimeout(e,t,...n){let{delegate:r}=ka;return r?.setTimeout?r.setTimeout(e,t,...n):setTimeout(e,t,...n)},clearTimeout(e){let{delegate:t}=ka;return(t?.clearTimeout||clearTimeout)(e)},delegate:void 0};function Ud(e){ka.setTimeout(()=>{let{onUnhandledError:t}=qn;if(t)t(e);else throw e})}function mc(){}var ik=Ff("C",void 0,void 0);function ok(e){return Ff("E",void 0,e)}function ak(e){return Ff("N",e,void 0)}function Ff(e,t,n){return{kind:e,value:t,error:n}}var ho=null;function Ma(e){if(qn.useDeprecatedSynchronousErrorHandling){let t=!ho;if(t&&(ho={errorThrown:!1,error:null}),e(),t){let{errorThrown:n,error:r}=ho;if(ho=null,n)throw r}}else e()}function sk(e){qn.useDeprecatedSynchronousErrorHandling&&ho&&(ho.errorThrown=!0,ho.error=e)}var po=class extends je{constructor(t){super(),this.isStopped=!1,t?(this.destination=t,qd(t)&&t.add(this)):this.destination=y6}static create(t,n,r){return new Un(t,n,r)}next(t){this.isStopped?Vf(ak(t),this):this._next(t)}error(t){this.isStopped?Vf(ok(t),this):(this.isStopped=!0,this._error(t))}complete(){this.isStopped?Vf(ik,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(t){this.destination.next(t)}_error(t){try{this.destination.error(t)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},p6=Function.prototype.bind;function jf(e,t){return p6.call(e,t)}var Hf=class{constructor(t){this.partialObserver=t}next(t){let{partialObserver:n}=this;if(n.next)try{n.next(t)}catch(r){$d(r)}}error(t){let{partialObserver:n}=this;if(n.error)try{n.error(t)}catch(r){$d(r)}else $d(t)}complete(){let{partialObserver:t}=this;if(t.complete)try{t.complete()}catch(n){$d(n)}}},Un=class extends po{constructor(t,n,r){super();let i;if(W(t)||!t)i={next:t??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&qn.useDeprecatedNextContext?(o=Object.create(t),o.unsubscribe=()=>this.unsubscribe(),i={next:t.next&&jf(t.next,o),error:t.error&&jf(t.error,o),complete:t.complete&&jf(t.complete,o)}):i=t}this.destination=new Hf(i)}};function $d(e){qn.useDeprecatedSynchronousErrorHandling?sk(e):Ud(e)}function f6(e){throw e}function Vf(e,t){let{onStoppedNotification:n}=qn;n&&ka.setTimeout(()=>n(e,t))}var y6={closed:!0,next:mc,error:f6,complete:mc};var wa=typeof Symbol=="function"&&Symbol.observable||"@@observable";function pn(e){return e}function vc(...e){return Bf(e)}function Bf(e){return e.length===0?pn:e.length===1?e[0]:function(n){return e.reduce((r,i)=>i(r),n)}}var te=(()=>{class e{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new e;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=m6(n)?n:new Un(n,r,i);return Ma(()=>{let{operator:a,source:s}=this;o.add(a?a.call(o,s):s?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ck(r),new r((i,o)=>{let a=new Un({next:s=>{try{n(s)}catch(c){o(c),a.unsubscribe()}},error:o,complete:i});this.subscribe(a)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[wa](){return this}pipe(...n){return Bf(n)(this)}toPromise(n){return n=ck(n),new n((r,i)=>{let o;this.subscribe(a=>o=a,a=>i(a),()=>r(o))})}}return e.create=t=>new e(t),e})();function ck(e){var t;return(t=e??qn.Promise)!==null&&t!==void 0?t:Promise}function g6(e){return e&&W(e.next)&&W(e.error)&&W(e.complete)}function m6(e){return e&&e instanceof po||g6(e)&&qd(e)}function v6(e){return W(e?.lift)}function me(e){return t=>{if(v6(t))return t.lift(function(n){try{return e(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ke(e,t,n,r,i){return new zf(e,t,n,r,i)}var zf=class extends po{constructor(t,n,r,i,o,a){super(t),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=n?function(s){try{n(s)}catch(c){t.error(c)}}:super._next,this._error=i?function(s){try{i(s)}catch(c){t.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(s){t.error(s)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}}};var ba={schedule(e){let t=requestAnimationFrame,n=cancelAnimationFrame,{delegate:r}=ba;r&&(t=r.requestAnimationFrame,n=r.cancelAnimationFrame);let i=t(o=>{n=void 0,e(o)});return new je(()=>n?.(i))},requestAnimationFrame(...e){let{delegate:t}=ba;return(t?.requestAnimationFrame||requestAnimationFrame)(...e)},cancelAnimationFrame(...e){let{delegate:t}=ba;return(t?.cancelAnimationFrame||cancelAnimationFrame)(...e)},delegate:void 0};var lk=va(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var z=(()=>{class e extends te{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Wd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new lk}next(n){Ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ma(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Nf:(this.currentObservers=null,o.push(n),new je(()=>{this.currentObservers=null,uo(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new te;return n.source=this,n}}return e.create=(t,n)=>new Wd(t,n),e})(),Wd=class extends z{constructor(t,n){super(),this.destination=t,this.source=n}next(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,t)}error(t){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,t)}complete(){var t,n;(n=(t=this.destination)===null||t===void 0?void 0:t.complete)===null||n===void 0||n.call(t)}_subscribe(t){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(t))!==null&&r!==void 0?r:Nf}};var mt=class extends z{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){let n=super._subscribe(t);return!n.closed&&t.next(this._value),n}getValue(){let{hasError:t,thrownError:n,_value:r}=this;if(t)throw n;return this._throwIfClosed(),r}next(t){super.next(this._value=t)}};var kc={now(){return(kc.delegate||Date).now()},delegate:void 0};var fo=class extends z{constructor(t=1/0,n=1/0,r=kc){super(),this._bufferSize=t,this._windowTime=n,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=n===1/0,this._bufferSize=Math.max(1,t),this._windowTime=Math.max(1,n)}next(t){let{isStopped:n,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:a}=this;n||(r.push(t),!i&&r.push(o.now()+a)),this._trimBuffer(),super.next(t)}_subscribe(t){this._throwIfClosed(),this._trimBuffer();let n=this._innerSubscribe(t),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let a=0;a<o.length&&!t.closed;a+=r?1:2)t.next(o[a]);return this._checkFinalizedStatuses(t),n}_trimBuffer(){let{_bufferSize:t,_timestampProvider:n,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*t;if(t<1/0&&o<r.length&&r.splice(0,r.length-o),!i){let a=n.now(),s=0;for(let c=1;c<r.length&&r[c]<=a;c+=2)s=c;s&&r.splice(0,s+1)}}};var Gd=class extends je{constructor(t,n){super()}schedule(t,n=0){return this}};var Mc={setInterval(e,t,...n){let{delegate:r}=Mc;return r?.setInterval?r.setInterval(e,t,...n):setInterval(e,t,...n)},clearInterval(e){let{delegate:t}=Mc;return(t?.clearInterval||clearInterval)(e)},delegate:void 0};var yr=class extends Gd{constructor(t,n){super(t,n),this.scheduler=t,this.work=n,this.pending=!1}schedule(t,n=0){var r;if(this.closed)return this;this.state=t;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(t,n,r=0){return Mc.setInterval(t.flush.bind(t,this),r)}recycleAsyncId(t,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Mc.clearInterval(n)}execute(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(t,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,n){let r=!1,i;try{this.work(t)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:t,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,uo(r,this),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null,super.unsubscribe()}}};var k6=1,qf,Uf={};function dk(e){return e in Uf?(delete Uf[e],!0):!1}var uk={setImmediate(e){let t=k6++;return Uf[t]=!0,qf||(qf=Promise.resolve()),qf.then(()=>dk(t)&&e()),t},clearImmediate(e){dk(e)}};var{setImmediate:M6,clearImmediate:w6}=uk,wc={setImmediate(...e){let{delegate:t}=wc;return(t?.setImmediate||M6)(...e)},clearImmediate(e){let{delegate:t}=wc;return(t?.clearImmediate||w6)(e)},delegate:void 0};var Kd=class extends yr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=wc.setImmediate(t.flush.bind(t,void 0))))}recycleAsyncId(t,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:o}=t;n!=null&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(wc.clearImmediate(n),t._scheduled===n&&(t._scheduled=void 0))}};var Ca=class e{constructor(t,n=e.now){this.schedulerActionCtor=t,this.now=n}schedule(t,n=0,r){return new this.schedulerActionCtor(this,t).schedule(r,n)}};Ca.now=kc.now;var gr=class extends Ca{constructor(t,n=Ca.now){super(t,n),this.actions=[],this._active=!1}flush(t){let{actions:n}=this;if(this._active){n.push(t);return}let r;this._active=!0;do if(r=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,r){for(;t=n.shift();)t.unsubscribe();throw r}}};var Zd=class extends gr{flush(t){this._active=!0;let n=this._scheduled;this._scheduled=void 0;let{actions:r}=this,i;t=t||r.shift();do if(i=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}};var hk=new Zd(Kd);var bc=new gr(yr),pk=bc;var Xd=class extends yr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}schedule(t,n=0){return n>0?super.schedule(t,n):(this.delay=n,this.state=t,this.scheduler.flush(this),this)}execute(t,n){return n>0||this.closed?super.execute(t,n):this._execute(t,n)}requestAsyncId(t,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(t,n,r):(t.flush(this),0)}};var Yd=class extends gr{};var $f=new Yd(Xd);var Qd=class extends yr{constructor(t,n){super(t,n),this.scheduler=t,this.work=n}requestAsyncId(t,n,r=0){return r!==null&&r>0?super.requestAsyncId(t,n,r):(t.actions.push(this),t._scheduled||(t._scheduled=ba.requestAnimationFrame(()=>t.flush(void 0))))}recycleAsyncId(t,n,r=0){var i;if(r!=null?r>0:this.delay>0)return super.recycleAsyncId(t,n,r);let{actions:o}=t;n!=null&&n===t._scheduled&&((i=o[o.length-1])===null||i===void 0?void 0:i.id)!==n&&(ba.cancelAnimationFrame(n),t._scheduled=void 0)}};var Jd=class extends gr{flush(t){this._active=!0;let n;t?n=t.id:(n=this._scheduled,this._scheduled=void 0);let{actions:r}=this,i;t=t||r.shift();do if(i=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,i){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw i}}};var fk=new Jd(Qd);var pt=new te(e=>e.complete());function eu(e){return e&&W(e.schedule)}function Wf(e){return e[e.length-1]}function tu(e){return W(Wf(e))?e.pop():void 0}function mr(e){return eu(Wf(e))?e.pop():void 0}function yk(e,t){return typeof Wf(e)=="number"?e.pop():t}function go(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function nu(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function s(d){try{l(r.next(d))}catch(u){a(u)}}function c(d){try{l(r.throw(d))}catch(u){a(u)}}function l(d){d.done?o(d.value):i(d.value).then(s,c)}l((r=r.apply(e,t||[])).next())})}function gk(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function yo(e){return this instanceof yo?(this.v=e,this):new yo(e)}function mk(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(e,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(y){return Promise.resolve(y).then(h,u)}}function s(h,y){r[h]&&(i[h]=function(g){return new Promise(function(v,k){o.push([h,g,v,k])>1||c(h,g)})},y&&(i[h]=y(i[h])))}function c(h,y){try{l(r[h](y))}catch(g){p(o[0][3],g)}}function l(h){h.value instanceof yo?Promise.resolve(h.value.v).then(d,u):p(o[0][2],h)}function d(h){c("next",h)}function u(h){c("throw",h)}function p(h,y){h(y),o.shift(),o.length&&c(o[0][0],o[0][1])}}function vk(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],n;return t?t.call(e):(e=typeof gk=="function"?gk(e):e[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=e[o]&&function(a){return new Promise(function(s,c){a=e[o](a),i(s,c,a.done,a.value)})}}function i(o,a,s,c){Promise.resolve(c).then(function(l){o({value:l,done:s})},a)}}var _a=e=>e&&typeof e.length=="number"&&typeof e!="function";function ru(e){return W(e?.then)}function iu(e){return W(e[wa])}function ou(e){return Symbol.asyncIterator&&W(e?.[Symbol.asyncIterator])}function au(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function b6(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var su=b6();function cu(e){return W(e?.[su])}function lu(e){return mk(this,arguments,function*(){let n=e.getReader();try{for(;;){let{value:r,done:i}=yield yo(n.read());if(i)return yield yo(void 0);yield yield yo(r)}}finally{n.releaseLock()}})}function du(e){return W(e?.getReader)}function Re(e){if(e instanceof te)return e;if(e!=null){if(iu(e))return C6(e);if(_a(e))return _6(e);if(ru(e))return S6(e);if(ou(e))return kk(e);if(cu(e))return I6(e);if(du(e))return x6(e)}throw au(e)}function C6(e){return new te(t=>{let n=e[wa]();if(W(n.subscribe))return n.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _6(e){return new te(t=>{for(let n=0;n<e.length&&!t.closed;n++)t.next(e[n]);t.complete()})}function S6(e){return new te(t=>{e.then(n=>{t.closed||(t.next(n),t.complete())},n=>t.error(n)).then(null,Ud)})}function I6(e){return new te(t=>{for(let n of e)if(t.next(n),t.closed)return;t.complete()})}function kk(e){return new te(t=>{D6(e,t).catch(n=>t.error(n))})}function x6(e){return kk(lu(e))}function D6(e,t){var n,r,i,o;return nu(this,void 0,void 0,function*(){try{for(n=vk(e);r=yield n.next(),!r.done;){let a=r.value;if(t.next(a),t.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}t.complete()})}function rn(e,t,n,r=0,i=!1){let o=t.schedule(function(){n(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function uu(e,t=0){return me((n,r)=>{n.subscribe(ke(r,i=>rn(r,e,()=>r.next(i),t),()=>rn(r,e,()=>r.complete(),t),i=>rn(r,e,()=>r.error(i),t)))})}function hu(e,t=0){return me((n,r)=>{r.add(e.schedule(()=>n.subscribe(r),t))})}function Mk(e,t){return Re(e).pipe(hu(t),uu(t))}function wk(e,t){return Re(e).pipe(hu(t),uu(t))}function bk(e,t){return new te(n=>{let r=0;return t.schedule(function(){r===e.length?n.complete():(n.next(e[r++]),n.closed||this.schedule())})})}function Ck(e,t){return new te(n=>{let r;return rn(n,t,()=>{r=e[su](),rn(n,t,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(a){n.error(a);return}o?n.complete():n.next(i)},0,!0)}),()=>W(r?.return)&&r.return()})}function pu(e,t){if(!e)throw new Error("Iterable cannot be null");return new te(n=>{rn(n,t,()=>{let r=e[Symbol.asyncIterator]();rn(n,t,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function _k(e,t){return pu(lu(e),t)}function Sk(e,t){if(e!=null){if(iu(e))return Mk(e,t);if(_a(e))return bk(e,t);if(ru(e))return wk(e,t);if(ou(e))return pu(e,t);if(cu(e))return Ck(e,t);if(du(e))return _k(e,t)}throw au(e)}function G(e,t){return t?Sk(e,t):Re(e)}function ee(...e){let t=mr(e);return G(e,t)}function Gf(e,t){let n=W(e)?e:()=>e,r=i=>i.error(n());return new te(t?i=>t.schedule(r,0,i):r)}function Cc(e){return!!e&&(e instanceof te||W(e.lift)&&W(e.subscribe))}var Wr=va(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function E6(e,t){let n=typeof t=="object";return new Promise((r,i)=>{let o=new Un({next:a=>{r(a),o.unsubscribe()},error:i,complete:()=>{n?r(t.defaultValue):i(new Wr)}});e.subscribe(o)})}function Ik(e){return e instanceof Date&&!isNaN(e)}function E(e,t){return me((n,r)=>{let i=0;n.subscribe(ke(r,o=>{r.next(e.call(t,o,i++))}))})}var{isArray:A6}=Array;function T6(e,t){return A6(t)?e(...t):e(t)}function Sa(e){return E(t=>T6(e,t))}var{isArray:L6}=Array,{getPrototypeOf:R6,prototype:O6,keys:P6}=Object;function fu(e){if(e.length===1){let t=e[0];if(L6(t))return{args:t,keys:null};if(N6(t)){let n=P6(t);return{args:n.map(r=>t[r]),keys:n}}}return{args:e,keys:null}}function N6(e){return e&&typeof e=="object"&&R6(e)===O6}function yu(e,t){return e.reduce((n,r,i)=>(n[r]=t[i],n),{})}function Ia(...e){let t=mr(e),n=tu(e),{args:r,keys:i}=fu(e);if(r.length===0)return G([],t);let o=new te(F6(r,t,i?a=>yu(i,a):pn));return n?o.pipe(Sa(n)):o}function F6(e,t,n=pn){return r=>{xk(t,()=>{let{length:i}=e,o=new Array(i),a=i,s=i;for(let c=0;c<i;c++)xk(t,()=>{let l=G(e[c],t),d=!1;l.subscribe(ke(r,u=>{o[c]=u,d||(d=!0,s--),s||r.next(n(o.slice()))},()=>{--a||r.complete()}))},r)},r)}}function xk(e,t,n){e?rn(n,e,t):t()}function Dk(e,t,n,r,i,o,a,s){let c=[],l=0,d=0,u=!1,p=()=>{u&&!c.length&&!l&&t.complete()},h=g=>l<r?y(g):c.push(g),y=g=>{o&&t.next(g),l++;let v=!1;Re(n(g,d++)).subscribe(ke(t,k=>{i?.(k),o?h(k):t.next(k)},()=>{v=!0},void 0,()=>{if(v)try{for(l--;c.length&&l<r;){let k=c.shift();a?rn(t,a,()=>y(k)):y(k)}p()}catch(k){t.error(k)}}))};return e.subscribe(ke(t,h,()=>{u=!0,p()})),()=>{s?.()}}function St(e,t,n=1/0){return W(t)?St((r,i)=>E((o,a)=>t(r,o,i,a))(Re(e(r,i))),n):(typeof t=="number"&&(n=t),me((r,i)=>Dk(r,i,e,n)))}function bi(e=1/0){return St(pn,e)}function Ek(){return bi(1)}function Ci(...e){return Ek()(G(e,mr(e)))}function mo(e){return new te(t=>{Re(e()).subscribe(t)})}function Kf(...e){let t=tu(e),{args:n,keys:r}=fu(e),i=new te(o=>{let{length:a}=n;if(!a){o.complete();return}let s=new Array(a),c=a,l=a;for(let d=0;d<a;d++){let u=!1;Re(n[d]).subscribe(ke(o,p=>{u||(u=!0,l--),s[d]=p},()=>c--,void 0,()=>{(!c||!u)&&(l||o.next(r?yu(r,s):s),o.complete())}))}});return t?i.pipe(Sa(t)):i}var j6=["addListener","removeListener"],V6=["addEventListener","removeEventListener"],H6=["on","off"];function Zf(e,t,n,r){if(W(n)&&(r=n,n=void 0),r)return Zf(e,t,n).pipe(Sa(r));let[i,o]=q6(e)?V6.map(a=>s=>e[a](t,s,n)):B6(e)?j6.map(Ak(e,t)):z6(e)?H6.map(Ak(e,t)):[];if(!i&&_a(e))return St(a=>Zf(a,t,n))(Re(e));if(!i)throw new TypeError("Invalid event target");return new te(a=>{let s=(...c)=>a.next(1<c.length?c:c[0]);return i(s),()=>o(s)})}function Ak(e,t){return n=>r=>e[n](t,r)}function B6(e){return W(e.addListener)&&W(e.removeListener)}function z6(e){return W(e.on)&&W(e.off)}function q6(e){return W(e.addEventListener)&&W(e.removeEventListener)}function Tk(e=0,t,n=pk){let r=-1;return t!=null&&(eu(t)?n=t:r=t),new te(i=>{let o=Ik(e)?+e-n.now():e;o<0&&(o=0);let a=0;return n.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},o)})}function xa(...e){let t=mr(e),n=yk(e,1/0),r=e;return r.length?r.length===1?Re(r[0]):bi(n)(G(r,t)):pt}function Ue(e,t){return me((n,r)=>{let i=0;n.subscribe(ke(r,o=>e.call(t,o,i++)&&r.next(o)))})}function Lk(e){return me((t,n)=>{let r=!1,i=null,o=null,a=!1,s=()=>{if(o?.unsubscribe(),o=null,r){r=!1;let l=i;i=null,n.next(l)}a&&n.complete()},c=()=>{o=null,a&&n.complete()};t.subscribe(ke(n,l=>{r=!0,i=l,o||Re(e(l)).subscribe(o=ke(n,s,c))},()=>{a=!0,(!r||!o||o.closed)&&n.complete()}))})}function gu(e,t=bc){return Lk(()=>Tk(e,t))}function _i(e){return me((t,n)=>{let r=null,i=!1,o;r=t.subscribe(ke(n,void 0,void 0,a=>{o=Re(e(a,_i(e)(t))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Si(e,t){return W(t)?St(e,t,1):St(e,1)}function Xf(e,t=bc){return me((n,r)=>{let i=null,o=null,a=null,s=()=>{if(i){i.unsubscribe(),i=null;let l=o;o=null,r.next(l)}};function c(){let l=a+e,d=t.now();if(d<l){i=this.schedule(void 0,l-d),r.add(i);return}s()}n.subscribe(ke(r,l=>{o=l,a=t.now(),i||(i=t.schedule(c,e),r.add(i))},()=>{s(),r.complete()},void 0,()=>{o=i=null}))})}function Rk(e){return me((t,n)=>{let r=!1;t.subscribe(ke(n,i=>{r=!0,n.next(i)},()=>{r||n.next(e),n.complete()}))})}function lt(e){return e<=0?()=>pt:me((t,n)=>{let r=0;t.subscribe(ke(n,i=>{++r<=e&&(n.next(i),e<=r&&n.complete())}))})}function mu(e,t=pn){return e=e??U6,me((n,r)=>{let i,o=!0;n.subscribe(ke(r,a=>{let s=t(a);(o||!e(i,s))&&(o=!1,i=s,r.next(a))}))})}function U6(e,t){return e===t}function Ok(e=$6){return me((t,n)=>{let r=!1;t.subscribe(ke(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(e())))})}function $6(){return new Wr}function Da(e){return me((t,n)=>{try{t.subscribe(n)}finally{n.add(e)}})}function Gr(e,t){let n=arguments.length>=2;return r=>r.pipe(e?Ue((i,o)=>e(i,o,r)):pn,lt(1),n?Rk(t):Ok(()=>new Wr))}function vu(e){return e<=0?()=>pt:me((t,n)=>{let r=[];t.subscribe(ke(n,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Pk(){return me((e,t)=>{let n,r=!1;e.subscribe(ke(t,i=>{let o=n;n=i,r&&t.next([o,i]),r=!0}))})}function Qf(e={}){let{connector:t=()=>new z,resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let a,s,c,l=0,d=!1,u=!1,p=()=>{s?.unsubscribe(),s=void 0},h=()=>{p(),a=c=void 0,d=u=!1},y=()=>{let g=a;h(),g?.unsubscribe()};return me((g,v)=>{l++,!u&&!d&&p();let k=c=c??t();v.add(()=>{l--,l===0&&!u&&!d&&(s=Yf(y,i))}),k.subscribe(v),!a&&l>0&&(a=new Un({next:A=>k.next(A),error:A=>{u=!0,p(),s=Yf(h,n,A),k.error(A)},complete:()=>{d=!0,p(),s=Yf(h,r),k.complete()}}),Re(g).subscribe(a))})(o)}}function Yf(e,t,...n){if(t===!0){e();return}if(t===!1)return;let r=new Un({next:()=>{r.unsubscribe(),e()}});return Re(t(...n)).subscribe(r)}function Nk(e,t,n){let r,i=!1;return e&&typeof e=="object"?{bufferSize:r=1/0,windowTime:t=1/0,refCount:i=!1,scheduler:n}=e:r=e??1/0,Qf({connector:()=>new fo(r,t,n),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function _c(e){return Ue((t,n)=>e<=n)}function Ii(...e){let t=mr(e);return me((n,r)=>{(t?Ci(e,n,t):Ci(e,n)).subscribe(r)})}function le(e,t){return me((n,r)=>{let i=null,o=0,a=!1,s=()=>a&&!i&&r.complete();n.subscribe(ke(r,c=>{i?.unsubscribe();let l=0,d=o++;Re(e(c,d)).subscribe(i=ke(r,u=>r.next(t?t(c,u,d,l++):u),()=>{i=null,s()}))},()=>{a=!0,s()}))})}function xn(e){return me((t,n)=>{Re(e).subscribe(ke(n,()=>n.complete(),mc)),!n.closed&&t.subscribe(n)})}function vt(e,t,n){let r=W(e)||t||n?{next:e,error:t,complete:n}:e;return r?me((i,o)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let s=!0;i.subscribe(ke(o,c=>{var l;(l=r.next)===null||l===void 0||l.call(r,c),o.next(c)},()=>{var c;s=!1,(c=r.complete)===null||c===void 0||c.call(r),o.complete()},c=>{var l;s=!1,(l=r.error)===null||l===void 0||l.call(r,c),o.error(c)},()=>{var c,l;s&&((c=r.unsubscribe)===null||c===void 0||c.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):pn}var Jf;function ku(){return Jf}function vr(e){let t=Jf;return Jf=e,t}var Fk=Symbol("NotFound");function Ea(e){return e===Fk||e?.name==="\u0275NotFound"}function e0(e,t,n){let r=Object.create(W6);r.source=e,r.computation=t,n!=null&&(r.equal=n);let o=()=>{if(co(r),qr(r),r.value===Br)throw r.error;return r.value};return o[qe]=r,pc(r),o}function jk(e,t){co(e),wi(e,t),ga(e)}function Vk(e,t){co(e),Bd(e,t),ga(e)}var W6=x(m({},zr),{value:Mi,dirty:!0,error:null,equal:fc,kind:"linkedSignal",producerMustRecompute(e){return e.value===Mi||e.value===so},producerRecomputeValue(e){if(e.value===so)throw new Error("");let t=e.value;e.value=so;let n=fr(e),r;try{let i=e.source(),o=t===Mi||t===Br?void 0:{source:e.sourceValue,value:t};r=e.computation(i,o),e.sourceValue=i}catch(i){r=Br,e.error=i}finally{Ur(e,n)}if(t!==Mi&&r!==Br&&e.equal(t,r)){e.value=t;return}e.value=r,e.version++}});var Iu="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",b=class extends Error{code;constructor(t,n){super($n(t,n)),this.code=t}};function G6(e){return`NG0${Math.abs(e)}`}function $n(e,t){return`${G6(e)}${t?": "+t:""}`}var En=globalThis;function Y(e){for(let t in e)if(e[t]===Y)return t;throw Error("")}function Uk(e,t){for(let n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function Zr(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(Zr).join(", ")}]`;if(e==null)return""+e;let t=e.overriddenName||e.name;if(t)return`${t}`;let n=e.toString();if(n==null)return""+n;let r=n.indexOf(`
`);return r>=0?n.slice(0,r):n}function xu(e,t){return e?t?`${e} ${t}`:e:t||""}var K6=Y({__forward_ref__:Y});function fn(e){return e.__forward_ref__=fn,e.toString=function(){return Zr(this())},e}function kt(e){return f0(e)?e():e}function f0(e){return typeof e=="function"&&e.hasOwnProperty(K6)&&e.__forward_ref__===fn}function M(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function Pe(e){return{providers:e.providers||[],imports:e.imports||[]}}function Tc(e){return Z6(e,Du)}function y0(e){return Tc(e)!==null}function Z6(e,t){return e.hasOwnProperty(t)&&e[t]||null}function X6(e){let t=e?.[Du]??null;return t||null}function n0(e){return e&&e.hasOwnProperty(wu)?e[wu]:null}var Du=Y({\u0275prov:Y}),wu=Y({\u0275inj:Y}),C=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(t,n){this._desc=t,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=M({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function g0(e){return e&&!!e.\u0275providers}var m0=Y({\u0275cmp:Y}),v0=Y({\u0275dir:Y}),k0=Y({\u0275pipe:Y}),M0=Y({\u0275mod:Y}),Ic=Y({\u0275fac:Y}),bo=Y({__NG_ELEMENT_ID__:Y}),Hk=Y({__NG_ENV_ID__:Y});function w0(e){return Au(e,"@NgModule"),e[M0]||null}function Mr(e){return Au(e,"@Component"),e[m0]||null}function Eu(e){return Au(e,"@Directive"),e[v0]||null}function $k(e){return Au(e,"@Pipe"),e[k0]||null}function Au(e,t){if(e==null)throw new b(-919,!1)}function Ai(e){return typeof e=="string"?e:e==null?"":String(e)}function Wk(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Ai(e)}var Gk=Y({ngErrorCode:Y}),Y6=Y({ngErrorMessage:Y}),Q6=Y({ngTokenPath:Y});function b0(e,t){return Kk("",-200,t)}function Tu(e,t){throw new b(-201,!1)}function Kk(e,t,n){let r=new b(t,e);return r[Gk]=t,r[Y6]=e,n&&(r[Q6]=n),r}function J6(e){return e[Gk]}var r0;function Zk(){return r0}function Zt(e){let t=r0;return r0=e,t}function C0(e,t,n){let r=Tc(e);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&8)return null;if(t!==void 0)return t;Tu(e,"")}var eS={},vo=eS,i0="__NG_DI_FLAG__",o0=class{injector;constructor(t){this.injector=t}retrieve(t,n){let r=ko(n)||0;try{return this.injector.get(t,r&8?null:vo,r)}catch(i){if(Ea(i))return i;throw i}}};function tS(e,t=0){let n=ku();if(n===void 0)throw new b(-203,!1);if(n===null)return C0(e,void 0,t);{let r=nS(t),i=n.retrieve(e,r);if(Ea(i)){if(r.optional)return null;throw i}return i}}function K(e,t=0){return(Zk()||tS)(kt(e),t)}function f(e,t){return K(e,ko(t))}function ko(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function nS(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function a0(e){let t=[];for(let n=0;n<e.length;n++){let r=kt(e[n]);if(Array.isArray(r)){if(r.length===0)throw new b(900,!1);let i,o=0;for(let a=0;a<r.length;a++){let s=r[a],c=rS(s);typeof c=="number"?c===-1?i=s.token:o|=c:i=s}t.push(K(i,o))}else t.push(K(r))}return t}function Xk(e,t){return e[i0]=t,e.prototype[i0]=t,e}function rS(e){return e[i0]}function xi(e,t){let n=e.hasOwnProperty(Ic);return n?e[Ic]:null}function Yk(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}function Qk(e){return e.flat(Number.POSITIVE_INFINITY)}function Lu(e,t){e.forEach(n=>Array.isArray(n)?Lu(n,t):t(n))}function _0(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Lc(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function Jk(e,t){let n=[];for(let r=0;r<e;r++)n.push(t);return n}function eM(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(i===1)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;){let o=i-2;e[i]=e[o],i--}e[t]=n,e[t+1]=r}}function Rc(e,t,n){let r=Ta(e,t);return r>=0?e[r|1]=n:(r=~r,eM(e,r,t,n)),r}function Ru(e,t){let n=Ta(e,t);if(n>=0)return e[n|1]}function Ta(e,t){return iS(e,t,1)}function iS(e,t,n){let r=0,i=e.length>>n;for(;i!==r;){let o=r+(i-r>>1),a=e[o<<n];if(t===a)return o<<n;a>t?i=o:r=o+1}return~(i<<n)}var Wn={},Vt=[],Ti=new C(""),S0=new C("",-1),I0=new C(""),xc=class{get(t,n=vo){if(n===vo){let i=Kk("",-201);throw i.name="\u0275NotFound",i}return n}};function wr(e){return{\u0275providers:e}}function tM(e){return wr([{provide:Ti,multi:!0,useValue:e}])}function nM(...e){return{\u0275providers:x0(!0,e),\u0275fromNgModule:!0}}function x0(e,...t){let n=[],r=new Set,i,o=a=>{n.push(a)};return Lu(t,a=>{let s=a;bu(s,o,[],r)&&(i||=[],i.push(s))}),i!==void 0&&rM(i,o),n}function rM(e,t){for(let n=0;n<e.length;n++){let{ngModule:r,providers:i}=e[n];D0(i,o=>{t(o,r)})}}function bu(e,t,n,r){if(e=kt(e),!e)return!1;let i=null,o=n0(e),a=!o&&Mr(e);if(!o&&!a){let c=e.ngModule;if(o=n0(c),o)i=c;else return!1}else{if(a&&!a.standalone)return!1;i=e}let s=r.has(i);if(a){if(s)return!1;if(r.add(i),a.dependencies){let c=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let l of c)bu(l,t,n,r)}}else if(o){if(o.imports!=null&&!s){r.add(i);let l;Lu(o.imports,d=>{bu(d,t,n,r)&&(l||=[],l.push(d))}),l!==void 0&&rM(l,t)}if(!s){let l=xi(i)||(()=>new i);t({provide:i,useFactory:l,deps:Vt},i),t({provide:I0,useValue:i,multi:!0},i),t({provide:Ti,useValue:()=>K(i),multi:!0},i)}let c=o.providers;if(c!=null&&!s){let l=e;D0(c,d=>{t(d,l)})}}else return!1;return i!==e&&e.providers!==void 0}function D0(e,t){for(let n of e)g0(n)&&(n=n.\u0275providers),Array.isArray(n)?D0(n,t):t(n)}var oS=Y({provide:String,useValue:Y});function iM(e){return e!==null&&typeof e=="object"&&oS in e}function aS(e){return!!(e&&e.useExisting)}function sS(e){return!!(e&&e.useFactory)}function Mo(e){return typeof e=="function"}function oM(e){return!!e.useClass}var Oc=new C(""),Mu={},Bk={},t0;function La(){return t0===void 0&&(t0=new xc),t0}var Oe=class{},wo=class extends Oe{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(t,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,c0(t,a=>this.processProvider(a)),this.records.set(S0,Aa(void 0,this)),i.has("environment")&&this.records.set(Oe,Aa(void 0,this));let o=this.records.get(Oc);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(I0,Vt,{self:!0}))}retrieve(t,n){let r=ko(n)||0;try{return this.get(t,vo,r)}catch(i){if(Ea(i))return i;throw i}}destroy(){Sc(this),this._destroyed=!0;let t=B(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),B(t)}}onDestroy(t){return Sc(this),this._onDestroyHooks.push(t),()=>this.removeOnDestroy(t)}runInContext(t){Sc(this);let n=vr(this),r=Zt(void 0),i;try{return t()}finally{vr(n),Zt(r)}}get(t,n=vo,r){if(Sc(this),t.hasOwnProperty(Hk))return t[Hk](this);let i=ko(r),o,a=vr(this),s=Zt(void 0);try{if(!(i&4)){let l=this.records.get(t);if(l===void 0){let d=hS(t)&&Tc(t);d&&this.injectableDefInScope(d)?l=Aa(s0(t),Mu):l=null,this.records.set(t,l)}if(l!=null)return this.hydrate(t,l,i)}let c=i&2?La():this.parent;return n=i&8&&n===vo?null:n,c.get(t,n)}catch(c){let l=J6(c);throw l===-200||l===-201?new b(l,null):c}finally{Zt(s),vr(a)}}resolveInjectorInitializers(){let t=B(null),n=vr(this),r=Zt(void 0),i;try{let o=this.get(Ti,Vt,{self:!0});for(let a of o)a()}finally{vr(n),Zt(r),B(t)}}toString(){let t=[],n=this.records;for(let r of n.keys())t.push(Zr(r));return`R3Injector[${t.join(", ")}]`}processProvider(t){t=kt(t);let n=Mo(t)?t:kt(t&&t.provide),r=lS(t);if(!Mo(t)&&t.multi===!0){let i=this.records.get(n);i||(i=Aa(void 0,Mu,!0),i.factory=()=>a0(i.multi),this.records.set(n,i)),n=t,i.multi.push(t)}this.records.set(n,r)}hydrate(t,n,r){let i=B(null);try{if(n.value===Bk)throw b0(Zr(t));return n.value===Mu&&(n.value=Bk,n.value=n.factory(void 0,r)),typeof n.value=="object"&&n.value&&uS(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{B(i)}}injectableDefInScope(t){if(!t.providedIn)return!1;let n=kt(t.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(t){let n=this._onDestroyHooks.indexOf(t);n!==-1&&this._onDestroyHooks.splice(n,1)}};function s0(e){let t=Tc(e),n=t!==null?t.factory:xi(e);if(n!==null)return n;if(e instanceof C)throw new b(204,!1);if(e instanceof Function)return cS(e);throw new b(204,!1)}function cS(e){if(e.length>0)throw new b(204,!1);let n=X6(e);return n!==null?()=>n.factory(e):()=>new e}function lS(e){if(iM(e))return Aa(void 0,e.useValue);{let t=E0(e);return Aa(t,Mu)}}function E0(e,t,n){let r;if(Mo(e)){let i=kt(e);return xi(i)||s0(i)}else if(iM(e))r=()=>kt(e.useValue);else if(sS(e))r=()=>e.useFactory(...a0(e.deps||[]));else if(aS(e))r=(i,o)=>K(kt(e.useExisting),o!==void 0&&o&8?8:void 0);else{let i=kt(e&&(e.useClass||e.provide));if(dS(e))r=()=>new i(...a0(e.deps));else return xi(i)||s0(i)}return r}function Sc(e){if(e.destroyed)throw new b(205,!1)}function Aa(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function dS(e){return!!e.deps}function uS(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function hS(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function c0(e,t){for(let n of e)Array.isArray(n)?c0(n,t):n&&g0(n)?c0(n.\u0275providers,t):t(n)}function nt(e,t){let n;e instanceof wo?(Sc(e),n=e):n=new o0(e);let r,i=vr(n),o=Zt(void 0);try{return t()}finally{vr(i),Zt(o)}}function aM(){return Zk()!==void 0||ku()!=null}var Gn=0,q=1,J=2,Mt=3,An=4,Xt=5,Co=6,Ra=7,rt=8,Yt=9,br=10,_e=11,Oa=12,A0=13,_o=14,Ht=15,Xr=16,So=17,Cr=18,_r=19,T0=20,Kr=21,Ou=22,Di=23,yn=24,Io=25,Yr=26,Ge=27,sM=1,L0=6,Li=7,Pc=8,xo=9,it=10;function Sr(e){return Array.isArray(e)&&typeof e[sM]=="object"}function Kn(e){return Array.isArray(e)&&e[sM]===!0}function R0(e){return(e.flags&4)!==0}function Qr(e){return e.componentOffset>-1}function Pa(e){return(e.flags&1)===1}function Zn(e){return!!e.template}function Na(e){return(e[J]&512)!==0}function Do(e){return(e[J]&256)===256}var O0="svg",cM="math";function Tn(e){for(;Array.isArray(e);)e=e[Gn];return e}function P0(e,t){return Tn(t[e])}function It(e,t){return Tn(t[e.index])}function Nc(e,t){return e.data[t]}function Pu(e,t){return e[t]}function N0(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}function Ln(e,t){let n=t[e];return Sr(n)?n:n[Gn]}function lM(e){return(e[J]&4)===4}function Nu(e){return(e[J]&128)===128}function dM(e){return Kn(e[Mt])}function Rn(e,t){return t==null?null:e[t]}function F0(e){e[So]=0}function j0(e){e[J]&1024||(e[J]|=1024,Nu(e)&&Eo(e))}function uM(e,t){for(;e>0;)t=t[_o],e--;return t}function Fc(e){return!!(e[J]&9216||e[yn]?.dirty)}function Fu(e){e[br].changeDetectionScheduler?.notify(8),e[J]&64&&(e[J]|=1024),Fc(e)&&Eo(e)}function Eo(e){e[br].changeDetectionScheduler?.notify(0);let t=Ei(e);for(;t!==null&&!(t[J]&8192||(t[J]|=8192,!Nu(t)));)t=Ei(t)}function V0(e,t){if(Do(e))throw new b(911,!1);e[Kr]===null&&(e[Kr]=[]),e[Kr].push(t)}function hM(e,t){if(e[Kr]===null)return;let n=e[Kr].indexOf(t);n!==-1&&e[Kr].splice(n,1)}function Ei(e){let t=e[Mt];return Kn(t)?t[Mt]:t}function H0(e){return e[Ra]??=[]}function B0(e){return e.cleanup??=[]}function z0(e,t,n,r){let i=H0(t);i.push(n),e.firstCreatePass&&B0(e).push(r,i.length-1)}var de={lFrame:CM(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var l0=!1;function pM(){return de.lFrame.elementDepthCount}function fM(){de.lFrame.elementDepthCount++}function q0(){de.lFrame.elementDepthCount--}function ju(){return de.bindingsEnabled}function U0(){return de.skipHydrationRootTNode!==null}function $0(e){return de.skipHydrationRootTNode===e}function W0(){de.skipHydrationRootTNode=null}function P(){return de.lFrame.lView}function De(){return de.lFrame.tView}function ue(e){return de.lFrame.contextLView=e,e[rt]}function he(e){return de.lFrame.contextLView=null,e}function ot(){let e=G0();for(;e!==null&&e.type===64;)e=e.parent;return e}function G0(){return de.lFrame.currentTNode}function yM(){let e=de.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}function Fa(e,t){let n=de.lFrame;n.currentTNode=e,n.isParent=t}function K0(){return de.lFrame.isParent}function Z0(){de.lFrame.isParent=!1}function gM(){return de.lFrame.contextLView}function X0(){return l0}function Dc(e){let t=l0;return l0=e,t}function Ri(){let e=de.lFrame,t=e.bindingRootIndex;return t===-1&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Y0(){return de.lFrame.bindingIndex}function mM(e){return de.lFrame.bindingIndex=e}function Xn(){return de.lFrame.bindingIndex++}function Vu(e){let t=de.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function vM(){return de.lFrame.inI18n}function kM(e,t){let n=de.lFrame;n.bindingIndex=n.bindingRootIndex=e,Hu(t)}function MM(){return de.lFrame.currentDirectiveIndex}function Hu(e){de.lFrame.currentDirectiveIndex=e}function wM(e){let t=de.lFrame.currentDirectiveIndex;return t===-1?null:e[t]}function Bu(){return de.lFrame.currentQueryIndex}function jc(e){de.lFrame.currentQueryIndex=e}function pS(e){let t=e[q];return t.type===2?t.declTNode:t.type===1?e[Xt]:null}function Q0(e,t,n){if(n&4){let i=t,o=e;for(;i=i.parent,i===null&&!(n&1);)if(i=pS(o),i===null||(o=o[_o],i.type&10))break;if(i===null)return!1;t=i,e=o}let r=de.lFrame=bM();return r.currentTNode=t,r.lView=e,!0}function zu(e){let t=bM(),n=e[q];de.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function bM(){let e=de.lFrame,t=e===null?null:e.child;return t===null?CM(e):t}function CM(e){let t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=t),t}function _M(){let e=de.lFrame;return de.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var J0=_M;function qu(){let e=_M();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function SM(e){return(de.lFrame.contextLView=uM(e,de.lFrame.contextLView))[rt]}function Ir(){return de.lFrame.selectedIndex}function Oi(e){de.lFrame.selectedIndex=e}function Ao(){let e=de.lFrame;return Nc(e.tView,e.selectedIndex)}function To(){de.lFrame.currentNamespace=O0}function Uu(){fS()}function fS(){de.lFrame.currentNamespace=null}function IM(){return de.lFrame.currentNamespace}var xM=!0;function $u(){return xM}function Vc(e){xM=e}function d0(e,t=null,n=null,r){let i=e2(e,t,n,r);return i.resolveInjectorInitializers(),i}function e2(e,t=null,n=null,r,i=new Set){let o=[n||Vt,nM(e)];return r=r||(typeof e=="object"?void 0:Zr(e)),new wo(o,t||La(),r||null,i)}var Q=class e{static THROW_IF_NOT_FOUND=vo;static NULL=new xc;static create(t,n){if(Array.isArray(t))return d0({name:""},n,t,"");{let r=t.name??"";return d0({name:r},t.parent,t.providers,r)}}static \u0275prov=M({token:e,providedIn:"any",factory:()=>K(S0)});static __NG_ELEMENT_ID__=-1},oe=new C(""),Ye=(()=>{class e{static __NG_ELEMENT_ID__=yS;static __NG_ENV_ID__=n=>n}return e})(),Cu=class extends Ye{_lView;constructor(t){super(),this._lView=t}get destroyed(){return Do(this._lView)}onDestroy(t){let n=this._lView;return V0(n,t),()=>hM(n,t)}};function yS(){return new Cu(P())}var DM=!1,EM=new C(""),Jr=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new mt(!1);debugTaskTracker=f(EM,{optional:!0});get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new te(n=>{n.next(!1),n.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),this.debugTaskTracker?.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.debugTaskTracker?.remove(n),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),u0=class extends z{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(t=!1){super(),this.__isAsync=t,aM()&&(this.destroyRef=f(Ye,{optional:!0})??void 0,this.pendingTasks=f(Jr,{optional:!0})??void 0)}emit(t){let n=B(null);try{super.next(t)}finally{B(n)}}subscribe(t,n,r){let i=t,o=n||(()=>null),a=r;if(t&&typeof t=="object"){let c=t;i=c.next?.bind(c),o=c.error?.bind(c),a=c.complete?.bind(c)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let s=super.subscribe({next:i,error:o,complete:a});return t instanceof je&&t.add(s),s}wrapInTimeout(t){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{try{t(n)}finally{r!==void 0&&this.pendingTasks?.remove(r)}})}}},Me=u0;function _u(...e){}function t2(e){let t,n;function r(){e=_u;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),t!==void 0&&clearTimeout(t)}catch{}}return t=setTimeout(()=>{e(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{e(),r()})),()=>r()}function AM(e){return queueMicrotask(()=>e()),()=>{e=_u}}var n2="isAngularZone",Ec=n2+"_ID",gS=0,be=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Me(!1);onMicrotaskEmpty=new Me(!1);onStable=new Me(!1);onError=new Me(!1);constructor(t){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=DM}=t;if(typeof Zone>"u")throw new b(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=o,kS(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(n2)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new b(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new b(909,!1)}run(t,n,r){return this._inner.run(t,n,r)}runTask(t,n,r,i){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+i,t,mS,_u,_u);try{return o.runTask(a,n,r)}finally{o.cancelTask(a)}}runGuarded(t,n,r){return this._inner.runGuarded(t,n,r)}runOutsideAngular(t){return this._outer.run(t)}},mS={};function r2(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function vS(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function t(){t2(()=>{e.callbackScheduled=!1,h0(e),e.isCheckStableRunning=!0,r2(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{t()}):e._outer.run(()=>{t()}),h0(e)}function kS(e){let t=()=>{vS(e)},n=gS++;e._inner=e._inner.fork({name:"angular",properties:{[n2]:!0,[Ec]:n,[Ec+n]:!0},onInvokeTask:(r,i,o,a,s,c)=>{if(MS(c))return r.invokeTask(o,a,s,c);try{return zk(e),r.invokeTask(o,a,s,c)}finally{(e.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&t(),qk(e)}},onInvoke:(r,i,o,a,s,c,l)=>{try{return zk(e),r.invoke(o,a,s,c,l)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!wS(c)&&t(),qk(e)}},onHasTask:(r,i,o,a)=>{r.hasTask(o,a),i===o&&(a.change=="microTask"?(e._hasPendingMicrotasks=a.microTask,h0(e),r2(e)):a.change=="macroTask"&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,o,a)=>(r.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}function h0(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function zk(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function qk(e){e._nesting--,r2(e)}var Ac=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Me;onMicrotaskEmpty=new Me;onStable=new Me;onError=new Me;run(t,n,r){return t.apply(n,r)}runGuarded(t,n,r){return t.apply(n,r)}runOutsideAngular(t){return t()}runTask(t,n,r,i){return t.apply(n,r)}};function MS(e){return TM(e,"__ignore_ng_zone__")}function wS(e){return TM(e,"__scheduler_tick__")}function TM(e,t){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[t]===!0}var Dn=class{_console=console;handleError(t){this._console.error("ERROR",t)}},on=new C("",{factory:()=>{let e=f(be),t=f(Oe),n;return r=>{e.runOutsideAngular(()=>{t.destroyed&&!n?setTimeout(()=>{throw r}):(n??=t.get(Dn),n.handleError(r))})}}}),LM={provide:Ti,useValue:()=>{let e=f(Dn,{optional:!0})},multi:!0},bS=new C("",{factory:()=>{let e=f(oe).defaultView;if(!e)return;let t=f(on),n=o=>{t(o.reason),o.preventDefault()},r=o=>{o.error?t(o.error):t(new Error(o.message,{cause:o})),o.preventDefault()},i=()=>{e.addEventListener("unhandledrejection",n),e.addEventListener("error",r)};typeof Zone<"u"?Zone.root.run(i):i(),f(Ye).onDestroy(()=>{e.removeEventListener("error",r),e.removeEventListener("unhandledrejection",n)})}});function CS(){return wr([tM(()=>{f(bS)})])}function we(e,t){let[n,r,i]=Lf(e,t?.equal),o=n,a=o[qe];return o.set=r,o.update=i,o.asReadonly=Hc.bind(o),o}function Hc(){let e=this[qe];if(e.readonlyFn===void 0){let t=()=>this();t[qe]=e,e.readonlyFn=t}return e.readonlyFn}var ja=(()=>{class e{view;node;constructor(n,r){this.view=n,this.node=r}static __NG_ELEMENT_ID__=_S}return e})();function _S(){return new ja(P(),ot())}var kr=class{},Bc=new C("",{factory:()=>!0});var i2=new C(""),Va=(()=>{class e{internalPendingTasks=f(Jr);scheduler=f(kr);errorHandler=f(on);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(n))}}run(n){let r=this.add();n().catch(this.errorHandler).finally(r)}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),Wu=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>new p0})}return e})(),p0=class{dirtyEffectCount=0;queues=new Map;add(t){this.enqueue(t),this.schedule(t)}schedule(t){t.dirty&&this.dirtyEffectCount++}remove(t){let n=t.zone,r=this.queues.get(n);r.has(t)&&(r.delete(t),t.dirty&&this.dirtyEffectCount--)}enqueue(t){let n=t.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(t)||r.add(t)}flush(){for(;this.dirtyEffectCount>0;){let t=!1;for(let[n,r]of this.queues)n===null?t||=this.flushQueue(r):t||=n.run(()=>this.flushQueue(r));t||(this.dirtyEffectCount=0)}}flushQueue(t){let n=!1;for(let r of t)r.dirty&&(this.dirtyEffectCount--,n=!0,r.run());return n}},Su=class{[qe];constructor(t){this[qe]=t}destroy(){this[qe].destroy()}};function an(e,t){let n=t?.injector??f(Q),r=t?.manualCleanup!==!0?n.get(Ye):null,i,o=n.get(ja,null,{optional:!0}),a=n.get(kr);return o!==null?(i=xS(o.view,a,e),r instanceof Cu&&r._lView===o.view&&(r=null)):i=DS(e,n.get(Wu),a),i.injector=n,r!==null&&(i.onDestroyFns=[r.onDestroy(()=>i.destroy())]),new Su(i)}var RM=x(m({},Of),{cleanupFns:void 0,zone:null,onDestroyFns:null,run(){let e=Dc(!1);try{Pf(this)}finally{Dc(e)}},cleanup(){if(!this.cleanupFns?.length)return;let e=B(null);try{for(;this.cleanupFns.length;)this.cleanupFns.pop()()}finally{this.cleanupFns=[],B(e)}}}),SS=x(m({},RM),{consumerMarkedDirty(){this.scheduler.schedule(this),this.notifier.notify(12)},destroy(){if($r(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.scheduler.remove(this)}}),IS=x(m({},RM),{consumerMarkedDirty(){this.view[J]|=8192,Eo(this.view),this.notifier.notify(13)},destroy(){if($r(this),this.onDestroyFns!==null)for(let e of this.onDestroyFns)e();this.cleanup(),this.view[Di]?.delete(this)}});function xS(e,t,n){let r=Object.create(IS);return r.view=e,r.zone=typeof Zone<"u"?Zone.current:null,r.notifier=t,r.fn=OM(r,n),e[Di]??=new Set,e[Di].add(r),r.consumerMarkedDirty(r),r}function DS(e,t,n){let r=Object.create(SS);return r.fn=OM(r,e),r.scheduler=t,r.notifier=n,r.zone=typeof Zone<"u"?Zone.current:null,r.scheduler.add(r),r.notifier.notify(12),r}function OM(e,t){return()=>{t(n=>(e.cleanupFns??=[]).push(n))}}function U(e){return Rf(e)}function Qa(e){return{toString:e}.toString()}var Gu="__parameters__";function OS(e){return function(...n){if(e){let r=e(...n);for(let i in r)this[i]=r[i]}}}function PS(e,t,n){return Qa(()=>{let r=OS(t);function i(...o){if(this instanceof i)return r.apply(this,o),this;let a=new i(...o);return s.annotation=a,s;function s(c,l,d){let u=c.hasOwnProperty(Gu)?c[Gu]:Object.defineProperty(c,Gu,{value:[]})[Gu];for(;u.length<=d;)u.push(null);return(u[d]=u[d]||[]).push(a),c}}return i.prototype.ngMetadataName=e,i.annotationCls=i,i})}var _h=Xk(PS("Optional"),8);function NS(e){return typeof e=="function"}function S4(e,t,n,r){t!==null?t.applyValueToInputSignal(t,r):e[n]=r}var nh=class{previousValue;currentValue;firstChange;constructor(t,n,r){this.previousValue=t,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}},at=(()=>{let e=()=>I4;return e.ngInherit=!0,e})();function I4(e){return e.type.prototype.ngOnChanges&&(e.setInput=jS),FS}function FS(){let e=D4(this),t=e?.current;if(t){let n=e.previous;if(n===Wn)e.previous=t;else for(let r in t)n[r]=t[r];e.current=null,this.ngOnChanges(t)}}function jS(e,t,n,r,i){let o=this.declaredInputs[r],a=D4(e)||VS(e,{previous:Wn,current:null}),s=a.current||(a.current={}),c=a.previous,l=c[o];s[o]=new nh(l&&l.currentValue,n,c===Wn),S4(e,t,i,n)}var x4="__ngSimpleChanges__";function D4(e){return e[x4]||null}function VS(e,t){return e[x4]=t}var PM=[];var Le=function(e,t=null,n){for(let r=0;r<PM.length;r++){let i=PM[r];i(e,t,n)}},Ie=(function(e){return e[e.TemplateCreateStart=0]="TemplateCreateStart",e[e.TemplateCreateEnd=1]="TemplateCreateEnd",e[e.TemplateUpdateStart=2]="TemplateUpdateStart",e[e.TemplateUpdateEnd=3]="TemplateUpdateEnd",e[e.LifecycleHookStart=4]="LifecycleHookStart",e[e.LifecycleHookEnd=5]="LifecycleHookEnd",e[e.OutputStart=6]="OutputStart",e[e.OutputEnd=7]="OutputEnd",e[e.BootstrapApplicationStart=8]="BootstrapApplicationStart",e[e.BootstrapApplicationEnd=9]="BootstrapApplicationEnd",e[e.BootstrapComponentStart=10]="BootstrapComponentStart",e[e.BootstrapComponentEnd=11]="BootstrapComponentEnd",e[e.ChangeDetectionStart=12]="ChangeDetectionStart",e[e.ChangeDetectionEnd=13]="ChangeDetectionEnd",e[e.ChangeDetectionSyncStart=14]="ChangeDetectionSyncStart",e[e.ChangeDetectionSyncEnd=15]="ChangeDetectionSyncEnd",e[e.AfterRenderHooksStart=16]="AfterRenderHooksStart",e[e.AfterRenderHooksEnd=17]="AfterRenderHooksEnd",e[e.ComponentStart=18]="ComponentStart",e[e.ComponentEnd=19]="ComponentEnd",e[e.DeferBlockStateStart=20]="DeferBlockStateStart",e[e.DeferBlockStateEnd=21]="DeferBlockStateEnd",e[e.DynamicComponentStart=22]="DynamicComponentStart",e[e.DynamicComponentEnd=23]="DynamicComponentEnd",e[e.HostBindingsUpdateStart=24]="HostBindingsUpdateStart",e[e.HostBindingsUpdateEnd=25]="HostBindingsUpdateEnd",e})(Ie||{});function HS(e,t,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){let a=I4(t);(n.preOrderHooks??=[]).push(e,a),(n.preOrderCheckHooks??=[]).push(e,a)}i&&(n.preOrderHooks??=[]).push(0-e,i),o&&((n.preOrderHooks??=[]).push(e,o),(n.preOrderCheckHooks??=[]).push(e,o))}function E4(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){let o=e.data[n].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:d}=o;a&&(e.contentHooks??=[]).push(-n,a),s&&((e.contentHooks??=[]).push(n,s),(e.contentCheckHooks??=[]).push(n,s)),c&&(e.viewHooks??=[]).push(-n,c),l&&((e.viewHooks??=[]).push(n,l),(e.viewCheckHooks??=[]).push(n,l)),d!=null&&(e.destroyHooks??=[]).push(n,d)}}function Qu(e,t,n){A4(e,t,3,n)}function Ju(e,t,n,r){(e[J]&3)===n&&A4(e,t,n,r)}function o2(e,t){let n=e[J];(n&3)===t&&(n&=16383,n+=1,e[J]=n)}function A4(e,t,n,r){let i=r!==void 0?e[So]&65535:0,o=r??-1,a=t.length-1,s=0;for(let c=i;c<a;c++)if(typeof t[c+1]=="number"){if(s=t[c],r!=null&&s>=r)break}else t[c]<0&&(e[So]+=65536),(s<o||o==-1)&&(BS(e,n,t,c),e[So]=(e[So]&4294901760)+c+2),c++}function NM(e,t){Le(Ie.LifecycleHookStart,e,t);let n=B(null);try{t.call(e)}finally{B(n),Le(Ie.LifecycleHookEnd,e,t)}}function BS(e,t,n,r){let i=n[r]<0,o=n[r+1],a=i?-n[r]:n[r],s=e[a];i?e[J]>>14<e[So]>>16&&(e[J]&3)===t&&(e[J]+=16384,NM(s,o)):NM(s,o)}var Ba=-1,Po=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(t,n,r,i){this.factory=t,this.name=i,this.canSeeViewProviders=n,this.injectImpl=r}};function zS(e){return(e.flags&8)!==0}function qS(e){return(e.flags&16)!==0}function US(e,t,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],a=n[r++],s=n[r++];e.setAttribute(t,a,s,o)}else{let o=i,a=n[++r];$S(o)?e.setProperty(t,o,a):e.setAttribute(t,o,a),r++}}return r}function K2(e){return e===3||e===4||e===6}function $S(e){return e.charCodeAt(0)===64}function $a(e,t){if(!(t===null||t.length===0))if(e===null||e.length===0)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){let i=t[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?FM(e,n,i,null,t[++r]):FM(e,n,i,null,null))}}return e}function FM(e,t,n,r,i){let o=0,a=e.length;if(t===-1)a=-1;else for(;o<e.length;){let s=e[o++];if(typeof s=="number"){if(s===t){a=-1;break}else if(s>t){a=o-1;break}}}for(;o<e.length;){let s=e[o];if(typeof s=="number")break;if(s===n){i!==null&&(e[o+1]=i);return}o++,i!==null&&o++}a!==-1&&(e.splice(a,0,t),o=a+1),e.splice(o++,0,n),i!==null&&e.splice(o++,0,i)}function T4(e){return e!==Ba}function rh(e){return e&32767}function WS(e){return e>>16}function ih(e,t){let n=WS(e),r=t;for(;n>0;)r=r[_o],n--;return r}var y2=!0;function oh(e){let t=y2;return y2=e,t}var GS=256,L4=GS-1,R4=5,KS=0,xr={};function ZS(e,t,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(bo)&&(r=n[bo]),r==null&&(r=n[bo]=KS++);let i=r&L4,o=1<<i;t.data[e+(i>>R4)]|=o}function ah(e,t){let n=O4(e,t);if(n!==-1)return n;let r=t[q];r.firstCreatePass&&(e.injectorIndex=t.length,a2(r.data,e),a2(t,null),a2(r.blueprint,null));let i=Z2(e,t),o=e.injectorIndex;if(T4(i)){let a=rh(i),s=ih(i,t),c=s[q].data;for(let l=0;l<8;l++)t[o+l]=s[a+l]|c[a+l]}return t[o+8]=i,o}function a2(e,t){e.push(0,0,0,0,0,0,0,0,t)}function O4(e,t){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||t[e.injectorIndex+8]===null?-1:e.injectorIndex}function Z2(e,t){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;i!==null;){if(r=V4(i),r===null)return Ba;if(n++,i=i[_o],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Ba}function g2(e,t,n){ZS(e,t,n)}function XS(e,t){if(t==="class")return e.classes;if(t==="style")return e.styles;let n=e.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(K2(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===t)return n[i+1];i=i+2}}}return null}function P4(e,t,n){if(n&8||e!==void 0)return e;Tu(t,"NodeInjector")}function N4(e,t,n,r){if(n&8&&r===void 0&&(r=null),(n&3)===0){let i=e[Yt],o=Zt(void 0);try{return i?i.get(t,r,n&8):C0(t,r,n&8)}finally{Zt(o)}}return P4(r,t,n)}function F4(e,t,n,r=0,i){if(e!==null){if(t[J]&2048&&!(r&2)){let a=eI(e,t,n,r,xr);if(a!==xr)return a}let o=j4(e,t,n,r,xr);if(o!==xr)return o}return N4(t,n,r,i)}function j4(e,t,n,r,i){let o=QS(n);if(typeof o=="function"){if(!Q0(t,e,r))return r&1?P4(i,n,r):N4(t,n,r,i);try{let a;if(a=o(r),a==null&&!(r&8))Tu(n);else return a}finally{J0()}}else if(typeof o=="number"){let a=null,s=O4(e,t),c=Ba,l=r&1?t[Ht][Xt]:null;for((s===-1||r&4)&&(c=s===-1?Z2(e,t):t[s+8],c===Ba||!VM(r,!1)?s=-1:(a=t[q],s=rh(c),t=ih(c,t)));s!==-1;){let d=t[q];if(jM(o,s,d.data)){let u=YS(s,t,n,a,r,l);if(u!==xr)return u}c=t[s+8],c!==Ba&&VM(r,t[q].data[s+8]===l)&&jM(o,s,t)?(a=d,s=rh(c),t=ih(c,t)):s=-1}}return i}function YS(e,t,n,r,i,o){let a=t[q],s=a.data[e+8],c=r==null?Qr(s)&&y2:r!=a&&(s.type&3)!==0,l=i&1&&o===s,d=eh(s,a,n,c,l);return d!==null?Wc(t,a,d,s,i):xr}function eh(e,t,n,r,i){let o=e.providerIndexes,a=t.data,s=o&1048575,c=e.directiveStart,l=e.directiveEnd,d=o>>20,u=r?s:s+d,p=i?s+d:l;for(let h=u;h<p;h++){let y=a[h];if(h<c&&n===y||h>=c&&y.type===n)return h}if(i){let h=a[c];if(h&&Zn(h)&&h.type===n)return c}return null}function Wc(e,t,n,r,i){let o=e[n],a=t.data;if(o instanceof Po){let s=o;if(s.resolving){let h=Wk(a[n]);throw b0(h)}let c=oh(s.canSeeViewProviders);s.resolving=!0;let l=a[n].type||a[n],d,u=s.injectImpl?Zt(s.injectImpl):null,p=Q0(e,r,0);try{o=e[n]=s.factory(void 0,i,a,e,r),t.firstCreatePass&&n>=r.directiveStart&&HS(n,a[n],t)}finally{u!==null&&Zt(u),oh(c),s.resolving=!1,J0()}}return o}function QS(e){if(typeof e=="string")return e.charCodeAt(0)||0;let t=e.hasOwnProperty(bo)?e[bo]:void 0;return typeof t=="number"?t>=0?t&L4:JS:t}function jM(e,t,n){let r=1<<e;return!!(n[t+(e>>R4)]&r)}function VM(e,t){return!(e&2)&&!(e&1&&t)}var Lo=class{_tNode;_lView;constructor(t,n){this._tNode=t,this._lView=n}get(t,n,r){return F4(this._tNode,this._lView,t,ko(r),n)}};function JS(){return new Lo(ot(),P())}function er(e){return Qa(()=>{let t=e.prototype.constructor,n=t[Ic]||m2(t),r=Object.prototype,i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){let o=i[Ic]||m2(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function m2(e){return f0(e)?()=>{let t=m2(kt(e));return t&&t()}:xi(e)}function eI(e,t,n,r,i){let o=e,a=t;for(;o!==null&&a!==null&&a[J]&2048&&!Na(a);){let s=j4(o,a,n,r|2,xr);if(s!==xr)return s;let c=o.parent;if(!c){let l=a[T0];if(l){let d=l.get(n,xr,r);if(d!==xr)return d}c=V4(a),a=a[_o]}o=c}return i}function V4(e){let t=e[q],n=t.type;return n===2?t.declTNode:n===1?e[Xt]:null}function tl(e){return XS(ot(),e)}function tI(){return Ja(ot(),P())}function Ja(e,t){return new Se(It(e,t))}var Se=(()=>{class e{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=tI}return e})();function H4(e){return e instanceof Se?e.nativeElement:e}function nI(){return this._results[Symbol.iterator]()}var sh=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new z}constructor(t=!1){this._emitDistinctChangesOnly=t}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,n){return this._results.reduce(t,n)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,n){this.dirty=!1;let r=Qk(t);(this._changesDetected=!Yk(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(t){this._onDirty=t}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=nI};function B4(e){return(e.flags&128)===128}var X2=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(X2||{}),z4=new Map,rI=0;function iI(){return rI++}function oI(e){z4.set(e[_r],e)}function v2(e){z4.delete(e[_r])}var HM="__ngContext__";function Wa(e,t){Sr(t)?(e[HM]=t[_r],oI(t)):e[HM]=t}function q4(e){return $4(e[Oa])}function U4(e){return $4(e[An])}function $4(e){for(;e!==null&&!Kn(e);)e=e[An];return e}var aI;function Y2(e){aI=e}var Vi=new C("",{factory:()=>sI}),sI="ng";var Sh=new C(""),ti=new C("",{providedIn:"platform",factory:()=>"unknown"}),nl=new C(""),es=new C("",{factory:()=>f(oe).body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var W4="r";var G4="di";var K4=!1,Z4=new C("",{factory:()=>K4});var cI=(e,t,n,r)=>{};function lI(e,t,n,r){cI(e,t,n,r)}function Ih(e){return(e.flags&32)===32}var dI=()=>null;function X4(e,t,n=!1){return dI(e,t,n)}function Y4(e,t){let n=e.contentQueries;if(n!==null){let r=B(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],a=n[i+1];if(a!==-1){let s=e.data[a];jc(o),s.contentQueries(2,t[a],a)}}}finally{B(r)}}}function k2(e,t,n){jc(0);let r=B(null);try{t(e,n)}finally{B(r)}}function Q2(e,t,n){if(R0(t)){let r=B(null);try{let i=t.directiveStart,o=t.directiveEnd;for(let a=i;a<o;a++){let s=e.data[a];if(s.contentQueries){let c=n[a];s.contentQueries(1,c,a)}}}finally{B(r)}}}var Qn=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e[e.ExperimentalIsolatedShadowDom=4]="ExperimentalIsolatedShadowDom",e})(Qn||{});var Ku;function uI(){if(Ku===void 0&&(Ku=null,En.trustedTypes))try{Ku=En.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Ku}function xh(e){return uI()?.createHTML(e)||e}var Zu;function hI(){if(Zu===void 0&&(Zu=null,En.trustedTypes))try{Zu=En.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return Zu}function BM(e){return hI()?.createScriptURL(e)||e}var ei=class{changingThisBreaksApplicationSecurity;constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Iu})`}},M2=class extends ei{getTypeName(){return"HTML"}},w2=class extends ei{getTypeName(){return"Style"}},b2=class extends ei{getTypeName(){return"Script"}},C2=class extends ei{getTypeName(){return"URL"}},_2=class extends ei{getTypeName(){return"ResourceURL"}};function gn(e){return e instanceof ei?e.changingThisBreaksApplicationSecurity:e}function ni(e,t){let n=Q4(e);if(n!=null&&n!==t){if(n==="ResourceURL"&&t==="URL")return!0;throw new Error(`Required a safe ${t}, got a ${n} (see ${Iu})`)}return n===t}function Q4(e){return e instanceof ei&&e.getTypeName()||null}function J2(e){return new M2(e)}function ey(e){return new w2(e)}function ty(e){return new b2(e)}function ny(e){return new C2(e)}function ry(e){return new _2(e)}function pI(e){let t=new I2(e);return fI()?new S2(t):t}var S2=class{inertDocumentHelper;constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{let n=new window.DOMParser().parseFromString(xh(t),"text/html").body;return n===null?this.inertDocumentHelper.getInertBodyElement(t):(n.firstChild?.remove(),n)}catch{return null}}},I2=class{defaultDoc;inertDocument;constructor(t){this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(t){let n=this.inertDocument.createElement("template");return n.innerHTML=xh(t),n}};function fI(){try{return!!new window.DOMParser().parseFromString(xh(""),"text/html")}catch{return!1}}var yI=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function rl(e){return e=String(e),e.match(yI)?e:"unsafe:"+e}function ri(e){let t={};for(let n of e.split(","))t[n]=!0;return t}function il(...e){let t={};for(let n of e)for(let r in n)n.hasOwnProperty(r)&&(t[r]=!0);return t}var J4=ri("area,br,col,hr,img,wbr"),ew=ri("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),tw=ri("rp,rt"),gI=il(tw,ew),mI=il(ew,ri("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),vI=il(tw,ri("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),zM=il(J4,mI,vI,gI),nw=ri("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),kI=ri("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),MI=ri("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),wI=il(nw,kI,MI),bI=ri("script,style,template"),x2=class{sanitizedSomething=!1;buf=[];sanitizeChildren(t){let n=t.firstChild,r=!0,i=[];for(;n;){if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild){i.push(n),n=SI(n);continue}for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let o=_I(n);if(o){n=o;break}n=i.pop()}}return this.buf.join("")}startElement(t){let n=qM(t).toLowerCase();if(!zM.hasOwnProperty(n))return this.sanitizedSomething=!0,!bI.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);let r=t.attributes;for(let i=0;i<r.length;i++){let o=r.item(i),a=o.name,s=a.toLowerCase();if(!wI.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let c=o.value;nw[s]&&(c=rl(c)),this.buf.push(" ",a,'="',UM(c),'"')}return this.buf.push(">"),!0}endElement(t){let n=qM(t).toLowerCase();zM.hasOwnProperty(n)&&!J4.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(t){this.buf.push(UM(t))}};function CI(e,t){return(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function _I(e){let t=e.nextSibling;if(t&&e!==t.previousSibling)throw rw(t);return t}function SI(e){let t=e.firstChild;if(t&&CI(e,t))throw rw(t);return t}function qM(e){let t=e.nodeName;return typeof t=="string"?t:"FORM"}function rw(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var II=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xI=/([^\#-~ |!])/g;function UM(e){return e.replace(/&/g,"&amp;").replace(II,function(t){let n=t.charCodeAt(0),r=t.charCodeAt(1);return"&#"+((n-55296)*1024+(r-56320)+65536)+";"}).replace(xI,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var Xu;function iy(e,t){let n=null;try{Xu=Xu||pI(e);let r=t?String(t):"";n=Xu.getInertBodyElement(r);let i=5,o=r;do{if(i===0)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=Xu.getInertBodyElement(r)}while(r!==o);let s=new x2().sanitizeChildren($M(n)||n);return xh(s)}finally{if(n){let r=$M(n)||n;for(;r.firstChild;)r.firstChild.remove()}}}function $M(e){return"content"in e&&DI(e)?e.content:null}function DI(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var EI=/^>|^->|<!--|-->|--!>|<!-$/g,AI=/(<|>)/g,TI="\u200B$1\u200B";function LI(e){return e.replace(EI,t=>t.replace(AI,TI))}function RI(e,t){return e.createText(t)}function OI(e,t,n){e.setValue(t,n)}function PI(e,t){return e.createComment(LI(t))}function iw(e,t,n){return e.createElement(t,n)}function ch(e,t,n,r,i){e.insertBefore(t,n,r,i)}function ow(e,t,n){e.appendChild(t,n)}function WM(e,t,n,r,i){r!==null?ch(e,t,n,r,i):ow(e,t,n)}function aw(e,t,n,r){e.removeChild(null,t,n,r)}function NI(e,t,n){e.setAttribute(t,"style",n)}function FI(e,t,n){n===""?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n)}function sw(e,t,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&US(e,t,r),i!==null&&FI(e,t,i),o!==null&&NI(e,t,o)}var tr=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(tr||{});function cw(e){let t=dw();return t?t.sanitize(tr.URL,e)||"":ni(e,"URL")?gn(e):rl(Ai(e))}function lw(e){let t=dw();if(t)return BM(t.sanitize(tr.RESOURCE_URL,e)||"");if(ni(e,"ResourceURL"))return BM(gn(e));throw new b(904,!1)}var jI=new Set(["embed","frame","iframe","media","script"]),VI=new Set(["base","link","script"]);function HI(e,t){return t==="src"&&jI.has(e)||t==="href"&&VI.has(e)||t==="xlink:href"&&e==="script"?lw:cw}function oy(e,t,n){return HI(t,n)(e)}function dw(){let e=P();return e&&e[br].sanitizer}function uw(e){return e instanceof Function?e():e}function BI(e,t,n){let r=e.length;for(;;){let i=e.indexOf(t,n);if(i===-1)return i;if(i===0||e.charCodeAt(i-1)<=32){let o=t.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}n=i+1}}var hw="ng-template";function zI(e,t,n,r){let i=0;if(r){for(;i<t.length&&typeof t[i]=="string";i+=2)if(t[i]==="class"&&BI(t[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ay(e))return!1;if(i=t.indexOf(1,i),i>-1){let o;for(;++i<t.length&&typeof(o=t[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ay(e){return e.type===4&&e.value!==hw}function qI(e,t,n){let r=e.type===4&&!n?hw:e.value;return t===r}function UI(e,t,n){let r=4,i=e.attrs,o=i!==null?GI(i):0,a=!1;for(let s=0;s<t.length;s++){let c=t[s];if(typeof c=="number"){if(!a&&!Yn(r)&&!Yn(c))return!1;if(a&&Yn(c))continue;a=!1,r=c|r&1;continue}if(!a)if(r&4){if(r=2|r&1,c!==""&&!qI(e,c,n)||c===""&&t.length===1){if(Yn(r))return!1;a=!0}}else if(r&8){if(i===null||!zI(e,i,c,n)){if(Yn(r))return!1;a=!0}}else{let l=t[++s],d=$I(c,i,ay(e),n);if(d===-1){if(Yn(r))return!1;a=!0;continue}if(l!==""){let u;if(d>o?u="":u=i[d+1].toLowerCase(),r&2&&l!==u){if(Yn(r))return!1;a=!0}}}}return Yn(r)||a}function Yn(e){return(e&1)===0}function $I(e,t,n,r){if(t===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<t.length;){let a=t[i];if(a===e)return i;if(a===3||a===6)o=!0;else if(a===1||a===2){let s=t[++i];for(;typeof s=="string";)s=t[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=o?1:2}return-1}else return KI(t,e)}function pw(e,t,n=!1){for(let r=0;r<t.length;r++)if(UI(e,t[r],n))return!0;return!1}function WI(e){let t=e.attrs;if(t!=null){let n=t.indexOf(5);if((n&1)===0)return t[n+1]}return null}function GI(e){for(let t=0;t<e.length;t++){let n=e[t];if(K2(n))return t}return e.length}function KI(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){let r=e[n];if(typeof r=="number")return-1;if(r===t)return n;n++}return-1}function ZI(e,t){e:for(let n=0;n<t.length;n++){let r=t[n];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function GM(e,t){return e?":not("+t.trim()+")":t}function XI(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let a=e[n];if(typeof a=="string")if(r&2){let s=e[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Yn(a)&&(t+=GM(o,i),i=""),r=a,o=o||!Yn(r);n++}return i!==""&&(t+=GM(o,i)),t}function YI(e){return e.map(XI).join(",")}function QI(e){let t=[],n=[],r=1,i=2;for(;r<e.length;){let o=e[r];if(typeof o=="string")i===2?o!==""&&t.push(o,e[++r]):i===8&&n.push(o);else{if(!Yn(i))break;i=o}r++}return n.length&&t.push(1,...n),t}var At={};function sy(e,t,n,r,i,o,a,s,c,l,d){let u=Ge+r,p=u+i,h=JI(u,p),y=typeof l=="function"?l():l;return h[q]={type:e,blueprint:h,template:n,queries:null,viewQuery:s,declTNode:t,data:h.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}function JI(e,t){let n=[];for(let r=0;r<t;r++)n.push(r<e?null:At);return n}function ex(e){let t=e.tView;return t===null||t.incompleteFirstPass?e.tView=sy(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):t}function cy(e,t,n,r,i,o,a,s,c,l,d){let u=t.blueprint.slice();return u[Gn]=i,u[J]=r|4|128|8|64|1024,(l!==null||e&&e[J]&2048)&&(u[J]|=2048),F0(u),u[Mt]=u[_o]=e,u[rt]=n,u[br]=a||e&&e[br],u[_e]=s||e&&e[_e],u[Yt]=c||e&&e[Yt]||null,u[Xt]=o,u[_r]=iI(),u[Co]=d,u[T0]=l,u[Ht]=t.type==2?e[Ht]:u,u}function tx(e,t,n){let r=It(t,e),i=ex(n),o=e[br].rendererFactory,a=ly(e,cy(e,i,null,fw(n),r,t,null,o.createRenderer(r,n),null,null,null));return e[t.index]=a}function fw(e){let t=16;return e.signals?t=4096:e.onPush&&(t=64),t}function yw(e,t,n,r){if(n===0)return-1;let i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function ly(e,t){return e[Oa]?e[A0][An]=t:e[Oa]=t,e[A0]=t,t}function j(e=1){gw(De(),P(),Ir()+e,!1)}function gw(e,t,n,r){if(!r)if((t[J]&3)===3){let o=e.preOrderCheckHooks;o!==null&&Qu(t,o,n)}else{let o=e.preOrderHooks;o!==null&&Ju(t,o,0,n)}Oi(n)}var Dh=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Dh||{});function Gc(e,t,n,r){let i=B(null);try{let[o,a,s]=e.inputs[n],c=null;(a&Dh.SignalBased)!==0&&(c=t[o][qe]),c!==null&&c.transformFn!==void 0?r=c.transformFn(r):s!==null&&(r=s.call(t,r)),e.setInput!==null?e.setInput(t,c,r,n,o):S4(t,c,o,r)}finally{B(i)}}var Dr=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Dr||{}),nx;function dy(e,t){return nx(e,t)}function lh(e){if(!e)return 0;let t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function za(e,t){return e.getPropertyValue(t).split(",").map(r=>r.trim())}function rx(e){let t=za(e,"transition-property"),n=za(e,"transition-duration"),r=za(e,"transition-delay"),i={propertyName:"",duration:0,animationName:void 0};for(let o=0;o<t.length;o++){let a=lh(r[o])+lh(n[o]);a>i.duration&&(i.propertyName=t[o],i.duration=a)}return i}function ix(e){let t=za(e,"animation-name"),n=za(e,"animation-delay"),r=za(e,"animation-duration"),i={animationName:"",propertyName:void 0,duration:0};for(let o=0;o<t.length;o++){let a=lh(n[o])+lh(r[o]);a>i.duration&&(i.animationName=t[o],i.duration=a)}return i}function mw(e,t){return e!==void 0&&e.duration>t.duration}function vw(e){return(e.animationName!=null||e.propertyName!=null)&&e.duration>0}function ox(e,t){let n=getComputedStyle(e),r=ix(n),i=rx(n),o=r.duration>i.duration?r:i;mw(t.get(e),o)||vw(o)&&t.set(e,o)}function kw(e,t,n){if(!n)return;let r=e.getAnimations();return r.length===0?ox(e,t):ax(e,t,r)}function ax(e,t,n){let r={animationName:void 0,propertyName:void 0,duration:0};for(let i of n){let o=i.effect?.getTiming(),a=typeof o?.duration=="number"?o.duration:0,s=(o?.delay??0)+a,c,l;i.animationName?l=i.animationName:c=i.transitionProperty,s>=r.duration&&(r={animationName:l,propertyName:c,duration:s})}mw(t.get(e),r)||vw(r)&&t.set(e,r)}var Ni=new Set,Eh=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Eh||{}),Ar=new C(""),KM=new Set;function Jt(e){KM.has(e)||(KM.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var Ah=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),uy=[0,1,2,3],hy=(()=>{class e{ngZone=f(be);scheduler=f(kr);errorHandler=f(Dn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){f(Ar,{optional:!0})}execute(){let n=this.sequences.size>0;n&&Le(Ie.AfterRenderHooksStart),this.executing=!0;for(let r of uy)for(let i of this.sequences)if(!(i.erroredOrDestroyed||!i.hooks[r]))try{i.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=i.hooks[r];return o(i.pipelinedValue)},i.snapshot))}catch(o){i.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let r of this.sequences)r.afterRun(),r.once&&(this.sequences.delete(r),r.destroy());for(let r of this.deferredRegistrations)this.sequences.add(r);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),n&&Le(Ie.AfterRenderHooksEnd)}register(n){let{view:r}=n;r!==void 0?((r[Io]??=[]).push(n),Eo(r),r[J]|=8192):this.executing?this.deferredRegistrations.add(n):this.addSequence(n)}addSequence(n){this.sequences.add(n),this.scheduler.notify(7)}unregister(n){this.executing&&this.sequences.has(n)?(n.erroredOrDestroyed=!0,n.pipelinedValue=void 0,n.once=!0):(this.sequences.delete(n),this.deferredRegistrations.delete(n))}maybeTrace(n,r){return r?r.run(Eh.AFTER_NEXT_RENDER,n):n()}static \u0275prov=M({token:e,providedIn:"root",factory:()=>new e})}return e})(),Kc=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(t,n,r,i,o,a=null){this.impl=t,this.hooks=n,this.view=r,this.once=i,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let t=this.view?.[Io];t&&(this.view[Io]=t.filter(n=>n!==this))}};function sx(e,t){let n=t?.injector??f(Q);return Jt("NgAfterRender"),Mw(e,n,t,!1)}function sn(e,t){let n=t?.injector??f(Q);return Jt("NgAfterNextRender"),Mw(e,n,t,!0)}function cx(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function Mw(e,t,n,r){let i=t.get(Ah);i.impl??=t.get(hy);let o=t.get(Ar,null,{optional:!0}),a=n?.manualCleanup!==!0?t.get(Ye):null,s=t.get(ja,null,{optional:!0}),c=new Kc(i.impl,cx(e),s?.view,r,a,o?.snapshot(null));return i.impl.register(c),c}var Th=new C("",{factory:()=>({queue:new Set,isScheduled:!1,scheduler:null,injector:f(Oe)})});function ww(e,t,n){let r=e.get(Th);if(Array.isArray(t))for(let i of t)r.queue.add(i),n?.detachedLeaveAnimationFns?.push(i);else r.queue.add(t),n?.detachedLeaveAnimationFns?.push(t);r.scheduler&&r.scheduler(e)}function lx(e,t){let n=e.get(Th);if(t.detachedLeaveAnimationFns){for(let r of t.detachedLeaveAnimationFns)n.queue.delete(r);t.detachedLeaveAnimationFns=void 0}}function dx(e){let t=e.get(Th);t.isScheduled||(sn(()=>{t.isScheduled=!1;for(let n of t.queue)n();t.queue.clear()},{injector:t.injector}),t.isScheduled=!0)}function bw(e){let t=e.get(Th);t.scheduler=dx,t.scheduler(e)}function Cw(e,t){for(let[n,r]of t)ww(e,r.animateFns)}function ZM(e,t,n,r){let i=e?.[Yr]?.enter;t!==null&&i&&i.has(n.index)&&Cw(r,i)}function Ha(e,t,n,r,i,o,a,s){if(i!=null){let c,l=!1;Kn(i)?c=i:Sr(i)&&(l=!0,i=i[Gn]);let d=Tn(i);e===0&&r!==null?(ZM(s,r,o,n),a==null?ow(t,r,d):ch(t,r,d,a||null,!0)):e===1&&r!==null?(ZM(s,r,o,n),ch(t,r,d,a||null,!0)):e===2?XM(s,o,n,u=>{aw(t,d,l,u)}):e===3&&XM(s,o,n,()=>{t.destroyNode(d)}),c!=null&&wx(t,e,n,c,o,r,a)}}function ux(e,t){_w(e,t),t[Gn]=null,t[Xt]=null}function hx(e,t,n,r,i,o){r[Gn]=i,r[Xt]=t,Rh(e,r,n,1,i,o)}function _w(e,t){t[br].changeDetectionScheduler?.notify(9),Rh(e,t,t[_e],2,null,null)}function px(e){let t=e[Oa];if(!t)return s2(e[q],e);for(;t;){let n=null;if(Sr(t))n=t[Oa];else{let r=t[it];r&&(n=r)}if(!n){for(;t&&!t[An]&&t!==e;)Sr(t)&&s2(t[q],t),t=t[Mt];t===null&&(t=e),Sr(t)&&s2(t[q],t),n=t&&t[An]}t=n}}function py(e,t){let n=e[xo],r=n.indexOf(t);n.splice(r,1)}function Lh(e,t){if(Do(t))return;let n=t[_e];n.destroyNode&&Rh(e,t,n,3,null,null),px(t)}function s2(e,t){if(Do(t))return;let n=B(null);try{t[J]&=-129,t[J]|=256,t[yn]&&$r(t[yn]),gx(e,t),yx(e,t),t[q].type===1&&t[_e].destroy();let r=t[Xr];if(r!==null&&Kn(t[Mt])){r!==t[Mt]&&py(r,t);let i=t[Cr];i!==null&&i.detachView(e)}v2(t)}finally{B(n)}}function XM(e,t,n,r){let i=e?.[Yr];if(i==null||i.leave==null||!i.leave.has(t.index))return r(!1);e&&Ni.add(e[_r]),ww(n,()=>{if(i.leave&&i.leave.has(t.index)){let a=i.leave.get(t.index),s=[];if(a){for(let c=0;c<a.animateFns.length;c++){let l=a.animateFns[c],{promise:d}=l();s.push(d)}i.detachedLeaveAnimationFns=void 0}i.running=Promise.allSettled(s),fx(e,r)}else e&&Ni.delete(e[_r]),r(!1)},i)}function fx(e,t){let n=e[Yr]?.running;if(n){n.then(()=>{e[Yr].running=void 0,Ni.delete(e[_r]),t(!0)});return}t(!1)}function yx(e,t){let n=e.cleanup,r=t[Ra];if(n!==null)for(let a=0;a<n.length-1;a+=2)if(typeof n[a]=="string"){let s=n[a+3];s>=0?r[s]():r[-s].unsubscribe(),a+=2}else{let s=r[n[a+1]];n[a].call(s)}r!==null&&(t[Ra]=null);let i=t[Kr];if(i!==null){t[Kr]=null;for(let a=0;a<i.length;a++){let s=i[a];s()}}let o=t[Di];if(o!==null){t[Di]=null;for(let a of o)a.destroy()}}function gx(e,t){let n;if(e!=null&&(n=e.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=t[n[r]];if(!(i instanceof Po)){let o=n[r+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let s=i[o[a]],c=o[a+1];Le(Ie.LifecycleHookStart,s,c);try{c.call(s)}finally{Le(Ie.LifecycleHookEnd,s,c)}}else{Le(Ie.LifecycleHookStart,i,o);try{o.call(i)}finally{Le(Ie.LifecycleHookEnd,i,o)}}}}}function Sw(e,t,n){return mx(e,t.parent,n)}function mx(e,t,n){let r=t;for(;r!==null&&r.type&168;)t=r,r=t.parent;if(r===null)return n[Gn];if(Qr(r)){let{encapsulation:i}=e.data[r.directiveStart+r.componentOffset];if(i===Qn.None||i===Qn.Emulated)return null}return It(r,n)}function Iw(e,t,n){return kx(e,t,n)}function vx(e,t,n){return e.type&40?It(e,n):null}var kx=vx,YM;function fy(e,t,n,r){let i=Sw(e,r,t),o=t[_e],a=r.parent||t[Xt],s=Iw(a,r,t);if(i!=null)if(Array.isArray(n))for(let c=0;c<n.length;c++)WM(o,i,n[c],s,!1);else WM(o,i,n,s,!1);YM!==void 0&&YM(o,r,t,n,i)}function qc(e,t){if(t!==null){let n=t.type;if(n&3)return It(t,e);if(n&4)return dh(-1,e[t.index]);if(n&8){let r=t.child;if(r!==null)return qc(e,r);{let i=e[t.index];return Kn(i)?dh(-1,i):Tn(i)}}else{if(n&128)return qc(e,t.next);if(n&32)return dy(t,e)()||Tn(e[t.index]);{let r=xw(e,t);if(r!==null){if(Array.isArray(r))return r[0];let i=Ei(e[Ht]);return qc(i,r)}else return qc(e,t.next)}}}return null}function xw(e,t){if(t!==null){let r=e[Ht][Xt],i=t.projection;return r.projection[i]}return null}function dh(e,t){let n=it+e+1;if(n<t.length){let r=t[n],i=r[q].firstChild;if(i!==null)return qc(r,i)}return t[Li]}function yy(e,t,n,r,i,o,a){for(;n!=null;){let s=r[Yt];if(n.type===128){n=n.next;continue}let c=r[n.index],l=n.type;if(a&&t===0&&(c&&Wa(Tn(c),r),n.flags|=2),!Ih(n))if(l&8)yy(e,t,n.child,r,i,o,!1),Ha(t,e,s,i,c,n,o,r);else if(l&32){let d=dy(n,r),u;for(;u=d();)Ha(t,e,s,i,u,n,o,r);Ha(t,e,s,i,c,n,o,r)}else l&16?Dw(e,t,r,n,i,o):Ha(t,e,s,i,c,n,o,r);n=a?n.projectionNext:n.next}}function Rh(e,t,n,r,i,o){yy(n,r,e.firstChild,t,i,o,!1)}function Mx(e,t,n){let r=t[_e],i=Sw(e,n,t),o=n.parent||t[Xt],a=Iw(o,n,t);Dw(r,0,t,n,i,a)}function Dw(e,t,n,r,i,o){let a=n[Ht],c=a[Xt].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++){let d=c[l];Ha(t,e,n[Yt],i,d,r,o,n)}else{let l=c,d=a[Mt];B4(r)&&(l.flags|=128),yy(e,t,l,d,i,o,!0)}}function wx(e,t,n,r,i,o,a){let s=r[Li],c=Tn(r);s!==c&&Ha(t,e,n,o,s,i,a);for(let l=it;l<r.length;l++){let d=r[l];Rh(d[q],d,e,t,o,s)}}function bx(e,t,n,r,i){if(t)i?e.addClass(n,r):e.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Dr.DashCase;i==null?e.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Dr.Important),e.setStyle(n,r,i,o))}}function Ew(e,t,n,r,i){let o=Ir(),a=r&2;try{Oi(-1),a&&t.length>Ge&&gw(e,t,Ge,!1);let s=a?Ie.TemplateUpdateStart:Ie.TemplateCreateStart;Le(s,i,n),n(r,i)}finally{Oi(o);let s=a?Ie.TemplateUpdateEnd:Ie.TemplateCreateEnd;Le(s,i,n)}}function Oh(e,t,n){Dx(e,t,n),(n.flags&64)===64&&Ex(e,t,n)}function ol(e,t,n=It){let r=t.localNames;if(r!==null){let i=t.index+1;for(let o=0;o<r.length;o+=2){let a=r[o+1],s=a===-1?n(t,e):e[a];e[i++]=s}}}function Cx(e,t,n,r){let o=r.get(Z4,K4)||n===Qn.ShadowDom||n===Qn.ExperimentalIsolatedShadowDom,a=e.selectRootElement(t,o);return _x(a),a}function _x(e){Sx(e)}var Sx=()=>null;function Ix(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function gy(e,t,n,r,i,o){let a=t[q];if(My(e,a,t,n,r)){Qr(e)&&xx(t,e.index);return}e.type&3&&(n=Ix(n)),Aw(e,t,n,r,i,o)}function Aw(e,t,n,r,i,o){if(e.type&3){let a=It(e,t);r=o!=null?o(r,e.value||"",n):r,i.setProperty(a,n,r)}else e.type&12}function xx(e,t){let n=Ln(t,e);n[J]&16||(n[J]|=64)}function Dx(e,t,n){let r=n.directiveStart,i=n.directiveEnd;Qr(n)&&tx(t,n,e.data[r+n.componentOffset]),e.firstCreatePass||ah(n,t);let o=n.initialInputs;for(let a=r;a<i;a++){let s=e.data[a],c=Wc(t,e,a,n);if(Wa(c,t),o!==null&&Rx(t,a-r,c,s,n,o),Zn(s)){let l=Ln(n.index,t);l[rt]=Wc(t,e,a,n)}}}function Ex(e,t,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,a=MM();try{Oi(o);for(let s=r;s<i;s++){let c=e.data[s],l=t[s];Hu(s),(c.hostBindings!==null||c.hostVars!==0||c.hostAttrs!==null)&&Ax(c,l)}}finally{Oi(-1),Hu(a)}}function Ax(e,t){e.hostBindings!==null&&e.hostBindings(1,t)}function my(e,t){let n=e.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let o=n[i];pw(t,o.selectors,!1)&&(r??=[],Zn(o)?r.unshift(o):r.push(o))}return r}function Tx(e,t,n,r,i,o){let a=It(e,t);Lx(t[_e],a,o,e.value,n,r,i)}function Lx(e,t,n,r,i,o,a){if(o==null)e.removeAttribute(t,i,n);else{let s=a==null?Ai(o):a(o,r||"",i);e.setAttribute(t,i,s,n)}}function Rx(e,t,n,r,i,o){let a=o[t];if(a!==null)for(let s=0;s<a.length;s+=2){let c=a[s],l=a[s+1];Gc(r,n,c,l)}}function vy(e,t,n,r,i){let o=Ge+n,a=t[q],s=i(a,t,e,r,n);t[o]=s,Fa(e,!0);let c=e.type===2;return c?(sw(t[_e],s,e),(pM()===0||Pa(e))&&Wa(s,t),fM()):Wa(s,t),$u()&&(!c||!Ih(e))&&fy(a,t,s,e),e}function ky(e){let t=e;return K0()?Z0():(t=t.parent,Fa(t,!1)),t}function Ox(e,t){let n=e[Yt];if(!n)return;let r;try{r=n.get(on,null)}catch{r=null}r?.(t)}function My(e,t,n,r,i){let o=e.inputs?.[r],a=e.hostDirectiveInputs?.[r],s=!1;if(a)for(let c=0;c<a.length;c+=2){let l=a[c],d=a[c+1],u=t.data[l];Gc(u,n[l],d,i),s=!0}if(o)for(let c of o){let l=n[c],d=t.data[c];Gc(d,l,r,i),s=!0}return s}function Px(e,t){let n=Ln(t,e),r=n[q];Nx(r,n);let i=n[Gn];i!==null&&n[Co]===null&&(n[Co]=X4(i,n[Yt])),Le(Ie.ComponentStart);try{wy(r,n,n[rt])}finally{Le(Ie.ComponentEnd,n[rt])}}function Nx(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}function wy(e,t,n){zu(t);try{let r=e.viewQuery;r!==null&&k2(1,r,n);let i=e.template;i!==null&&Ew(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),t[Cr]?.finishViewCreation(e),e.staticContentQueries&&Y4(e,t),e.staticViewQueries&&k2(2,e.viewQuery,n);let o=e.components;o!==null&&Fx(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{t[J]&=-5,qu()}}function Fx(e,t){for(let n=0;n<t.length;n++)Px(e,t[n])}function al(e,t,n,r){let i=B(null);try{let o=t.tView,s=e[J]&4096?4096:16,c=cy(e,o,n,s,null,t,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=e[t.index];c[Xr]=l;let d=e[Cr];return d!==null&&(c[Cr]=d.createEmbeddedView(o)),wy(o,c,n),c}finally{B(i)}}function Ga(e,t){return!t||t.firstChild===null||B4(e)}function Zc(e,t,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=t[n.index];o!==null&&r.push(Tn(o)),Kn(o)&&Tw(o,r);let a=n.type;if(a&8)Zc(e,t,n.child,r);else if(a&32){let s=dy(n,t),c;for(;c=s();)r.push(c)}else if(a&16){let s=xw(t,n);if(Array.isArray(s))r.push(...s);else{let c=Ei(t[Ht]);Zc(c[q],c,s,r,!0)}}n=i?n.projectionNext:n.next}return r}function Tw(e,t){for(let n=it;n<e.length;n++){let r=e[n],i=r[q].firstChild;i!==null&&Zc(r[q],r,i,t)}e[Li]!==e[Gn]&&t.push(e[Li])}function Lw(e){if(e[Io]!==null){for(let t of e[Io])t.impl.addSequence(t);e[Io].length=0}}var Rw=[];function jx(e){return e[yn]??Vx(e)}function Vx(e){let t=Rw.pop()??Object.create(Bx);return t.lView=e,t}function Hx(e){e.lView[yn]!==e&&(e.lView=null,Rw.push(e))}var Bx=x(m({},zr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Eo(e.lView)},consumerOnSignalRead(){this.lView[yn]=this}});function zx(e){let t=e[yn]??Object.create(qx);return t.lView=e,t}var qx=x(m({},zr),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let t=Ei(e.lView);for(;t&&!Ow(t[q]);)t=Ei(t);t&&j0(t)},consumerOnSignalRead(){this.lView[yn]=this}});function Ow(e){return e.type!==2}function Pw(e){if(e[Di]===null)return;let t=!0;for(;t;){let n=!1;for(let r of e[Di])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));t=n&&!!(e[J]&8192)}}var Ux=100;function Nw(e,t=0){let r=e[br].rendererFactory,i=!1;i||r.begin?.();try{$x(e,t)}finally{i||r.end?.()}}function $x(e,t){let n=X0();try{Dc(!0),D2(e,t);let r=0;for(;Fc(e);){if(r===Ux)throw new b(103,!1);r++,D2(e,1)}}finally{Dc(n)}}function Wx(e,t,n,r){if(Do(t))return;let i=t[J],o=!1,a=!1;zu(t);let s=!0,c=null,l=null;o||(Ow(e)?(l=jx(t),c=fr(l)):Hd()===null?(s=!1,l=zx(t),c=fr(l)):t[yn]&&($r(t[yn]),t[yn]=null));try{F0(t),mM(e.bindingStartIndex),n!==null&&Ew(e,t,n,2,r);let d=(i&3)===3;if(!o)if(d){let h=e.preOrderCheckHooks;h!==null&&Qu(t,h,null)}else{let h=e.preOrderHooks;h!==null&&Ju(t,h,0,null),o2(t,0)}if(a||Gx(t),Pw(t),Fw(t,0),e.contentQueries!==null&&Y4(e,t),!o)if(d){let h=e.contentCheckHooks;h!==null&&Qu(t,h)}else{let h=e.contentHooks;h!==null&&Ju(t,h,1),o2(t,1)}Zx(e,t);let u=e.components;u!==null&&Vw(t,u,0);let p=e.viewQuery;if(p!==null&&k2(2,p,r),!o)if(d){let h=e.viewCheckHooks;h!==null&&Qu(t,h)}else{let h=e.viewHooks;h!==null&&Ju(t,h,2),o2(t,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),t[Ou]){for(let h of t[Ou])h();t[Ou]=null}o||(Lw(t),t[J]&=-73)}catch(d){throw o||Eo(t),d}finally{l!==null&&(Ur(l,c),s&&Hx(l)),qu()}}function Fw(e,t){for(let n=q4(e);n!==null;n=U4(n))for(let r=it;r<n.length;r++){let i=n[r];jw(i,t)}}function Gx(e){for(let t=q4(e);t!==null;t=U4(t)){if(!(t[J]&2))continue;let n=t[xo];for(let r=0;r<n.length;r++){let i=n[r];j0(i)}}}function Kx(e,t,n){Le(Ie.ComponentStart);let r=Ln(t,e);try{jw(r,n)}finally{Le(Ie.ComponentEnd,r[rt])}}function jw(e,t){Nu(e)&&D2(e,t)}function D2(e,t){let r=e[q],i=e[J],o=e[yn],a=!!(t===0&&i&16);if(a||=!!(i&64&&t===0),a||=!!(i&1024),a||=!!(o?.dirty&&lo(o)),a||=!1,o&&(o.dirty=!1),e[J]&=-9217,a)Wx(r,e,r.template,e[rt]);else if(i&8192){let s=B(null);try{Pw(e),Fw(e,1);let c=r.components;c!==null&&Vw(e,c,1),Lw(e)}finally{B(s)}}}function Vw(e,t,n){for(let r=0;r<t.length;r++)Kx(e,t[r],n)}function Zx(e,t){let n=e.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Oi(~i);else{let o=i,a=n[++r],s=n[++r];kM(a,o);let c=t[o];Le(Ie.HostBindingsUpdateStart,c);try{s(2,c)}finally{Le(Ie.HostBindingsUpdateEnd,c)}}}}finally{Oi(-1)}}function by(e,t){let n=X0()?64:1088;for(e[br].changeDetectionScheduler?.notify(t);e;){e[J]|=n;let r=Ei(e);if(Na(e)&&!r)return e;e=r}return null}function Hw(e,t,n,r){return[e,!0,0,t,null,r,null,n,null,null]}function Bw(e,t){let n=it+t;if(n<e.length)return e[n]}function sl(e,t,n,r=!0){let i=t[q];if(Xx(i,t,e,n),r){let a=dh(n,e),s=t[_e],c=s.parentNode(e[Li]);c!==null&&hx(i,e[Xt],s,t,c,a)}let o=t[Co];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function zw(e,t){let n=Xc(e,t);return n!==void 0&&Lh(n[q],n),n}function Xc(e,t){if(e.length<=it)return;let n=it+t,r=e[n];if(r){let i=r[Xr];i!==null&&i!==e&&py(i,r),t>0&&(e[n-1][An]=r[An]);let o=Lc(e,it+t);ux(r[q],r);let a=o[Cr];a!==null&&a.detachView(o[q]),r[Mt]=null,r[An]=null,r[J]&=-129}return r}function Xx(e,t,n,r){let i=it+r,o=n.length;r>0&&(n[i-1][An]=t),r<o-it?(t[An]=n[i],_0(n,it+r,t)):(n.push(t),t[An]=null),t[Mt]=n;let a=t[Xr];a!==null&&n!==a&&qw(a,t);let s=t[Cr];s!==null&&s.insertView(e),Fu(t),t[J]|=128}function qw(e,t){let n=e[xo],r=t[Mt];if(Sr(r))e[J]|=2;else{let i=r[Mt][Ht];t[Ht]!==i&&(e[J]|=2)}n===null?e[xo]=[t]:n.push(t)}var Fi=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let t=this._lView,n=t[q];return Zc(n,t,n.firstChild,[])}constructor(t,n){this._lView=t,this._cdRefInjectingView=n}get context(){return this._lView[rt]}set context(t){this._lView[rt]=t}get destroyed(){return Do(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let t=this._lView[Mt];if(Kn(t)){let n=t[Pc],r=n?n.indexOf(this):-1;r>-1&&(Xc(t,r),Lc(n,r))}this._attachedToViewContainer=!1}Lh(this._lView[q],this._lView)}onDestroy(t){V0(this._lView,t)}markForCheck(){by(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Fu(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,Nw(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new b(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let t=Na(this._lView),n=this._lView[Xr];n!==null&&!t&&py(n,this._lView),_w(this._lView[q],this._lView)}attachToAppRef(t){if(this._attachedToViewContainer)throw new b(902,!1);this._appRef=t;let n=Na(this._lView),r=this._lView[Xr];r!==null&&!n&&qw(r,this._lView),Fu(this._lView)}};var Jn=(()=>{class e{_declarationLView;_declarationTContainer;elementRef;static __NG_ELEMENT_ID__=Yx;constructor(n,r,i){this._declarationLView=n,this._declarationTContainer=r,this.elementRef=i}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,r){return this.createEmbeddedViewImpl(n,r)}createEmbeddedViewImpl(n,r,i){let o=al(this._declarationLView,this._declarationTContainer,n,{embeddedViewInjector:r,dehydratedView:i});return new Fi(o)}}return e})();function Yx(){return Ph(ot(),P())}function Ph(e,t){return e.type&4?new Jn(t,e,Ja(e,t)):null}function ts(e,t,n,r,i){let o=e.data[t];if(o===null)o=Qx(e,t,n,r,i),vM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let a=yM();o.injectorIndex=a===null?-1:a.injectorIndex}return Fa(o,!0),o}function Qx(e,t,n,r,i){let o=G0(),a=K0(),s=a?o:o&&o.parent,c=e.data[t]=eD(e,s,n,t,r,i);return Jx(e,c,o,a),c}function Jx(e,t,n,r){e.firstChild===null&&(e.firstChild=t),n!==null&&(r?n.child==null&&t.parent!==null&&(n.child=t):n.next===null&&(n.next=t,t.prev=n))}function eD(e,t,n,r,i,o){let a=t?t.injectorIndex:-1,s=0;return U0()&&(s|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,fieldIndex:-1,customControlIndex:-1,propertyBindings:null,flags:s,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function tD(e){let t=e[L0]??[],r=e[Mt][_e],i=[];for(let o of t)o.data[G4]!==void 0?i.push(o):nD(o,r);e[L0]=i}function nD(e,t){let n=0,r=e.firstChild;if(r){let i=e.data[W4];for(;n<i;){let o=r.nextSibling;aw(t,r,!1),r=o,n++}}}var rD=()=>null,iD=()=>null;function uh(e,t){return rD(e,t)}function Uw(e,t,n){return iD(e,t,n)}var $w=class{},Nh=class{},E2=class{resolveComponentFactory(t){throw new b(917,!1)}},cl=class{static NULL=new E2},Bt=class{},Tt=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>oD()}return e})();function oD(){let e=P(),t=ot(),n=Ln(t.index,e);return(Sr(n)?n:e)[_e]}var Ww=(()=>{class e{static \u0275prov=M({token:e,providedIn:"root",factory:()=>null})}return e})();var th={},A2=class{injector;parentInjector;constructor(t,n){this.injector=t,this.parentInjector=n}get(t,n,r){let i=this.injector.get(t,th,r);return i!==th||n===th?i:this.parentInjector.get(t,n,r)}};function hh(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(t!==null)for(let a=0;a<t.length;a++){let s=t[a];if(typeof s=="number")o=s;else if(o==1)i=xu(i,s);else if(o==2){let c=s,l=t[++a];r=xu(r,c+": "+l+";")}}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}function F(e,t=0){let n=P();if(n===null)return K(e,t);let r=ot();return F4(r,n,kt(e),t)}function Gw(e,t,n,r,i){let o=r===null?null:{"":-1},a=i(e,n);if(a!==null){let s=a,c=null,l=null;for(let d of a)if(d.resolveHostDirectives!==null){[s,c,l]=d.resolveHostDirectives(a);break}cD(e,t,n,s,o,c,l)}o!==null&&r!==null&&aD(n,r,o)}function aD(e,t,n){let r=e.localNames=[];for(let i=0;i<t.length;i+=2){let o=n[t[i+1]];if(o==null)throw new b(-301,!1);r.push(t[i],o)}}function sD(e,t,n){t.componentOffset=n,(e.components??=[]).push(t.index)}function cD(e,t,n,r,i,o,a){let s=r.length,c=null;for(let p=0;p<s;p++){let h=r[p];c===null&&Zn(h)&&(c=h,sD(e,n,p)),g2(ah(n,t),e,h.type)}fD(n,e.data.length,s),c?.viewProvidersResolver&&c.viewProvidersResolver(c);for(let p=0;p<s;p++){let h=r[p];h.providersResolver&&h.providersResolver(h)}let l=!1,d=!1,u=yw(e,t,s,null);s>0&&(n.directiveToIndex=new Map);for(let p=0;p<s;p++){let h=r[p];if(n.mergedAttrs=$a(n.mergedAttrs,h.hostAttrs),dD(e,n,t,u,h),pD(u,h,i),a!==null&&a.has(h)){let[g,v]=a.get(h);n.directiveToIndex.set(h.type,[u,g+n.directiveStart,v+n.directiveStart])}else(o===null||!o.has(h))&&n.directiveToIndex.set(h.type,u);h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let y=h.type.prototype;!l&&(y.ngOnChanges||y.ngOnInit||y.ngDoCheck)&&((e.preOrderHooks??=[]).push(n.index),l=!0),!d&&(y.ngOnChanges||y.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(n.index),d=!0),u++}lD(e,n,o)}function lD(e,t,n){for(let r=t.directiveStart;r<t.directiveEnd;r++){let i=e.data[r];if(n===null||!n.has(i))QM(0,t,i,r),QM(1,t,i,r),e4(t,r,!1);else{let o=n.get(i);JM(0,t,o,r),JM(1,t,o,r),e4(t,r,!0)}}}function QM(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a;e===0?a=t.inputs??={}:a=t.outputs??={},a[o]??=[],a[o].push(r),Kw(t,o)}}function JM(e,t,n,r){let i=e===0?n.inputs:n.outputs;for(let o in i)if(i.hasOwnProperty(o)){let a=i[o],s;e===0?s=t.hostDirectiveInputs??={}:s=t.hostDirectiveOutputs??={},s[a]??=[],s[a].push(r,o),Kw(t,a)}}function Kw(e,t){t==="class"?e.flags|=8:t==="style"&&(e.flags|=16)}function e4(e,t,n){let{attrs:r,inputs:i,hostDirectiveInputs:o}=e;if(r===null||!n&&i===null||n&&o===null||ay(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let a=null,s=0;for(;s<r.length;){let c=r[s];if(c===0){s+=4;continue}else if(c===5){s+=2;continue}else if(typeof c=="number")break;if(!n&&i.hasOwnProperty(c)){let l=i[c];for(let d of l)if(d===t){a??=[],a.push(c,r[s+1]);break}}else if(n&&o.hasOwnProperty(c)){let l=o[c];for(let d=0;d<l.length;d+=2)if(l[d]===t){a??=[],a.push(l[d+1],r[s+1]);break}}s+=2}e.initialInputs??=[],e.initialInputs.push(a)}function dD(e,t,n,r,i){e.data[r]=i;let o=i.factory||(i.factory=xi(i.type,!0)),a=new Po(o,Zn(i),F,null);e.blueprint[r]=a,n[r]=a,uD(e,t,r,yw(e,n,i.hostVars,At),i)}function uD(e,t,n,r,i){let o=i.hostBindings;if(o){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let s=~t.index;hD(a)!=s&&a.push(s),a.push(n,r,o)}}function hD(e){let t=e.length;for(;t>0;){let n=e[--t];if(typeof n=="number"&&n<0)return n}return 0}function pD(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;Zn(t)&&(n[""]=e)}}function fD(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Cy(e,t,n,r,i,o,a,s){let c=t[q],l=c.consts,d=Rn(l,a),u=ts(c,e,n,r,d);return o&&Gw(c,t,u,Rn(l,s),i),u.mergedAttrs=$a(u.mergedAttrs,u.attrs),u.attrs!==null&&hh(u,u.attrs,!1),u.mergedAttrs!==null&&hh(u,u.mergedAttrs,!0),c.queries!==null&&c.queries.elementStart(c,u),u}function _y(e,t){E4(e,t),R0(t)&&e.queries.elementEnd(t)}function yD(e,t,n,r,i,o){let a=t.consts,s=Rn(a,i),c=ts(t,e,n,r,s);if(c.mergedAttrs=$a(c.mergedAttrs,c.attrs),o!=null){let l=Rn(a,o);c.localNames=[];for(let d=0;d<l.length;d+=2)c.localNames.push(l[d],-1)}return c.attrs!==null&&hh(c,c.attrs,!1),c.mergedAttrs!==null&&hh(c,c.mergedAttrs,!0),t.queries!==null&&t.queries.elementStart(t,c),c}function ll(e,t,n){return e[t]=n}function gD(e,t){return e[t]}function Qt(e,t,n){if(n===At)return!1;let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function Yc(e,t,n,r){let i=Qt(e,t,n);return Qt(e,t+1,r)||i}function mD(e,t,n,r,i){let o=Yc(e,t,n,r);return Qt(e,t+2,i)||o}function vD(e,t,n,r,i,o){let a=Yc(e,t,n,r);return Yc(e,t+2,i,o)||a}var Fh=Symbol("CONTROL");function Pi(e,t,n){return function r(i){let o=Qr(e)?Ln(e.index,t):t;by(o,5);let a=t[rt],s=t4(t,a,n,i),c=r.__ngNextListenerFn__;for(;c;)s=t4(t,a,c,i)&&s,c=c.__ngNextListenerFn__;return s}}function t4(e,t,n,r){let i=B(null);try{return Le(Ie.OutputStart,t,n),n(r)!==!1}catch(o){return Ox(e,o),!1}finally{Le(Ie.OutputEnd,t,n),B(i)}}function ph(e,t,n,r,i,o,a,s){let c=Pa(e),l=!1,d=null;if(!r&&c&&(d=MD(t,n,o,e.index)),d!==null){let u=d.__ngLastListenerFn__||d;u.__ngNextListenerFn__=a,d.__ngLastListenerFn__=a,l=!0}else{let u=It(e,n),p=r?r(u):u;lI(n,p,o,s);let h=i.listen(p,o,s);if(!kD(o)){let y=r?g=>r(Tn(g[e.index])):e.index;Zw(y,t,n,o,s,h,!1)}}return l}function kD(e){return e.startsWith("animation")||e.startsWith("transition")}function MD(e,t,n,r){let i=e.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let a=i[o];if(a===n&&i[o+1]===r){let s=t[Ra],c=i[o+2];return s&&s.length>c?s[c]:null}typeof a=="string"&&(o+=2)}return null}function Zw(e,t,n,r,i,o,a){let s=t.firstCreatePass?B0(t):null,c=H0(n),l=c.length;c.push(i,o),s&&s.push(r,e,l,(l+1)*(a?-1:1))}function fh(e,t,n,r,i,o){let a=t[n],s=t[q],l=s.data[n].outputs[r],u=a[l].subscribe(o);Zw(e.index,s,t,i,o,u,!0)}var T2=Symbol("BINDING");var yh=class extends cl{ngModule;constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){let n=Mr(t);return new ji(n,this.ngModule)}};function wD(e){return Object.keys(e).map(t=>{let[n,r,i]=e[t],o={propName:n,templateName:t,isSignal:(r&Dh.SignalBased)!==0};return i&&(o.transform=i),o})}function bD(e){return Object.keys(e).map(t=>({propName:e[t],templateName:t}))}function CD(e,t,n){let r=t instanceof Oe?t:t?.injector;return r&&e.getStandaloneInjector!==null&&(r=e.getStandaloneInjector(r)||r),r?new A2(n,r):n}function _D(e){let t=e.get(Bt,null);if(t===null)throw new b(407,!1);let n=e.get(Ww,null),r=e.get(kr,null);return{rendererFactory:t,sanitizer:n,changeDetectionScheduler:r,ngReflect:!1}}function SD(e,t){let n=Xw(e);return iw(t,n,n==="svg"?O0:n==="math"?cM:null)}function Xw(e){return(e.selectors[0][0]||"div").toLowerCase()}var ji=class extends Nh{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=wD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=bD(this.componentDef.outputs),this.cachedOutputs}constructor(t,n){super(),this.componentDef=t,this.ngModule=n,this.componentType=t.type,this.selector=YI(t.selectors),this.ngContentSelectors=t.ngContentSelectors??[],this.isBoundToModule=!!n}create(t,n,r,i,o,a){Le(Ie.DynamicComponentStart);let s=B(null);try{let c=this.componentDef,l=ID(r,c,a,o),d=CD(c,i||this.ngModule,t),u=_D(d),p=u.rendererFactory.createRenderer(null,c),h=r?Cx(p,r,c.encapsulation,d):SD(c,p),y=a?.some(n4)||o?.some(k=>typeof k!="function"&&k.bindings.some(n4)),g=cy(null,l,null,512|fw(c),null,null,u,p,d,null,X4(h,d,!0));g[Ge]=h,zu(g);let v=null;try{let k=Cy(Ge,g,2,"#host",()=>l.directiveRegistry,!0,0);sw(p,h,k),Wa(h,g),Oh(l,g,k),Q2(l,k,g),_y(l,k),n!==void 0&&DD(k,this.ngContentSelectors,n),v=Ln(k.index,g),g[rt]=v[rt],wy(l,g,null)}catch(k){throw v!==null&&v2(v),v2(g),k}finally{Le(Ie.DynamicComponentEnd),qu()}return new gh(this.componentType,g,!!y)}finally{B(s)}}};function ID(e,t,n,r){let i=e?["ng-version","21.1.0"]:QI(t.selectors[0]),o=null,a=null,s=0;if(n)for(let d of n)s+=d[T2].requiredVars,d.create&&(d.targetIdx=0,(o??=[]).push(d)),d.update&&(d.targetIdx=0,(a??=[]).push(d));if(r)for(let d=0;d<r.length;d++){let u=r[d];if(typeof u!="function")for(let p of u.bindings){s+=p[T2].requiredVars;let h=d+1;p.create&&(p.targetIdx=h,(o??=[]).push(p)),p.update&&(p.targetIdx=h,(a??=[]).push(p))}}let c=[t];if(r)for(let d of r){let u=typeof d=="function"?d:d.type,p=Eu(u);c.push(p)}return sy(0,null,xD(o,a),1,s,c,null,null,null,[i],null)}function xD(e,t){return!e&&!t?null:n=>{if(n&1&&e)for(let r of e)r.create();if(n&2&&t)for(let r of t)r.update()}}function n4(e){let t=e[T2].kind;return t==="input"||t==="twoWay"}var gh=class extends $w{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(t,n,r){super(),this._rootLView=n,this._hasInputBindings=r,this._tNode=Nc(n[q],Ge),this.location=Ja(this._tNode,n),this.instance=Ln(this._tNode.index,n)[rt],this.hostView=this.changeDetectorRef=new Fi(n,void 0),this.componentType=t}setInput(t,n){this._hasInputBindings;let r=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(t)&&Object.is(this.previousInputValues.get(t),n))return;let i=this._rootLView,o=My(r,i[q],i,t,n);this.previousInputValues.set(t,n);let a=Ln(r.index,i);by(a,1)}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}};function DD(e,t,n){let r=e.projection=[];for(let i=0;i<t.length;i++){let o=n[i];r.push(o!=null&&o.length?Array.from(o):null)}}var cn=(()=>{class e{static __NG_ELEMENT_ID__=ED}return e})();function ED(){let e=ot();return Qw(e,P())}var AD=cn,Yw=class extends AD{_lContainer;_hostTNode;_hostLView;constructor(t,n,r){super(),this._lContainer=t,this._hostTNode=n,this._hostLView=r}get element(){return Ja(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){let t=Z2(this._hostTNode,this._hostLView);if(T4(t)){let n=ih(t,this._hostLView),r=rh(t),i=n[q].data[r+8];return new Lo(i,n)}else return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){let n=r4(this._lContainer);return n!==null&&n[t]||null}get length(){return this._lContainer.length-it}createEmbeddedView(t,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let a=uh(this._lContainer,t.ssrId),s=t.createEmbeddedViewImpl(n||{},o,a);return this.insertImpl(s,i,Ga(this._hostTNode,a)),s}createComponent(t,n,r,i,o,a,s){let c=t&&!NS(t),l;if(c)l=n;else{let v=n||{};l=v.index,r=v.injector,i=v.projectableNodes,o=v.environmentInjector||v.ngModuleRef,a=v.directives,s=v.bindings}let d=c?t:new ji(Mr(t)),u=r||this.parentInjector;if(!o&&d.ngModule==null){let k=(c?u:this.parentInjector).get(Oe,null);k&&(o=k)}let p=Mr(d.componentType??{}),h=uh(this._lContainer,p?.id??null),y=h?.firstChild??null,g=d.create(u,i,y,o,a,s);return this.insertImpl(g.hostView,l,Ga(this._hostTNode,h)),g}insert(t,n){return this.insertImpl(t,n,!0)}insertImpl(t,n,r){let i=t._lView;if(dM(i)){let s=this.indexOf(t);if(s!==-1)this.detach(s);else{let c=i[Mt],l=new Yw(c,c[Xt],c[Mt]);l.detach(l.indexOf(t))}}let o=this._adjustIndex(n),a=this._lContainer;return sl(a,i,o,r),t.attachToViewContainerRef(),_0(c2(a),o,t),t}move(t,n){return this.insert(t,n)}indexOf(t){let n=r4(this._lContainer);return n!==null?n.indexOf(t):-1}remove(t){let n=this._adjustIndex(t,-1),r=Xc(this._lContainer,n);r&&(Lc(c2(this._lContainer),n),Lh(r[q],r))}detach(t){let n=this._adjustIndex(t,-1),r=Xc(this._lContainer,n);return r&&Lc(c2(this._lContainer),n)!=null?new Fi(r):null}_adjustIndex(t,n=0){return t??this.length+n}};function r4(e){return e[Pc]}function c2(e){return e[Pc]||(e[Pc]=[])}function Qw(e,t){let n,r=t[e.index];return Kn(r)?n=r:(n=Hw(r,t,null,e),t[e.index]=n,ly(t,n)),LD(n,t,e,r),new Yw(n,e,t)}function TD(e,t){let n=e[_e],r=n.createComment(""),i=It(t,e),o=n.parentNode(i);return ch(n,o,r,n.nextSibling(i),!1),r}var LD=PD,RD=()=>!1;function OD(e,t,n){return RD(e,t,n)}function PD(e,t,n,r){if(e[Li])return;let i;n.type&8?i=Tn(r):i=TD(t,n),e[Li]=i}var L2=class e{queryList;matches=null;constructor(t){this.queryList=t}clone(){return new e(this.queryList)}setDirty(){this.queryList.setDirty()}},R2=class e{queries;constructor(t=[]){this.queries=t}createEmbeddedView(t){let n=t.queries;if(n!==null){let r=t.contentQueries!==null?t.contentQueries[0]:n.length,i=[];for(let o=0;o<r;o++){let a=n.getByIndex(o),s=this.queries[a.indexInDeclarationView];i.push(s.clone())}return new e(i)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}finishViewCreation(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let n=0;n<this.queries.length;n++)Iy(t,n).matches!==null&&this.queries[n].setDirty()}},mh=class{flags;read;predicate;constructor(t,n,r=null){this.flags=n,this.read=r,typeof t=="string"?this.predicate=HD(t):this.predicate=t}},O2=class e{queries;constructor(t=[]){this.queries=t}elementStart(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(t,n)}elementEnd(t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(t)}embeddedTView(t){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,o=this.getByIndex(r).embeddedTView(t,i);o&&(o.indexInDeclarationView=r,n!==null?n.push(o):n=[o])}return n!==null?new e(n):null}template(t,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(t,n)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}},P2=class e{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(t,n=-1){this.metadata=t,this._declarationNodeIndex=n}elementStart(t,n){this.isApplyingToNode(n)&&this.matchTNode(t,n)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,n){this.elementStart(t,n)}embeddedTView(t,n){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,n),new e(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=t.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(t,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let o=r[i];this.matchTNodeWithReadOption(t,n,ND(n,o)),this.matchTNodeWithReadOption(t,n,eh(n,t,o,!1,!1))}else r===Jn?n.type&4&&this.matchTNodeWithReadOption(t,n,-1):this.matchTNodeWithReadOption(t,n,eh(n,t,r,!1,!1))}matchTNodeWithReadOption(t,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Se||i===cn||i===Jn&&n.type&4)this.addMatch(n.index,-2);else{let o=eh(n,t,i,!1,!1);o!==null&&this.addMatch(n.index,o)}else this.addMatch(n.index,r)}}addMatch(t,n){this.matches===null?this.matches=[t,n]:this.matches.push(t,n)}};function ND(e,t){let n=e.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1]}return null}function FD(e,t){return e.type&11?Ja(e,t):e.type&4?Ph(e,t):null}function jD(e,t,n,r){return n===-1?FD(t,e):n===-2?VD(e,t,r):Wc(e,e[q],n,t)}function VD(e,t,n){if(n===Se)return Ja(t,e);if(n===Jn)return Ph(t,e);if(n===cn)return Qw(t,e)}function Jw(e,t,n,r){let i=t[Cr].queries[r];if(i.matches===null){let o=e.data,a=n.matches,s=[];for(let c=0;a!==null&&c<a.length;c+=2){let l=a[c];if(l<0)s.push(null);else{let d=o[l];s.push(jD(t,d,a[c+1],n.metadata.read))}}i.matches=s}return i.matches}function N2(e,t,n,r){let i=e.queries.getByIndex(n),o=i.matches;if(o!==null){let a=Jw(e,t,i,n);for(let s=0;s<o.length;s+=2){let c=o[s];if(c>0)r.push(a[s/2]);else{let l=o[s+1],d=t[-c];for(let u=it;u<d.length;u++){let p=d[u];p[Xr]===p[Mt]&&N2(p[q],p,l,r)}if(d[xo]!==null){let u=d[xo];for(let p=0;p<u.length;p++){let h=u[p];N2(h[q],h,l,r)}}}}}return r}function Sy(e,t){return e[Cr].queries[t].queryList}function e5(e,t,n){let r=new sh((n&4)===4);return z0(e,t,r,r.destroy),(t[Cr]??=new R2).queries.push(new L2(r))-1}function t5(e,t,n){let r=De();return r.firstCreatePass&&(r5(r,new mh(e,t,n),-1),(t&2)===2&&(r.staticViewQueries=!0)),e5(r,P(),t)}function n5(e,t,n,r){let i=De();if(i.firstCreatePass){let o=ot();r5(i,new mh(t,n,r),o.index),BD(i,e),(n&2)===2&&(i.staticContentQueries=!0)}return e5(i,P(),n)}function HD(e){return e.split(",").map(t=>t.trim())}function r5(e,t,n){e.queries===null&&(e.queries=new O2),e.queries.track(new P2(t,n))}function BD(e,t){let n=e.contentQueries||(e.contentQueries=[]),r=n.length?n[n.length-1]:-1;t!==r&&n.push(e.queries.length-1,t)}function Iy(e,t){return e.queries.getByIndex(t)}function i5(e,t){let n=e[q],r=Iy(n,t);return r.crossesNgTemplate?N2(n,e,t,[]):Jw(n,e,r,t)}function xy(e,t,n){let r,i=yc(()=>{r._dirtyCounter();let o=zD(r,e);if(t&&o===void 0)throw new b(-951,!1);return o});return r=i[qe],r._dirtyCounter=we(0),r._flatValue=void 0,i}function Dy(e){return xy(!0,!1,e)}function Ey(e){return xy(!0,!0,e)}function Ay(e){return xy(!1,!1,e)}function o5(e,t){let n=e[qe];n._lView=P(),n._queryIndex=t,n._queryList=Sy(n._lView,t),n._queryList.onDirty(()=>n._dirtyCounter.update(r=>r+1))}function zD(e,t){let n=e._lView,r=e._queryIndex;if(n===void 0||r===void 0||n[J]&4)return t?void 0:Vt;let i=Sy(n,r),o=i5(n,r);return i.reset(o,H4),t?i.first:i._changesDetected||e._flatValue===void 0?e._flatValue=i.toArray():e._flatValue}var Er=class{},jh=class{};var vh=class extends Er{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new yh(this);constructor(t,n,r,i=!0){super(),this.ngModuleType=t,this._parent=n;let o=w0(t);this._bootstrapComponents=uw(o.bootstrap),this._r3Injector=e2(t,n,[{provide:Er,useValue:this},{provide:cl,useValue:this.componentFactoryResolver},...r],Zr(t),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}},kh=class extends jh{moduleType;constructor(t){super(),this.moduleType=t}create(t){return new vh(this.moduleType,t,[])}};var Qc=class extends Er{injector;componentFactoryResolver=new yh(this);instance=null;constructor(t){super();let n=new wo([...t.providers,{provide:Er,useValue:this},{provide:cl,useValue:this.componentFactoryResolver}],t.parent||La(),t.debugName,new Set(["environment"]));this.injector=n,t.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(t){this.injector.onDestroy(t)}};function dl(e,t,n=null){return new Qc({providers:e,parent:t,debugName:n,runEnvironmentInitializers:!0}).injector}var qD=(()=>{class e{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=x0(!1,n.type),i=r.length>0?dl([r],this._injector,""):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=M({token:e,providedIn:"environment",factory:()=>new e(K(Oe))})}return e})();function ge(e){return Qa(()=>{let t=a5(e),n=x(m({},t),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===X2.OnPush,directiveDefs:null,pipeDefs:null,dependencies:t.standalone&&e.dependencies||null,getStandaloneInjector:t.standalone?i=>i.get(qD).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||Qn.Emulated,styles:e.styles||Vt,_:null,schemas:e.schemas||null,tView:null,id:""});t.standalone&&Jt("NgStandalone"),s5(n);let r=e.dependencies;return n.directiveDefs=i4(r,UD),n.pipeDefs=i4(r,$k),n.id=GD(n),n})}function UD(e){return Mr(e)||Eu(e)}function Ve(e){return Qa(()=>({type:e.type,bootstrap:e.bootstrap||Vt,declarations:e.declarations||Vt,imports:e.imports||Vt,exports:e.exports||Vt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function $D(e,t){if(e==null)return Wn;let n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r],o,a,s,c;Array.isArray(i)?(s=i[0],o=i[1],a=i[2]??o,c=i[3]||null):(o=i,a=i,s=Dh.None,c=null),n[o]=[r,s,c],t[o]=a}return n}function WD(e){if(e==null)return Wn;let t={};for(let n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}function ce(e){return Qa(()=>{let t=a5(e);return s5(t),t})}function ns(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function a5(e){let t={};return{type:e.type,providersResolver:null,viewProvidersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputConfig:e.inputs||Wn,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||Vt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:$D(e.inputs,t),outputs:WD(e.outputs),debugInfo:null}}function s5(e){e.features?.forEach(t=>t(e))}function i4(e,t){return e?()=>{let n=typeof e=="function"?e():e,r=[];for(let i of n){let o=t(i);o!==null&&r.push(o)}return r}:null}function GD(e){let t=0,n=typeof e.consts=="function"?"":e.consts,r=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,n,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of r.join("|"))t=Math.imul(31,t)+o.charCodeAt(0)<<0;return t+=2147483648,"c"+t}function KD(e){let t=n=>{let r=Array.isArray(e);n.hostDirectives===null?(n.resolveHostDirectives=ZD,n.hostDirectives=r?e.map(F2):[e]):r?n.hostDirectives.unshift(...e.map(F2)):n.hostDirectives.unshift(e)};return t.ngInherit=!0,t}function ZD(e){let t=[],n=!1,r=null,i=null;for(let o=0;o<e.length;o++){let a=e[o];if(a.hostDirectives!==null){let s=t.length;r??=new Map,i??=new Map,c5(a,t,r),i.set(a,[s,t.length-1])}o===0&&Zn(a)&&(n=!0,t.push(a))}for(let o=n?1:0;o<e.length;o++)t.push(e[o]);return[t,r,i]}function c5(e,t,n){if(e.hostDirectives!==null)for(let r of e.hostDirectives)if(typeof r=="function"){let i=r();for(let o of i)o4(F2(o),t,n)}else o4(r,t,n)}function o4(e,t,n){let r=Eu(e.directive);XD(r.declaredInputs,e.inputs),c5(r,t,n),n.set(r,e),t.push(r)}function F2(e){return typeof e=="function"?{directive:kt(e),inputs:Wn,outputs:Wn}:{directive:kt(e.directive),inputs:a4(e.inputs),outputs:a4(e.outputs)}}function a4(e){if(e===void 0||e.length===0)return Wn;let t={};for(let n=0;n<e.length;n+=2)t[e[n]]=e[n+1];return t}function XD(e,t){for(let n in t)if(t.hasOwnProperty(n)){let r=t[n],i=e[n];e[r]=i}}function YD(e){return Object.getPrototypeOf(e.prototype).constructor}function dt(e){let t=YD(e.type),n=!0,r=[e];for(;t;){let i;if(Zn(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new b(903,!1);i=t.\u0275dir}if(i){if(n){r.push(i);let a=e;a.inputs=l2(e.inputs),a.declaredInputs=l2(e.declaredInputs),a.outputs=l2(e.outputs);let s=i.hostBindings;s&&nE(e,s);let c=i.viewQuery,l=i.contentQueries;if(c&&eE(e,c),l&&tE(e,l),QD(e,i),Uk(e.outputs,i.outputs),Zn(i)&&i.data.animation){let d=e.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let a=0;a<o.length;a++){let s=o[a];s&&s.ngInherit&&s(e),s===dt&&(n=!1)}}t=Object.getPrototypeOf(t)}JD(r)}function QD(e,t){for(let n in t.inputs){if(!t.inputs.hasOwnProperty(n)||e.inputs.hasOwnProperty(n))continue;let r=t.inputs[n];r!==void 0&&(e.inputs[n]=r,e.declaredInputs[n]=t.declaredInputs[n])}}function JD(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){let i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=$a(i.hostAttrs,n=$a(n,i.hostAttrs))}}function l2(e){return e===Wn?{}:e===Vt?[]:e}function eE(e,t){let n=e.viewQuery;n?e.viewQuery=(r,i)=>{t(r,i),n(r,i)}:e.viewQuery=t}function tE(e,t){let n=e.contentQueries;n?e.contentQueries=(r,i,o)=>{t(r,i,o),n(r,i,o)}:e.contentQueries=t}function nE(e,t){let n=e.hostBindings;n?e.hostBindings=(r,i)=>{t(r,i),n(r,i)}:e.hostBindings=t}function l5(e,t,n,r,i,o,a,s){if(n.firstCreatePass){e.mergedAttrs=$a(e.mergedAttrs,e.attrs);let d=e.tView=sy(2,e,i,o,a,n.directiveRegistry,n.pipeRegistry,null,n.schemas,n.consts,null);n.queries!==null&&(n.queries.template(n,e),d.queries=n.queries.embeddedTView(e))}s&&(e.flags|=s),Fa(e,!1);let c=iE(n,t,e,r);$u()&&fy(n,t,c,e),Wa(c,t);let l=Hw(c,t,c,e);t[r+Ge]=l,ly(t,l),OD(l,e,t)}function rE(e,t,n,r,i,o,a,s,c,l,d){let u=n+Ge,p;return t.firstCreatePass?(p=ts(t,u,4,a||null,s||null),ju()&&Gw(t,e,p,Rn(t.consts,l),my),E4(t,p)):p=t.data[u],l5(p,e,t,n,r,i,o,c),Pa(p)&&Oh(t,e,p),l!=null&&ol(e,p,d),p}function Jc(e,t,n,r,i,o,a,s,c,l,d){let u=n+Ge,p;if(t.firstCreatePass){if(p=ts(t,u,4,a||null,s||null),l!=null){let h=Rn(t.consts,l);p.localNames=[];for(let y=0;y<h.length;y+=2)p.localNames.push(h[y],-1)}}else p=t.data[u];return l5(p,e,t,n,r,i,o,c),l!=null&&ol(e,p,d),p}function nr(e,t,n,r,i,o,a,s){let c=P(),l=De(),d=Rn(l.consts,o);return rE(c,l,e,t,n,r,i,d,void 0,a,s),nr}var iE=oE;function oE(e,t,n,r){return Vc(!0),t[_e].createComment("")}var Vh=(()=>{class e{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function rs(e){return typeof e=="function"&&e[qe]!==void 0}function Ty(e){return rs(e)&&typeof e.set=="function"}var Ly=new C("");function Tr(e){return!!e&&typeof e.then=="function"}function Hh(e){return!!e&&typeof e.subscribe=="function"}var Ry=new C("");function d5(e){return wr([{provide:Ry,multi:!0,useValue:e}])}var Oy=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=f(Ry,{optional:!0})??[];injector=f(Q);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=nt(this.injector,i);if(Tr(o))n.push(o);else if(Hh(o)){let a=new Promise((s,c)=>{o.subscribe({complete:s,error:c})});n.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Bh=new C("");function u5(){Tf(()=>{let e="";throw new b(600,e)})}function h5(e){return e.isBoundToModule}var aE=10;var mn=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=f(on);afterRenderManager=f(Ah);zonelessEnabled=f(Bc);rootEffectScheduler=f(Wu);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new z;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=f(Jr);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(E(n=>!n))}constructor(){f(Ar,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=f(Oe);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){return this.bootstrapImpl(n,r)}bootstrapImpl(n,r,i=Q.NULL){return this._injector.get(be).run(()=>{Le(Ie.BootstrapComponentStart);let a=n instanceof Nh;if(!this._injector.get(Oy).done){let y="";throw new b(405,y)}let c;a?c=n:c=this._injector.get(cl).resolveComponentFactory(n),this.componentTypes.push(c.componentType);let l=h5(c)?void 0:this._injector.get(Er),d=r||c.selector,u=c.create(i,[],d,l),p=u.location.nativeElement,h=u.injector.get(Ly,null);return h?.registerApplication(p),u.onDestroy(()=>{this.detachView(u.hostView),Uc(this.components,u),h?.unregisterApplication(p)}),this._loadComponent(u),Le(Ie.BootstrapComponentEnd,u),u})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){Le(Ie.ChangeDetectionStart),this.tracingSnapshot!==null?this.tracingSnapshot.run(Eh.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw Le(Ie.ChangeDetectionEnd),new b(101,!1);let n=B(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,B(n),this.afterTick.next(),Le(Ie.ChangeDetectionEnd)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Bt,null,{optional:!0}));let n=0;for(;this.dirtyFlags!==0&&n++<aE;){Le(Ie.ChangeDetectionSyncStart);try{this.synchronizeOnce()}finally{Le(Ie.ChangeDetectionSyncEnd)}}}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let n=!1;if(this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:i}of this.allViews){if(!r&&!Fc(i))continue;let o=r&&!this.zonelessEnabled?0:1;Nw(i,o),n=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}n||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Fc(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Uc(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView);try{this.tick()}catch(i){this.internalErrorHandler(i)}this.components.push(n),this._injector.get(Bh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Uc(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new b(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Uc(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function Py(){let e,t;return{promise:new Promise((r,i)=>{e=r,t=i}),resolve:e,reject:t}}function ft(e,t,n,r){let i=P(),o=Xn();if(Qt(i,o,t)){let a=De(),s=Ao();Tx(s,i,e,t,n,r)}return ft}var p5=new C("",{factory:()=>!1});var sE=!1,ul=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";function f5(e){return e[Yt].get(p5,sE)}function cE(e,t,n){let r=Ka.get(e);if(r){for(let i of t)r.classList.push(i);for(let i of n)r.cleanupFns.push(i)}else Ka.set(e,{classList:t,cleanupFns:n})}function Ny(e){let t=Ka.get(e);if(t){for(let n of t.cleanupFns)n();Ka.delete(e)}Ro.delete(e)}var Ka=new WeakMap,Ro=new WeakMap,qa=new WeakMap;function s4(e,t){let n=qa.get(e);if(n&&n.length>0){let r=n.findIndex(i=>i===t);r>-1&&n.splice(r,1)}n?.length===0&&qa.delete(e)}function y5(e,t){let n=qa.get(e)?.shift(),r=t[Xr];if(r){let o=dh(e.index,r)?.previousSibling;n&&o&&n===o&&n.dispatchEvent(new CustomEvent("animationend",{detail:{cancel:!0}}))}}function lE(e,t){qa.has(e)?qa.get(e)?.push(t):qa.set(e,[t])}function c4(e){let t=e[Yr]??={};return t.enter??=new Map}function zh(e){let t=e[Yr]??={};return t.leave??=new Map}function g5(e){let t=typeof e=="function"?e():e,n=Array.isArray(t)?t:null;return typeof t=="string"&&(n=t.trim().split(/\s+/).filter(r=>r)),n}function dE(e,t){if(!ul)return;let n=Ka.get(e);if(n&&n.classList.length>0&&uE(e,n.classList))for(let r of n.classList)t.removeClass(e,r);Ny(e)}function uE(e,t){for(let n of t)if(e.classList.contains(n))return!0;return!1}function m5(e,t){let n=Ro.get(t);return n===void 0?!0:t===e.target&&(n.animationName!==void 0&&e.animationName===n.animationName||n.propertyName!==void 0&&e.propertyName===n.propertyName)}function v5(e,t,n){let r=e.get(t.index)??{animateFns:[]};r.animateFns.push(n),e.set(t.index,r)}function l4(e,t){if(e)for(let n of e)n();for(let n of t)n()}function d4(e,t){let n=zh(e).get(t.index);n&&(n.resolvers=void 0)}function Oo(e){if(Jt("NgAnimateEnter"),!ul)return Oo;let t=P();if(f5(t))return Oo;let n=ot();return y5(n,t),v5(c4(t),n,()=>hE(t,n,e)),bw(t[Yt]),Cw(t[Yt],c4(t)),Oo}function hE(e,t,n){let r=It(t,e),i=e[_e],o=e[Yt].get(be),a=g5(n),s=[],c=d=>{if(d.target!==r)return;let u=d instanceof AnimationEvent?"animationend":"transitionend";o.runOutsideAngular(()=>{i.listen(r,u,l)})},l=d=>{d.target===r&&pE(d,r,i)};if(a&&a.length>0){o.runOutsideAngular(()=>{s.push(i.listen(r,"animationstart",c)),s.push(i.listen(r,"transitionstart",c))}),cE(r,a,s);for(let d of a)i.addClass(r,d);o.runOutsideAngular(()=>{requestAnimationFrame(()=>{if(kw(r,Ro,ul),!Ro.has(r)){for(let d of a)i.removeClass(r,d);Ny(r)}})})}}function pE(e,t,n){let r=Ka.get(t);if(!(e.target!==t||!r)&&m5(e,t)){e.stopImmediatePropagation();for(let i of r.classList)n.removeClass(t,i);Ny(t)}}function Ua(e){if(Jt("NgAnimateLeave"),!ul)return Ua;let t=P();if(f5(t))return Ua;let r=ot();return y5(r,t),v5(zh(t),r,()=>fE(t,r,e)),bw(t[Yt]),Ua}function fE(e,t,n){let{promise:r,resolve:i}=Py(),o=It(t,e),a=e[_e],s=e[Yt].get(be);Ni.add(e[_r]),(zh(e).get(t.index).resolvers??=[]).push(i);let c=g5(n);return c&&c.length>0?yE(o,t,e,c,a,s):i(),{promise:r,resolve:i}}function yE(e,t,n,r,i,o){dE(e,i);let a=[],s=zh(n).get(t.index)?.resolvers,c=l=>{if(l.target===e&&(l instanceof CustomEvent||m5(l,e))){if(l.stopImmediatePropagation(),Ro.delete(e),s4(t,e),Array.isArray(t.projection))for(let d of r)i.removeClass(e,d);l4(s,a),d4(n,t)}};o.runOutsideAngular(()=>{a.push(i.listen(e,"animationend",c)),a.push(i.listen(e,"transitionend",c))}),lE(t,e);for(let l of r)i.addClass(e,l);o.runOutsideAngular(()=>{requestAnimationFrame(()=>{kw(e,Ro,ul),Ro.has(e)||(s4(t,e),l4(s,a),d4(n,t))})})}function gE(){return P()[Ht][rt]}function Lr(){let e=P(),t=De(),n=ot();t.firstCreatePass&&mE(t,n,e);let r=M5(n,e);r&&(Jt("NgSignalForms"),n.flags&1024?h4(e,n,r,"value"):n.flags&2048?h4(e,n,r,"checked"):n.flags&4096?bE(r):n.flags&8192&&_E(e,n,r),r.\u0275register())}function Hi(e,t,n){let r=P(),i=Ao(),o=Xn();if(Qt(r,o,e)){let a=De();gy(i,r,t,e,r[_e],n)}k5(r,i)}function Fy(){let e=P(),t=Ao();k5(e,t)}function k5(e,t){let n=M5(t,e);n&&(xE(e,t,n),t.flags&1024?p4(t,e,n,"value"):t.flags&2048?p4(t,e,n,"checked"):t.flags&4096?DE(t,e,n):EE(t,e,n)),Xn()}function mE(e,t,n){let r=t.inputs?.formField;if(!r||Qr(t)&&r.includes(t.directiveStart+t.componentOffset))return;let i=r.find(a=>Fh in n[a]);if(i===void 0)return;t.fieldIndex=i;let o=vE(t,n)||kE(e,t);if(!(ME(t)||o))throw new b(318,!1)}function vE(e,t){return t[e.fieldIndex].\u0275interopControl?(e.flags|=4096,!0):!1}function kE(e,t){for(let n=t.directiveStart;n<t.directiveEnd;n++){let r=e.data[n];if(u4(r,"value"))return t.flags|=1024,t.customControlIndex=n,!0;if(u4(r,"checked"))return t.flags|=2048,t.customControlIndex=n,!0}return!1}function ME(e){return CE(e)?(e.flags|=8192,AE(e)&&(e.flags|=16384),TE(e)&&(e.flags|=32768),!0):!1}function M5(e,t){let n=e.fieldIndex;return n===-1?null:t[n]}function u4(e,t){return wE(e,t)&&w5(e,t+"Change")}function wE(e,t){return t in e.inputs}function w5(e,t){return t in e.outputs}function h4(e,t,n,r){let i=De(),o=t.customControlIndex,a=r+"Change";fh(t,e,o,a,a,Pi(t,e,d=>n.state().setControlValue(d)));let s=i.data[o],c="touchedChange";w5(s,c)&&fh(t,e,o,c,c,Pi(t,e,()=>n.state().markAsTouched()));let l=e[o];n.focus=()=>l.focus?l.focus():n.element.focus()}function bE(e){let t=e.\u0275interopControl;t.registerOnChange(n=>e.state().setControlValue(n)),t.registerOnTouched(()=>e.state().markAsTouched()),e.focus=()=>e.element.focus()}function CE(e){if(e.type!==2)return!1;let t=e.value;return t==="input"||t==="textarea"||t==="select"}function _E(e,t,n){let r=De(),i=e[_e],o=It(t,e),a=()=>{let c=n.state();c.setControlValue(LE(o,c.value))};ph(t,r,e,void 0,i,"input",a,Pi(t,e,a));let s=()=>{n.state().markAsTouched()};if(ph(t,r,e,void 0,i,"blur",s,Pi(t,e,s)),t.type===2&&t.value==="select"&&typeof MutationObserver=="function"){let c=SE(o,n);z0(r,e,c,c.disconnect)}n.focus=()=>o.focus()}function SE(e,t){let n=new MutationObserver(r=>{r.some(i=>IE(i))&&(e.value=t.state().value())});return n.observe(e,{attributes:!0,attributeFilter:["value"],characterData:!0,childList:!0,subtree:!0}),n}function IE(e){if(e.type==="childList"||e.type==="characterData"){if(e.target instanceof Comment)return!1;for(let t of e.addedNodes)if(!(t instanceof Comment))return!0;for(let t of e.removedNodes)if(!(t instanceof Comment))return!0;return!1}return e.type==="attributes"&&e.target instanceof HTMLOptionElement}function xE(e,t,n){if(n.classes){let r=Uh(e);r.classes??={},n.state();let i=e[_e],o=It(t,e);for(let[a,s]of n.classes){let c=s();BE(r.classes,a,c)&&(c?i.addClass(o,a):i.removeClass(o,a))}}}function p4(e,t,n,r){let i=De(),o=e.customControlIndex,a=t[o],s=i.data[o],c=n.state(),l=Uh(t),d=c.controlValue();Za(l,Hy,d)&&Gc(s,a,r,d);let u=(e.flags&8192)!==0,p=u?It(e,t):null,h=t[_e];for(let y of By){let g=c[y]?.();if(Za(l,y,g)){let v=qh[y];jy(e,t,v,g),u&&!(v in s.inputs)&&Vy(e,h,p,y,g,v)}}}function DE(e,t,n){let r=n.\u0275interopControl,i=Uh(t),o=n.state(),a=(e.flags&8192)!==0,s=a?It(e,t):null,c=t[_e],l=o.value();Za(i,Hy,l)&&U(()=>r.writeValue(l));for(let d of By){let u=o[d]?.();if(Za(i,d,u)){let p=qh[d],h=jy(e,t,p,u);d===C5?r.setDisabledState&&U(()=>r.setDisabledState(u)):a&&!h&&Vy(e,c,s,d,u,p)}}}function EE(e,t,n){let r=It(e,t),i=t[_e],o=n.state(),a=Uh(t),s=o.controlValue();Za(a,Hy,s)&&RE(r,s);for(let c of By){let l=o[c]?.();if(Za(a,c,l)){let d=qh[c];Vy(e,i,r,c,l,d),jy(e,t,d,l)}}}function jy(e,t,n,r){let i=e.inputs?.[n];if(i){let o=De();for(let a of i){let s=o.data[a],c=t[a];Gc(s,c,n,r)}return!0}return!1}function Vy(e,t,n,r,i,o){switch(r){case jE:t.setAttribute(n,o,i);break;case C5:case VE:case HE:zE(t,n,o,i);break;case OE:case NE:e.flags&16384&&y4(t,n,o,i);break;case PE:case FE:e.flags&32768&&y4(t,n,o,i);break}}function b5(e){return e===null||e instanceof Date}function AE(e){if(!e.attrs||e.value!=="input")return!1;for(let t=0;t<e.attrs.length;t+=2){let n=e.attrs[t];if(K2(n))break;if(n==="type"){let r=e.attrs[t+1];return r==="date"||r==="datetime-local"||r==="month"||r==="number"||r==="range"||r==="time"||r==="week"}}return!1}function TE(e){return e.value!=="select"}function LE(e,t){switch(e.type){case"checkbox":return e.checked;case"number":case"range":case"datetime-local":if(typeof t()=="number")return e.valueAsNumber;break;case"date":case"month":case"time":case"week":let n=t();if(b5(n))return e.valueAsDate;if(typeof n=="number")return e.valueAsNumber;break}return e.value}function RE(e,t){switch(e.type){case"checkbox":e.checked=t;return;case"radio":e.checked=t===e.value;return;case"number":case"range":case"datetime-local":if(typeof t=="number"){f4(e,t);return}break;case"date":case"month":case"time":case"week":if(b5(t)){e.valueAsDate=t;return}else if(typeof t=="number"){f4(e,t);return}}e.value=t}function f4(e,t){isNaN(t)?e.value="":e.valueAsNumber=t}var C5=Y({disabled:Y}),OE=Y({max:Y}),PE=Y({maxLength:Y}),NE=Y({min:Y}),FE=Y({minLength:Y}),jE=Y({name:Y}),VE=Y({readonly:Y}),HE=Y({required:Y}),Hy=Y({controlValue:Y}),qh={disabled:"disabled",disabledReasons:"disabledReasons",dirty:"dirty",errors:"errors",hidden:"hidden",invalid:"invalid",max:"max",maxLength:"maxLength",min:"min",minLength:"minLength",name:"name",pattern:"pattern",pending:"pending",readonly:"readonly",required:"required",touched:"touched"},By=Object.keys(qh);function Uh(e){let t=Y0(),n=e[t];return n===At&&(n=e[t]={}),n}function Za(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function BE(e,t,n){let r=e[t];return Object.is(r,n)?!1:(e[t]=n,!0)}function zE(e,t,n,r){r?e.setAttribute(t,n,""):e.removeAttribute(t,n)}function y4(e,t,n,r){r!==void 0?e.setAttribute(t,n,r.toString()):e.removeAttribute(t,n)}var j2=class{destroy(t){}updateValue(t,n){}swap(t,n){let r=Math.min(t,n),i=Math.max(t,n),o=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,o),this.attach(i,a)}else this.attach(r,o)}move(t,n){this.attach(n,this.detach(t))}};function d2(e,t,n,r,i){return e===n&&Object.is(t,r)?1:Object.is(i(e,t),i(n,r))?-1:0}function qE(e,t,n,r){let i,o,a=0,s=e.length-1,c=void 0;if(Array.isArray(t)){B(r);let l=t.length-1;for(B(null);a<=s&&a<=l;){let d=e.at(a),u=t[a],p=d2(a,d,a,u,n);if(p!==0){p<0&&e.updateValue(a,u),a++;continue}let h=e.at(s),y=t[l],g=d2(s,h,l,y,n);if(g!==0){g<0&&e.updateValue(s,y),s--,l--;continue}let v=n(a,d),k=n(s,h),A=n(a,u);if(Object.is(A,k)){let I=n(l,y);Object.is(I,v)?(e.swap(a,s),e.updateValue(s,y),l--,s--):e.move(s,a),e.updateValue(a,u),a++;continue}if(i??=new Mh,o??=m4(e,a,s,n),V2(e,i,a,A))e.updateValue(a,u),a++,s++;else if(o.has(A))i.set(v,e.detach(a)),s--;else{let I=e.create(a,t[a]);e.attach(a,I),a++,s++}}for(;a<=l;)g4(e,i,n,a,t[a]),a++}else if(t!=null){B(r);let l=t[Symbol.iterator]();B(null);let d=l.next();for(;!d.done&&a<=s;){let u=e.at(a),p=d.value,h=d2(a,u,a,p,n);if(h!==0)h<0&&e.updateValue(a,p),a++,d=l.next();else{i??=new Mh,o??=m4(e,a,s,n);let y=n(a,p);if(V2(e,i,a,y))e.updateValue(a,p),a++,s++,d=l.next();else if(!o.has(y))e.attach(a,e.create(a,p)),a++,s++,d=l.next();else{let g=n(a,u);i.set(g,e.detach(a)),s--}}}for(;!d.done;)g4(e,i,n,e.length,d.value),d=l.next()}for(;a<=s;)e.destroy(e.detach(s--));i?.forEach(l=>{e.destroy(l)})}function V2(e,t,n,r){return t!==void 0&&t.has(r)?(e.attach(n,t.get(r)),t.delete(r),!0):!1}function g4(e,t,n,r,i){if(V2(e,t,r,n(r,i)))e.updateValue(r,i);else{let o=e.create(r,i);e.attach(r,o)}}function m4(e,t,n,r){let i=new Set;for(let o=t;o<=n;o++)i.add(r(o,e.at(o)));return i}var Mh=class{kvMap=new Map;_vMap=void 0;has(t){return this.kvMap.has(t)}delete(t){if(!this.has(t))return!1;let n=this.kvMap.get(t);return this._vMap!==void 0&&this._vMap.has(n)?(this.kvMap.set(t,this._vMap.get(n)),this._vMap.delete(n)):this.kvMap.delete(t),!0}get(t){return this.kvMap.get(t)}set(t,n){if(this.kvMap.has(t)){let r=this.kvMap.get(t);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,n)}else this.kvMap.set(t,n)}forEach(t){for(let[n,r]of this.kvMap)if(t(r,n),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),t(r,n)}}};function ln(e,t,n,r,i,o,a,s){Jt("NgControlFlow");let c=P(),l=De(),d=Rn(l.consts,o);return Jc(c,l,e,t,n,r,i,d,256,a,s),zy}function zy(e,t,n,r,i,o,a,s){Jt("NgControlFlow");let c=P(),l=De(),d=Rn(l.consts,o);return Jc(c,l,e,t,n,r,i,d,512,a,s),zy}function dn(e,t){Jt("NgControlFlow");let n=P(),r=Xn(),i=n[r]!==At?n[r]:-1,o=i!==-1?wh(n,Ge+i):void 0,a=0;if(Qt(n,r,e)){let s=B(null);try{if(o!==void 0&&zw(o,a),e!==-1){let c=Ge+e,l=wh(n,c),d=q2(n[q],c),u=Uw(l,d,n),p=al(n,d,t,{dehydratedView:u});sl(l,p,a,Ga(d,u))}}finally{B(s)}}else if(o!==void 0){let s=Bw(o,a);s!==void 0&&(s[rt]=t)}}var H2=class{lContainer;$implicit;$index;constructor(t,n,r){this.lContainer=t,this.$implicit=n,this.$index=r}get $count(){return this.lContainer.length-it}};function UE(e){return e}function $E(e,t){return t}var B2=class{hasEmptyBlock;trackByFn;liveCollection;constructor(t,n,r){this.hasEmptyBlock=t,this.trackByFn=n,this.liveCollection=r}};function hl(e,t,n,r,i,o,a,s,c,l,d,u,p){Jt("NgControlFlow");let h=P(),y=De(),g=c!==void 0,v=P(),k=s?a.bind(v[Ht][rt]):a,A=new B2(g,k);v[Ge+e]=A,Jc(h,y,e+1,t,n,r,i,Rn(y.consts,o),256),g&&Jc(h,y,e+2,c,l,d,u,Rn(y.consts,p),512)}var z2=class extends j2{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(t,n,r){super(),this.lContainer=t,this.hostLView=n,this.templateTNode=r}get length(){return this.lContainer.length-it}at(t){return this.getLView(t)[rt].$implicit}attach(t,n){let r=n[Co];this.needsIndexUpdate||=t!==this.length,sl(this.lContainer,n,t,Ga(this.templateTNode,r)),WE(this.lContainer,t)}detach(t){return this.needsIndexUpdate||=t!==this.length-1,GE(this.lContainer,t),KE(this.lContainer,t)}create(t,n){let r=uh(this.lContainer,this.templateTNode.tView.ssrId);return al(this.hostLView,this.templateTNode,new H2(this.lContainer,n,t),{dehydratedView:r})}destroy(t){Lh(t[q],t)}updateValue(t,n){this.getLView(t)[rt].$implicit=n}reset(){this.needsIndexUpdate=!1}updateIndexes(){if(this.needsIndexUpdate)for(let t=0;t<this.length;t++)this.getLView(t)[rt].$index=t}getLView(t){return ZE(this.lContainer,t)}};function pl(e){let t=B(null),n=Ir();try{let r=P(),i=r[q],o=r[n],a=n+1,s=wh(r,a);if(o.liveCollection===void 0){let l=q2(i,a);o.liveCollection=new z2(s,r,l)}else o.liveCollection.reset();let c=o.liveCollection;if(qE(c,e,o.trackByFn,t),c.updateIndexes(),o.hasEmptyBlock){let l=Xn(),d=c.length===0;if(Qt(r,l,d)){let u=n+2,p=wh(r,u);if(d){let h=q2(i,u),y=Uw(p,h,r),g=al(r,h,void 0,{dehydratedView:y});sl(p,g,0,Ga(h,y))}else i.firstUpdatePass&&tD(p),zw(p,0)}}}finally{B(t)}}function wh(e,t){return e[t]}function WE(e,t){if(e.length<=it)return;let n=it+t,r=e[n],i=r?r[Yr]:void 0;if(r&&i&&i.detachedLeaveAnimationFns&&i.detachedLeaveAnimationFns.length>0){let o=r[Yt];lx(o,i),Ni.delete(r[_r]),i.detachedLeaveAnimationFns=void 0}}function GE(e,t){if(e.length<=it)return;let n=it+t,r=e[n],i=r?r[Yr]:void 0;i&&i.leave&&i.leave.size>0&&(i.detachedLeaveAnimationFns=[])}function KE(e,t){return Xc(e,t)}function ZE(e,t){return Bw(e,t)}function q2(e,t){return Nc(e,t)}function Je(e,t,n){let r=P(),i=Xn();if(Qt(r,i,t)){let o=De(),a=Ao();gy(a,r,e,t,r[_e],n)}return Je}function U2(e,t,n,r,i){My(t,e,n,i?"class":"style",r)}function L(e,t,n,r){let i=P(),o=i[q],a=e+Ge,s=o.firstCreatePass?Cy(a,i,2,t,my,ju(),n,r):o.data[a];if(vy(s,i,e,t,_5),Pa(s)){let c=i[q];Oh(c,i,s),Q2(c,s,i)}return r!=null&&ol(i,s),L}function V(){let e=De(),t=ot(),n=ky(t);return e.firstCreatePass&&_y(e,n),$0(n)&&W0(),q0(),n.classesWithoutHost!=null&&zS(n)&&U2(e,n,P(),n.classesWithoutHost,!0),n.stylesWithoutHost!=null&&qS(n)&&U2(e,n,P(),n.stylesWithoutHost,!1),V}function $e(e,t,n,r){return L(e,t,n,r),V(),$e}function Bi(e,t,n,r){let i=P(),o=i[q],a=e+Ge,s=o.firstCreatePass?yD(a,o,2,t,n,r):o.data[a];return vy(s,i,e,t,_5),r!=null&&ol(i,s),Bi}function zi(){let e=ot(),t=ky(e);return $0(t)&&W0(),q0(),zi}function qy(e,t,n,r){return Bi(e,t,n,r),zi(),qy}var _5=(e,t,n,r,i)=>(Vc(!0),iw(t[_e],r,IM()));function Fo(e,t,n){let r=P(),i=r[q],o=e+Ge,a=i.firstCreatePass?Cy(o,r,8,"ng-container",my,ju(),t,n):i.data[o];if(vy(a,r,e,"ng-container",XE),Pa(a)){let s=r[q];Oh(s,r,a),Q2(s,a,r)}return n!=null&&ol(r,a),Fo}function jo(){let e=De(),t=ot(),n=ky(t);return e.firstCreatePass&&_y(e,n),jo}function Rr(e,t,n){return Fo(e,t,n),jo(),Rr}var XE=(e,t,n,r,i)=>(Vc(!0),PI(t[_e],""));function Lt(){return P()}function is(e,t,n){let r=P(),i=Xn();if(Qt(r,i,t)){let o=De(),a=Ao();Aw(a,r,e,t,r[_e],n)}return is}var zc=void 0;function YE(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return t===1&&n===0?1:5}var QE=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zc,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zc,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm\u202Fa","h:mm:ss\u202Fa","h:mm:ss\u202Fa z","h:mm:ss\u202Fa zzzz"],["{1}, {0}",zc,zc,zc],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",YE],$c={};function Uy(e,t,n){typeof t!="string"&&(n=t,t=e[Ke.LocaleId]),t=t.toLowerCase().replace(/_/g,"-"),$c[t]=e,n&&($c[t][Ke.ExtraData]=n)}function en(e){let t=JE(e),n=v4(t);if(n)return n;let r=t.split("-")[0];if(n=v4(r),n)return n;if(r==="en")return QE;throw new b(701,!1)}function v4(e){return e in $c||($c[e]=En.ng&&En.ng.common&&En.ng.common.locales&&En.ng.common.locales[e]),$c[e]}var Ke=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(Ke||{});function JE(e){return e.toLowerCase().replace(/_/g,"-")}var fl="en-US",e7="USD";var t7=fl;function S5(e){typeof e=="string"&&(t7=e.toLowerCase().replace(/_/g,"-"))}function Ce(e,t,n){let r=P(),i=De(),o=ot();return I5(i,r,r[_e],o,e,t,n),Ce}function $h(e,t,n){let r=P(),i=De(),o=ot();return(o.type&3||n)&&ph(o,i,r,n,r[_e],e,t,Pi(o,r,t)),$h}function I5(e,t,n,r,i,o,a){let s=!0,c=null;if((r.type&3||a)&&(c??=Pi(r,t,o),ph(r,e,t,a,n,i,o,c)&&(s=!1)),s){let l=r.outputs?.[i],d=r.hostDirectiveOutputs?.[i];if(d&&d.length)for(let u=0;u<d.length;u+=2){let p=d[u],h=d[u+1];c??=Pi(r,t,o),fh(r,t,p,h,i,c)}if(l&&l.length)for(let u of l)c??=Pi(r,t,o),fh(r,t,u,i,i,c)}}function ne(e=1){return SM(e)}function n7(e,t){let n=null,r=WI(e);for(let i=0;i<t.length;i++){let o=t[i];if(o==="*"){n=i;continue}if(r===null?pw(e,o,!0):ZI(r,o))return i}return n}function vn(e){let t=P()[Ht][Xt];if(!t.projection){let n=e?e.length:1,r=t.projection=Jk(n,null),i=r.slice(),o=t.child;for(;o!==null;){if(o.type!==128){let a=e?n7(o,e):0;a!==null&&(i[a]?i[a].projectionNext=o:r[a]=o,i[a]=o)}o=o.next}}}function zt(e,t=0,n,r,i,o){let a=P(),s=De(),c=r?e+1:null;c!==null&&Jc(a,s,c,r,i,o,null,n);let l=ts(s,Ge+e,16,null,n||null);l.projection===null&&(l.projection=t),Z0();let u=!a[Co]||U0();a[Ht][Xt].projection[l.projection]===null&&c!==null?r7(a,s,c):u&&!Ih(l)&&Mx(s,a,l)}function r7(e,t,n){let r=Ge+n,i=t.data[r],o=e[r],a=uh(o,i.tView.ssrId),s=al(e,i,void 0,{dehydratedView:a});sl(o,s,0,Ga(i,a))}function os(e,t,n,r){return n5(e,t,n,r),os}function Vo(e,t,n){return t5(e,t,n),Vo}function Or(e){let t=P(),n=De(),r=Bu();jc(r+1);let i=Iy(n,r);if(e.dirty&&lM(t)===((i.metadata.flags&2)===2)){if(i.matches===null)e.reset([]);else{let o=i5(t,r);e.reset(o,H4),e.notifyOnChanges()}return!0}return!1}function Pr(){return Sy(P(),Bu())}function x5(e,t,n,r,i){return o5(t,n5(e,n,r,i)),x5}function On(e,t,n,r){return o5(e,t5(t,n,r)),On}function rr(e=1){jc(Bu()+e)}function ut(e){let t=gM();return Pu(t,Ge+e)}function Yu(e,t){return e<<17|t<<2}function No(e){return e>>17&32767}function i7(e){return(e&2)==2}function o7(e,t){return e&131071|t<<17}function $2(e){return e|2}function Xa(e){return(e&131068)>>2}function u2(e,t){return e&-131069|t<<2}function a7(e){return(e&1)===1}function W2(e){return e|1}function s7(e,t,n,r,i,o){let a=o?t.classBindings:t.styleBindings,s=No(a),c=Xa(a);e[r]=n;let l=!1,d;if(Array.isArray(n)){let u=n;d=u[1],(d===null||Ta(u,d)>0)&&(l=!0)}else d=n;if(i)if(c!==0){let p=No(e[s+1]);e[r+1]=Yu(p,s),p!==0&&(e[p+1]=u2(e[p+1],r)),e[s+1]=o7(e[s+1],r)}else e[r+1]=Yu(s,0),s!==0&&(e[s+1]=u2(e[s+1],r)),s=r;else e[r+1]=Yu(c,0),s===0?s=r:e[c+1]=u2(e[c+1],r),c=r;l&&(e[r+1]=$2(e[r+1])),k4(e,d,r,!0),k4(e,d,r,!1),c7(t,d,e,r,o),a=Yu(s,c),o?t.classBindings=a:t.styleBindings=a}function c7(e,t,n,r,i){let o=i?e.residualClasses:e.residualStyles;o!=null&&typeof t=="string"&&Ta(o,t)>=0&&(n[r+1]=W2(n[r+1]))}function k4(e,t,n,r){let i=e[n+1],o=t===null,a=r?No(i):Xa(i),s=!1;for(;a!==0&&(s===!1||o);){let c=e[a],l=e[a+1];l7(c,t)&&(s=!0,e[a+1]=r?W2(l):$2(l)),a=r?No(l):Xa(l)}s&&(e[n+1]=r?$2(i):W2(i))}function l7(e,t){return e===null||t==null||(Array.isArray(e)?e[1]:e)===t?!0:Array.isArray(e)&&typeof t=="string"?Ta(e,t)>=0:!1}var wt={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function D5(e){return e.substring(wt.key,wt.keyEnd)}function d7(e){return e.substring(wt.value,wt.valueEnd)}function u7(e){return T5(e),E5(e,Ya(e,0,wt.textEnd))}function E5(e,t){let n=wt.textEnd;return n===t?-1:(t=wt.keyEnd=p7(e,wt.key=t,n),Ya(e,t,n))}function h7(e){return T5(e),A5(e,Ya(e,0,wt.textEnd))}function A5(e,t){let n=wt.textEnd,r=wt.key=Ya(e,t,n);return n===r?-1:(r=wt.keyEnd=f7(e,r,n),r=M4(e,r,n,58),r=wt.value=Ya(e,r,n),r=wt.valueEnd=y7(e,r,n),M4(e,r,n,59))}function T5(e){wt.key=0,wt.keyEnd=0,wt.value=0,wt.valueEnd=0,wt.textEnd=e.length}function Ya(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function p7(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}function f7(e,t,n){let r;for(;t<n&&((r=e.charCodeAt(t))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)t++;return t}function M4(e,t,n,r){return t=Ya(e,t,n),t<n&&t++,t}function y7(e,t,n){let r=-1,i=-1,o=-1,a=t,s=a;for(;a<n;){let c=e.charCodeAt(a++);if(c===59)return s;c===34||c===39?s=a=w4(e,c,a,n):t===a-4&&o===85&&i===82&&r===76&&c===40?s=a=w4(e,41,a,n):c>32&&(s=a),o=i,i=r,r=c&-33}return s}function w4(e,t,n,r){let i=-1,o=n;for(;o<r;){let a=e.charCodeAt(o++);if(a==t&&i!==92)return o;a==92&&i===92?i=0:i=a}throw new Error}function Ho(e,t,n){return L5(e,t,n,!1),Ho}function Ee(e,t){return L5(e,t,null,!0),Ee}function g7(e){R5(N5,m7,e,!1)}function m7(e,t){for(let n=h7(t);n>=0;n=A5(t,n))N5(e,D5(t),d7(t))}function kn(e){R5(_7,v7,e,!0)}function v7(e,t){for(let n=u7(t);n>=0;n=E5(t,n))Rc(e,D5(t),!0)}function L5(e,t,n,r){let i=P(),o=De(),a=Vu(2);if(o.firstUpdatePass&&P5(o,e,a,r),t!==At&&Qt(i,a,t)){let s=o.data[Ir()];F5(o,s,i,i[_e],e,i[a+1]=I7(t,n),r,a)}}function R5(e,t,n,r){let i=De(),o=Vu(2);i.firstUpdatePass&&P5(i,null,o,r);let a=P();if(n!==At&&Qt(a,o,n)){let s=i.data[Ir()];if(j5(s,r)&&!O5(i,o)){let c=r?s.classesWithoutHost:s.stylesWithoutHost;c!==null&&(n=xu(c,n||"")),U2(i,s,a,n,r)}else S7(i,s,a,a[_e],a[o+1],a[o+1]=C7(e,t,n),r,o)}}function O5(e,t){return t>=e.expandoStartIndex}function P5(e,t,n,r){let i=e.data;if(i[n+1]===null){let o=i[Ir()],a=O5(e,n);j5(o,r)&&t===null&&!a&&(t=!1),t=k7(i,o,t,r),s7(i,o,t,n,a,r)}}function k7(e,t,n,r){let i=wM(e),o=r?t.residualClasses:t.residualStyles;if(i===null)(r?t.classBindings:t.styleBindings)===0&&(n=h2(null,e,t,n,r),n=el(n,t.attrs,r),o=null);else{let a=t.directiveStylingLast;if(a===-1||e[a]!==i)if(n=h2(i,e,t,n,r),o===null){let c=M7(e,t,r);c!==void 0&&Array.isArray(c)&&(c=h2(null,e,t,c[1],r),c=el(c,t.attrs,r),w7(e,t,r,c))}else o=b7(e,t,r)}return o!==void 0&&(r?t.residualClasses=o:t.residualStyles=o),n}function M7(e,t,n){let r=n?t.classBindings:t.styleBindings;if(Xa(r)!==0)return e[No(r)]}function w7(e,t,n,r){let i=n?t.classBindings:t.styleBindings;e[No(i)]=r}function b7(e,t,n){let r,i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++){let a=e[o].hostAttrs;r=el(r,a,n)}return el(r,t.attrs,n)}function h2(e,t,n,r,i){let o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(s===-1?s=n.directiveStart:s++;s<a&&(o=t[s],r=el(r,o.hostAttrs,i),o!==e);)s++;return e!==null&&(n.directiveStylingLast=s),r}function el(e,t,n){let r=n?1:2,i=-1;if(t!==null)for(let o=0;o<t.length;o++){let a=t[o];typeof a=="number"?i=a:i===r&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Rc(e,a,n?!0:t[++o]))}return e===void 0?null:e}function C7(e,t,n){if(n==null||n==="")return Vt;let r=[],i=gn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if(typeof i=="object")for(let o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else typeof i=="string"&&t(r,i);return r}function N5(e,t,n){Rc(e,t,gn(n))}function _7(e,t,n){let r=String(t);r!==""&&!r.includes(" ")&&Rc(e,r,n)}function S7(e,t,n,r,i,o,a,s){i===At&&(i=Vt);let c=0,l=0,d=0<i.length?i[0]:null,u=0<o.length?o[0]:null;for(;d!==null||u!==null;){let p=c<i.length?i[c+1]:void 0,h=l<o.length?o[l+1]:void 0,y=null,g;d===u?(c+=2,l+=2,p!==h&&(y=u,g=h)):u===null||d!==null&&d<u?(c+=2,y=d):(l+=2,y=u,g=h),y!==null&&F5(e,t,n,r,y,g,a,s),d=c<i.length?i[c]:null,u=l<o.length?o[l]:null}}function F5(e,t,n,r,i,o,a,s){if(!(t.type&3))return;let c=e.data,l=c[s+1],d=a7(l)?b4(c,t,n,i,Xa(l),a):void 0;if(!bh(d)){bh(o)||i7(l)&&(o=b4(c,null,n,i,s,a));let u=P0(Ir(),n);bx(r,a,u,i,o)}}function b4(e,t,n,r,i,o){let a=t===null,s;for(;i>0;){let c=e[i],l=Array.isArray(c),d=l?c[1]:c,u=d===null,p=n[i+1];p===At&&(p=u?Vt:void 0);let h=u?Ru(p,r):d===r?p:void 0;if(l&&!bh(h)&&(h=Ru(c,r)),bh(h)&&(s=h,a))return s;let y=e[i+1];i=a?No(y):Xa(y)}if(t!==null){let c=o?t.residualClasses:t.residualStyles;c!=null&&(s=Ru(c,r))}return s}function bh(e){return e!==void 0}function I7(e,t){return e==null||e===""||(typeof t=="string"?e=e+t:typeof e=="object"&&(e=Zr(gn(e)))),e}function j5(e,t){return(e.flags&(t?8:16))!==0}function Ze(e,t=""){let n=P(),r=De(),i=e+Ge,o=r.firstCreatePass?ts(r,i,1,t,null):r.data[i],a=x7(r,n,o,t,e);n[i]=a,$u()&&fy(r,n,a,o),Fa(o,!1)}var x7=(e,t,n,r,i)=>(Vc(!0),RI(t[_e],r));function D7(e,t,n,r=""){return Qt(e,Xn(),n)?t+Ai(n)+r:At}function E7(e,t,n,r,i,o=""){let a=Y0(),s=Yc(e,a,n,i);return Vu(2),s?t+Ai(n)+r+Ai(i)+o:At}function Wh(e){return xt("",e),Wh}function xt(e,t,n){let r=P(),i=D7(r,e,t,n);return i!==At&&H5(r,Ir(),i),xt}function V5(e,t,n,r,i){let o=P(),a=E7(o,e,t,n,r,i);return a!==At&&H5(o,Ir(),a),V5}function H5(e,t,n){let r=P0(t,e);OI(e[_e],r,n)}function Gh(e,t,n){Ty(t)&&(t=t());let r=P(),i=Xn();if(Qt(r,i,t)){let o=De(),a=Ao();gy(a,r,e,t,r[_e],n)}return Gh}function $y(e,t){let n=Ty(e);return n&&e.set(t),n}function Kh(e,t){let n=P(),r=De(),i=ot();return I5(r,n,n[_e],i,e,t),Kh}function A7(e){return Qt(P(),Xn(),e)?Ai(e):At}function C4(e,t,n){let r=De();r.firstCreatePass&&B5(t,r.data,r.blueprint,Zn(e),n)}function B5(e,t,n,r,i){if(e=kt(e),Array.isArray(e))for(let o=0;o<e.length;o++)B5(e[o],t,n,r,i);else{let o=De(),a=P(),s=ot(),c=Mo(e)?e:kt(e.provide),l=E0(e),d=s.providerIndexes&1048575,u=s.directiveStart,p=s.providerIndexes>>20;if(Mo(e)||!e.multi){let h=new Po(l,i,F,null),y=f2(c,t,i?d:d+p,u);y===-1?(g2(ah(s,a),o,c),p2(o,e,t.length),t.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(h),a.push(h)):(n[y]=h,a[y]=h)}else{let h=f2(c,t,d+p,u),y=f2(c,t,d,d+p),g=h>=0&&n[h],v=y>=0&&n[y];if(i&&!v||!i&&!g){g2(ah(s,a),o,c);let k=R7(i?L7:T7,n.length,i,r,l,e);!i&&v&&(n[y].providerFactory=k),p2(o,e,t.length,0),t.push(c),s.directiveStart++,s.directiveEnd++,i&&(s.providerIndexes+=1048576),n.push(k),a.push(k)}else{let k=z5(n[i?y:h],l,!i&&r);p2(o,e,h>-1?h:y,k)}!i&&r&&v&&n[y].componentProviders++}}}function p2(e,t,n,r){let i=Mo(t),o=oM(t);if(i||o){let c=(o?kt(t.useClass):t).prototype.ngOnDestroy;if(c){let l=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){let d=l.indexOf(n);d===-1?l.push(n,[r,c]):l[d+1].push(r,c)}else l.push(n,c)}}}function z5(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function f2(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function T7(e,t,n,r,i){return G2(this.multi,[])}function L7(e,t,n,r,i){let o=this.multi,a;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=Wc(r,r[q],this.providerFactory.index,i);a=c.slice(0,s),G2(o,a);for(let l=s;l<c.length;l++)a.push(c[l])}else a=[],G2(o,a);return a}function G2(e,t){for(let n=0;n<e.length;n++){let r=e[n];t.push(r())}return t}function R7(e,t,n,r,i,o){let a=new Po(e,n,F,null);return a.multi=[],a.index=t,a.componentProviders=0,z5(a,i,r&&!n),a}function qt(e,t){return n=>{n.providersResolver=(r,i)=>C4(r,i?i(e):e,!1),t&&(n.viewProvidersResolver=(r,i)=>C4(r,i?i(t):t,!0))}}function Zh(e,t){let n=Ri()+e,r=P();return r[n]===At?ll(r,n,t()):gD(r,n)}function Wy(e,t,n){return q5(P(),Ri(),e,t,n)}function yl(e,t,n,r){return U5(P(),Ri(),e,t,n,r)}function O7(e,t,n,r,i){return N7(P(),Ri(),e,t,n,r,i)}function P7(e,t,n,r,i,o,a){return F7(P(),Ri(),e,t,n,r,i,o)}function Xh(e,t){let n=e[t];return n===At?void 0:n}function q5(e,t,n,r,i,o){let a=t+n;return Qt(e,a,i)?ll(e,a+1,o?r.call(o,i):r(i)):Xh(e,a+1)}function U5(e,t,n,r,i,o,a){let s=t+n;return Yc(e,s,i,o)?ll(e,s+2,a?r.call(a,i,o):r(i,o)):Xh(e,s+2)}function N7(e,t,n,r,i,o,a,s){let c=t+n;return mD(e,c,i,o,a)?ll(e,c+3,s?r.call(s,i,o,a):r(i,o,a)):Xh(e,c+3)}function F7(e,t,n,r,i,o,a,s,c){let l=t+n;return vD(e,l,i,o,a,s)?ll(e,l+4,c?r.call(c,i,o,a,s):r(i,o,a,s)):Xh(e,l+4)}function Mn(e,t){let n=De(),r,i=e+Ge;n.firstCreatePass?(r=j7(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=xi(r.type,!0)),a,s=Zt(F);try{let c=oh(!1),l=o();return oh(c),N0(n,P(),i,l),l}finally{Zt(s)}}function j7(e,t){if(t)for(let n=t.length-1;n>=0;n--){let r=t[n];if(e===r.name)return r}}function Pn(e,t,n){let r=e+Ge,i=P(),o=Pu(i,r);return $5(i,r)?q5(i,Ri(),t,o.transform,n,o):o.transform(n)}function Gy(e,t,n,r){let i=e+Ge,o=P(),a=Pu(o,i);return $5(o,i)?U5(o,Ri(),t,a.transform,n,r,a):a.transform(n,r)}function $5(e,t){return e[q].data[t].pure}function Bo(e,t){return Ph(e,t)}var Ch=class{ngModuleFactory;componentFactories;constructor(t,n){this.ngModuleFactory=t,this.componentFactories=n}},Ky=(()=>{class e{compileModuleSync(n){return new kh(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=w0(n),o=uw(i.declarations).reduce((a,s)=>{let c=Mr(s);return c&&a.push(new ji(c)),a},[]);return new Ch(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var W5=(()=>{class e{applicationErrorHandler=f(on);appRef=f(mn);taskService=f(Jr);ngZone=f(be);zonelessEnabled=f(Bc);tracing=f(Ar,{optional:!0});zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new je;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ec):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(f(i2,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{let n=this.taskService.add();if(!this.runningTick&&(this.cleanup(),!this.zonelessEnabled||this.appRef.includeAllTestViews)){this.taskService.remove(n);return}this.switchToMicrotaskScheduler(),this.taskService.remove(n)})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()}))}switchToMicrotaskScheduler(){this.ngZone.runOutsideAngular(()=>{let n=this.taskService.add();this.useMicrotaskScheduler=!0,queueMicrotask(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})})}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2;break}case 12:{this.appRef.dirtyFlags|=16;break}case 13:{this.appRef.dirtyFlags|=2;break}case 11:break;default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?AM:t2;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ec+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){this.applicationErrorHandler(r)}finally{this.taskService.remove(n),this.cleanup()}}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function V7(){return Jt("NgZoneless"),wr([...Zy(),[]])}function Zy(){return[{provide:kr,useExisting:W5},{provide:be,useClass:Ac},{provide:Bc,useValue:!0}]}function H7(){return typeof $localize<"u"&&$localize.locale||fl}var zo=new C("",{factory:()=>f(zo,{optional:!0,skipSelf:!0})||H7()}),Xy=new C("",{factory:()=>e7});var gl=class{destroyed=!1;listeners=null;errorHandler=f(Dn,{optional:!0});destroyRef=f(Ye);constructor(){this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(t){if(this.destroyed)throw new b(953,!1);return(this.listeners??=[]).push(t),{unsubscribe:()=>{let n=this.listeners?.indexOf(t);n!==void 0&&n!==-1&&this.listeners?.splice(n,1)}}}emit(t){if(this.destroyed){console.warn($n(953,!1));return}if(this.listeners===null)return;let n=B(null);try{for(let r of this.listeners)try{r(t)}catch(i){this.errorHandler?.handleError(i)}}finally{B(n)}}};function S(e,t){return yc(e,t?.equal)}var B7=e=>e;function qi(e,t){if(typeof e=="function"){let n=e0(e,B7,t?.equal);return G5(n,t?.debugName)}else{let n=e0(e.source,e.computation,e.equal);return G5(n,e.debugName)}}function G5(e,t){let n=e[qe],r=e;return r.set=i=>jk(n,i),r.update=i=>Vk(n,i),r.asReadonly=Hc.bind(e),r}var Jh=Symbol("InputSignalNode#UNSET"),tb=x(m({},gc),{transformFn:void 0,applyValueToInputSignal(e,t){wi(e,t)}});function nb(e,t){let n=Object.create(tb);n.value=e,n.transformFn=t?.transform;function r(){if(qr(n),n.value===Jh){let i=null;throw new b(-950,i)}return n.value}return r[qe]=n,r}var Qh=class{attributeName;constructor(t){this.attributeName=t}__NG_ELEMENT_ID__=()=>tl(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}};function un(e){return new gl}function K5(e,t){return nb(e,t)}function J7(e){return nb(Jh,e)}var ve=(K5.required=J7,K5);function Z5(e,t){return Dy(t)}function eA(e,t){return Ey(t)}var ir=(Z5.required=eA,Z5);function tg(e,t){return Ay(t)}function X5(e,t){return Dy(t)}function tA(e,t){return Ey(t)}var RY=(X5.required=tA,X5);function OY(e,t){return Ay(t)}function rb(e,t){let n=Object.create(tb),r=new gl;n.value=e;function i(){return qr(n),Y5(n.value),n.value}return i[qe]=n,i.asReadonly=Hc.bind(i),i.set=o=>{n.equal(n.value,o)||(wi(n,o),r.emit(o))},i.update=o=>{Y5(n.value),i.set(o(n.value))},i.subscribe=r.subscribe.bind(r),i.destroyRef=r.destroyRef,i}function Y5(e){if(e===Jh)throw new b(952,!1)}function Q5(e,t){return rb(e,t)}function nA(e){return rb(Jh,e)}var e1=(Q5.required=nA,Q5);var Qy=new C(""),rA=new C("");function ml(e){return!e.moduleRef}function iA(e){let t=ml(e)?e.r3Injector:e.moduleRef.injector,n=t.get(be);return n.run(()=>{ml(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let r=t.get(on),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:r})}),ml(e)){let o=()=>t.destroy(),a=e.platformInjector.get(Qy);a.add(o),t.onDestroy(()=>{i.unsubscribe(),a.delete(o)})}else{let o=()=>e.moduleRef.destroy(),a=e.platformInjector.get(Qy);a.add(o),e.moduleRef.onDestroy(()=>{Uc(e.allPlatformModules,e.moduleRef),i.unsubscribe(),a.delete(o)})}return aA(r,n,()=>{let o=t.get(Jr),a=o.add(),s=t.get(Oy);return s.runInitializers(),s.donePromise.then(()=>{let c=t.get(zo,fl);if(S5(c||fl),!t.get(rA,!0))return ml(e)?t.get(mn):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(ml(e)){let d=t.get(mn);return e.rootComponent!==void 0&&d.bootstrap(e.rootComponent),d}else return oA?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>{o.remove(a)})})})}var oA;function aA(e,t,n){try{let r=n();return Tr(r)?r.catch(i=>{throw t.runOutsideAngular(()=>e(i)),i}):r}catch(r){throw t.runOutsideAngular(()=>e(r)),r}}var Yh=null;function sA(e=[],t){return Q.create({name:t,providers:[{provide:Oc,useValue:"platform"},{provide:Qy,useValue:new Set([()=>Yh=null])},...e]})}function cA(e=[]){if(Yh)return Yh;let t=sA(e);return Yh=t,u5(),lA(t),t}function lA(e){let t=e.get(Sh,null);nt(e,()=>{t?.forEach(n=>n())})}var dA=1e4;var PY=dA-1e3;var Ut=(()=>{class e{static __NG_ELEMENT_ID__=uA}return e})();function uA(e){return hA(ot(),P(),(e&16)===16)}function hA(e,t,n){if(Qr(e)&&!n){let r=Ln(e.index,t);return new Fi(r,r)}else if(e.type&175){let r=t[Ht];return new Fi(r,t)}return null}function ib(e){let{rootComponent:t,appProviders:n,platformProviders:r,platformRef:i}=e;Le(Ie.BootstrapApplicationStart);try{let o=i?.injector??cA(r),a=[Zy(),LM,...n||[]],s=new Qc({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return iA({r3Injector:s.injector,platformInjector:o,rootComponent:t})}catch(o){return Promise.reject(o)}finally{Le(Ie.BootstrapApplicationEnd)}}function Rt(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function vl(e,t=NaN){return!isNaN(parseFloat(e))&&!isNaN(Number(e))?Number(e):t}var Yy=Symbol("NOT_SET"),ob=new Set,pA=x(m({},gc),{kind:"afterRenderEffectPhase",consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!0,value:Yy,cleanup:null,consumerMarkedDirty(){if(this.sequence.impl.executing){if(this.sequence.lastPhase===null||this.sequence.lastPhase<this.phase)return;this.sequence.erroredOrDestroyed=!0}this.sequence.scheduler.notify(7)},phaseFn(e){if(this.sequence.lastPhase=this.phase,!this.dirty)return this.signal;if(this.dirty=!1,this.value!==Yy&&!lo(this))return this.signal;try{for(let i of this.cleanup??ob)i()}finally{this.cleanup?.clear()}let t=[];e!==void 0&&t.push(e),t.push(this.registerCleanupFn);let n=fr(this),r;try{r=this.userFn.apply(null,t)}finally{Ur(this,n)}return(this.value===Yy||!this.equal(this.value,r))&&(this.value=r,this.version++),this.signal}}),Jy=class extends Kc{scheduler;lastPhase=null;nodes=[void 0,void 0,void 0,void 0];onDestroyFns=null;constructor(t,n,r,i,o,a=null){super(t,[void 0,void 0,void 0,void 0],r,!1,o.get(Ye),a),this.scheduler=i;for(let s of uy){let c=n[s];if(c===void 0)continue;let l=Object.create(pA);l.sequence=this,l.phase=s,l.userFn=c,l.dirty=!0,l.signal=()=>(qr(l),l.value),l.signal[qe]=l,l.registerCleanupFn=d=>(l.cleanup??=new Set).add(d),this.nodes[s]=l,this.hooks[s]=d=>l.phaseFn(d)}}afterRun(){super.afterRun(),this.lastPhase=null}destroy(){if(this.onDestroyFns!==null)for(let t of this.onDestroyFns)t();super.destroy();for(let t of this.nodes)if(t)try{for(let n of t.cleanup??ob)n()}finally{$r(t)}}};function NY(e,t){let n=t?.injector??f(Q),r=n.get(kr),i=n.get(Ah),o=n.get(Ar,null,{optional:!0});i.impl??=n.get(hy);let a=e;typeof a=="function"&&(a={mixedReadWrite:e});let s=n.get(ja,null,{optional:!0}),c=new Jy(i.impl,[a.earlyRead,a.write,a.mixedReadWrite,a.read],s?.view,r,n,o?.snapshot(null));return i.impl.register(c),c}function t1(e,t){let n=Mr(e),r=t.elementInjector||La();return new ji(n).create(r,t.projectableNodes,t.hostElement,t.environmentInjector,t.directives,t.bindings)}function ab(e){let t=Mr(e);if(!t)return null;let n=new ji(t);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return t.standalone},get isSignal(){return t.signals}}}var sb=null;function Nn(){return sb}function ng(e){sb??=e}var kl=class{},n1=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(cb),providedIn:"platform"})}return e})();var cb=(()=>{class e extends n1{_location;_history;_doc=f(oe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nn().getBaseHref(this._doc)}onPopState(n){let r=Nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Nn().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function ub(e,t){return e?t?e.endsWith("/")?t.startsWith("/")?e+t.slice(1):e+t:t.startsWith("/")?e+t:`${e}/${t}`:e:t}function lb(e){let t=e.search(/#|\?|$/);return e[t-1]==="/"?e.slice(0,t-1)+e.slice(t):e}function Ui(e){return e&&e[0]!=="?"?`?${e}`:e}var as=(()=>{class e{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(yA),providedIn:"root"})}return e})(),fA=new C(""),yA=(()=>{class e extends as{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??f(oe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return ub(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ui(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let a=this.prepareExternalUrl(i+Ui(o));this._platformLocation.pushState(n,r,a)}replaceState(n,r,i,o){let a=this.prepareExternalUrl(i+Ui(o));this._platformLocation.replaceState(n,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||e)(K(n1),K(fA,8))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$i=(()=>{class e{_subject=new z;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=vA(lb(db(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ui(r))}normalize(n){return e.stripTrailingSlash(mA(this._basePath,db(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ui(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ui;static joinWithSlash=ub;static stripTrailingSlash=lb;static \u0275fac=function(r){return new(r||e)(K(as))};static \u0275prov=M({token:e,factory:()=>gA(),providedIn:"root"})}return e})();function gA(){return new $i(K(as))}function mA(e,t){if(!e||!t.startsWith(e))return t;let n=t.substring(e.length);return n===""||["/",";","?","#"].includes(n[0])?n:t}function db(e){return e.replace(/\/index.html$/,"")}function vA(e){if(new RegExp("^(https?:)?//").test(e)){let[,n]=e.split(/\/\/[^\/]+/);return n}return e}var yb={ADP:[void 0,void 0,0],AFN:[void 0,"\u060B",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058F",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20BC"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09F3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xA5","\xA5"],COP:[void 0,"$",2],CRC:[void 0,"\u20A1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010D",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xA3"],ESP:[void 0,"\u20A7",0],EUR:["\u20AC"],FJD:[void 0,"$"],FKP:[void 0,"\xA3"],GBP:["\xA3"],GEL:[void 0,"\u20BE"],GHS:[void 0,"GH\u20B5"],GIP:[void 0,"\xA3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20AA"],INR:["\u20B9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xA5",void 0,0],KGS:[void 0,"\u20C0"],KHR:[void 0,"\u17DB"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20A9",0],KRW:["\u20A9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20B8"],LAK:[void 0,"\u20AD",0],LBP:[void 0,"L\xA3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20AE",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20A6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20B1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20B2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20BD"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xA3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xA3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xA3",0],THB:[void 0,"\u0E3F"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20BA"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20B4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20AB",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XCG:["Cg."],XOF:["F\u202FCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xA4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]},d1=(function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e})(d1||{});var $t=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})($t||{}),Ne=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(Ne||{}),hn=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(hn||{}),Ot={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function gb(e){return en(e)[Ke.LocaleId]}function mb(e,t,n){let r=en(e),i=[r[Ke.DayPeriodsFormat],r[Ke.DayPeriodsStandalone]],o=Fn(i,t);return Fn(o,n)}function vb(e,t,n){let r=en(e),i=[r[Ke.DaysFormat],r[Ke.DaysStandalone]],o=Fn(i,t);return Fn(o,n)}function kb(e,t,n){let r=en(e),i=[r[Ke.MonthsFormat],r[Ke.MonthsStandalone]],o=Fn(i,t);return Fn(o,n)}function Mb(e,t){let r=en(e)[Ke.Eras];return Fn(r,t)}function Ml(e,t){let n=en(e);return Fn(n[Ke.DateFormat],t)}function wl(e,t){let n=en(e);return Fn(n[Ke.TimeFormat],t)}function bl(e,t){let r=en(e)[Ke.DateTimeFormat];return Fn(r,t)}function ar(e,t){let n=en(e),r=n[Ke.NumberSymbols][t];if(typeof r>"u"){if(t===Ot.CurrencyDecimal)return n[Ke.NumberSymbols][Ot.Decimal];if(t===Ot.CurrencyGroup)return n[Ke.NumberSymbols][Ot.Group]}return r}function dg(e,t){return en(e)[Ke.NumberFormats][t]}function MA(e){return en(e)[Ke.Currencies]}function wb(e){if(!e[Ke.ExtraData])throw new b(2303,!1)}function bb(e){let t=en(e);return wb(t),(t[Ke.ExtraData][2]||[]).map(r=>typeof r=="string"?rg(r):[rg(r[0]),rg(r[1])])}function Cb(e,t,n){let r=en(e);wb(r);let i=[r[Ke.ExtraData][0],r[Ke.ExtraData][1]],o=Fn(i,t)||[];return Fn(o,n)||[]}function Fn(e,t){for(let n=t;n>-1;n--)if(typeof e[n]<"u")return e[n];throw new b(2304,!1)}function rg(e){let[t,n]=e.split(":");return{hours:+t,minutes:+n}}function _b(e,t,n="en"){let r=MA(n)[e]||yb[e]||[],i=r[1];return t==="narrow"&&typeof i=="string"?i:r[0]||e}var wA=2;function Sb(e){let t,n=yb[e];return n&&(t=n[2]),typeof t=="number"?t:wA}var bA=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,r1={},CA=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function Ib(e,t,n,r){let i=LA(e);t=ii(n,t)||t;let a=[],s;for(;t;)if(s=CA.exec(t),s){a=a.concat(s.slice(1));let d=a.pop();if(!d)break;t=d}else{a.push(t);break}let c=i.getTimezoneOffset();r&&(c=Db(r,c),i=TA(i,r));let l="";return a.forEach(d=>{let u=EA(d);l+=u?u(i,n,c):d==="''"?"'":d.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function c1(e,t,n){let r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function ii(e,t){let n=gb(e);if(r1[n]??={},r1[n][t])return r1[n][t];let r="";switch(t){case"shortDate":r=Ml(e,hn.Short);break;case"mediumDate":r=Ml(e,hn.Medium);break;case"longDate":r=Ml(e,hn.Long);break;case"fullDate":r=Ml(e,hn.Full);break;case"shortTime":r=wl(e,hn.Short);break;case"mediumTime":r=wl(e,hn.Medium);break;case"longTime":r=wl(e,hn.Long);break;case"fullTime":r=wl(e,hn.Full);break;case"short":let i=ii(e,"shortTime"),o=ii(e,"shortDate");r=i1(bl(e,hn.Short),[i,o]);break;case"medium":let a=ii(e,"mediumTime"),s=ii(e,"mediumDate");r=i1(bl(e,hn.Medium),[a,s]);break;case"long":let c=ii(e,"longTime"),l=ii(e,"longDate");r=i1(bl(e,hn.Long),[c,l]);break;case"full":let d=ii(e,"fullTime"),u=ii(e,"fullDate");r=i1(bl(e,hn.Full),[d,u]);break}return r&&(r1[n][t]=r),r}function i1(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(n,r){return t!=null&&r in t?t[r]:n})),e}function or(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=-e+1:(e=-e,o=n));let a=String(e);for(;a.length<t;)a="0"+a;return r&&(a=a.slice(a.length-t)),o+a}function _A(e,t){return or(e,3).substring(0,t)}function yt(e,t,n=0,r=!1,i=!1){return function(o,a){let s=SA(e,o);if((n>0||s>-n)&&(s+=n),e===3)s===0&&n===-12&&(s=12);else if(e===6)return _A(s,t);let c=ar(a,Ot.MinusSign);return or(s,t,c,r,i)}}function SA(e,t){switch(e){case 0:return t.getFullYear();case 1:return t.getMonth();case 2:return t.getDate();case 3:return t.getHours();case 4:return t.getMinutes();case 5:return t.getSeconds();case 6:return t.getMilliseconds();case 7:return t.getDay();default:throw new b(2301,!1)}}function We(e,t,n=$t.Format,r=!1){return function(i,o){return IA(i,o,e,t,n,r)}}function IA(e,t,n,r,i,o){switch(n){case 2:return kb(t,i,r)[e.getMonth()];case 1:return vb(t,i,r)[e.getDay()];case 0:let a=e.getHours(),s=e.getMinutes();if(o){let l=bb(t),d=Cb(t,i,r),u=l.findIndex(p=>{if(Array.isArray(p)){let[h,y]=p,g=a>=h.hours&&s>=h.minutes,v=a<y.hours||a===y.hours&&s<y.minutes;if(h.hours<y.hours){if(g&&v)return!0}else if(g||v)return!0}else if(p.hours===a&&p.minutes===s)return!0;return!1});if(u!==-1)return d[u]}return mb(t,i,r)[a<12?0:1];case 3:return Mb(t,r)[e.getFullYear()<=0?0:1];default:let c=n;throw new b(2302,!1)}}function o1(e){return function(t,n,r){let i=-1*r,o=ar(n,Ot.MinusSign),a=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case 0:return(i>=0?"+":"")+or(a,2,o)+or(Math.abs(i%60),2,o);case 1:return"GMT"+(i>=0?"+":"")+or(a,1,o);case 2:return"GMT"+(i>=0?"+":"")+or(a,2,o)+":"+or(Math.abs(i%60),2,o);case 3:return r===0?"Z":(i>=0?"+":"")+or(a,2,o)+":"+or(Math.abs(i%60),2,o);default:throw new b(2310,!1)}}}var xA=0,s1=4;function DA(e){let t=c1(e,xA,1).getDay();return c1(e,0,1+(t<=s1?s1:s1+7)-t)}function xb(e){let t=e.getDay(),n=t===0?-3:s1-t;return c1(e.getFullYear(),e.getMonth(),e.getDate()+n)}function ig(e,t=!1){return function(n,r){let i;if(t){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,a=n.getDate();i=1+Math.floor((a+o)/7)}else{let o=xb(n),a=DA(o.getFullYear()),s=o.getTime()-a.getTime();i=1+Math.round(s/6048e5)}return or(i,e,ar(r,Ot.MinusSign))}}function a1(e,t=!1){return function(n,r){let o=xb(n).getFullYear();return or(o,e,ar(r,Ot.MinusSign),t)}}var og={};function EA(e){if(og[e])return og[e];let t;switch(e){case"G":case"GG":case"GGG":t=We(3,Ne.Abbreviated);break;case"GGGG":t=We(3,Ne.Wide);break;case"GGGGG":t=We(3,Ne.Narrow);break;case"y":t=yt(0,1,0,!1,!0);break;case"yy":t=yt(0,2,0,!0,!0);break;case"yyy":t=yt(0,3,0,!1,!0);break;case"yyyy":t=yt(0,4,0,!1,!0);break;case"Y":t=a1(1);break;case"YY":t=a1(2,!0);break;case"YYY":t=a1(3);break;case"YYYY":t=a1(4);break;case"M":case"L":t=yt(1,1,1);break;case"MM":case"LL":t=yt(1,2,1);break;case"MMM":t=We(2,Ne.Abbreviated);break;case"MMMM":t=We(2,Ne.Wide);break;case"MMMMM":t=We(2,Ne.Narrow);break;case"LLL":t=We(2,Ne.Abbreviated,$t.Standalone);break;case"LLLL":t=We(2,Ne.Wide,$t.Standalone);break;case"LLLLL":t=We(2,Ne.Narrow,$t.Standalone);break;case"w":t=ig(1);break;case"ww":t=ig(2);break;case"W":t=ig(1,!0);break;case"d":t=yt(2,1);break;case"dd":t=yt(2,2);break;case"c":case"cc":t=yt(7,1);break;case"ccc":t=We(1,Ne.Abbreviated,$t.Standalone);break;case"cccc":t=We(1,Ne.Wide,$t.Standalone);break;case"ccccc":t=We(1,Ne.Narrow,$t.Standalone);break;case"cccccc":t=We(1,Ne.Short,$t.Standalone);break;case"E":case"EE":case"EEE":t=We(1,Ne.Abbreviated);break;case"EEEE":t=We(1,Ne.Wide);break;case"EEEEE":t=We(1,Ne.Narrow);break;case"EEEEEE":t=We(1,Ne.Short);break;case"a":case"aa":case"aaa":t=We(0,Ne.Abbreviated);break;case"aaaa":t=We(0,Ne.Wide);break;case"aaaaa":t=We(0,Ne.Narrow);break;case"b":case"bb":case"bbb":t=We(0,Ne.Abbreviated,$t.Standalone,!0);break;case"bbbb":t=We(0,Ne.Wide,$t.Standalone,!0);break;case"bbbbb":t=We(0,Ne.Narrow,$t.Standalone,!0);break;case"B":case"BB":case"BBB":t=We(0,Ne.Abbreviated,$t.Format,!0);break;case"BBBB":t=We(0,Ne.Wide,$t.Format,!0);break;case"BBBBB":t=We(0,Ne.Narrow,$t.Format,!0);break;case"h":t=yt(3,1,-12);break;case"hh":t=yt(3,2,-12);break;case"H":t=yt(3,1);break;case"HH":t=yt(3,2);break;case"m":t=yt(4,1);break;case"mm":t=yt(4,2);break;case"s":t=yt(5,1);break;case"ss":t=yt(5,2);break;case"S":t=yt(6,1);break;case"SS":t=yt(6,2);break;case"SSS":t=yt(6,3);break;case"Z":case"ZZ":case"ZZZ":t=o1(0);break;case"ZZZZZ":t=o1(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=o1(1);break;case"OOOO":case"ZZZZ":case"zzzz":t=o1(2);break;default:return null}return og[e]=t,t}function Db(e,t){e=e.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function AA(e,t){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+t),e}function TA(e,t,n){let i=e.getTimezoneOffset(),o=Db(t,i);return AA(e,-1*(o-i))}function LA(e){if(hb(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[i,o=1,a=1]=e.split("-").map(s=>+s);return c1(i,o-1,a)}let n=parseFloat(e);if(!isNaN(e-n))return new Date(n);let r;if(r=e.match(bA))return RA(r)}let t=new Date(e);if(!hb(t))throw new b(2311,!1);return t}function RA(e){let t=new Date(0),n=0,r=0,i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));let a=Number(e[4]||0)-n,s=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(t,a,s,c,l),t}function hb(e){return e instanceof Date&&!isNaN(e.valueOf())}var OA=/^(\d+)?\.((\d+)(-(\d+))?)?$/,pb=22,l1=".",Cl="0",PA=";",NA=",",ag="#",fb="\xA4";function Eb(e,t,n,r,i,o,a=!1){let s="",c=!1;if(!isFinite(e))s=ar(n,Ot.Infinity);else{let l=jA(e);a&&(l=FA(l));let d=t.minInt,u=t.minFrac,p=t.maxFrac;if(o){let A=o.match(OA);if(A===null)throw new b(2306,!1);let I=A[1],_=A[3],pe=A[5];I!=null&&(d=sg(I)),_!=null&&(u=sg(_)),pe!=null?p=sg(pe):_!=null&&u>p&&(p=u)}VA(l,u,p);let h=l.digits,y=l.integerLen,g=l.exponent,v=[];for(c=h.every(A=>!A);y<d;y++)h.unshift(0);for(;y<0;y++)h.unshift(0);y>0?v=h.splice(y,h.length):(v=h,h=[0]);let k=[];for(h.length>=t.lgSize&&k.unshift(h.splice(-t.lgSize,h.length).join(""));h.length>t.gSize;)k.unshift(h.splice(-t.gSize,h.length).join(""));h.length&&k.unshift(h.join("")),s=k.join(ar(n,r)),v.length&&(s+=ar(n,i)+v.join("")),g&&(s+=ar(n,Ot.Exponential)+"+"+g)}return e<0&&!c?s=t.negPre+s+t.negSuf:s=t.posPre+s+t.posSuf,s}function Ab(e,t,n,r,i){let o=dg(t,d1.Currency),a=Lb(o,ar(t,Ot.MinusSign));return a.minFrac=Sb(r),a.maxFrac=a.minFrac,Eb(e,a,t,Ot.CurrencyGroup,Ot.CurrencyDecimal,i).replace(fb,n).replace(fb,"").trim()}function Tb(e,t,n){let r=dg(t,d1.Decimal),i=Lb(r,ar(t,Ot.MinusSign));return Eb(e,i,t,Ot.Group,Ot.Decimal,n)}function Lb(e,t="-"){let n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(PA),i=r[0],o=r[1],a=i.indexOf(l1)!==-1?i.split(l1):[i.substring(0,i.lastIndexOf(Cl)+1),i.substring(i.lastIndexOf(Cl)+1)],s=a[0],c=a[1]||"";n.posPre=s.substring(0,s.indexOf(ag));for(let d=0;d<c.length;d++){let u=c.charAt(d);u===Cl?n.minFrac=n.maxFrac=d+1:u===ag?n.maxFrac=d+1:n.posSuf+=u}let l=s.split(NA);if(n.gSize=l[1]?l[1].length:0,n.lgSize=l[2]||l[1]?(l[2]||l[1]).length:0,o){let d=i.length-n.posPre.length-n.posSuf.length,u=o.indexOf(ag);n.negPre=o.substring(0,u).replace(/'/g,""),n.negSuf=o.slice(u+d).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}function FA(e){if(e.digits[0]===0)return e;let t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(t===0?e.digits.push(0,0):t===1&&e.digits.push(0),e.integerLen+=2),e}function jA(e){let t=Math.abs(e)+"",n=0,r,i,o,a,s;for((i=t.indexOf(l1))>-1&&(t=t.replace(l1,"")),(o=t.search(/e/i))>0?(i<0&&(i=o),i+=+t.slice(o+1),t=t.substring(0,o)):i<0&&(i=t.length),o=0;t.charAt(o)===Cl;o++);if(o===(s=t.length))r=[0],i=1;else{for(s--;t.charAt(s)===Cl;)s--;for(i-=o,r=[],a=0;o<=s;o++,a++)r[a]=Number(t.charAt(o))}return i>pb&&(r=r.splice(0,pb-1),n=i-1,i=1),{digits:r,exponent:n,integerLen:i}}function VA(e,t,n){if(t>n)throw new b(2307,!1);let r=e.digits,i=r.length-e.integerLen,o=Math.min(Math.max(t,i),n),a=o+e.integerLen,s=r[a];if(a>0){r.splice(Math.max(e.integerLen,a));for(let u=a;u<r.length;u++)r[u]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,a=o+1),r[0]=0;for(let u=1;u<a;u++)r[u]=0}if(s>=5)if(a-1<0){for(let u=0;u>a;u--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[a-1]++;for(;i<Math.max(0,o);i++)r.push(0);let c=o!==0,l=t+e.integerLen,d=r.reduceRight(function(u,p,h,y){return p=p+u,y[h]=p<10?p:p-10,c&&(y[h]===0&&h>=l?y.pop():c=!1),p>=10?1:0},0);d&&(r.unshift(d),e.integerLen++)}function sg(e){let t=parseInt(e);if(isNaN(t))throw new b(2305,!1);return t}var _l=(()=>{class e{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||e)(F(cn))};static \u0275dir=ce({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[at]})}return e})();function u1(e,t){return new b(2100,!1)}var cg=class{createSubscription(t,n,r){return U(()=>t.subscribe({next:n,error:r}))}dispose(t){U(()=>t.unsubscribe())}},lg=class{createSubscription(t,n,r){return t.then(i=>n?.(i),i=>r?.(i)),{unsubscribe:()=>{n=null,r=null}}}dispose(t){t.unsubscribe()}},HA=new lg,BA=new cg,zA=(()=>{class e{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;applicationErrorHandler=f(on);constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r),r=>this.applicationErrorHandler(r))}_selectStrategy(n){if(Tr(n))return HA;if(Hh(n))return BA;throw u1(e,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||e)(F(Ut,16))};static \u0275pipe=ns({name:"async",type:e,pure:!1})}return e})();var qA="mediumDate",Rb=new C(""),Ob=new C(""),ug=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let a=r??this.defaultOptions?.dateFormat??qA,s=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Ib(n,a,o||this.locale,s)}catch(a){throw u1(e,a.message)}}static \u0275fac=function(r){return new(r||e)(F(zo,16),F(Rb,24),F(Ob,24))};static \u0275pipe=ns({name:"date",type:e,pure:!0})}return e})();var UA=(()=>{class e{_locale;constructor(n){this._locale=n}transform(n,r,i){if(!Pb(n))return null;i||=this._locale;try{let o=Nb(n);return Tb(o,i,r)}catch(o){throw u1(e,o.message)}}static \u0275fac=function(r){return new(r||e)(F(zo,16))};static \u0275pipe=ns({name:"number",type:e,pure:!0})}return e})();var oi=(()=>{class e{_locale;_defaultCurrencyCode;constructor(n,r="USD"){this._locale=n,this._defaultCurrencyCode=r}transform(n,r=this._defaultCurrencyCode,i="symbol",o,a){if(!Pb(n))return null;a||=this._locale,typeof i=="boolean"&&(i=i?"symbol":"code");let s=r||this._defaultCurrencyCode;i!=="code"&&(i==="symbol"||i==="symbol-narrow"?s=_b(s,i==="symbol"?"wide":"narrow",a):s=i);try{let c=Nb(n);return Ab(c,a,s,r,o)}catch(c){throw u1(e,c.message)}}static \u0275fac=function(r){return new(r||e)(F(zo,16),F(Xy,16))};static \u0275pipe=ns({name:"currency",type:e,pure:!0})}return e})();function Pb(e){return!(e==null||e===""||e!==e)}function Nb(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new b(2309,!1);return e}function h1(e,t){t=encodeURIComponent(t);for(let n of e.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===t)return decodeURIComponent(o)}return null}var qo=class{};function QQ(e,t,n){return Uy(e,t,n)}var hg="browser";function p1(e){return e===hg}var Sl=class{_doc;constructor(t){this._doc=t}manager},f1=(()=>{class e extends Sl{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,o){return n.addEventListener(r,i,o),()=>this.removeEventListener(n,r,i,o)}removeEventListener(n,r,i,o){return n.removeEventListener(r,i,o)}static \u0275fac=function(r){return new(r||e)(K(oe))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),m1=new C(""),gg=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(a=>{a.manager=this});let i=n.filter(a=>!(a instanceof f1));this._plugins=i.slice().reverse();let o=n.find(a=>a instanceof f1);o&&this._plugins.push(o)}addEventListener(n,r,i,o){return this._findPluginFor(r).addEventListener(n,r,i,o)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new b(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||e)(K(m1),K(be))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),pg="ng-app-id";function Fb(e){for(let t of e)t.remove()}function jb(e,t){let n=t.createElement("style");return n.textContent=e,n}function KA(e,t,n,r){let i=e.head?.querySelectorAll(`style[${pg}="${t}"],link[${pg}="${t}"]`);if(i)for(let o of i)o.removeAttribute(pg),o instanceof HTMLLinkElement?r.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&n.set(o.textContent,{usage:0,elements:[o]})}function yg(e,t){let n=t.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",e),n}var mg=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,KA(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,jb);r?.forEach(i=>this.addUsage(i,this.external,yg))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let o=r.get(n);o?o.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(Fb(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])Fb(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,jb(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,yg(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),n.appendChild(r)}static \u0275fac=function(r){return new(r||e)(K(oe),K(Vi),K(es,8),K(ti))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),fg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},vg=/%COMP%/g;var Hb="%COMP%",ZA=`_nghost-${Hb}`,XA=`_ngcontent-${Hb}`,YA=!0,QA=new C("",{factory:()=>YA});function JA(e){return XA.replace(vg,e)}function e9(e){return ZA.replace(vg,e)}function Bb(e,t){return t.map(n=>n.replace(vg,e))}var kg=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;constructor(n,r,i,o,a,s,c=null,l=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=a,this.ngZone=s,this.nonce=c,this.tracingService=l,this.defaultRenderer=new Il(n,a,s,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;let i=this.getOrCreateRenderer(n,r);return i instanceof g1?i.applyToHost(n):i instanceof xl&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let a=this.doc,s=this.ngZone,c=this.eventManager,l=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,u=this.tracingService;switch(r.encapsulation){case Qn.Emulated:o=new g1(c,l,r,this.appId,d,a,s,u);break;case Qn.ShadowDom:return new y1(c,n,r,a,s,this.nonce,u,l);case Qn.ExperimentalIsolatedShadowDom:return new y1(c,n,r,a,s,this.nonce,u);default:o=new xl(c,l,r,d,a,s,u);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||e)(K(gg),K(mg),K(Vi),K(QA),K(oe),K(be),K(es),K(Ar,8))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Il=class{eventManager;doc;ngZone;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,n,r,i){this.eventManager=t,this.doc=n,this.ngZone=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,n){return n?this.doc.createElementNS(fg[n]||n,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,n){(Vb(t)?t.content:t).appendChild(n)}insertBefore(t,n,r){t&&(Vb(t)?t.content:t).insertBefore(n,r)}removeChild(t,n){n.remove()}selectRootElement(t,n){let r=typeof t=="string"?this.doc.querySelector(t):t;if(!r)throw new b(-5104,!1);return n||(r.textContent=""),r}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,n,r,i){if(i){n=i+":"+n;let o=fg[i];o?t.setAttributeNS(o,n,r):t.setAttribute(n,r)}else t.setAttribute(n,r)}removeAttribute(t,n,r){if(r){let i=fg[r];i?t.removeAttributeNS(i,n):t.removeAttribute(`${r}:${n}`)}else t.removeAttribute(n)}addClass(t,n){t.classList.add(n)}removeClass(t,n){t.classList.remove(n)}setStyle(t,n,r,i){i&(Dr.DashCase|Dr.Important)?t.style.setProperty(n,r,i&Dr.Important?"important":""):t.style[n]=r}removeStyle(t,n,r){r&Dr.DashCase?t.style.removeProperty(n):t.style[n]=""}setProperty(t,n,r){t!=null&&(t[n]=r)}setValue(t,n){t.nodeValue=n}listen(t,n,r,i){if(typeof t=="string"&&(t=Nn().getGlobalEventTarget(this.doc,t),!t))throw new b(5102,!1);let o=this.decoratePreventDefault(r);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(t,n,o)),this.eventManager.addEventListener(t,n,o,i)}decoratePreventDefault(t){return n=>{if(n==="__ngUnwrap__")return t;t(n)===!1&&n.preventDefault()}}};function Vb(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var y1=class extends Il{hostEl;sharedStylesHost;shadowRoot;constructor(t,n,r,i,o,a,s,c){super(t,i,o,s),this.hostEl=n,this.sharedStylesHost=c,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost&&this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Bb(r.id,l);for(let u of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=u,this.shadowRoot.appendChild(p)}let d=r.getExternalStyles?.();if(d)for(let u of d){let p=yg(u,i);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,n){return super.appendChild(this.nodeOrShadowRoot(t),n)}insertBefore(t,n,r){return super.insertBefore(this.nodeOrShadowRoot(t),n,r)}removeChild(t,n){return super.removeChild(null,n)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost&&this.sharedStylesHost.removeHost(this.shadowRoot)}},xl=class extends Il{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,n,r,i,o,a,s,c){super(t,o,a,s),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let l=r.styles;this.styles=c?Bb(c,l):l,this.styleUrls=r.getExternalStyles?.(c)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Ni.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},g1=class extends xl{contentAttr;hostAttr;constructor(t,n,r,i,o,a,s,c){let l=i+"-"+r.id;super(t,n,r,o,a,s,c,l),this.contentAttr=JA(l),this.hostAttr=e9(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,n){let r=super.createElement(t,n);return super.setAttribute(r,this.contentAttr,""),r}};var v1=class e extends kl{supportsDOMEvents=!0;static makeCurrent(){ng(new e)}onAndCancel(t,n,r,i){return t.addEventListener(n,r,i),()=>{t.removeEventListener(n,r,i)}}dispatchEvent(t,n){t.dispatchEvent(n)}remove(t){t.remove()}createElement(t,n){return n=n||this.getDefaultDocument(),n.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,n){return n==="window"?window:n==="document"?t:n==="body"?t.body:null}getBaseHref(t){let n=t9();return n==null?null:n9(n)}resetBaseElement(){Dl=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return h1(document.cookie,t)}},Dl=null;function t9(){return Dl=Dl||document.head.querySelector("base"),Dl?Dl.getAttribute("href"):null}function n9(e){return new URL(e,document.baseURI).pathname}var r9=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),zb=["alt","control","meta","shift"],i9={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},o9={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},qb=(()=>{class e extends Sl{constructor(n){super(n)}supports(n){return e.parseEventName(n)!=null}addEventListener(n,r,i,o){let a=e.parseEventName(r),s=e.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nn().onAndCancel(n,a.domEventName,s,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=e._normalizeKey(r.pop()),a="",s=r.indexOf("code");if(s>-1&&(r.splice(s,1),a="code."),zb.forEach(l=>{let d=r.indexOf(l);d>-1&&(r.splice(d,1),a+=l+".")}),a+=o,r.length!=0||o.length===0)return null;let c={};return c.domEventName=i,c.fullKey=a,c}static matchEventFullKeyCode(n,r){let i=i9[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),zb.forEach(a=>{if(a!==i){let s=o9[a];s(n)&&(o+=a+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{e.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||e)(K(oe))};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})();async function a9(e,t,n){let r=m({rootComponent:e},s9(t,n));return ib(r)}function s9(e,t){return{platformRef:t?.platformRef,appProviders:[...h9,...e?.providers??[]],platformProviders:u9}}function c9(){v1.makeCurrent()}function l9(){return new Dn}function d9(){return Y2(document),document}var u9=[{provide:ti,useValue:hg},{provide:Sh,useValue:c9,multi:!0},{provide:oe,useFactory:d9}];var h9=[{provide:Oc,useValue:"root"},{provide:Dn,useFactory:l9},{provide:m1,useClass:f1,multi:!0},{provide:m1,useClass:qb,multi:!0},kg,mg,gg,{provide:Bt,useExisting:kg},{provide:qo,useClass:r9},[]];var Wi=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(t){t?typeof t=="string"?this.lazyInit=()=>{this.headers=new Map,t.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),o=n.slice(r+1).trim();this.addHeaderEntry(i,o)}})}:typeof Headers<"u"&&t instanceof Headers?(this.headers=new Map,t.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(t).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();let n=this.headers.get(t.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,n){return this.clone({name:t,value:n,op:"a"})}set(t,n){return this.clone({name:t,value:n,op:"s"})}delete(t,n){return this.clone({name:t,value:n,op:"d"})}maybeSetNormalizedName(t,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,t)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(n=>{this.headers.set(n,t.headers.get(n)),this.normalizedNames.set(n,t.normalizedNames.get(n))})}clone(t){let n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}applyUpdate(t){let n=t.name.toLowerCase();switch(t.op){case"a":case"s":let r=t.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(t.name,n);let i=(t.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let o=t.value;if(!o)this.headers.delete(n),this.normalizedNames.delete(n);else{let a=this.headers.get(n);if(!a)return;a=a.filter(s=>o.indexOf(s)===-1),a.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,a)}break}}addHeaderEntry(t,n){let r=t.toLowerCase();this.maybeSetNormalizedName(t,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(t,n){let r=(Array.isArray(n)?n:[n]).map(o=>o.toString()),i=t.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(t,i)}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>t(this.normalizedNames.get(n),this.headers.get(n)))}};var wg=class{map=new Map;set(t,n){return this.map.set(t,n),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}has(t){return this.map.has(t)}keys(){return this.map.keys()}},bg=class{encodeKey(t){return Ub(t)}encodeValue(t){return Ub(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}};function p9(e,t){let n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{let o=i.indexOf("="),[a,s]=o==-1?[t.decodeKey(i),""]:[t.decodeKey(i.slice(0,o)),t.decodeValue(i.slice(o+1))],c=n.get(a)||[];c.push(s),n.set(a,c)}),n}var f9=/%(\d[a-f0-9])/gi,y9={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ub(e){return encodeURIComponent(e).replace(f9,(t,n)=>y9[n]??t)}function k1(e){return`${e}`}var ai=class e{map;encoder;updates=null;cloneFrom=null;constructor(t={}){if(this.encoder=t.encoder||new bg,t.fromString){if(t.fromObject)throw new b(2805,!1);this.map=p9(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(n=>{let r=t.fromObject[n],i=Array.isArray(r)?r.map(k1):[k1(r)];this.map.set(n,i)})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();let n=this.map.get(t);return n?n[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,n){return this.clone({param:t,value:n,op:"a"})}appendAll(t){let n=[];return Object.keys(t).forEach(r=>{let i=t[r];Array.isArray(i)?i.forEach(o=>{n.push({param:r,value:o,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(t,n){return this.clone({param:t,value:n,op:"s"})}delete(t,n){return this.clone({param:t,value:n,op:"d"})}toString(){return this.init(),this.keys().map(t=>{let n=this.encoder.encodeKey(t);return this.map.get(t).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(t=>t!=="").join("&")}clone(t){let n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(t),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":let n=(t.op==="a"?this.map.get(t.param):void 0)||[];n.push(k1(t.value)),this.map.set(t.param,n);break;case"d":if(t.value!==void 0){let r=this.map.get(t.param)||[],i=r.indexOf(k1(t.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(t.param,r):this.map.delete(t.param)}else{this.map.delete(t.param);break}}}),this.cloneFrom=this.updates=null)}};function g9(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function $b(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function Wb(e){return typeof Blob<"u"&&e instanceof Blob}function Gb(e){return typeof FormData<"u"&&e instanceof FormData}function m9(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var Kb="Content-Type",Zb="Accept",Xb="text/plain",Yb="application/json",v9=`${Yb}, ${Xb}, */*`,ss=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;referrerPolicy;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(t,n,r,i){this.url=n,this.method=t.toUpperCase();let o;if(g9(this.method)||i?(this.body=r!==void 0?r:null,o=i):o=r,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new b(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),o.referrerPolicy&&(this.referrerPolicy=o.referrerPolicy),this.transferCache=o.transferCache}if(this.headers??=new Wi,this.context??=new wg,!this.params)this.params=new ai,this.urlWithParams=n;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=n;else{let s=n.indexOf("?"),c=s===-1?"?":s<n.length-1?"&":"";this.urlWithParams=n+c+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||$b(this.body)||Wb(this.body)||Gb(this.body)||m9(this.body)?this.body:this.body instanceof ai?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Gb(this.body)?null:Wb(this.body)?this.body.type||null:$b(this.body)?null:typeof this.body=="string"?Xb:this.body instanceof ai?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?Yb:null}clone(t={}){let n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,o=t.keepalive??this.keepalive,a=t.priority||this.priority,s=t.cache||this.cache,c=t.mode||this.mode,l=t.redirect||this.redirect,d=t.credentials||this.credentials,u=t.referrer||this.referrer,p=t.integrity||this.integrity,h=t.referrerPolicy||this.referrerPolicy,y=t.transferCache??this.transferCache,g=t.timeout??this.timeout,v=t.body!==void 0?t.body:this.body,k=t.withCredentials??this.withCredentials,A=t.reportProgress??this.reportProgress,I=t.headers||this.headers,_=t.params||this.params,pe=t.context??this.context;return t.setHeaders!==void 0&&(I=Object.keys(t.setHeaders).reduce((Be,re)=>Be.set(re,t.setHeaders[re]),I)),t.setParams&&(_=Object.keys(t.setParams).reduce((Be,re)=>Be.set(re,t.setParams[re]),_)),new e(n,r,v,{params:_,headers:I,context:pe,reportProgress:A,responseType:i,withCredentials:k,transferCache:y,keepalive:o,cache:s,priority:a,timeout:g,mode:c,redirect:l,credentials:d,referrer:u,integrity:p,referrerPolicy:h})}},Uo=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(Uo||{}),El=class{headers;status;statusText;url;ok;type;redirected;responseType;constructor(t,n=200,r="OK"){this.headers=t.headers||new Wi,this.status=t.status!==void 0?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.redirected=t.redirected,this.responseType=t.responseType,this.ok=this.status>=200&&this.status<300}},Cg=class e extends El{constructor(t={}){super(t)}type=Uo.ResponseHeader;clone(t={}){return new e({headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}},Al=class e extends El{body;constructor(t={}){super(t),this.body=t.body!==void 0?t.body:null}type=Uo.Response;clone(t={}){return new e({body:t.body!==void 0?t.body:this.body,headers:t.headers||this.headers,status:t.status!==void 0?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0,redirected:t.redirected??this.redirected,responseType:t.responseType??this.responseType})}},cs=class extends El{name="HttpErrorResponse";message;error;ok=!1;constructor(t){super(t,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${t.url||"(unknown url)"}`:this.message=`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}},k9=200,M9=204;var w9=/^\)\]\}',?\n/;var b9=(()=>{class e{xhrFactory;tracingService=f(Ar,{optional:!0});constructor(n){this.xhrFactory=n}maybePropagateTrace(n){return this.tracingService?.propagate?this.tracingService.propagate(n):n}handle(n){if(n.method==="JSONP")throw new b(-2800,!1);let r=this.xhrFactory;return ee(null).pipe(le(()=>new te(o=>{let a=r.build();if(a.open(n.method,n.urlWithParams),n.withCredentials&&(a.withCredentials=!0),n.headers.forEach((v,k)=>a.setRequestHeader(v,k.join(","))),n.headers.has(Zb)||a.setRequestHeader(Zb,v9),!n.headers.has(Kb)){let v=n.detectContentTypeHeader();v!==null&&a.setRequestHeader(Kb,v)}if(n.timeout&&(a.timeout=n.timeout),n.responseType){let v=n.responseType.toLowerCase();a.responseType=v!=="json"?v:"text"}let s=n.serializeBody(),c=null,l=()=>{if(c!==null)return c;let v=a.statusText||"OK",k=new Wi(a.getAllResponseHeaders()),A=a.responseURL||n.url;return c=new Cg({headers:k,status:a.status,statusText:v,url:A}),c},d=this.maybePropagateTrace(()=>{let{headers:v,status:k,statusText:A,url:I}=l(),_=null;k!==M9&&(_=typeof a.response>"u"?a.responseText:a.response),k===0&&(k=_?k9:0);let pe=k>=200&&k<300;if(n.responseType==="json"&&typeof _=="string"){let Be=_;_=_.replace(w9,"");try{_=_!==""?JSON.parse(_):null}catch(re){_=Be,pe&&(pe=!1,_={error:re,text:_})}}pe?(o.next(new Al({body:_,headers:v,status:k,statusText:A,url:I||void 0})),o.complete()):o.error(new cs({error:_,headers:v,status:k,statusText:A,url:I||void 0}))}),u=this.maybePropagateTrace(v=>{let{url:k}=l(),A=new cs({error:v,status:a.status||0,statusText:a.statusText||"Unknown Error",url:k||void 0});o.error(A)}),p=u;n.timeout&&(p=this.maybePropagateTrace(v=>{let{url:k}=l(),A=new cs({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:k||void 0});o.error(A)}));let h=!1,y=this.maybePropagateTrace(v=>{h||(o.next(l()),h=!0);let k={type:Uo.DownloadProgress,loaded:v.loaded};v.lengthComputable&&(k.total=v.total),n.responseType==="text"&&a.responseText&&(k.partialText=a.responseText),o.next(k)}),g=this.maybePropagateTrace(v=>{let k={type:Uo.UploadProgress,loaded:v.loaded};v.lengthComputable&&(k.total=v.total),o.next(k)});return a.addEventListener("load",d),a.addEventListener("error",u),a.addEventListener("timeout",p),a.addEventListener("abort",u),n.reportProgress&&(a.addEventListener("progress",y),s!==null&&a.upload&&a.upload.addEventListener("progress",g)),a.send(s),o.next({type:Uo.Sent}),()=>{a.removeEventListener("error",u),a.removeEventListener("abort",u),a.removeEventListener("load",d),a.removeEventListener("timeout",p),n.reportProgress&&(a.removeEventListener("progress",y),s!==null&&a.upload&&a.upload.removeEventListener("progress",g)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(r){return new(r||e)(K(qo))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function C9(e,t){return t(e)}function _9(e,t,n){return(r,i)=>nt(n,()=>t(r,o=>e(o,i)))}var S9=new C("",{factory:()=>[]}),Qb=new C(""),I9=new C("",{factory:()=>!0});var x9=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=K(b9),i},providedIn:"root"})}return e})();var D9=(()=>{class e{backend;injector;chain=null;pendingTasks=f(Va);contributeToStability=f(I9);constructor(n,r){this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(S9),...this.injector.get(Qb,[])]));this.chain=r.reduceRight((i,o)=>_9(i,o,this.injector),C9)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(Da(r))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||e)(K(x9),K(Oe))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),E9=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=K(D9),i},providedIn:"root"})}return e})();function Mg(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer,referrerPolicy:e.referrerPolicy}}var A9=(()=>{class e{handler;constructor(n){this.handler=n}request(n,r,i={}){let o;if(n instanceof ss)o=n;else{let c;i.headers instanceof Wi?c=i.headers:c=new Wi(i.headers);let l;i.params&&(i.params instanceof ai?l=i.params:l=new ai({fromObject:i.params})),o=new ss(n,r,i.body!==void 0?i.body:null,{headers:c,context:i.context,params:l,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache,keepalive:i.keepalive,priority:i.priority,cache:i.cache,mode:i.mode,redirect:i.redirect,credentials:i.credentials,referrer:i.referrer,referrerPolicy:i.referrerPolicy,integrity:i.integrity,timeout:i.timeout})}let a=ee(o).pipe(Si(c=>this.handler.handle(c)));if(n instanceof ss||i.observe==="events")return a;let s=a.pipe(Ue(c=>c instanceof Al));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return s.pipe(E(c=>{if(c.body!==null&&!(c.body instanceof ArrayBuffer))throw new b(2806,!1);return c.body}));case"blob":return s.pipe(E(c=>{if(c.body!==null&&!(c.body instanceof Blob))throw new b(2807,!1);return c.body}));case"text":return s.pipe(E(c=>{if(c.body!==null&&typeof c.body!="string")throw new b(2808,!1);return c.body}));default:return s.pipe(E(c=>c.body))}case"response":return s;default:throw new b(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new ai().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,Mg(i,r))}post(n,r,i={}){return this.request("POST",n,Mg(i,r))}put(n,r,i={}){return this.request("PUT",n,Mg(i,r))}static \u0275fac=function(r){return new(r||e)(K(E9))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Jb=(()=>{class e{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||e)(K(oe))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var T9=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:function(r){let i=null;return r?i=new(r||e):i=K(L9),i},providedIn:"root"})}return e})(),L9=(()=>{class e extends T9{_doc;constructor(n){super(),this._doc=n}sanitize(n,r){if(r==null)return null;switch(n){case tr.NONE:return r;case tr.HTML:return ni(r,"HTML")?gn(r):iy(this._doc,String(r)).toString();case tr.STYLE:return ni(r,"Style")?gn(r):r;case tr.SCRIPT:if(ni(r,"Script"))return gn(r);throw new b(5200,!1);case tr.URL:return ni(r,"URL")?gn(r):rl(String(r));case tr.RESOURCE_URL:if(ni(r,"ResourceURL"))return gn(r);throw new b(5201,!1);default:throw new b(5202,!1)}}bypassSecurityTrustHtml(n){return J2(n)}bypassSecurityTrustStyle(n){return ey(n)}bypassSecurityTrustScript(n){return ty(n)}bypassSecurityTrustUrl(n){return ny(n)}bypassSecurityTrustResourceUrl(n){return ry(n)}static \u0275fac=function(r){return new(r||e)(K(oe))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ae="primary",zl=Symbol("RouteTitle"),Dg=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n[0]:n}return null}getAll(t){if(this.has(t)){let n=this.params[t];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Go(e){return new Dg(e)}function _g(e,t,n){for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(i[0]===":")n[i.substring(1)]=o;else if(i!==o.path)return!1}return!0}function cC(e,t,n){let r=n.path.split("/"),i=r.indexOf("**");if(i===-1){if(r.length>e.length||n.pathMatch==="full"&&(t.hasChildren()||r.length<e.length))return null;let c={},l=e.slice(0,r.length);return _g(r,l,c)?{consumed:l,posParams:c}:null}if(i!==r.lastIndexOf("**"))return null;let o=r.slice(0,i),a=r.slice(i+1);if(o.length+a.length>e.length||n.pathMatch==="full"&&t.hasChildren()&&n.path!=="**")return null;let s={};return!_g(o,e.slice(0,o.length),s)||!_g(a,e.slice(e.length-a.length),s)?null:{consumed:e,posParams:s}}function S1(e){return new Promise((t,n)=>{e.pipe(Gr()).subscribe({next:r=>t(r),error:r=>n(r)})})}function O9(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Fr(e[n],t[n]))return!1;return!0}function Fr(e,t){let n=e?Eg(e):void 0,r=t?Eg(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!lC(e[i],t[i]))return!1;return!0}function Eg(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function lC(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;let n=[...e].sort(),r=[...t].sort();return n.every((i,o)=>r[o]===i)}else return e===t}function P9(e){return e.length>0?e[e.length-1]:null}function Xo(e){return Cc(e)?e:Tr(e)?G(Promise.resolve(e)):ee(e)}function dC(e){return Cc(e)?S1(e):Promise.resolve(e)}var N9={exact:hC,subset:pC},uC={exact:F9,subset:j9,ignored:()=>!0};function qg(e,t,n){let r=e instanceof bn?e:t.parseUrl(e);return S(()=>Ag(t.lastSuccessfulNavigation()?.finalUrl??new bn,r,n))}function Ag(e,t,n){return N9[n.paths](e.root,t.root,n.matrixParams)&&uC[n.queryParams](e.queryParams,t.queryParams)&&!(n.fragment==="exact"&&e.fragment!==t.fragment)}function F9(e,t){return Fr(e,t)}function hC(e,t,n){if(!$o(e.segments,t.segments)||!b1(e.segments,t.segments,n)||e.numberOfChildren!==t.numberOfChildren)return!1;for(let r in t.children)if(!e.children[r]||!hC(e.children[r],t.children[r],n))return!1;return!0}function j9(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>lC(e[n],t[n]))}function pC(e,t,n){return fC(e,t,t.segments,n)}function fC(e,t,n,r){if(e.segments.length>n.length){let i=e.segments.slice(0,n.length);return!(!$o(i,n)||t.hasChildren()||!b1(i,n,r))}else if(e.segments.length===n.length){if(!$o(e.segments,n)||!b1(e.segments,n,r))return!1;for(let i in t.children)if(!e.children[i]||!pC(e.children[i],t.children[i],r))return!1;return!0}else{let i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!$o(e.segments,i)||!b1(e.segments,i,r)||!e.children[ae]?!1:fC(e.children[ae],t,o,r)}}function b1(e,t,n){return t.every((r,i)=>uC[n](e[i].parameters,r.parameters))}var bn=class{root;queryParams;fragment;_queryParamMap;constructor(t=new Ae([],{}),n={},r=null){this.root=t,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Go(this.queryParams),this._queryParamMap}toString(){return B9.serialize(this)}},Ae=class{segments;children;parent=null;constructor(t,n){this.segments=t,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return C1(this)}},Gi=class{path;parameters;_parameterMap;constructor(t,n){this.path=t,this.parameters=n}get parameterMap(){return this._parameterMap??=Go(this.parameters),this._parameterMap}toString(){return gC(this)}};function V9(e,t){return $o(e,t)&&e.every((n,r)=>Fr(n.parameters,t[r].parameters))}function $o(e,t){return e.length!==t.length?!1:e.every((n,r)=>n.path===t[r].path)}function H9(e,t){let n=[];return Object.entries(e.children).forEach(([r,i])=>{r===ae&&(n=n.concat(t(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(t(i,r)))}),n}var ql=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>new Ki,providedIn:"root"})}return e})(),Ki=class{parse(t){let n=new Lg(t);return new bn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(t){let n=`/${Tl(t.root,!0)}`,r=U9(t.queryParams),i=typeof t.fragment=="string"?`#${z9(t.fragment)}`:"";return`${n}${r}${i}`}},B9=new Ki;function C1(e){return e.segments.map(t=>gC(t)).join("/")}function Tl(e,t){if(!e.hasChildren())return C1(e);if(t){let n=e.children[ae]?Tl(e.children[ae],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${Tl(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=H9(e,(r,i)=>i===ae?[Tl(e.children[ae],!1)]:[`${i}:${Tl(r,!1)}`]);return Object.keys(e.children).length===1&&e.children[ae]!=null?`${C1(e)}/${n[0]}`:`${C1(e)}/(${n.join("//")})`}}function yC(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function M1(e){return yC(e).replace(/%3B/gi,";")}function z9(e){return encodeURI(e)}function Tg(e){return yC(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _1(e){return decodeURIComponent(e)}function eC(e){return _1(e.replace(/\+/g,"%20"))}function gC(e){return`${Tg(e.path)}${q9(e.parameters)}`}function q9(e){return Object.entries(e).map(([t,n])=>`;${Tg(t)}=${Tg(n)}`).join("")}function U9(e){let t=Object.entries(e).map(([n,r])=>Array.isArray(r)?r.map(i=>`${M1(n)}=${M1(i)}`).join("&"):`${M1(n)}=${M1(r)}`).filter(n=>n);return t.length?`?${t.join("&")}`:""}var $9=/^[^\/()?;#]+/;function Sg(e){let t=e.match($9);return t?t[0]:""}var W9=/^[^\/()?;=#]+/;function G9(e){let t=e.match(W9);return t?t[0]:""}var K9=/^[^=?&#]+/;function Z9(e){let t=e.match(K9);return t?t[0]:""}var X9=/^[^&#]+/;function Y9(e){let t=e.match(X9);return t?t[0]:""}var Lg=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ae([],{}):new Ae([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(t.length>0||Object.keys(n).length>0)&&(r[ae]=new Ae(t,n)),r}parseSegment(){let t=Sg(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new b(4009,!1);return this.capture(t),new Gi(_1(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let n=G9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Sg(this.remaining);i&&(r=i,this.capture(r))}t[_1(n)]=_1(r)}parseQueryParam(t){let n=Z9(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let a=Y9(this.remaining);a&&(r=a,this.capture(r))}let i=eC(n),o=eC(r);if(t.hasOwnProperty(i)){let a=t[i];Array.isArray(a)||(a=[a],t[i]=a),a.push(o)}else t[i]=o}parseParens(t){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Sg(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new b(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):t&&(o=ae);let a=this.parseChildren();n[o??ae]=Object.keys(a).length===1&&a[ae]?a[ae]:new Ae([],a),this.consumeOptional("//")}return n}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new b(4011,!1)}};function mC(e){return e.segments.length>0?new Ae([],{[ae]:e}):e}function vC(e){let t={};for(let[r,i]of Object.entries(e.children)){let o=vC(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[a,s]of Object.entries(o.children))t[a]=s;else(o.segments.length>0||o.hasChildren())&&(t[r]=o)}let n=new Ae(e.segments,t);return Q9(n)}function Q9(e){if(e.numberOfChildren===1&&e.children[ae]){let t=e.children[ae];return new Ae(e.segments.concat(t.segments),t.children)}return e}function Zi(e){return e instanceof bn}function kC(e,t,n=null,r=null,i=new Ki){let o=MC(e);return wC(o,t,n,r,i)}function MC(e){let t;function n(o){let a={};for(let c of o.children){let l=n(c);a[c.outlet]=l}let s=new Ae(o.url,a);return o===e&&(t=s),s}let r=n(e.root),i=mC(r);return t??i}function wC(e,t,n,r,i){let o=e;for(;o.parent;)o=o.parent;if(t.length===0)return Ig(o,o,o,n,r,i);let a=J9(t);if(a.toRoot())return Ig(o,o,new Ae([],{}),n,r,i);let s=eT(a,o,e),c=s.processChildren?Rl(s.segmentGroup,s.index,a.commands):CC(s.segmentGroup,s.index,a.commands);return Ig(o,s.segmentGroup,c,n,r,i)}function I1(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function Nl(e){return typeof e=="object"&&e!=null&&e.outlets}function tC(e,t,n){e||="\u0275";let r=new bn;return r.queryParams={[e]:t},n.parse(n.serialize(r)).queryParams[e]}function Ig(e,t,n,r,i,o){let a={};for(let[l,d]of Object.entries(r??{}))a[l]=Array.isArray(d)?d.map(u=>tC(l,u,o)):tC(l,d,o);let s;e===t?s=n:s=bC(e,t,n);let c=mC(vC(s));return new bn(c,a,i)}function bC(e,t,n){let r={};return Object.entries(e.children).forEach(([i,o])=>{o===t?r[i]=n:r[i]=bC(o,t,n)}),new Ae(e.segments,r)}var x1=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,n,r){if(this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&I1(r[0]))throw new b(4003,!1);let i=r.find(Nl);if(i&&i!==P9(r))throw new b(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function J9(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new x1(!0,0,e);let t=0,n=!1,r=e.reduce((i,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let s={};return Object.entries(o.outlets).forEach(([c,l])=>{s[c]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:s}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:a===0?(o.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?n=!0:s===".."?t++:s!=""&&i.push(s))}),i):[...i,o]},[]);return new x1(n,t,r)}var ds=class{segmentGroup;processChildren;index;constructor(t,n,r){this.segmentGroup=t,this.processChildren=n,this.index=r}};function eT(e,t,n){if(e.isAbsolute)return new ds(t,!0,0);if(!n)return new ds(t,!1,NaN);if(n.parent===null)return new ds(n,!0,0);let r=I1(e.commands[0])?0:1,i=n.segments.length-1+r;return tT(n,i,e.numberOfDoubleDots)}function tT(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new b(4005,!1);i=r.segments.length}return new ds(r,!1,i-o)}function nT(e){return Nl(e[0])?e[0].outlets:{[ae]:e}}function CC(e,t,n){if(e??=new Ae([],{}),e.segments.length===0&&e.hasChildren())return Rl(e,t,n);let r=rT(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){let o=new Ae(e.segments.slice(0,r.pathIndex),{});return o.children[ae]=new Ae(e.segments.slice(r.pathIndex),e.children),Rl(o,0,i)}else return r.match&&i.length===0?new Ae(e.segments,{}):r.match&&!e.hasChildren()?Rg(e,t,n):r.match?Rl(e,0,i):Rg(e,t,n)}function Rl(e,t,n){if(n.length===0)return new Ae(e.segments,{});{let r=nT(n),i={};if(Object.keys(r).some(o=>o!==ae)&&e.children[ae]&&e.numberOfChildren===1&&e.children[ae].segments.length===0){let o=Rl(e.children[ae],t,n);return new Ae(e.segments,o.children)}return Object.entries(r).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[o]=CC(e.children[o],t,a))}),Object.entries(e.children).forEach(([o,a])=>{r[o]===void 0&&(i[o]=a)}),new Ae(e.segments,i)}}function rT(e,t,n){let r=0,i=t,o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;let a=e.segments[i],s=n[r];if(Nl(s))break;let c=`${s}`,l=r<n.length-1?n[r+1]:null;if(i>0&&c===void 0)break;if(c&&l&&typeof l=="object"&&l.outlets===void 0){if(!rC(c,l,a))return o;r+=2}else{if(!rC(c,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Rg(e,t,n){let r=e.segments.slice(0,t),i=0;for(;i<n.length;){let o=n[i];if(Nl(o)){let c=iT(o.outlets);return new Ae(r,c)}if(i===0&&I1(n[0])){let c=e.segments[t];r.push(new Gi(c.path,nC(n[0]))),i++;continue}let a=Nl(o)?o.outlets[ae]:`${o}`,s=i<n.length-1?n[i+1]:null;a&&s&&I1(s)?(r.push(new Gi(a,nC(s))),i+=2):(r.push(new Gi(a,{})),i++)}return new Ae(r,{})}function iT(e){let t={};return Object.entries(e).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(t[n]=Rg(new Ae([],{}),0,r))}),t}function nC(e){let t={};return Object.entries(e).forEach(([n,r])=>t[n]=`${r}`),t}function rC(e,t,n){return e==n.path&&Fr(t,n.parameters)}var Ol="imperative",Dt=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(Dt||{}),Cn=class{id;url;constructor(t,n){this.id=t,this.url=n}},Ko=class extends Cn{type=Dt.NavigationStart;navigationTrigger;restoredState;constructor(t,n,r="imperative",i=null){super(t,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cr=class extends Cn{urlAfterRedirects;type=Dt.NavigationEnd;constructor(t,n,r){super(t,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Wt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Wt||{}),Fl=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(Fl||{}),jn=class extends Cn{reason;code;type=Dt.NavigationCancel;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}};function _C(e){return e instanceof jn&&(e.code===Wt.Redirect||e.code===Wt.SupersededByNewNavigation)}var ci=class extends Cn{reason;code;type=Dt.NavigationSkipped;constructor(t,n,r,i){super(t,n),this.reason=r,this.code=i}},Zo=class extends Cn{error;target;type=Dt.NavigationError;constructor(t,n,r,i){super(t,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},hs=class extends Cn{urlAfterRedirects;state;type=Dt.RoutesRecognized;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},D1=class extends Cn{urlAfterRedirects;state;type=Dt.GuardsCheckStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},E1=class extends Cn{urlAfterRedirects;state;shouldActivate;type=Dt.GuardsCheckEnd;constructor(t,n,r,i,o){super(t,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},A1=class extends Cn{urlAfterRedirects;state;type=Dt.ResolveStart;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},T1=class extends Cn{urlAfterRedirects;state;type=Dt.ResolveEnd;constructor(t,n,r,i){super(t,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},L1=class{route;type=Dt.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},R1=class{route;type=Dt.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},O1=class{snapshot;type=Dt.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},P1=class{snapshot;type=Dt.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},N1=class{snapshot;type=Dt.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},F1=class{snapshot;type=Dt.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ps=class{},fs=class{url;navigationBehaviorOptions;constructor(t,n){this.url=t,this.navigationBehaviorOptions=n}};function oT(e){return!(e instanceof ps)&&!(e instanceof fs)}var j1=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return this.route?.snapshot._environmentInjector??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new ms(this.rootInjector)}},ms=(()=>{class e{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new j1(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||e)(K(Oe))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),V1=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let n=this.pathFromRoot(t);return n.length>1?n[n.length-2]:null}children(t){let n=Og(t,this._root);return n?n.children.map(r=>r.value):[]}firstChild(t){let n=Og(t,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(t){let n=Pg(t,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Pg(t,this._root).map(n=>n.value)}};function Og(e,t){if(e===t.value)return t;for(let n of t.children){let r=Og(e,n);if(r)return r}return null}function Pg(e,t){if(e===t.value)return[t];for(let n of t.children){let r=Pg(e,n);if(r.length)return r.unshift(t),r}return[]}var wn=class{value;children;constructor(t,n){this.value=t,this.children=n}toString(){return`TreeNode(${this.value})`}};function ls(e){let t={};return e&&e.children.forEach(n=>t[n.value.outlet]=n),t}var jl=class extends V1{snapshot;constructor(t,n){super(t),this.snapshot=n,Ug(this,t)}toString(){return this.snapshot.toString()}};function SC(e,t){let n=aT(e,t),r=new mt([new Gi("",{})]),i=new mt({}),o=new mt({}),a=new mt({}),s=new mt(""),c=new li(r,i,a,s,o,ae,e,n.root);return c.snapshot=n.root,new jl(new wn(c,[]),n)}function aT(e,t){let n={},r={},i={},a=new Wo([],n,i,"",r,ae,e,null,{},t);return new Vl("",new wn(a,[]))}var li=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,n,r,i,o,a,s,c){this.urlSubject=t,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=a,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(E(l=>l[zl]))??ee(void 0),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(E(t=>Go(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(E(t=>Go(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function H1(e,t,n="emptyOnly"){let r,{routeConfig:i}=e;return t!==null&&(n==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?r={params:m(m({},t.params),e.params),data:m(m({},t.data),e.data),resolve:m(m(m(m({},e.data),t.data),i?.data),e._resolvedData)}:r={params:m({},e.params),data:m({},e.data),resolve:m(m({},e.data),e._resolvedData??{})},i&&xC(i)&&(r.resolve[zl]=i.title),r}var Wo=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;_environmentInjector;get title(){return this.data?.[zl]}constructor(t,n,r,i,o,a,s,c,l,d){this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=a,this.component=s,this.routeConfig=c,this._resolve=l,this._environmentInjector=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Go(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Go(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${n}')`}},Vl=class extends V1{url;constructor(t,n){super(n),this.url=t,Ug(this,n)}toString(){return IC(this._root)}};function Ug(e,t){t.value._routerState=e,t.children.forEach(n=>Ug(e,n))}function IC(e){let t=e.children.length>0?` { ${e.children.map(IC).join(", ")} } `:"";return`${e.value}${t}`}function xg(e){if(e.snapshot){let t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Fr(t.queryParams,n.queryParams)||e.queryParamsSubject.next(n.queryParams),t.fragment!==n.fragment&&e.fragmentSubject.next(n.fragment),Fr(t.params,n.params)||e.paramsSubject.next(n.params),O9(t.url,n.url)||e.urlSubject.next(n.url),Fr(t.data,n.data)||e.dataSubject.next(n.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Ng(e,t){let n=Fr(e.params,t.params)&&V9(e.url,t.url),r=!e.parent!=!t.parent;return n&&!r&&(!e.parent||Ng(e.parent,t.parent))}function xC(e){return typeof e.title=="string"||e.title===null}var DC=new C(""),$g=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ae;activateEvents=new Me;deactivateEvents=new Me;attachEvents=new Me;detachEvents=new Me;routerOutletData=ve();parentContexts=f(ms);location=f(cn);changeDetector=f(Ut);inputBinder=f(Ul,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new b(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new b(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new b(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new b(4013,!1);this._activatedRoute=n;let i=this.location,a=n.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Fg(n,s,i.injector,this.routerOutletData);this.activated=i.createComponent(a,{index:i.length,injector:c,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[at]})}return e})(),Fg=class{route;childContexts;parent;outletData;constructor(t,n,r,i){this.route=t,this.childContexts=n,this.parent=r,this.outletData=i}get(t,n){return t===li?this.route:t===ms?this.childContexts:t===DC?this.outletData:this.parent.get(t,n)}},Ul=new C(""),Wg=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Ia([r.queryParams,r.params,r.data]).pipe(le(([o,a,s],c)=>(s=m(m(m({},o),a),s),c===0?ee(s):Promise.resolve(s)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let a=ab(r.component);if(!a){this.unsubscribeFromRouteData(n);return}for(let{templateName:s}of a.inputs)n.activatedComponentRef.setInput(s,o[s])});this.outletDataSubscriptions.set(n,i)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})}return e})(),Gg=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&$e(0,"router-outlet")},dependencies:[$g],encapsulation:2})}return e})();function Kg(e){let t=e.children&&e.children.map(Kg),n=t?x(m({},e),{children:t}):m({},e);return!n.component&&!n.loadComponent&&(t||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=Gg),n}function sT(e,t,n){let r=Hl(e,t._root,n?n._root:void 0);return new jl(r,t)}function Hl(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=t.value;let i=cT(e,t,n);return new wn(r,i)}else{if(e.shouldAttach(t.value)){let o=e.retrieve(t.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=t.value,a.children=t.children.map(s=>Hl(e,s)),a}}let r=lT(t.value),i=t.children.map(o=>Hl(e,o));return new wn(r,i)}}function cT(e,t,n){return t.children.map(r=>{for(let i of n.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return Hl(e,r,i);return Hl(e,r)})}function lT(e){return new li(new mt(e.url),new mt(e.params),new mt(e.queryParams),new mt(e.fragment),new mt(e.data),e.outlet,e.component,e)}var ys=class{redirectTo;navigationBehaviorOptions;constructor(t,n){this.redirectTo=t,this.navigationBehaviorOptions=n}},EC="ngNavigationCancelingError";function B1(e,t){let{redirectTo:n,navigationBehaviorOptions:r}=Zi(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=AC(!1,Wt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function AC(e,t){let n=new Error(`NavigationCancelingError: ${e||""}`);return n[EC]=!0,n.cancellationCode=t,n}function dT(e){return TC(e)&&Zi(e.url)}function TC(e){return!!e&&e[EC]}var jg=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,n,r,i,o){this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(t){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,t),xg(this.futureState.root),this.activateChildRoutes(n,r,t)}deactivateChildRoutes(t,n,r){let i=ls(n);t.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,i[a],r),delete i[a]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(i===o)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(t,n,a.children)}else this.deactivateChildRoutes(t,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(t,n){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,n):this.deactivateRouteAndOutlet(t,n)}detachAndStoreRouteSubtree(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ls(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),s=r.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:a,route:t,contexts:s})}}deactivateRouteAndOutlet(t,n){let r=n.getContext(t.value.outlet),i=r&&t.value.component?r.children:n,o=ls(t);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(t,n,r){let i=ls(n);t.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new F1(o.value.snapshot))}),t.children.length&&this.forwardEvent(new P1(t.value.snapshot))}activateRoutes(t,n,r){let i=t.value,o=n?n.value:null;if(xg(i),i===o)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(t,n,a.children)}else this.activateChildRoutes(t,n,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let s=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(s.contexts),a.attachRef=s.componentRef,a.route=s.route.value,a.outlet&&a.outlet.attach(s.componentRef,s.route.value),xg(s.route.value),this.activateChildRoutes(t,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(t,null,a.children)}else this.activateChildRoutes(t,null,r)}},z1=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},us=class{component;route;constructor(t,n){this.component=t,this.route=n}};function uT(e,t,n){let r=e._root,i=t?t._root:null;return Ll(r,i,n,[r.value])}function hT(e){let t=e.routeConfig?e.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:e,guards:t}}function vs(e,t){let n=Symbol(),r=t.get(e,n);return r===n?typeof e=="function"&&!y0(e)?e:t.get(e):r}function Ll(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ls(t);return e.children.forEach(a=>{pT(a,o[a.value.outlet],n,r.concat([a.value]),i),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,s])=>Pl(s,n.getContext(a),i)),i}function pT(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=t?t.value:null,s=n?n.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let c=fT(a,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new z1(r)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Ll(e,t,s?s.children:null,r,i):Ll(e,t,n,r,i),c&&s&&s.outlet&&s.outlet.isActivated&&i.canDeactivateChecks.push(new us(s.outlet.component,a))}else a&&Pl(t,s,i),i.canActivateChecks.push(new z1(r)),o.component?Ll(e,null,s?s.children:null,r,i):Ll(e,null,n,r,i);return i}function fT(e,t,n){if(typeof n=="function")return nt(t._environmentInjector,()=>n(e,t));switch(n){case"pathParamsChange":return!$o(e.url,t.url);case"pathParamsOrQueryParamsChange":return!$o(e.url,t.url)||!Fr(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ng(e,t)||!Fr(e.queryParams,t.queryParams);default:return!Ng(e,t)}}function Pl(e,t,n){let r=ls(e),i=e.value;Object.entries(r).forEach(([o,a])=>{i.component?t?Pl(a,t.children.getContext(o),n):Pl(a,null,n):Pl(a,t,n)}),i.component?t&&t.outlet&&t.outlet.isActivated?n.canDeactivateChecks.push(new us(t.outlet.component,i)):n.canDeactivateChecks.push(new us(null,i)):n.canDeactivateChecks.push(new us(null,i))}function $l(e){return typeof e=="function"}function yT(e){return typeof e=="boolean"}function gT(e){return e&&$l(e.canLoad)}function mT(e){return e&&$l(e.canActivate)}function vT(e){return e&&$l(e.canActivateChild)}function kT(e){return e&&$l(e.canDeactivate)}function MT(e){return e&&$l(e.canMatch)}function LC(e){return e instanceof Wr||e?.name==="EmptyError"}var w1=Symbol("INITIAL_VALUE");function gs(){return le(e=>Ia(e.map(t=>t.pipe(lt(1),Ii(w1)))).pipe(E(t=>{for(let n of t)if(n!==!0){if(n===w1)return w1;if(n===!1||wT(n))return n}return!0}),Ue(t=>t!==w1),lt(1)))}function wT(e){return Zi(e)||e instanceof ys}function RC(e){return e.aborted?ee(void 0).pipe(lt(1)):new te(t=>{let n=()=>{t.next(),t.complete()};return e.addEventListener("abort",n),()=>e.removeEventListener("abort",n)})}function OC(e){return xn(RC(e))}function bT(e){return St(t=>{let{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=t;return o.length===0&&i.length===0?ee(x(m({},t),{guardsResult:!0})):CT(o,n,r).pipe(St(a=>a&&yT(a)?_T(n,i,e):ee(a)),E(a=>x(m({},t),{guardsResult:a})))})}function CT(e,t,n){return G(e).pipe(St(r=>ET(r.component,r.route,n,t)),Gr(r=>r!==!0,!0))}function _T(e,t,n){return G(t).pipe(Si(r=>Ci(IT(r.route.parent,n),ST(r.route,n),DT(e,r.path),xT(e,r.route))),Gr(r=>r!==!0,!0))}function ST(e,t){return e!==null&&t&&t(new N1(e)),ee(!0)}function IT(e,t){return e!==null&&t&&t(new O1(e)),ee(!0)}function xT(e,t){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return ee(!0);let r=n.map(i=>mo(()=>{let o=t._environmentInjector,a=vs(i,o),s=mT(a)?a.canActivate(t,e):nt(o,()=>a(t,e));return Xo(s).pipe(Gr())}));return ee(r).pipe(gs())}function DT(e,t){let n=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(o=>hT(o)).filter(o=>o!==null).map(o=>mo(()=>{let a=o.guards.map(s=>{let c=o.node._environmentInjector,l=vs(s,c),d=vT(l)?l.canActivateChild(n,e):nt(c,()=>l(n,e));return Xo(d).pipe(Gr())});return ee(a).pipe(gs())}));return ee(i).pipe(gs())}function ET(e,t,n,r){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return ee(!0);let o=i.map(a=>{let s=t._environmentInjector,c=vs(a,s),l=kT(c)?c.canDeactivate(e,t,n,r):nt(s,()=>c(e,t,n,r));return Xo(l).pipe(Gr())});return ee(o).pipe(gs())}function AT(e,t,n,r,i){let o=t.canLoad;if(o===void 0||o.length===0)return ee(!0);let a=o.map(s=>{let c=vs(s,e),l=gT(c)?c.canLoad(t,n):nt(e,()=>c(t,n)),d=Xo(l);return i?d.pipe(OC(i)):d});return ee(a).pipe(gs(),PC(r))}function PC(e){return vc(vt(t=>{if(typeof t!="boolean")throw B1(e,t)}),E(t=>t===!0))}function TT(e,t,n,r,i){let o=t.canMatch;if(!o||o.length===0)return ee(!0);let a=o.map(s=>{let c=vs(s,e),l=MT(c)?c.canMatch(t,n):nt(e,()=>c(t,n));return Xo(l).pipe(OC(i))});return ee(a).pipe(gs(),PC(r))}var si=class e extends Error{segmentGroup;constructor(t){super(),this.segmentGroup=t||null,Object.setPrototypeOf(this,e.prototype)}},Bl=class e extends Error{urlTree;constructor(t){super(),this.urlTree=t,Object.setPrototypeOf(this,e.prototype)}};function LT(e){throw new b(4e3,!1)}function RT(e){throw AC(!1,Wt.GuardRejected)}var Vg=class{urlSerializer;urlTree;constructor(t,n){this.urlSerializer=t,this.urlTree=n}async lineralizeSegments(t,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return r;if(i.numberOfChildren>1||!i.children[ae])throw LT(`${t.redirectTo}`);i=i.children[ae]}}async applyRedirectCommands(t,n,r,i,o){let a=await OT(n,i,o);if(a instanceof bn)throw new Bl(a);let s=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),t,r);if(a[0]==="/")throw new Bl(s);return s}applyRedirectCreateUrlTree(t,n,r,i){let o=this.createSegmentGroup(t,n.root,r,i);return new bn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(t,n){let r={};return Object.entries(t).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let s=o.substring(1);r[i]=n[s]}else r[i]=o}),r}createSegmentGroup(t,n,r,i){let o=this.createSegments(t,n.segments,r,i),a={};return Object.entries(n.children).forEach(([s,c])=>{a[s]=this.createSegmentGroup(t,c,r,i)}),new Ae(o,a)}createSegments(t,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(t,o,i):this.findOrReturn(o,r))}findPosParam(t,n,r){let i=r[n.path.substring(1)];if(!i)throw new b(4001,!1);return i}findOrReturn(t,n){let r=0;for(let i of n){if(i.path===t.path)return n.splice(r),i;r++}return t}};function OT(e,t,n){if(typeof e=="string")return Promise.resolve(e);let r=e,{queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,params:l,data:d,title:u,paramMap:p,queryParamMap:h}=t;return S1(Xo(nt(n,()=>r({params:l,data:d,queryParams:i,fragment:o,routeConfig:a,url:s,outlet:c,title:u,paramMap:p,queryParamMap:h}))))}function PT(e,t){return e.providers&&!e._injector&&(e._injector=dl(e.providers,t,`Route: ${e.path}`)),e._injector??t}function sr(e){return e.outlet||ae}function NT(e,t){let n=e.filter(r=>sr(r)===t);return n.push(...e.filter(r=>sr(r)!==t)),n}var Hg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function FT(e,t,n,r,i,o){let a=NC(e,t,n);return a.matched?(r=PT(t,r),TT(r,t,n,i,o).pipe(E(s=>s===!0?a:m({},Hg)))):ee(a)}function NC(e,t,n){if(t.path==="")return t.pathMatch==="full"&&(e.hasChildren()||n.length>0)?m({},Hg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(t.matcher||cC)(n,e,t);if(!i)return m({},Hg);let o={};Object.entries(i.posParams??{}).forEach(([s,c])=>{o[s]=c.path});let a=i.consumed.length>0?m(m({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function iC(e,t,n,r){return n.length>0&&HT(e,n,r)?{segmentGroup:new Ae(t,VT(r,new Ae(n,e.children))),slicedSegments:[]}:n.length===0&&BT(e,n,r)?{segmentGroup:new Ae(e.segments,jT(e,n,r,e.children)),slicedSegments:n}:{segmentGroup:new Ae(e.segments,e.children),slicedSegments:n}}function jT(e,t,n,r){let i={};for(let o of n)if(U1(e,t,o)&&!r[sr(o)]){let a=new Ae([],{});i[sr(o)]=a}return m(m({},r),i)}function VT(e,t){let n={};n[ae]=t;for(let r of e)if(r.path===""&&sr(r)!==ae){let i=new Ae([],{});n[sr(r)]=i}return n}function HT(e,t,n){return n.some(r=>U1(e,t,r)&&sr(r)!==ae)}function BT(e,t,n){return n.some(r=>U1(e,t,r))}function U1(e,t,n){return(e.hasChildren()||t.length>0)&&n.pathMatch==="full"?!1:n.path===""}function zT(e,t,n){return t.length===0&&!e.children[n]}var Bg=class{};async function qT(e,t,n,r,i,o,a="emptyOnly",s){return new zg(e,t,n,r,i,a,o,s).recognize()}var UT=31,zg=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;abortSignal;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,n,r,i,o,a,s,c){this.injector=t,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=s,this.abortSignal=c,this.applyRedirects=new Vg(this.urlSerializer,this.urlTree)}noMatchError(t){return new b(4002,`'${t.segmentGroup}'`)}async recognize(){let t=iC(this.urlTree.root,[],[],this.config).segmentGroup,{children:n,rootSnapshot:r}=await this.match(t),i=new wn(r,n),o=new Vl("",i),a=kC(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}async match(t){let n=new Wo([],Object.freeze({}),Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{},this.injector);try{return{children:await this.processSegmentGroup(this.injector,this.config,t,ae,n),rootSnapshot:n}}catch(r){if(r instanceof Bl)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof si?this.noMatchError(r):r}}async processSegmentGroup(t,n,r,i,o){if(r.segments.length===0&&r.hasChildren())return this.processChildren(t,n,r,o);let a=await this.processSegment(t,n,r,r.segments,i,!0,o);return a instanceof wn?[a]:[]}async processChildren(t,n,r,i){let o=[];for(let c of Object.keys(r.children))c==="primary"?o.unshift(c):o.push(c);let a=[];for(let c of o){let l=r.children[c],d=NT(n,c),u=await this.processSegmentGroup(t,d,l,c,i);a.push(...u)}let s=FC(a);return $T(s),s}async processSegment(t,n,r,i,o,a,s){for(let c of n)try{return await this.processSegmentAgainstRoute(c._injector??t,n,c,r,i,o,a,s)}catch(l){if(l instanceof si||LC(l))continue;throw l}if(zT(r,i,o))return new Bg;throw new si(r)}async processSegmentAgainstRoute(t,n,r,i,o,a,s,c){if(sr(r)!==a&&(a===ae||!U1(i,o,r)))throw new si(i);if(r.redirectTo===void 0)return this.matchSegmentAgainstRoute(t,i,r,o,a,c);if(this.allowRedirects&&s)return this.expandSegmentAgainstRouteUsingRedirect(t,i,n,r,o,a,c);throw new si(i)}async expandSegmentAgainstRouteUsingRedirect(t,n,r,i,o,a,s){let{matched:c,parameters:l,consumedSegments:d,positionalParamSegments:u,remainingSegments:p}=NC(n,i,o);if(!c)throw new si(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>UT&&(this.allowRedirects=!1));let h=new Wo(o,l,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,oC(i),sr(i),i.component??i._loadedComponent??null,i,aC(i),t),y=H1(h,s,this.paramsInheritanceStrategy);if(h.params=Object.freeze(y.params),h.data=Object.freeze(y.data),this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let g=await this.applyRedirects.applyRedirectCommands(d,i.redirectTo,u,h,t),v=await this.applyRedirects.lineralizeSegments(i,g);return this.processSegment(t,r,n,v.concat(p),a,!1,s)}async matchSegmentAgainstRoute(t,n,r,i,o,a){if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);let s=await S1(FT(n,r,i,t,this.urlSerializer,this.abortSignal));if(r.path==="**"&&(n.children={}),!s?.matched)throw new si(n);t=r._injector??t;let{routes:c}=await this.getChildConfig(t,r,i),l=r._loadedInjector??t,{parameters:d,consumedSegments:u,remainingSegments:p}=s,h=new Wo(u,d,Object.freeze(m({},this.urlTree.queryParams)),this.urlTree.fragment,oC(r),sr(r),r.component??r._loadedComponent??null,r,aC(r),t),y=H1(h,a,this.paramsInheritanceStrategy);h.params=Object.freeze(y.params),h.data=Object.freeze(y.data);let{segmentGroup:g,slicedSegments:v}=iC(n,u,p,c);if(v.length===0&&g.hasChildren()){let I=await this.processChildren(l,c,g,h);return new wn(h,I)}if(c.length===0&&v.length===0)return new wn(h,[]);let k=sr(r)===o,A=await this.processSegment(l,c,g,v,k?ae:o,!0,h);return new wn(h,A instanceof wn?[A]:[])}async getChildConfig(t,n,r){if(n.children)return{routes:n.children,injector:t};if(n.loadChildren){if(n._loadedRoutes!==void 0){let o=n._loadedNgModuleFactory;return o&&!n._loadedInjector&&(n._loadedInjector=o.create(t).injector),{routes:n._loadedRoutes,injector:n._loadedInjector}}if(this.abortSignal.aborted)throw new Error(this.abortSignal.reason);if(await S1(AT(t,n,r,this.urlSerializer,this.abortSignal))){let o=await this.configLoader.loadChildren(t,n);return n._loadedRoutes=o.routes,n._loadedInjector=o.injector,n._loadedNgModuleFactory=o.factory,o}throw RT(n)}return{routes:[],injector:t}}};function $T(e){e.sort((t,n)=>t.value.outlet===ae?-1:n.value.outlet===ae?1:t.value.outlet.localeCompare(n.value.outlet))}function WT(e){let t=e.value.routeConfig;return t&&t.path===""}function FC(e){let t=[],n=new Set;for(let r of e){if(!WT(r)){t.push(r);continue}let i=t.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):t.push(r)}for(let r of n){let i=FC(r.children);t.push(new wn(r.value,i))}return t.filter(r=>!n.has(r))}function oC(e){return e.data||{}}function aC(e){return e.resolve||{}}function GT(e,t,n,r,i,o,a){return St(async s=>{let{state:c,tree:l}=await qT(e,t,n,r,s.extractedUrl,i,o,a);return x(m({},s),{targetSnapshot:c,urlAfterRedirects:l})})}function KT(e){return St(t=>{let{targetSnapshot:n,guards:{canActivateChecks:r}}=t;if(!r.length)return ee(t);let i=new Set(r.map(s=>s.route)),o=new Set;for(let s of i)if(!o.has(s))for(let c of jC(s))o.add(c);let a=0;return G(o).pipe(Si(s=>i.has(s)?ZT(s,n,e):(s.data=H1(s,s.parent,e).resolve,ee(void 0))),vt(()=>a++),vu(1),St(s=>a===o.size?ee(t):pt))})}function jC(e){let t=e.children.map(n=>jC(n)).flat();return[e,...t]}function ZT(e,t,n){let r=e.routeConfig,i=e._resolve;return r?.title!==void 0&&!xC(r)&&(i[zl]=r.title),mo(()=>(e.data=H1(e,e.parent,n).resolve,XT(i,e,t).pipe(E(o=>(e._resolvedData=o,e.data=m(m({},e.data),o),null)))))}function XT(e,t,n){let r=Eg(e);if(r.length===0)return ee({});let i={};return G(r).pipe(St(o=>YT(e[o],t,n).pipe(Gr(),vt(a=>{if(a instanceof ys)throw B1(new Ki,a);i[o]=a}))),vu(1),E(()=>i),_i(o=>LC(o)?pt:Gf(o)))}function YT(e,t,n){let r=t._environmentInjector,i=vs(e,r),o=i.resolve?i.resolve(t,n):nt(r,()=>i(t,n));return Xo(o)}function sC(e){return le(t=>{let n=e(t);return n?G(n).pipe(E(()=>t)):ee(t)})}var Zg=(()=>{class e{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[zl]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(VC),providedIn:"root"})}return e})(),VC=(()=>{class e extends Zg{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||e)(K(Jb))};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ks=new C("",{factory:()=>({})}),Wl=new C(""),HC=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(Ky);async loadComponent(n,r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Promise.resolve(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await dC(nt(n,()=>r.loadComponent())),a=await qC(zC(o));return this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=a,a}finally{this.componentLoaders.delete(r)}})();return this.componentLoaders.set(r,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Promise.resolve({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let i=(async()=>{try{let o=await BC(r,this.compiler,n,this.onLoadEndListener);return r._loadedRoutes=o.routes,r._loadedInjector=o.injector,r._loadedNgModuleFactory=o.factory,o}finally{this.childrenLoaders.delete(r)}})();return this.childrenLoaders.set(r,i),i}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();async function BC(e,t,n,r){let i=await dC(nt(n,()=>e.loadChildren())),o=await qC(zC(i)),a;o instanceof jh||Array.isArray(o)?a=o:a=await t.compileModuleAsync(o),r&&r(e);let s,c,l=!1,d;return Array.isArray(a)?(c=a,l=!0):(s=a.create(n).injector,d=a,c=s.get(Wl,[],{optional:!0,self:!0}).flat()),{routes:c.map(Kg),injector:s,factory:d}}function QT(e){return e&&typeof e=="object"&&"default"in e}function zC(e){return QT(e)?e.default:e}async function qC(e){return e}var $1=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(JT),providedIn:"root"})}return e})(),JT=(()=>{class e{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Xg=new C(""),Yg=new C("");function UC(e,t,n){let r=e.get(Yg),i=e.get(oe);if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(l=>setTimeout(l));let o,a=new Promise(l=>{o=l}),s=i.startViewTransition(()=>(o(),eL(e)));s.updateCallbackDone.catch(l=>{}),s.ready.catch(l=>{}),s.finished.catch(l=>{});let{onViewTransitionCreated:c}=r;return c&&nt(e,()=>c({transition:s,from:t,to:n})),a}function eL(e){return new Promise(t=>{sn({read:()=>setTimeout(t)},{injector:e})})}var tL=()=>{},$C=new C(""),WC=(()=>{class e{currentNavigation=we(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=we(null);events=new z;transitionAbortWithErrorSubject=new z;configLoader=f(HC);environmentInjector=f(Oe);destroyRef=f(Ye);urlSerializer=f(ql);rootContexts=f(ms);location=f($i);inputBindingEnabled=f(Ul,{optional:!0})!==null;titleStrategy=f(Zg);options=f(ks,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f($1);createViewTransition=f(Xg,{optional:!0});navigationErrorHandler=f($C,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ee(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new L1(i)),r=i=>this.events.next(new R1(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;U(()=>{this.transitions?.next(x(m({},n),{extractedUrl:this.urlHandlingStrategy.extract(n.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:r}))})}setupNavigations(n){return this.transitions=new mt(null),this.transitions.pipe(Ue(r=>r!==null),le(r=>{let i=!1,o=new AbortController,a=()=>!i&&this.currentTransition?.id===r.id;return ee(r).pipe(le(s=>{if(this.navigationId>r.id)return this.cancelNavigationTransition(r,"",Wt.SupersededByNewNavigation),pt;this.currentTransition=r;let c=this.lastSuccessfulNavigation();this.currentNavigation.set({id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,targetBrowserUrl:typeof s.extras.browserUrl=="string"?this.urlSerializer.parse(s.extras.browserUrl):s.extras.browserUrl,trigger:s.source,extras:s.extras,previousNavigation:c?x(m({},c),{previousNavigation:null}):null,abort:()=>o.abort()});let l=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=s.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!l&&d!=="reload")return this.events.next(new ci(s.id,this.urlSerializer.serialize(s.rawUrl),"",Fl.IgnoredSameUrlNavigation)),s.resolve(!1),pt;if(this.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return ee(s).pipe(le(u=>(this.events.next(new Ko(u.id,this.urlSerializer.serialize(u.extractedUrl),u.source,u.restoredState)),u.id!==this.navigationId?pt:Promise.resolve(u))),GT(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy,o.signal),vt(u=>{r.targetSnapshot=u.targetSnapshot,r.urlAfterRedirects=u.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=u.urlAfterRedirects,h));let p=new hs(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(p)}));if(l&&this.urlHandlingStrategy.shouldProcessUrl(s.currentRawUrl)){let{id:u,extractedUrl:p,source:h,restoredState:y,extras:g}=s,v=new Ko(u,this.urlSerializer.serialize(p),h,y);this.events.next(v);let k=SC(this.rootComponentType,this.environmentInjector).snapshot;return this.currentTransition=r=x(m({},s),{targetSnapshot:k,urlAfterRedirects:p,extras:x(m({},g),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(A=>(A.finalUrl=p,A)),ee(r)}else return this.events.next(new ci(s.id,this.urlSerializer.serialize(s.extractedUrl),"",Fl.IgnoredByUrlHandlingStrategy)),s.resolve(!1),pt}),E(s=>{let c=new D1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);return this.events.next(c),this.currentTransition=r=x(m({},s),{guards:uT(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),r}),bT(s=>this.events.next(s)),le(s=>{if(r.guardsResult=s.guardsResult,s.guardsResult&&typeof s.guardsResult!="boolean")throw B1(this.urlSerializer,s.guardsResult);let c=new E1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);if(this.events.next(c),!a())return pt;if(!s.guardsResult)return this.cancelNavigationTransition(s,"",Wt.GuardRejected),pt;if(s.guards.canActivateChecks.length===0)return ee(s);let l=new A1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);if(this.events.next(l),!a())return pt;let d=!1;return ee(s).pipe(KT(this.paramsInheritanceStrategy),vt({next:()=>{d=!0;let u=new T1(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(u)},complete:()=>{d||this.cancelNavigationTransition(s,"",Wt.NoDataFromResolver)}}))}),sC(s=>{let c=d=>{let u=[];if(d.routeConfig?._loadedComponent)d.component=d.routeConfig?._loadedComponent;else if(d.routeConfig?.loadComponent){let p=d._environmentInjector;u.push(this.configLoader.loadComponent(p,d.routeConfig).then(h=>{d.component=h}))}for(let p of d.children)u.push(...c(p));return u},l=c(s.targetSnapshot.root);return l.length===0?ee(s):G(Promise.all(l).then(()=>s))}),sC(()=>this.afterPreactivation()),le(()=>{let{currentSnapshot:s,targetSnapshot:c}=r,l=this.createViewTransition?.(this.environmentInjector,s.root,c.root);return l?G(l).pipe(E(()=>r)):ee(r)}),lt(1),E(s=>{let c=sT(n.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);this.currentTransition=r=s=x(m({},s),{targetRouterState:c}),this.currentNavigation.update(l=>(l.targetRouterState=c,l)),this.events.next(new ps),a()&&(new jg(n.routeReuseStrategy,r.targetRouterState,r.currentRouterState,l=>this.events.next(l),this.inputBindingEnabled).activate(this.rootContexts),a()&&(i=!0,this.currentNavigation.update(l=>(l.abort=tL,l)),this.lastSuccessfulNavigation.set(U(this.currentNavigation)),this.events.next(new cr(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects))),this.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)))}),xn(RC(o.signal).pipe(Ue(()=>!i&&!r.targetRouterState),vt(()=>{this.cancelNavigationTransition(r,o.signal.reason+"",Wt.Aborted)}))),vt({complete:()=>{i=!0}}),xn(this.transitionAbortWithErrorSubject.pipe(vt(s=>{throw s}))),Da(()=>{o.abort(),i||this.cancelNavigationTransition(r,"",Wt.SupersededByNewNavigation),this.currentTransition?.id===r.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),_i(s=>{if(i=!0,this.destroyed)return r.resolve(!1),pt;if(TC(s))this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode)),dT(s)?this.events.next(new fs(s.url,s.navigationBehaviorOptions)):r.resolve(!1);else{let c=new Zo(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);try{let l=nt(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(l instanceof ys){let{message:d,cancellationCode:u}=B1(this.urlSerializer,l);this.events.next(new jn(r.id,this.urlSerializer.serialize(r.extractedUrl),d,u)),this.events.next(new fs(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(c),s}catch(l){this.options.resolveNavigationPromiseOnError?r.resolve(!1):r.reject(l)}}return pt}))}))}cancelNavigationTransition(n,r,i){let o=new jn(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=U(this.currentNavigation),i=r?.targetBrowserUrl??r?.extractedUrl;return n.toString()!==i?.toString()&&!r?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function nL(e){return e!==Ol}var GC=new C("");var KC=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(rL),providedIn:"root"})}return e})(),q1=class{shouldDetach(t){return!1}store(t,n){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,n){return t.routeConfig===n.routeConfig}shouldDestroyInjector(t){return!0}},rL=(()=>{class e extends q1{static \u0275fac=(()=>{let n;return function(i){return(n||(n=er(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Qg=(()=>{class e{urlSerializer=f(ql);options=f(ks,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f($i);urlHandlingStrategy=f($1);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new bn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:n,initialUrl:r,targetBrowserUrl:i}){let o=n!==void 0?this.urlHandlingStrategy.merge(n,r):r,a=i??o;return a instanceof bn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:n,finalUrl:r,initialUrl:i}){r&&n?(this.currentUrlTree=r,this.rawUrlTree=this.urlHandlingStrategy.merge(r,i),this.routerState=n):this.rawUrlTree=i}routerState=SC(null,f(Oe));getRouterState(){return this.routerState}_stateMemento=this.createStateMemento();get stateMemento(){return this._stateMemento}updateStateMemento(){this._stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}restoredState(){return this.location.getState()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(iL),providedIn:"root"})}return e})(),iL=(()=>{class e extends Qg{currentPageId=0;lastSuccessfulId=-1;get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&setTimeout(()=>{n(r.url,r.state,"popstate")})})}handleRouterEvent(n,r){n instanceof Ko?this.updateStateMemento():n instanceof ci?this.commitTransition(r):n instanceof hs?this.urlUpdateStrategy==="eager"&&(r.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof ps?(this.commitTransition(r),this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(r),r)):n instanceof jn&&!_C(n)?this.restoreHistory(r):n instanceof Zo?this.restoreHistory(r,!0):n instanceof cr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,{extras:r,id:i}){let{replaceUrl:o,state:a}=r;if(this.location.isCurrentPathEqualTo(n)||o){let s=this.browserPageId,c=m(m({},a),this.generateNgRouterState(i,s));this.location.replaceState(n,"",c)}else{let s=m(m({},a),this.generateNgRouterState(i,this.browserPageId+1));this.location.go(n,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===n.finalUrl&&o===0&&(this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetInternalState(n),this.resetUrlToCurrentUrlTree())}resetInternalState({finalUrl:n}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=er(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jg(e,t){e.events.pipe(Ue(n=>n instanceof cr||n instanceof jn||n instanceof Zo||n instanceof ci),E(n=>n instanceof cr||n instanceof ci?0:(n instanceof jn?n.code===Wt.Redirect||n.code===Wt.SupersededByNewNavigation:!1)?2:1),Ue(n=>n!==2),lt(1)).subscribe(()=>{t()})}var em={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},tm={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vn=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(Vh);stateManager=f(Qg);options=f(ks,{optional:!0})||{};pendingTasks=f(Jr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(WC);urlSerializer=f(ql);location=f($i);urlHandlingStrategy=f($1);injector=f(Oe);_events=new z;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(KC);injectorCleanup=f(GC,{optional:!0});onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(Wl,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(Ul,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:n=>{}}),this.subscribeToNavigationEvents()}eventsSubscription=new je;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=U(this.navigationTransitions.currentNavigation);if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof jn&&r.code!==Wt.Redirect&&r.code!==Wt.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cr)this.navigated=!0,this.injectorCleanup?.(this.routeReuseStrategy,this.routerState,this.config);else if(r instanceof fs){let a=r.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),c=m({scroll:i.extras.scroll,browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||nL(i.source)},a);this.scheduleNavigation(s,Ol,null,c,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}oT(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortWithErrorSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ol,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r,i)=>{this.navigateToSyncWithBrowser(n,i,r)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let c=m({},i);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(o.state=c)}let s=this.parseUrl(n);this.scheduleNavigation(s,r,a,o).catch(c=>{this.disposed||this.injector.get(on)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return U(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(Kg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription?.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0,this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:a,queryParamsHandling:s,preserveFragment:c}=r,l=c?this.currentUrlTree.fragment:a,d=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":d=m(m({},this.currentUrlTree.queryParams),o);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}d!==null&&(d=this.removeEmptyProps(d));let u;try{let p=i?i.snapshot:this.routerState.snapshot.root;u=MC(p)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),u=this.currentUrlTree.root}return wC(u,n,d,l??null,this.urlSerializer)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Zi(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Ol,null,r)}navigate(n,r={skipLocationChange:!1}){return oL(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.console.warn($n(4018,!1)),this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=m({},em):r===!1?i=m({},tm):i=r,Zi(n))return Ag(this.currentUrlTree,n,i);let o=this.parseUrl(n);return Ag(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,a){if(this.disposed)return Promise.resolve(!1);let s,c,l;a?(s=a.resolve,c=a.reject,l=a.promise):l=new Promise((u,p)=>{s=u,c=p});let d=this.pendingTasks.add();return Jg(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:s,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(u=>Promise.reject(u))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function oL(e){for(let t=0;t<e.length;t++)if(e[t]==null)throw new b(4008,!1)}var Ms=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=we(null);get href(){return U(this.reactiveHref)}set href(n){this.reactiveHref.set(n)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new z;applicationErrorHandler=f(on);options=f(ks,{optional:!0});constructor(n,r,i,o,a,s){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=a,this.locationStrategy=s,this.reactiveHref.set(f(new Qh("href"),{optional:!0}));let c=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement&&(this.setTabIndexIfNotOnNativeEl("0"),this.subscribeToNavigationEventsIfNecessary())}subscribeToNavigationEventsIfNecessary(){this.subscription===void 0&&(this.subscription=this.router.events.subscribe(n=>{n instanceof cr&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Zi(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,a){let s=this.urlTree;if(s===null||this.isAnchorElement&&(n!==0||r||i||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(l=>{this.applicationErrorHandler(l)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.reactiveHref.set(n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n))??"":null)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Zi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||e)(F(Vn),F(li),tl("tabindex"),F(Tt),F(Se),F(as))};static \u0275dir=ce({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(r,i){r&1&&Ce("click",function(a){return i.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),r&2&&ft("href",i.reactiveHref(),oy)("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Rt],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Rt],replaceUrl:[2,"replaceUrl","replaceUrl",Rt],routerLink:"routerLink"},features:[at]})}return e})(),nm=(()=>{class e{router;element;renderer;cdr;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new Me;link=f(Ms,{optional:!0});constructor(n,r,i,o){this.router=n,this.element=r,this.renderer=i,this.cdr=o,this.routerEventsSubscription=n.events.subscribe(a=>{a instanceof cr&&this.update()})}ngAfterContentInit(){ee(this.links.changes,ee(null)).pipe(bi()).subscribe(n=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let n=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=G(n).pipe(bi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(n){let r=Array.isArray(n)?n:n.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(n){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let n=this.hasActiveLinks();this.classes.forEach(r=>{n?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),n&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==n&&(this._isActive=n,this.cdr.markForCheck(),this.isActiveChange.emit(n))})}isLinkActive(n){let r=sL(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact??!1?m({},em):m({},tm);return i=>{let o=i.urlTree;return o?U(qg(o,n,r)):!1}}hasActiveLinks(){let n=this.isLinkActive(this.router);return this.link&&n(this.link)||this.links.some(n)}static \u0275fac=function(r){return new(r||e)(F(Vn),F(Se),F(Tt),F(Ut))};static \u0275dir=ce({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(r,i,o){if(r&1&&os(o,Ms,5),r&2){let a;Or(a=Pr())&&(i.links=a)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[at]})}return e})();function sL(e){return!!e.paths}var cL=new C("");function lL(e,...t){return wr([{provide:Wl,multi:!0,useValue:e},[],{provide:li,useFactory:dL},{provide:Bh,multi:!0,useFactory:uL},t.map(n=>n.\u0275providers)])}function dL(){return f(Vn).routerState.root}function ZC(e,t){return{\u0275kind:e,\u0275providers:t}}function uL(){let e=f(Q);return t=>{let n=e.get(mn);if(t!==n.components[0])return;let r=e.get(Vn),i=e.get(hL);e.get(pL)===1&&r.initialNavigation(),e.get(fL,null,{optional:!0})?.setUpPreloading(),e.get(cL,null,{optional:!0})?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var hL=new C("",{factory:()=>new z}),pL=new C("",{factory:()=>1});var fL=new C("");function yL(){return ZC(8,[Wg,{provide:Ul,useExisting:Wg}])}function gL(e){Jt("NgRouterViewTransitions");let t=[{provide:Xg,useValue:UC},{provide:Yg,useValue:m({skipNextTransition:!!e?.skipInitialTransition},e)}];return ZC(9,t)}function XC(e){e||(e=f(Ye));let t=new te(n=>{if(e.destroyed){n.next();return}return e.onDestroy(n.next.bind(n))});return n=>n.pipe(xn(t))}function W1(e,t){let n=t?.injector??f(Q),r=new fo(1),i=an(()=>{let o;try{o=e()}catch(a){U(()=>r.error(a));return}U(()=>r.next(o))},{injector:n,manualCleanup:!0});return n.get(Ye).onDestroy(()=>{i.destroy(),r.complete()}),r.asObservable()}var YC=Symbol("");function QC(e){return new Proxy(e,{has(t,n){return!!this.get(t,n,void 0)},get(t,n){let r=U(t);return!vL(r)||!(n in r)?(rs(t[n])&&t[n][YC]&&delete t[n],t[n]):(rs(t[n])||(Object.defineProperty(t,n,{value:S(()=>t()[n]),configurable:!0}),t[n][YC]=!0),QC(t[n]))}})}var mL=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function vL(e){if(e===null||typeof e!="object"||kL(e))return!1;let t=Object.getPrototypeOf(e);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(mL.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function kL(e){return typeof e?.[Symbol.iterator]=="function"}var rm=new WeakMap,Pt=Symbol("");function im(e,...t){let n=U(()=>Gt(e)),r=t.reduce((a,s)=>m(m({},a),typeof s=="function"?s(a):s),n),i=e[Pt],o=Reflect.ownKeys(e[Pt]);for(let a of Reflect.ownKeys(r))if(o.includes(a)){let s=a;n[s]!==r[s]&&i[s].set(r[s])}ML(e)}function Gt(e){let t=e[Pt];return Reflect.ownKeys(e[Pt]).reduce((n,r)=>{let i=t[r]();return x(m({},n),{[r]:i})},{})}function JC(e,t,n){let i=(n?.injector??f(Q)).get(Ye);wL(e,t),t(Gt(e));let o=()=>bL(e,t);return i.onDestroy(o),{destroy:o}}function om(e){return rm.get(e[Pt])||[]}function ML(e){let t=om(e);for(let n of t){let r=U(()=>Gt(e));n(r)}}function wL(e,t){let n=om(e);rm.set(e[Pt],[...n,t])}function bL(e,t){let n=om(e);rm.set(e[Pt],n.filter(r=>r!==t))}function G1(...e){let t=[...e],n=typeof t[0]=="function"?{}:t.shift(),r=t;return(()=>{class o{constructor(){let s=r.reduce((g,v)=>v(g),CL()),{stateSignals:c,props:l,methods:d,hooks:u}=s,p=m(m(m({},c),l),d);this[Pt]=s[Pt];for(let g of Reflect.ownKeys(p))this[g]=p[g];let{onInit:h,onDestroy:y}=u;h&&h(),y&&f(Ye).onDestroy(y)}static \u0275fac=function(c){return new(c||o)};static \u0275prov=M({token:o,factory:o.\u0275fac,providedIn:n.providedIn||null})}return o})()}function CL(){return{[Pt]:{},stateSignals:{},props:{},methods:{},hooks:{}}}function ws(...e){let t=typeof e[0]=="function"?e:e.slice(1);return n=>t.reduce((r,i)=>i(r),n)}function e3(e){return t=>{let n=e(m(m(m({[Pt]:t[Pt]},t.stateSignals),t.props),t.methods));return x(m({},t),{props:m(m({},t.props),n)})}}function Gl(e){return t=>{let n=m(m(m({[Pt]:t[Pt]},t.stateSignals),t.props),t.methods),r=typeof e=="function"?e(n):e,i=(o,a)=>a?()=>{o&&o(),a(n)}:o;return x(m({},t),{hooks:{onInit:i(t.hooks.onInit,r.onInit),onDestroy:i(t.hooks.onDestroy,r.onDestroy)}})}}function t3(e){return t=>{let n=e(m(m(m({[Pt]:t[Pt]},t.stateSignals),t.props),t.methods));return x(m({},t),{methods:m(m({},t.methods),n)})}}function bs(e){return t=>{let n=typeof e=="function"?e():e,r=Reflect.ownKeys(n),i=t[Pt],o={};for(let a of r)i[a]=we(n[a]),o[a]=QC(i[a]);return x(m({},t),{stateSignals:m(m({},t.stateSignals),o)})}}function xe(...e){return{reducer:e.pop(),events:e}}var Kl=Symbol(""),n3=Symbol(""),K1=class{[Kl]=new z;events$;constructor(t){let n=f(t,{skipSelf:!0,optional:!0});this.events$=n?xa(n.events$,this[Kl]):this[Kl].asObservable()}on(...t){return this.events$.pipe(SL(t),xL())}},am=(()=>{class e extends K1{constructor(){super(e)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})(),Zl=(()=>{class e extends K1{constructor(){super(e)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function SL(e){if(e.length===0)return n=>n;let t=IL(e);return Ue(({type:n})=>!!t[n])}function IL(e){return e.reduce((t,n)=>x(m({},t),{[n.type]:n}),{})}function xL(){return E(t=>{var e=Sf(t,[]);return Object.defineProperty(e,n3,{value:e.type}),e})}var Z1=(()=>{class e{reducerEvents=f(Zl);events=f(am);parentDispatcher=f(e,{skipSelf:!0,optional:!0});dispatch(n,r){this.parentDispatcher&&DL(r)?this.parentDispatcher.dispatch(n,r.scope==="global"?r:void 0):(this.reducerEvents[Kl].next(n),$f.schedule(()=>this.events[Kl].next(n)))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();function DL(e){return e?.scope==="parent"||e?.scope==="global"}function EL(e){let t=n=>({type:e,payload:n});return t.type=e,t}function X1(e){return Object.entries(e.events).reduce((t,[n])=>{let r=`[${e.source}] ${n}`;return x(m({},t),{[n]:EL(r)})},{})}function r3(e,t){let r=(t?.injector??f(Q)).get(Z1),i={},o=c=>(i[c.scope]||(i[c.scope]=Object.entries(e).reduce((l,[d,u])=>x(m({},l),{[d]:p=>U(()=>r.dispatch(u(p),c))}),{})),i[c.scope]),a=o({scope:"self"}),s=Object.keys(a).reduce((c,l)=>x(m({},c),{[l]:{value:a[l],enumerable:!0}}),{});return Object.defineProperties(o,s),o}function AL(e){return typeof e=="object"&&e!==null&&"type"in e}function Cs(e){return ws(void 0,Gl({onInit(t,n=f(Z1)){let r=e(t),i=Object.values(r).map(o=>o.pipe(vt(a=>{let[s,c]=Array.isArray(a)?a:[a];AL(s)&&!(n3 in s)&&n.dispatch(s,c)})));xa(...i).pipe(XC()).subscribe()}}))}var di=X1({source:"Users",events:{getUser:void 0,getUserSuccess:void 0,getUserFailure:void 0,login:void 0,loginSuccess:void 0,loginFailure:void 0,logout:void 0,logoutSuccess:void 0,logoutFailure:void 0}}),Qe={getUser:di.getUser,getUserSuccess:di.getUserSuccess,getUserFailure:di.getUserFailure,login:di.login,loginSuccess:di.loginSuccess,loginFailure:di.loginFailure,logout:di.logout,logoutSuccess:di.logoutSuccess,logoutFailure:di.logoutFailure};var TL=Symbol("DEVTOOLS_FEATURE");function LL(e){return m({[TL]:!0},e)}function i3(e){if(e==null)throw new Error("");return e}var RL=(()=>{class e{#e={};#t;get stores(){return Object.entries(this.#e).reduce((n,[r,{store:i}])=>(n[r]=i,n),{})}onChange(n){this.#t=n}removeStore(n){this.#e=Object.entries(this.#e).reduce((r,[i,o])=>(i!==n?r[i]=o:o.destroyWatcher(),r),{}),i3(this.#t)({})}track(n,r){let i=JC(r,o=>{i3(this.#t)({[n]:o})});this.#e[n]={destroyWatcher:i.destroy,store:r}}notifyRenamedStore(n){Object.keys(this.#e).includes(n)&&this.#t&&this.#t({[n]:Gt(this.#e[n].store)})}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),c3="GLITCH_TRACKING_FEATURE";function Q1(){return LL({name:c3,tracker:RL})}var OL=new C("ReduxDevtoolsConfig"),PL=(()=>{class e{#e=we({});get stores(){return this.#e()}#t;#r=an(()=>{if(this.#t===void 0)throw new Error("no callback function defined");let n=this.#e(),r=Object.entries(n).reduce((i,[o,a])=>x(m({},i),{[o]:Gt(a)}),{});this.#t(r)});track(n,r){this.#e.update(i=>x(m({},i),{[n]:r}))}onChange(n){this.#t=n}removeStore(n){this.#e.update(r=>Object.entries(r).reduce((i,[o,a])=>(o!==n&&(i[o]=a),i),{}))}notifyRenamedStore(n){this.#e()[n]&&this.#e.update(r=>m({},r))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),Y1=new Set,o3={send:()=>{}},a3=(()=>{class e{#e={};#t=p1(f(ti));#r=[];#i=m({name:"NgRx SignalStore"},f(OL,{optional:!0}));#n={};#o=1;#a=f(be).runOutsideAngular(()=>this.#t&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__.connect(this.#i):o3);constructor(){this.#t}ngOnDestroy(){Y1.clear()}syncToDevTools(n){let r=Object.entries(n).reduce((a,[s,c])=>{let{options:l,name:d}=this.#e[s];return a[d]=l.map(c),a},{});this.#n=m(m({},this.#n),r);let i=Array.from(Y1),o=i.length?i.join(", "):"Store Update";Y1.clear(),this.#a.send({type:o},this.#n)}getNextId(){return String(this.#o++)}addStore(n,r,i,o){let a=r,s=Object.values(this.#e).map(l=>l.name);if(s.includes(a)&&!o.indexNames)throw new Error(`An instance of the store ${a} already exists. Enable automatic indexing via withDevTools('${a}', { indexNames: true }), or rename it upon instantiation.`);for(let l=1;s.includes(a);l++)a=`${r}-${l}`;this.#e[n]={name:a,options:o};let c=o.tracker;this.#r.includes(c)||this.#r.push(c),c.onChange(l=>this.syncToDevTools(l)),c.track(n,i)}removeStore(n){let r=this.#e[n].name;this.#e=Object.entries(this.#e).reduce((i,[o,a])=>(o!==n&&(i[o]=a),i),{}),this.#n=Object.entries(this.#n).reduce((i,[o,a])=>(o!==r&&(i[o]=a),i),{});for(let i of this.#r)i.removeStore(n)}renameStore(n,r){let i=this.#e[n];if(!i)return;let o=i.name;if(o===r)return;if(Object.entries(this.#e).filter(([s])=>s!==n).map(([,s])=>s.name).includes(r))throw new Error(`NgRx Toolkit/DevTools: cannot rename from ${o} to ${r}. ${r} is already assigned to another SignalStore instance.`);this.#e=Object.entries(this.#e).reduce((s,[c,l])=>(c===n?s[c]=x(m({},l),{name:r}):s[c]=l,s),{}),this.#n=Object.entries(this.#n).reduce((s,[c,l])=>(c!==o&&(s[c]=l),s),{}),this.#r.forEach(s=>s.notifyRenamedStore(n))}static{this.\u0275fac=function(r){return new(r||e)}}static{this.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}}return e})(),NL="___renameDevtoolsName",s3="___uniqueDevtoolsId",sm=Symbol("DEVTOOL_PROP");function J1(e,...t){return ws(t3(()=>{let n=f(a3),r=n.getNextId();return{[NL]:i=>{n.renameStore(r,i)},[s3]:()=>r}}),e3(()=>({[sm]:t.filter(Boolean).map(n=>n.name)})),Gl(n=>{let r=f(a3),i=String(n[s3]());return{onInit(){let o={indexNames:!t.some(a=>a.indexNames===!1),map:t.find(a=>a.map)?.map??(a=>a),tracker:f(t.find(a=>a.tracker)?.tracker||PL)};r.addStore(i,e,n,o)},onDestroy(){r.removeStore(i)}}}))}function FL(e,t,...n){return Y1.add(t),im(e,...n)}function ep(...e){return ws({state:void 0},Cs((t,n=f(Zl))=>e.map(r=>n.on(...r.events).pipe(vt(i=>{let o=U(()=>Gt(t)),a=r.reducer(i,o),s=Array.isArray(a)?a:[a];FL(t,i.type,...s)})))),Gl(t=>({onInit(){if(!(sm in t))throw new Error("In order to use withTrackedReducer, you must first enable the devtools feature via withDevtools('[your store name]', withGlitchTracking())");if(!t[sm].includes(c3))throw new Error("In order to use withTrackedReducer, you must first enable the glitch tracking devtools feature via withDevtools('[your store name]', withGlitchTracking())")}})))}var Lte=ws(bs({}));var l3=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var _s=class extends Error{constructor(t,n="FunctionsError",r){super(t),this.name=n,this.context=r}},Xl=class extends _s{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Ss=class extends _s{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},Is=class extends _s{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},tp=(function(e){return e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2",e})(tp||{});var Yl=class{constructor(t,{headers:n={},customFetch:r,region:i=tp.Any}={}){this.url=t,this.headers=n,this.region=i,this.fetch=l3(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return nu(this,arguments,void 0,function*(n,r={}){var i;let o,a;try{let{headers:s,method:c,body:l,signal:d,timeout:u}=r,p={},{region:h}=r;h||(h=this.region);let y=new URL(`${this.url}/${n}`);h&&h!=="any"&&(p["x-region"]=h,y.searchParams.set("forceFunctionRegion",h));let g;l&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&l instanceof Blob||l instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",g=l):typeof l=="string"?(p["Content-Type"]="text/plain",g=l):typeof FormData<"u"&&l instanceof FormData?g=l:(p["Content-Type"]="application/json",g=JSON.stringify(l)):l&&typeof l!="string"&&!(typeof Blob<"u"&&l instanceof Blob)&&!(l instanceof ArrayBuffer)&&!(typeof FormData<"u"&&l instanceof FormData)?g=JSON.stringify(l):g=l;let v=d;u&&(a=new AbortController,o=setTimeout(()=>a.abort(),u),d?(v=a.signal,d.addEventListener("abort",()=>a.abort())):v=a.signal);let k=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:g,signal:v}).catch(pe=>{throw new Xl(pe)}),A=k.headers.get("x-relay-error");if(A&&A==="true")throw new Ss(k);if(!k.ok)throw new Is(k);let I=((i=k.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),_;return I==="application/json"?_=yield k.json():I==="application/octet-stream"||I==="application/pdf"?_=yield k.blob():I==="text/event-stream"?_=k:I==="multipart/form-data"?_=yield k.formData():_=yield k.text(),{data:_,error:null,response:k}}catch(s){return{data:null,error:s,response:s instanceof Is||s instanceof Ss?s.context:void 0}}finally{o&&clearTimeout(o)}})}};var u3=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},jL=class{constructor(e){var t,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=(t=e.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=e.signal,this.isMaybeSingle=(n=e.isMaybeSingle)!==null&&n!==void 0?n:!1,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let r=this.fetch,i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async o=>{let a=null,s=null,c=null,l=o.status,d=o.statusText;if(o.ok){var u,p;if(n.method!=="HEAD"){var h;let k=await o.text();k===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((h=n.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?s=k:s=JSON.parse(k))}let g=(u=n.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),v=(p=o.headers.get("content-range"))===null||p===void 0?void 0:p.split("/");g&&v&&v.length>1&&(c=parseInt(v[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(s)&&(s.length>1?(a={code:"PGRST116",details:`Results contain ${s.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},s=null,c=null,l=406,d="Not Acceptable"):s.length===1?s=s[0]:s=null)}else{var y;let g=await o.text();try{a=JSON.parse(g),Array.isArray(a)&&o.status===404&&(s=[],a=null,l=200,d="OK")}catch{o.status===404&&g===""?(l=204,d="No Content"):a={message:g}}if(a&&n.isMaybeSingle&&(!(a==null||(y=a.details)===null||y===void 0)&&y.includes("0 rows"))&&(a=null,l=200,d="OK"),a&&n.shouldThrowOnError)throw new u3(a)}return{error:a,data:s,count:c,status:l,statusText:d}});return this.shouldThrowOnError||(i=i.catch(o=>{var a;let s="",c=o?.cause;if(c){var l,d,u,p;let y=(l=c?.message)!==null&&l!==void 0?l:"",g=(d=c?.code)!==null&&d!==void 0?d:"";s=`${(u=o?.name)!==null&&u!==void 0?u:"FetchError"}: ${o?.message}`,s+=`

Caused by: ${(p=c?.name)!==null&&p!==void 0?p:"Error"}: ${y}`,g&&(s+=` (${g})`),c?.stack&&(s+=`
${c.stack}`)}else{var h;s=(h=o?.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(a=o?.name)!==null&&a!==void 0?a:"FetchError"}: ${o?.message}`,details:s,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(e,t)}returns(){return this}overrideTypes(){return this}},VL=class extends jL{select(e){let t=!1,n=(e??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){let r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:r=n}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;let s=[e?"analyze":null,t?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${c}"; options=${s};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}},d3=new RegExp("[,()]"),xs=class extends VL{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&d3.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}notIn(e,t){let n=Array.from(new Set(t)).map(r=>typeof r=="string"&&d3.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`not.in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){let r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}},HL=class{constructor(e,{headers:t={},schema:n,fetch:r}){this.url=e,this.headers=new Headers(t),this.schema=n,this.fetch=r}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:n=!1,count:r}=t??{},i=n?"HEAD":"GET",o=!1,a=(e??"*").split("").map(l=>/\s/.test(l)&&!o?"":(l==='"'&&(o=!o),l)).join(""),{url:s,headers:c}=this.cloneRequestState();return s.searchParams.set("select",a),r&&c.append("Prefer",`count=${r}`),new xs({method:i,url:s,headers:c,schema:this.schema,fetch:this.fetch})}insert(e,{count:t,defaultToNull:n=!0}={}){var r;let i="POST",{url:o,headers:a}=this.cloneRequestState();if(t&&a.append("Prefer",`count=${t}`),n||a.append("Prefer","missing=default"),Array.isArray(e)){let s=e.reduce((c,l)=>c.concat(Object.keys(l)),[]);if(s.length>0){let c=[...new Set(s)].map(l=>`"${l}"`);o.searchParams.set("columns",c.join(","))}}return new xs({method:i,url:o,headers:a,schema:this.schema,body:e,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var o;let a="POST",{url:s,headers:c}=this.cloneRequestState();if(c.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),t!==void 0&&s.searchParams.set("on_conflict",t),r&&c.append("Prefer",`count=${r}`),i||c.append("Prefer","missing=default"),Array.isArray(e)){let l=e.reduce((d,u)=>d.concat(Object.keys(u)),[]);if(l.length>0){let d=[...new Set(l)].map(u=>`"${u}"`);s.searchParams.set("columns",d.join(","))}}return new xs({method:a,url:s,headers:c,schema:this.schema,body:e,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(e,{count:t}={}){var n;let r="PATCH",{url:i,headers:o}=this.cloneRequestState();return t&&o.append("Prefer",`count=${t}`),new xs({method:r,url:i,headers:o,schema:this.schema,body:e,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:e}={}){var t;let n="DELETE",{url:r,headers:i}=this.cloneRequestState();return e&&i.append("Prefer",`count=${e}`),new xs({method:n,url:r,headers:i,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch})}},h3=class p3{constructor(t,{headers:n={},schema:r,fetch:i}={}){this.url=t,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new HL(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new p3(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,n={},{head:r=!1,get:i=!1,count:o}={}){var a;let s,c=new URL(`${this.url}/rpc/${t}`),l,d=h=>h!==null&&typeof h=="object"&&(!Array.isArray(h)||h.some(d)),u=r&&Object.values(n).some(d);u?(s="POST",l=n):r||i?(s=r?"HEAD":"GET",Object.entries(n).filter(([h,y])=>y!==void 0).map(([h,y])=>[h,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([h,y])=>{c.searchParams.append(h,y)})):(s="POST",l=n);let p=new Headers(this.headers);return u?p.set("Prefer",o?`count=${o},return=minimal`:"return=minimal"):o&&p.set("Prefer",`count=${o}`),new xs({method:s,url:c,headers:p,schema:this.schemaName,body:l,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};var cm=class{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let n=globalThis.process;if(n){let r=n.versions;if(r&&r.node){let i=r.node,o=parseInt(i.replace(/^v/,"").split(".")[0]);return o>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${o} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${o} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let n=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(n+=`

Suggested solution: ${t.workaround}`),new Error(n)}static createWebSocket(t,n){let r=this.getWebSocketConstructor();return new r(t,n)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},lm=cm;var f3="2.90.1";var y3=`realtime-js/${f3}`,dm="1.0.0",g3="2.0.0",um=dm;var Ql=1e4,m3=1e3,v3=100,Xi=(function(e){return e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed",e})(Xi||{}),bt=(function(e){return e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving",e})(bt||{}),Hn=(function(e){return e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token",e})(Hn||{}),hm=(function(e){return e.websocket="websocket",e})(hm||{}),Yo=(function(e){return e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed",e})(Yo||{});var np=class{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,n){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var n;return this._isArrayBuffer((n=t.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(t){var n,r;let i=(r=(n=t.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(t,n,r){var i,o;let a=t.topic,s=(i=t.ref)!==null&&i!==void 0?i:"",c=(o=t.join_ref)!==null&&o!==void 0?o:"",l=t.payload.event,d=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},u=Object.keys(d).length===0?"":JSON.stringify(d);if(c.length>255)throw new Error(`joinRef length ${c.length} exceeds maximum of 255`);if(s.length>255)throw new Error(`ref length ${s.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(l.length>255)throw new Error(`userEvent length ${l.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`metadata length ${u.length} exceeds maximum of 255`);let p=this.USER_BROADCAST_PUSH_META_LENGTH+c.length+s.length+a.length+l.length+u.length,h=new ArrayBuffer(this.HEADER_LENGTH+p),y=new DataView(h),g=0;y.setUint8(g++,this.KINDS.userBroadcastPush),y.setUint8(g++,c.length),y.setUint8(g++,s.length),y.setUint8(g++,a.length),y.setUint8(g++,l.length),y.setUint8(g++,u.length),y.setUint8(g++,n),Array.from(c,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(s,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(a,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(l,k=>y.setUint8(g++,k.charCodeAt(0))),Array.from(u,k=>y.setUint8(g++,k.charCodeAt(0)));var v=new Uint8Array(h.byteLength+r.byteLength);return v.set(new Uint8Array(h),0),v.set(new Uint8Array(r),h.byteLength),v.buffer}decode(t,n){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return n(r)}if(typeof t=="string"){let r=JSON.parse(t),[i,o,a,s,c]=r;return n({join_ref:i,ref:o,topic:a,event:s,payload:c})}return n({})}_binaryDecode(t){let n=new DataView(t),r=n.getUint8(0),i=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(t,n,i)}_decodeUserBroadcast(t,n,r){let i=n.getUint8(1),o=n.getUint8(2),a=n.getUint8(3),s=n.getUint8(4),c=this.HEADER_LENGTH+4,l=r.decode(t.slice(c,c+i));c=c+i;let d=r.decode(t.slice(c,c+o));c=c+o;let u=r.decode(t.slice(c,c+a));c=c+a;let p=t.slice(c,t.byteLength),h=s===this.JSON_ENCODING?JSON.parse(r.decode(p)):p,y={type:this.BROADCAST_EVENT,event:d,payload:h};return a>0&&(y.meta=JSON.parse(u)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:y}}_isArrayBuffer(t){var n;return t instanceof ArrayBuffer||((n=t?.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(t,n){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>n.includes(r)))}};var Ds=class{constructor(t,n){this.callback=t,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Xe=(function(e){return e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange",e})(Xe||{}),fm=(e,t,n={})=>{var r;let i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((o,a)=>(o[a]=BL(a,e,t,i),o),{}):{}},BL=(e,t,n,r)=>{let i=t.find(s=>s.name===e),o=i?.type,a=n[e];return o&&!r.includes(o)?k3(o,a):pm(a)},k3=(e,t)=>{if(e.charAt(0)==="_"){let n=e.slice(1,e.length);return $L(t,n)}switch(e){case Xe.bool:return zL(t);case Xe.float4:case Xe.float8:case Xe.int2:case Xe.int4:case Xe.int8:case Xe.numeric:case Xe.oid:return qL(t);case Xe.json:case Xe.jsonb:return UL(t);case Xe.timestamp:return WL(t);case Xe.abstime:case Xe.date:case Xe.daterange:case Xe.int4range:case Xe.int8range:case Xe.money:case Xe.reltime:case Xe.text:case Xe.time:case Xe.timestamptz:case Xe.timetz:case Xe.tsrange:case Xe.tstzrange:return pm(t);default:return pm(t)}},pm=e=>e,zL=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},qL=e=>{if(typeof e=="string"){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},UL=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch{return e}return e},$L=(e,t)=>{if(typeof e!="string")return e;let n=e.length-1,r=e[n];if(e[0]==="{"&&r==="}"){let o,a=e.slice(1,n);try{o=JSON.parse("["+a+"]")}catch{o=a?a.split(","):[]}return o.map(s=>k3(t,s))}return e},WL=e=>typeof e=="string"?e.replace(" ","T"):e,rp=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var Es=class{constructor(t,n,r={},i=Ql){this.channel=t,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,n){var r;return this._hasReceived(t)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:n}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(n))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var Jl=class e{constructor(t,n){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let r=n?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=e.syncState(this.state,i,o,a),this.pendingDiffs.forEach(c=>{this.state=e.syncDiff(this.state,c,o,a)}),this.pendingDiffs=[],s()}),this.channel._on(r.diff,{},i=>{let{onJoin:o,onLeave:a,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=e.syncDiff(this.state,i,o,a),s())}),this.onJoin((i,o,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:o,newPresences:a})}),this.onLeave((i,o,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:o,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,n,r,i){let o=this.cloneDeep(t),a=this.transformState(n),s={},c={};return this.map(o,(l,d)=>{a[l]||(c[l]=d)}),this.map(a,(l,d)=>{let u=o[l];if(u){let p=d.map(v=>v.presence_ref),h=u.map(v=>v.presence_ref),y=d.filter(v=>h.indexOf(v.presence_ref)<0),g=u.filter(v=>p.indexOf(v.presence_ref)<0);y.length>0&&(s[l]=y),g.length>0&&(c[l]=g)}else s[l]=d}),this.syncDiff(o,{joins:s,leaves:c},r,i)}static syncDiff(t,n,r,i){let{joins:o,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(o,(s,c)=>{var l;let d=(l=t[s])!==null&&l!==void 0?l:[];if(t[s]=this.cloneDeep(c),d.length>0){let u=t[s].map(h=>h.presence_ref),p=d.filter(h=>u.indexOf(h.presence_ref)<0);t[s].unshift(...p)}r(s,d,c)}),this.map(a,(s,c)=>{let l=t[s];if(!l)return;let d=c.map(u=>u.presence_ref);l=l.filter(u=>d.indexOf(u.presence_ref)<0),t[s]=l,i(s,l,c),l.length===0&&delete t[s]}),t}static map(t,n){return Object.getOwnPropertyNames(t).map(r=>n(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((n,r)=>{let i=t[r];return"metas"in i?n[r]=i.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):n[r]=i,n},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var ed=(function(e){return e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system",e})(ed||{}),ui=(function(e){return e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR",e})(ui||{});var td=class e{constructor(t,n={config:{}},r){var i,o;if(this.topic=t,this.params=n,this.socket=r,this.bindings={},this.state=bt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new Es(this,Hn.join,this.params,this.timeout),this.rejoinTimer=new Ds(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=bt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=bt.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=bt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Hn.reply,{},(a,s)=>{this._trigger(this._replyEventName(s),a)}),this.presence=new Jl(this),this.broadcastEndpointURL=rp(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((o=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||o===void 0)&&o.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,n=this.timeout){var r,i,o;if(this.socket.isConnected()||this.socket.connect(),this.state==bt.closed){let{config:{broadcast:a,presence:s,private:c}}=this.params,l=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[ed.PRESENCE]&&this.bindings[ed.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,u={},p={broadcast:a,presence:Object.assign(Object.assign({},s),{enabled:d}),postgres_changes:l,private:c};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this._onError(h=>t?.(ui.CHANNEL_ERROR,h)),this._onClose(()=>t?.(ui.CLOSED)),this.updateJoinPayload(Object.assign({config:p},u)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var y;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){t?.(ui.SUBSCRIBED);return}else{let g=this.bindings.postgres_changes,v=(y=g?.length)!==null&&y!==void 0?y:0,k=[];for(let A=0;A<v;A++){let I=g[A],{filter:{event:_,schema:pe,table:Be,filter:re}}=I,se=h&&h[A];if(se&&se.event===_&&e.isFilterValueEqual(se.schema,pe)&&e.isFilterValueEqual(se.table,Be)&&e.isFilterValueEqual(se.filter,re))k.push(Object.assign(Object.assign({},I),{id:se.id}));else{this.unsubscribe(),this.state=bt.errored,t?.(ui.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=k,t&&t(ui.SUBSCRIBED);return}}).receive("error",h=>{this.state=bt.errored,t?.(ui.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{t?.(ui.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,n={}){return await this.send({type:"presence",event:"track",payload:t},n.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,n,r){return this.state===bt.joined&&t===ed.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,n,r)}async httpSend(t,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");let o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:n,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{let l=await s.json();c=l.error||l.message||c}catch{}return Promise.reject(new Error(c))}async send(t,n={}){var r,i;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:o,payload:a}=t,s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);let c={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{let l=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=l.body)===null||i===void 0?void 0:i.cancel()),l.ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,s,c;let l=this._push(t.type,t,n.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(a=this.params)===null||a===void 0?void 0:a.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&o("ok"),l.receive("ok",()=>o("ok")),l.receive("error",()=>o("error")),l.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=bt.leaving;let n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Hn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new Es(this,Hn.leave,{},t),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=bt.closed,this.bindings={}}async _fetchWithTimeout(t,n,r){let i=new AbortController,o=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(t,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(o),a}_push(t,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Es(this,t,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>v3){let n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(t,n,r){return n}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,n,r){var i,o;let a=t.toLocaleLowerCase(),{close:s,error:c,leave:l,join:d}=Hn;if(r&&[s,c,l,d].indexOf(a)>=0&&r!==this._joinRef())return;let p=this._onMessage(a,n,r);if(n&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var y,g,v;return((y=h.filter)===null||y===void 0?void 0:y.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(h=>h.callback(p,r)):(o=this.bindings[a])===null||o===void 0||o.filter(h=>{var y,g,v,k,A,I,_,pe;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){let Be=h.id,re=(y=h.filter)===null||y===void 0?void 0:y.event;return Be&&((g=n.ids)===null||g===void 0?void 0:g.includes(Be))&&(re==="*"||re?.toLocaleLowerCase()===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))&&(!(!((k=h.filter)===null||k===void 0)&&k.table)||h.filter.table===((A=n.data)===null||A===void 0?void 0:A.table))}else{let Be=(_=(I=h?.filter)===null||I===void 0?void 0:I.event)===null||_===void 0?void 0:_.toLocaleLowerCase();return Be==="*"||Be===((pe=n?.event)===null||pe===void 0?void 0:pe.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:g,table:v,commit_timestamp:k,type:A,errors:I}=y;p=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:k,eventType:A,new:{},old:{},errors:I}),this._getPayloadRecords(y))}h.callback(p,r)})}_isClosed(){return this.state===bt.closed}_isJoined(){return this.state===bt.joined}_isJoining(){return this.state===bt.joining}_isLeaving(){return this.state===bt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,n,r){let i=t.toLocaleLowerCase(),o={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(o):this.bindings[i]=[o],this}_off(t,n){let r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var o;return!(((o=i.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===r&&e.isEqual(i.filter,n))})),this}static isEqual(t,n){if(Object.keys(t).length!==Object.keys(n).length)return!1;for(let r in t)if(t[r]!==n[r])return!1;return!0}static isFilterValueEqual(t,n){return(t??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Hn.close,{},t)}_onError(t){this._on(Hn.error,{},n=>t(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=bt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let n={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(n.new=fm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(n.old=fm(t.columns,t.old_record)),n}};var ym=()=>{},ip={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},KL=[1e3,2e3,5e3,1e4],ZL=1e4,XL=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,nd=class{constructor(t,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ql,this.transport=null,this.heartbeatIntervalMs=ip.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ym,this.ref=0,this.reconnectTimer=null,this.vsn=um,this.logger=ym,this.conn=null,this.sendBuffer=[],this.serializer=new np,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=i=>i?(...o)=>i(...o):(...o)=>fetch(...o),!(!((r=n?.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${t}/${hm.websocket}`,this.httpEndpoint=rp(t),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=lm.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let n=t.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let n=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){let t=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,n,r){this.logger(t,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xi.connecting:return Yo.Connecting;case Xi.open:return Yo.Open;case Xi.closing:return Yo.Closing;default:return Yo.Closed}}isConnected(){return this.connectionState()===Yo.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,n={config:{}}){let r=`realtime:${t}`,i=this.getChannels().find(o=>o.topic===r);if(i)return i;{let o=new td(`realtime:${t}`,n,this);return this.channels.push(o),o}}push(t){let{topic:n,event:r,payload:i,ref:o}=t,a=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${n} ${r} (${o})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(m3,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},ip.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let n=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${t}"`),n.unsubscribe())}_remove(t){this.channels=this.channels.filter(n=>n.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply"&&n.ref&&n.ref===this.pendingHeartbeatRef){let l=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error",l)}catch(d){this.log("error","error in heartbeat callback",d)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:r,event:i,payload:o,ref:a}=n,s=a?`(${a})`:"",c=o.status||"";this.log("receive",`${c} ${r} ${i} ${s}`.trim(),o),this.channels.filter(l=>l._isMember(r)).forEach(l=>l._trigger(i,o,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(t){var n;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===Xi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xi.open||this.conn.readyState===Xi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var n;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Hn.error))}_appendParams(t,n){if(Object.keys(n).length===0)return t;let r=t.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${t}${r}${i}`}_workerObjectUrl(t){let n;if(t)n=t;else{let r=new Blob([XL],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(t,n=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(t=null){let n,r=!1;if(t)n=t,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{let o={access_token:n,version:y3};n&&i.updateJoinPayload(o),i.joinedOnce&&i._isJoined()&&i._push(Hn.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${t}`,n)})}_triggerStateCallbacks(t,n){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${t} callback`,i)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Ds(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ip.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var n,r,i,o,a,s,c,l,d,u,p,h;switch(this.transport=(n=t?.transport)!==null&&n!==void 0?n:null,this.timeout=(r=t?.timeout)!==null&&r!==void 0?r:Ql,this.heartbeatIntervalMs=(i=t?.heartbeatIntervalMs)!==null&&i!==void 0?i:ip.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(a=t?.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:ym,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:um,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(l=t?.reconnectAfterMs)!==null&&l!==void 0?l:y=>KL[y-1]||ZL,this.vsn){case dm:this.encode=(d=t?.encode)!==null&&d!==void 0?d:(y,g)=>g(JSON.stringify(y)),this.decode=(u=t?.decode)!==null&&u!==void 0?u:(y,g)=>g(JSON.parse(y));break;case g3:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(h=t?.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var rd=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function YL(e,t,n){let r=new URL(t,e);if(n)for(let[i,o]of Object.entries(n))o!==void 0&&r.searchParams.set(i,o);return r.toString()}async function QL(e){return!e||e.type==="none"?{}:e.type==="bearer"?{Authorization:`Bearer ${e.token}`}:e.type==="header"?{[e.name]:e.value}:e.type==="custom"?await e.getHeaders():{}}function JL(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:o,headers:a}){let s=YL(e.baseUrl,r,i),c=await QL(e.auth),l=await t(s,{method:n,headers:m(m(m({},o?{"Content-Type":"application/json"}:{}),c),a),body:o?JSON.stringify(o):void 0}),d=await l.text(),u=(l.headers.get("content-type")||"").includes("application/json"),p=u&&d?JSON.parse(d):d;if(!l.ok){let h=u?p:void 0,y=h?.error;throw new rd(y?.message??`Request failed with status ${l.status}`,{status:l.status,icebergType:y?.type,icebergCode:y?.code,details:h})}return{status:l.status,headers:l.headers,data:p}}}}function op(e){return e.join("")}var eR=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:op(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(e,t){let n={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${op(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${op(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${op(e.namespace)}`}),!0}catch(t){if(t instanceof rd&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(n){if(n instanceof rd&&n.status===409)return;throw n}}};function As(e){return e.join("")}var tR=class{constructor(e,t="",n){this.client=e,this.prefix=t,this.accessDelegation=n}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables`,body:t,headers:n})).data.metadata}async updateTable(e,t){let n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${As(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(n){if(n instanceof rd&&n.status===404)return!1;throw n}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(n){if(n instanceof rd&&n.status===409)return await this.loadTable({namespace:e.namespace,name:t.name});throw n}}},M3=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);let n=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=JL({baseUrl:n,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new eR(this.client,t),this.tableOps=new tR(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}};var ap=class extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}};function et(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}var nR=class extends ap{constructor(e,t,n){super(e),this.name="StorageApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vm=class extends ap{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}},wm=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),rR=()=>Response,km=e=>{if(Array.isArray(e))return e.map(n=>km(n));if(typeof e=="function"||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([n,r])=>{let i=n.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[i]=km(r)}),t},iR=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},oR=e=>!e||typeof e!="string"||e.length===0||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(e);function id(e){"@babel/helpers - typeof";return id=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},id(e)}function aR(e,t){if(id(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(id(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function sR(e){var t=aR(e,"string");return id(t)=="symbol"?t:t+""}function cR(e,t,n){return(t=sR(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w3(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function X(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w3(Object(n),!0).forEach(function(r){cR(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w3(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var gm=e=>{var t;return e.msg||e.message||e.error_description||(typeof e.error=="string"?e.error:(t=e.error)===null||t===void 0?void 0:t.message)||JSON.stringify(e)},lR=async(e,t,n)=>{e instanceof await rR()&&!n?.noResolveJson?e.json().then(r=>{let i=e.status||500,o=r?.statusCode||i+"";t(new nR(gm(r),i,o))}).catch(r=>{t(new vm(gm(r),r))}):t(new vm(gm(e),e))},dR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(iR(r)?(i.headers=X({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,t?.duplex&&(i.duplex=t.duplex),X(X({},i),n))};async function ad(e,t,n,r,i,o){return new Promise((a,s)=>{e(n,dR(t,r,i,o)).then(c=>{if(!c.ok)throw c;return r?.noResolveJson?c:c.json()}).then(c=>a(c)).catch(c=>lR(c,s,r))})}async function od(e,t,n,r){return ad(e,"GET",t,n,r)}async function lr(e,t,n,r,i){return ad(e,"POST",t,r,i,n)}async function Mm(e,t,n,r,i){return ad(e,"PUT",t,r,i,n)}async function uR(e,t,n,r){return ad(e,"HEAD",t,X(X({},n),{},{noResolveJson:!0}),r)}async function bm(e,t,n,r,i){return ad(e,"DELETE",t,r,i,n)}var hR=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){var e=this;try{return{data:(await e.downloadFn()).body,error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}}},_3;_3=Symbol.toStringTag;var pR=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t,this[_3]="BlobDownloadBuilder",this.promise=null}asStream(){return new hR(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var e=this;try{return{data:await(await e.downloadFn()).blob(),error:null}}catch(t){if(e.shouldThrowOnError)throw t;if(et(t))return{data:null,error:t};throw t}}},fR={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},b3={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},yR=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.bucketId=n,this.fetch=wm(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(e,t,n,r){var i=this;try{let o,a=X(X({},b3),r),s=X(X({},i.headers),e==="POST"&&{"x-upsert":String(a.upsert)}),c=a.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",a.cacheControl),c&&o.append("metadata",i.encodeMetadata(c)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.has("cacheControl")||o.append("cacheControl",a.cacheControl),c&&!o.has("metadata")&&o.append("metadata",i.encodeMetadata(c))):(o=n,s["cache-control"]=`max-age=${a.cacheControl}`,s["content-type"]=a.contentType,c&&(s["x-metadata"]=i.toBase64(i.encodeMetadata(c))),(typeof ReadableStream<"u"&&o instanceof ReadableStream||o&&typeof o=="object"&&"pipe"in o&&typeof o.pipe=="function")&&!a.duplex&&(a.duplex="half")),r?.headers&&(s=X(X({},s),r.headers));let l=i._removeEmptyFolders(t),d=i._getFinalPath(l),u=await(e=="PUT"?Mm:lr)(i.fetch,`${i.url}/object/${d}`,o,X({headers:s},a?.duplex?{duplex:a.duplex}:{}));return{data:{path:l,id:u.Id,fullPath:u.Key},error:null}}catch(o){if(i.shouldThrowOnError)throw o;if(et(o))return{data:null,error:o};throw o}}async upload(e,t,n){return this.uploadOrUpdate("POST",e,t,n)}async uploadToSignedUrl(e,t,n,r){var i=this;let o=i._removeEmptyFolders(e),a=i._getFinalPath(o),s=new URL(i.url+`/object/upload/sign/${a}`);s.searchParams.set("token",t);try{let c,l=X({upsert:b3.upsert},r),d=X(X({},i.headers),{"x-upsert":String(l.upsert)});return typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",l.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",l.cacheControl)):(c=n,d["cache-control"]=`max-age=${l.cacheControl}`,d["content-type"]=l.contentType),{data:{path:o,fullPath:(await Mm(i.fetch,s.toString(),c,{headers:d})).Key},error:null}}catch(c){if(i.shouldThrowOnError)throw c;if(et(c))return{data:null,error:c};throw c}}async createSignedUploadUrl(e,t){var n=this;try{let r=n._getFinalPath(e),i=X({},n.headers);t?.upsert&&(i["x-upsert"]="true");let o=await lr(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+o.url),s=a.searchParams.get("token");if(!s)throw new ap("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:s},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async update(e,t,n){return this.uploadOrUpdate("PUT",e,t,n)}async move(e,t,n){var r=this;try{return{data:await lr(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async copy(e,t,n){var r=this;try{return{data:{path:(await lr(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n?.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async createSignedUrl(e,t,n){var r=this;try{let i=r._getFinalPath(e),o=await lr(r.fetch,`${r.url}/object/sign/${i}`,X({expiresIn:t},n?.transform?{transform:n.transform}:{}),{headers:r.headers}),a=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${r.url}${o.signedURL}${a}`)},{data:o,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async createSignedUrls(e,t,n){var r=this;try{let i=await lr(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:e},{headers:r.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>X(X({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${o}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}download(e,t){let n=typeof t?.transform<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString(t?.transform||{}),i=r?`?${r}`:"",o=this._getFinalPath(e),a=()=>od(this.fetch,`${this.url}/${n}/${o}${i}`,{headers:this.headers,noResolveJson:!0});return new pR(a,this.shouldThrowOnError)}async info(e){var t=this;let n=t._getFinalPath(e);try{return{data:km(await od(t.fetch,`${t.url}/object/info/${n}`,{headers:t.headers})),error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async exists(e){var t=this;let n=t._getFinalPath(e);try{return await uR(t.fetch,`${t.url}/object/${n}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(et(r)&&r instanceof vm){let i=r.originalError;if([400,404].includes(i?.status))return{data:!1,error:r}}throw r}}getPublicUrl(e,t){let n=this._getFinalPath(e),r=[],i=t?.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&r.push(i);let o=typeof t?.transform<"u"?"render/image":"object",a=this.transformOptsToQueryString(t?.transform||{});a!==""&&r.push(a);let s=r.join("&");return s!==""&&(s=`?${s}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${s}`)}}}async remove(e){var t=this;try{return{data:await bm(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async list(e,t,n){var r=this;try{let i=X(X(X({},fR),t),{},{prefix:e||""});return{data:await lr(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if(et(i))return{data:null,error:i};throw i}}async listV2(e,t){var n=this;try{let r=X({},e);return{data:await lr(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},t),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}},S3="2.90.1",I3={"X-Client-Info":`storage-js/${S3}`},gR=class{constructor(e,t={},n,r){this.shouldThrowOnError=!1;let i=new URL(e);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=X(X({},I3),t),this.fetch=wm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(e){var t=this;try{let n=t.listBucketOptionsToQueryString(e);return{data:await od(t.fetch,`${t.url}/bucket${n}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await od(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async createBucket(e,t={public:!1}){var n=this;try{return{data:await lr(n.fetch,`${n.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async updateBucket(e,t){var n=this;try{return{data:await Mm(n.fetch,`${n.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(et(r))return{data:null,error:r};throw r}}async emptyBucket(e){var t=this;try{return{data:await lr(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await bm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},mR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=X(X({},I3),t),this.fetch=wm(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await lr(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async listBuckets(e){var t=this;try{let n=new URLSearchParams;e?.limit!==void 0&&n.set("limit",e.limit.toString()),e?.offset!==void 0&&n.set("offset",e.offset.toString()),e?.sortColumn&&n.set("sortColumn",e.sortColumn),e?.sortOrder&&n.set("sortOrder",e.sortOrder),e?.search&&n.set("search",e.search);let r=n.toString(),i=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return{data:await od(t.fetch,i,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await bm(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(et(n))return{data:null,error:n};throw n}}from(e){var t=this;if(!oR(e))throw new ap("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let n=new M3({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,o){let a=i[o];return typeof a!="function"?a:async(...s)=>{try{return{data:await a.apply(i,s),error:null}}catch(c){if(r)throw c;return{data:null,error:c}}}}})}},Cm={"X-Client-Info":`storage-js/${S3}`,"Content-Type":"application/json"},x3=class extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function _n(e){return typeof e=="object"&&e!==null&&"__isStorageVectorsError"in e}var mm=class extends x3{constructor(e,t,n){super(e),this.name="StorageVectorsApiError",this.status=t,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},vR=class extends x3{constructor(e,t){super(e),this.name="StorageVectorsUnknownError",this.originalError=t}};var _m=e=>e?(...t)=>e(...t):(...t)=>fetch(...t);var kR=e=>{if(typeof e!="object"||e===null)return!1;let t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var C3=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MR=async(e,t,n)=>{if(e&&typeof e=="object"&&"status"in e&&"ok"in e&&typeof e.status=="number"&&!n?.noResolveJson){let r=e.status||500,i=e;if(typeof i.json=="function")i.json().then(o=>{let a=o?.statusCode||o?.code||r+"";t(new mm(C3(o),r,a))}).catch(()=>{let o=r+"";t(new mm(i.statusText||`HTTP ${r} error`,r,o))});else{let o=r+"";t(new mm(i.statusText||`HTTP ${r} error`,r,o))}}else t(new vR(C3(e),e))},wR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"||!r?i:(kR(r)?(i.headers=X({"Content-Type":"application/json"},t?.headers),i.body=JSON.stringify(r)):i.body=r,X(X({},i),n))};async function bR(e,t,n,r,i,o){return new Promise((a,s)=>{e(n,wR(t,r,i,o)).then(c=>{if(!c.ok)throw c;if(r?.noResolveJson)return c;let l=c.headers.get("content-type");return!l||!l.includes("application/json")?{}:c.json()}).then(c=>a(c)).catch(c=>MR(c,s,r))})}async function Sn(e,t,n,r,i){return bR(e,"POST",t,r,i,n)}var CR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=X(X({},Cm),t),this.fetch=_m(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}async getIndex(e,t){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}async listIndexes(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}async deleteIndex(e,t){var n=this;try{return{data:await Sn(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(_n(r))return{data:null,error:r};throw r}}},_R=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=X(X({},Cm),t),this.fetch=_m(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(e){var t=this;try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Sn(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}async getVectors(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}async listVectors(e){var t=this;try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:await Sn(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}async queryVectors(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}async deleteVectors(e){var t=this;try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Sn(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}},SR=class{constructor(e,t={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=X(X({},Cm),t),this.fetch=_m(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}async getBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}async listBuckets(e={}){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}),error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}async deleteBucket(e){var t=this;try{return{data:await Sn(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{},error:null}}catch(n){if(t.shouldThrowOnError)throw n;if(_n(n))return{data:null,error:n};throw n}}},IR=class extends SR{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new xR(this.url,this.headers,e,this.fetch)}async createBucket(e){var t=()=>super.createBucket,n=this;return t().call(n,e)}async getBucket(e){var t=()=>super.getBucket,n=this;return t().call(n,e)}async listBuckets(e={}){var t=()=>super.listBuckets,n=this;return t().call(n,e)}async deleteBucket(e){var t=()=>super.deleteBucket,n=this;return t().call(n,e)}},xR=class extends CR{constructor(e,t,n,r){super(e,t,r),this.vectorBucketName=n}async createIndex(e){var t=()=>super.createIndex,n=this;return t().call(n,X(X({},e),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(e={}){var t=()=>super.listIndexes,n=this;return t().call(n,X(X({},e),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(e){var t=()=>super.getIndex,n=this;return t().call(n,n.vectorBucketName,e)}async deleteIndex(e){var t=()=>super.deleteIndex,n=this;return t().call(n,n.vectorBucketName,e)}index(e){return new DR(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},DR=class extends _R{constructor(e,t,n,r,i){super(e,t,i),this.vectorBucketName=n,this.indexName=r}async putVectors(e){var t=()=>super.putVectors,n=this;return t().call(n,X(X({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(e){var t=()=>super.getVectors,n=this;return t().call(n,X(X({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(e={}){var t=()=>super.listVectors,n=this;return t().call(n,X(X({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(e){var t=()=>super.queryVectors,n=this;return t().call(n,X(X({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(e){var t=()=>super.deleteVectors,n=this;return t().call(n,X(X({},e),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},D3=class extends gR{constructor(e,t={},n,r){super(e,t,n,r)}from(e){return new yR(this.url,this.headers,e,this.fetch)}get vectors(){return new IR(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new mR(this.url+"/iceberg",this.headers,this.fetch)}};var sp="2.90.1";var Qo=30*1e3,cp=3,lp=cp*Qo,E3="http://localhost:9999",A3="supabase.auth.token";var T3={"X-Client-Info":`gotrue-js/${sp}`};var sd="X-Supabase-Api-Version",Sm={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},L3=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R3=600*1e3;var Yi=class extends Error{constructor(t,n,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}};function N(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}var dp=class extends Yi{constructor(t,n,r){super(t,n,r),this.name="AuthApiError",this.status=n,this.code=r}};function O3(e){return N(e)&&e.name==="AuthApiError"}var Bn=class extends Yi{constructor(t,n){super(t),this.name="AuthUnknownError",this.originalError=n}},dr=class extends Yi{constructor(t,n,r,i){super(t,r,i),this.name=n,this.status=r}},Nt=class extends dr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function P3(e){return N(e)&&e.name==="AuthSessionMissingError"}var hi=class extends dr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},Jo=class extends dr{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},ea=class extends dr{constructor(t,n=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function N3(e){return N(e)&&e.name==="AuthImplicitGrantRedirectError"}var cd=class extends dr{constructor(t,n=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},up=class extends dr{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}};var Ts=class extends dr{constructor(t,n){super(t,"AuthRetryableFetchError",n,void 0)}};function hp(e){return N(e)&&e.name==="AuthRetryableFetchError"}var ld=class extends dr{constructor(t,n,r){super(t,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}};var ta=class extends dr{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var pp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),F3=` 	
\r=`.split(""),ER=(()=>{let e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<F3.length;t+=1)e[F3[t].charCodeAt(0)]=-2;for(let t=0;t<pp.length;t+=1)e[pp[t].charCodeAt(0)]=t;return e})();function j3(e,t,n){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(pp[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let r=t.queue>>t.queuedBits-6&63;n(pp[r]),t.queuedBits-=6}}function V3(e,t,n){let r=ER[e];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)n(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Im(e){let t=[],n=a=>{t.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},o=a=>{LR(a,r,n)};for(let a=0;a<e.length;a+=1)V3(e.charCodeAt(a),i,o);return t.join("")}function AR(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function TR(e,t){for(let n=0;n<e.length;n+=1){let r=e.charCodeAt(n);if(r>55295&&r<=56319){let i=(r-55296)*1024&65535;r=(e.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}AR(r,t)}}function LR(e,t,n){if(t.utf8seq===0){if(e<=127){n(e);return}for(let r=1;r<6;r+=1)if((e>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&n(t.codepoint)}}function Qi(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};for(let i=0;i<e.length;i+=1)V3(e.charCodeAt(i),n,r);return new Uint8Array(t)}function H3(e){let t=[];return TR(e,n=>t.push(n)),new Uint8Array(t)}function pi(e){let t=[],n={queue:0,queuedBits:0},r=i=>{t.push(i)};return e.forEach(i=>j3(i,n,r)),j3(null,n,r),t.join("")}function B3(e){return Math.round(Date.now()/1e3)+e}function z3(){return Symbol("auth-callback")}var Ct=()=>typeof window<"u"&&typeof document<"u",na={tested:!1,writable:!1},fp=()=>{if(!Ct())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(na.tested)return na.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),na.tested=!0,na.writable=!0}catch{na.tested=!0,na.writable=!1}return na.writable};function q3(e){let t={},n=new URL(e);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,o)=>{t[o]=i})}catch{}return n.searchParams.forEach((r,i)=>{t[i]=r}),t}var yp=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),U3=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",ra=async(e,t,n)=>{await e.setItem(t,JSON.stringify(n))},Ji=async(e,t)=>{let n=await e.getItem(t);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Et=async(e,t)=>{await e.removeItem(t)},dd=class e{constructor(){this.promise=new e.promiseConstructor((t,n)=>{this.resolve=t,this.reject=n})}};dd.promiseConstructor=Promise;function gp(e){let t=e.split(".");if(t.length!==3)throw new ta("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!L3.test(t[r]))throw new ta("JWT not in base64url format");return{header:JSON.parse(Im(t[0])),payload:JSON.parse(Im(t[1])),signature:Qi(t[2]),raw:{header:t[0],payload:t[1]}}}async function $3(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function W3(e,t){return new Promise((r,i)=>{(async()=>{for(let o=0;o<1/0;o++)try{let a=await e(o);if(!t(o,null,a)){r(a);return}}catch(a){if(!t(o,a)){i(a);return}}})()})}function RR(e){return("0"+e.toString(16)).substr(-2)}function OR(){let t=new Uint32Array(56);if(typeof crypto>"u"){let n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length,i="";for(let o=0;o<56;o++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(t),Array.from(t,RR).join("")}async function PR(e){let n=new TextEncoder().encode(e),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(o=>String.fromCharCode(o)).join("")}async function NR(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;let n=await PR(e);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function ia(e,t,n=!1){let r=OR(),i=r;n&&(i+="/PASSWORD_RECOVERY"),await ra(e,`${t}-code-verifier`,i);let o=await NR(r);return[o,r===o?"plain":"s256"]}var FR=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function G3(e){let t=e.headers.get(sd);if(!t||!t.match(FR))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function K3(e){if(!e)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Z3(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var jR=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function oa(e){if(!jR.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function mp(){let e={};return new Proxy(e,{get:(t,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){let r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function X3(e,t){return new Proxy(e,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){let o=r.toString();if(o==="Symbol(Symbol.toPrimitive)"||o==="Symbol(Symbol.toStringTag)"||o==="Symbol(util.inspect.custom)"||o==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(n,r,i)}})}function xm(e){return JSON.parse(JSON.stringify(e))}var aa=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),VR=[502,503,504];async function Y3(e){var t;if(!U3(e))throw new Ts(aa(e),0);if(VR.includes(e.status))throw new Ts(aa(e),e.status);let n;try{n=await e.json()}catch(o){throw new Bn(aa(o),o)}let r,i=G3(e);if(i&&i.getTime()>=Sm["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new ld(aa(n),e.status,((t=n.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Nt}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((o,a)=>o&&typeof a=="string",!0))throw new ld(aa(n),e.status,n.weak_password.reasons);throw new dp(aa(n),e.status||500,r)}var HR=(e,t,n,r)=>{let i={method:e,headers:t?.headers||{}};return e==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function $(e,t,n,r){var i;let o=Object.assign({},r?.headers);o[sd]||(o[sd]=Sm["2024-01-01"].name),r?.jwt&&(o.Authorization=`Bearer ${r.jwt}`);let a=(i=r?.query)!==null&&i!==void 0?i:{};r?.redirectTo&&(a.redirect_to=r.redirectTo);let s=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",c=await BR(e,t,n+s,{headers:o,noResolveJson:r?.noResolveJson},{},r?.body);return r?.xform?r?.xform(c):{data:Object.assign({},c),error:null}}async function BR(e,t,n,r,i,o){let a=HR(t,r,i,o),s;try{s=await e(n,Object.assign({},a))}catch(c){throw console.error(c),new Ts(aa(c),0)}if(s.ok||await Y3(s),r?.noResolveJson)return s;try{return await s.json()}catch(c){await Y3(c)}}function zn(e){var t;let n=null;zR(e)&&(n=Object.assign({},e),e.expires_at||(n.expires_at=B3(e.expires_in)));let r=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:n,user:r},error:null}}function Dm(e){let t=zn(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(t.data.weak_password=e.weak_password),t}function jr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function Q3(e){return{data:e,error:null}}function J3(e){let{action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o}=e,a=go(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:n,hashed_token:r,redirect_to:i,verification_type:o},c=Object.assign({},a);return{data:{properties:s,user:c},error:null}}function Em(e){return e}function zR(e){return e.access_token&&e.refresh_token&&e.expires_in}var vp=["global","local","others"];var Ls=class{constructor({url:t="",headers:n={},fetch:r}){this.url=t,this.headers=n,this.fetch=yp(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,n=vp[0]){if(vp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${vp.join(", ")}`);try{return await $(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(N(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,n={}){try{return await $(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jr})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{let{options:n}=t,r=go(t,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r?.newEmail,delete i.newEmail),await $(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:J3,redirectTo:n?.redirectTo})}catch(n){if(N(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(t){try{return await $(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:jr})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async listUsers(t){var n,r,i,o,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Em});if(d.error)throw d.error;let u=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(N(l))return{data:{users:[]},error:l};throw l}}async getUserById(t){oa(t);try{return await $(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:jr})}catch(n){if(N(n))return{data:{user:null},error:n};throw n}}async updateUserById(t,n){oa(t);try{return await $(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:n,headers:this.headers,xform:jr})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,n=!1){oa(t);try{return await $(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:n},xform:jr})}catch(r){if(N(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){oa(t.userId);try{let{data:n,error:r}=await $(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _deleteFactor(t){oa(t.userId),oa(t.id);try{return{data:await $(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _listOAuthClients(t){var n,r,i,o,a,s,c;try{let l={nextPage:null,lastPage:0,total:0},d=await $(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=t?.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(o=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&o!==void 0?o:""},xform:Em});if(d.error)throw d.error;let u=await d.json(),p=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(c=(s=d.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return h.length>0&&(h.forEach(y=>{let g=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(y.split(";")[1].split("=")[1]);l[`${v}Page`]=g}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(N(l))return{data:{clients:[]},error:l};throw l}}async _createOAuthClient(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _getOAuthClient(t){try{return await $(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}async _updateOAuthClient(t,n){try{return await $(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(N(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await $(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(N(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(t){try{return await $(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(N(n))return{data:null,error:n};throw n}}};function Am(e={}){return{getItem:t=>e[t]||null,setItem:(t,n)=>{e[t]=n},removeItem:t=>{delete e[t]}}}var sa={debug:!!(globalThis&&fp()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},ud=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},kp=class extends ud{};async function Tm(e,t,n){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let r=new globalThis.AbortController;return t>0&&setTimeout(()=>{r.abort(),sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,i.name);try{return await n()}finally{sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,i.name)}}else{if(t===0)throw sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new kp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(sa.debug)try{let o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function e_(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Lm(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw new Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}function t_(e){return parseInt(e,16)}function n_(e){let t=new TextEncoder().encode(e);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function r_(e){var t;let{chainId:n,domain:r,expirationTime:i,issuedAt:o=new Date,nonce:a,notBefore:s,requestId:c,resources:l,scheme:d,uri:u,version:p}=e;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!u)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=e.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`)}let h=Lm(e.address),y=d?`${d}://${r}`:r,g=e.statement?`${e.statement}
`:"",v=`${y} wants you to sign in with your Ethereum account:
${h}

${g}`,k=`URI: ${u}
Version: ${p}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${o.toISOString()}`;if(i&&(k+=`
Expiration Time: ${i.toISOString()}`),s&&(k+=`
Not Before: ${s.toISOString()}`),c&&(k+=`
Request ID: ${c}`),l){let A=`
Resources:`;for(let I of l){if(!I||typeof I!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${I}`);A+=`
- ${I}`}k+=A}return`${v}
${k}`}var tt=class extends Error{constructor({message:t,code:n,cause:r,name:i}){var o;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(o=i??(r instanceof Error?r.name:void 0))!==null&&o!==void 0?o:"Unknown Error",this.code=n}},ca=class extends tt{constructor(t,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:t}),this.name="WebAuthnUnknownError",this.originalError=n}};function i_({error:e,options:t}){var n,r,i;let{publicKey:o}=t;if(!o)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new tt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if(e.name==="ConstraintError"){if(((n=o.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new tt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});if(t.mediation==="conditional"&&((r=o.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new tt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});if(((i=o.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new tt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else{if(e.name==="InvalidStateError")return new tt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});if(e.name==="NotAllowedError")return new tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="NotSupportedError")return o.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new tt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}):new tt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});if(e.name==="SecurityError"){let a=window.location.hostname;if(Rm(a)){if(o.rp.id!==a)return new tt({message:`The RP ID "${o.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="TypeError"){if(o.user.id.byteLength<1||o.user.id.byteLength>64)return new tt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if(e.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}function o_({error:e,options:t}){let{publicKey:n}=t;if(!n)throw Error("options was missing required publicKey property");if(e.name==="AbortError"){if(t.signal instanceof AbortSignal)return new tt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else{if(e.name==="NotAllowedError")return new tt({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});if(e.name==="SecurityError"){let r=window.location.hostname;if(Rm(r)){if(n.rpId!==r)return new tt({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else return new tt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e})}else if(e.name==="UnknownError")return new tt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e})}return new tt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}var Om=class{createNewAbortSignal(){if(this.controller){let n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},qR=new Om;function s_(e){if(!e)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:n,excludeCredentials:r}=e,i=go(e,["challenge","user","excludeCredentials"]),o=Qi(t).buffer,a=Object.assign(Object.assign({},n),{id:Qi(n.id).buffer}),s=Object.assign(Object.assign({},i),{challenge:o,user:a});if(r&&r.length>0){s.excludeCredentials=new Array(r.length);for(let c=0;c<r.length;c++){let l=r[c];s.excludeCredentials[c]=Object.assign(Object.assign({},l),{id:Qi(l.id).buffer,type:l.type||"public-key",transports:l.transports})}}return s}function c_(e){if(!e)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:n}=e,r=go(e,["challenge","allowCredentials"]),i=Qi(t).buffer,o=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){o.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){let s=n[a];o.allowCredentials[a]=Object.assign(Object.assign({},s),{id:Qi(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return o}function l_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e;return{id:e.id,rawId:e.id,response:{attestationObject:pi(new Uint8Array(e.response.attestationObject)),clientDataJSON:pi(new Uint8Array(e.response.clientDataJSON))},type:"public-key",clientExtensionResults:e.getClientExtensionResults(),authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function d_(e){var t;if("toJSON"in e&&typeof e.toJSON=="function")return e.toJSON();let n=e,r=e.getClientExtensionResults(),i=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:pi(new Uint8Array(i.authenticatorData)),clientDataJSON:pi(new Uint8Array(i.clientDataJSON)),signature:pi(new Uint8Array(i.signature)),userHandle:i.userHandle?pi(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=n.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Rm(e){return e==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function a_(){var e,t;return!!(Ct()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function UR(e){try{let t=await navigator.credentials.create(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ca("Browser returned unexpected credential type",t)}:{data:null,error:new ca("Empty credential response",t)}}catch(t){return{data:null,error:i_({error:t,options:e})}}}async function $R(e){try{let t=await navigator.credentials.get(e);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new ca("Browser returned unexpected credential type",t)}:{data:null,error:new ca("Empty credential response",t)}}catch(t){return{data:null,error:o_({error:t,options:e})}}}var WR={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},GR={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Mp(...e){let t=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(let i of e)if(i)for(let o in i){let a=i[o];if(a!==void 0)if(Array.isArray(a))r[o]=a;else if(n(a))r[o]=a;else if(t(a)){let s=r[o];t(s)?r[o]=Mp(s,a):r[o]=Mp(a)}else r[o]=a}return r}function KR(e,t){return Mp(WR,e,t||{})}function ZR(e,t){return Mp(GR,e,t||{})}var wp=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:n,friendlyName:r,signal:i},o){try{let{data:a,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:n});if(!a)return{data:null,error:s};let c=i??qR.createNewAbortSignal();if(a.webauthn.type==="create"){let{user:l}=a.webauthn.credential_options.publicKey;l.name||(l.name=`${l.id}:${r}`),l.displayName||(l.displayName=l.name)}switch(a.webauthn.type){case"create":{let l=KR(a.webauthn.credential_options.publicKey,o?.create),{data:d,error:u}=await UR({publicKey:l,signal:c});return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:u}}case"request":{let l=ZR(a.webauthn.credential_options.publicKey,o?.request),{data:d,error:u}=await $R(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:l,signal:c}));return d?{data:{factorId:t,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:u}}}}catch(a){return N(a)?{data:null,error:a}:{data:null,error:new Bn("Unexpected error in challenge",a)}}}async _verify({challengeId:t,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Yi("rpId is required for WebAuthn authentication")};try{if(!a_())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};let{data:a,error:s}=await this.challenge({factorId:t,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:o});if(!a)return{data:null,error:s};let{webauthn:c}=a;return this._verify({factorId:t,challengeId:a.challengeId,webauthn:{type:c.type,rpId:n,rpOrigins:r,credential_response:c.credential_response}})}catch(a){return N(a)?{data:null,error:a}:{data:null,error:new Bn("Unexpected error in authenticate",a)}}}async _register({friendlyName:t,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},o){if(!n)return{data:null,error:new Yi("rpId is required for WebAuthn registration")};try{if(!a_())return{data:null,error:new Bn("Browser does not support WebAuthn",null)};let{data:a,error:s}=await this._enroll({friendlyName:t});if(!a)return await this.client.mfa.listFactors().then(d=>{var u;return(u=d.data)===null||u===void 0?void 0:u.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d?.id}):void 0),{data:null,error:s};let{data:c,error:l}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:o});return c?this._verify({factorId:a.id,challengeId:c.challengeId,webauthn:{rpId:n,rpOrigins:r,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:l}}catch(a){return N(a)?{data:null,error:a}:{data:null,error:new Bn("Unexpected error in register",a)}}}};e_();var XR={url:E3,storageKey:A3,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:T3,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function u_(e,t,n){return await n()}var Rs={},YR=(()=>{class e{get jwks(){var n,r;return(r=(n=Rs[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Rs[this.storageKey]=Object.assign(Object.assign({},Rs[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Rs[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Rs[this.storageKey]=Object.assign(Object.assign({},Rs[this.storageKey]),{cachedAt:n})}constructor(n){var r,i,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let a=Object.assign(Object.assign({},XR),n);if(this.storageKey=a.storageKey,this.instanceID=(r=e.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,e.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!a.debug,typeof a.debug=="function"&&(this.logger=a.debug),this.instanceID>0&&Ct()){let s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=a.persistSession,this.autoRefreshToken=a.autoRefreshToken,this.admin=new Ls({url:a.url,headers:a.headers,fetch:a.fetch}),this.url=a.url,this.headers=a.headers,this.fetch=yp(a.fetch),this.lock=a.lock||u_,this.detectSessionInUrl=a.detectSessionInUrl,this.flowType=a.flowType,this.hasCustomAuthorizationHeader=a.hasCustomAuthorizationHeader,this.throwOnError=a.throwOnError,this.lockAcquireTimeout=a.lockAcquireTimeout,a.lock?this.lock=a.lock:this.persistSession&&Ct()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=Tm:this.lock=u_,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wp(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(a.storage?this.storage=a.storage:fp()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Am(this.memoryStorage)),a.userStorage&&(this.userStorage=a.userStorage)):(this.memoryStorage={},this.storage=Am(this.memoryStorage)),Ct()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${sp}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},i="none";if(Ct()&&(r=q3(window.location.href),this._isImplicitGrantCallback(r)?i="implicit":await this._isPKCECallback(r)&&(i="pkce")),Ct()&&this.detectSessionInUrl&&i!=="none"){let{data:o,error:a}=await this._getSessionFromURL(r,i);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),N3(a)){let l=(n=a.details)===null||n===void 0?void 0:n.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:a}}return{error:a}}let{session:s,redirectType:c}=o;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return N(r)?this._returnResult({error:r}):this._returnResult({error:new Bn("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,i,o;try{let a=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(r=n?.options)===null||r===void 0?void 0:r.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(o=n?.options)===null||o===void 0?void 0:o.captchaToken}},xform:zn}),{data:s,error:c}=a;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});let l=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(a){if(N(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signUp(n){var r,i,o;try{let a;if("email"in n){let{email:u,password:p,options:h}=n,y=null,g=null;this.flowType==="pkce"&&([y,g]=await ia(this.storage,this.storageKey)),a=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h?.emailRedirectTo,body:{email:u,password:p,data:(r=h?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:y,code_challenge_method:g},xform:zn})}else if("phone"in n){let{phone:u,password:p,options:h}=n;a=await $(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:p,data:(i=h?.data)!==null&&i!==void 0?i:{},channel:(o=h?.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:zn})}else throw new Jo("You must provide either an email or phone number and a password");let{data:s,error:c}=a;if(c||!s)return await Et(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:c});let l=s.session,d=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(a){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithPassword(n){try{let r;if("email"in n){let{email:a,password:s,options:c}=n;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Dm})}else if("phone"in n){let{phone:a,password:s,options:c}=n;r=await $(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Dm})}else throw new Jo("You must provide either an email or phone number and a password");let{data:i,error:o}=r;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!i||!i.session||!i.user){let a=new hi;return this._returnResult({data:{user:null,session:null},error:a})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:o})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,i,o,a;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(i=n.options)===null||i===void 0?void 0:i.scopes,queryParams:(o=n.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(a=n.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){let{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,i,o,a,s,c,l,d,u,p,h;let y,g;if("message"in n)y=n.message,g=n.signature;else{let{chain:v,wallet:k,statement:A,options:I}=n,_;if(Ct())if(typeof k=="object")_=k;else{let tn=window;if("ethereum"in tn&&typeof tn.ethereum=="object"&&"request"in tn.ethereum&&typeof tn.ethereum.request=="function")_=tn.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof k!="object"||!I?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=k}let pe=new URL((r=I?.url)!==null&&r!==void 0?r:window.location.href),Be=await _.request({method:"eth_requestAccounts"}).then(tn=>tn).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!Be||Be.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let re=Lm(Be[0]),se=(i=I?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!se){let tn=await _.request({method:"eth_chainId"});se=t_(tn)}let Te={domain:pe.host,address:re,statement:A,uri:pe.href,version:"1",chainId:se,nonce:(o=I?.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(s=(a=I?.signInWithEthereum)===null||a===void 0?void 0:a.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=I?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(l=I?.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(d=I?.signInWithEthereum)===null||d===void 0?void 0:d.requestId,resources:(u=I?.signInWithEthereum)===null||u===void 0?void 0:u.resources};y=r_(Te),g=await _.request({method:"personal_sign",params:[n_(y),re]})}try{let{data:v,error:k}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:g},!((p=n.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(h=n.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:zn});if(k)throw k;if(!v||!v.session||!v.user){let A=new hi;return this._returnResult({data:{user:null,session:null},error:A})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:k})}catch(v){if(N(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async signInWithSolana(n){var r,i,o,a,s,c,l,d,u,p,h,y;let g,v;if("message"in n)g=n.message,v=n.signature;else{let{chain:k,wallet:A,statement:I,options:_}=n,pe;if(Ct())if(typeof A=="object")pe=A;else{let re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))pe=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof A!="object"||!_?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");pe=A}let Be=new URL((r=_?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in pe&&pe.signIn){let re=await pe.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_?.signInWithSolana),{version:"1",domain:Be.host,uri:Be.href}),I?{statement:I}:null)),se;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")se=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)se=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)g=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),v=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in pe)||typeof pe.signMessage!="function"||!("publicKey"in pe)||typeof pe!="object"||!pe.publicKey||!("toBase58"in pe.publicKey)||typeof pe.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");g=[`${Be.host} wants you to sign in with your Solana account:`,pe.publicKey.toBase58(),...I?["",I,""]:[""],"Version: 1",`URI: ${Be.href}`,`Issued At: ${(o=(i=_?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((a=_?.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((s=_?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((c=_?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_?.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((d=_?.signInWithSolana)===null||d===void 0)&&d.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((p=(u=_?.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||p===void 0)&&p.length?["Resources",..._.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);let re=await pe.signMessage(new TextEncoder().encode(g),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");v=re}}try{let{data:k,error:A}=await $(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:g,signature:pi(v)},!((h=n.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(y=n.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:zn});if(A)throw A;if(!k||!k.session||!k.user){let I=new hi;return this._returnResult({data:{user:null,session:null},error:I})}return k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),this._returnResult({data:Object.assign({},k),error:A})}catch(k){if(N(k))return this._returnResult({data:{user:null,session:null},error:k});throw k}}async _exchangeCodeForSession(n){let r=await Ji(this.storage,`${this.storageKey}-code-verifier`),[i,o]=(r??"").split("/");try{if(!i&&this.flowType==="pkce")throw new up;let{data:a,error:s}=await $(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:i},xform:zn});if(await Et(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!a||!a.session||!a.user){let c=new hi;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign(Object.assign({},a),{redirectType:o??null}),error:s})}catch(a){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:{user:null,session:null,redirectType:null},error:a});throw a}}async signInWithIdToken(n){try{let{options:r,provider:i,token:o,access_token:a,nonce:s}=n,c=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:o,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:zn}),{data:l,error:d}=c;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){let u=new hi;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:d})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,i,o,a,s;try{if("email"in n){let{email:c,options:l}=n,d=null,u=null;this.flowType==="pkce"&&([d,u]=await ia(this.storage,this.storageKey));let{error:p}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(r=l?.data)!==null&&r!==void 0?r:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:d,code_challenge_method:u},redirectTo:l?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in n){let{phone:c,options:l}=n,{data:d,error:u}=await $(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(o=l?.data)!==null&&o!==void 0?o:{},create_user:(a=l?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(s=l?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:u})}throw new Jo("You must provide either an email or phone number.")}catch(c){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(n){var r,i;try{let o,a;"options"in n&&(o=(r=n.options)===null||r===void 0?void 0:r.redirectTo,a=(i=n.options)===null||i===void 0?void 0:i.captchaToken);let{data:s,error:c}=await $(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:a}}),redirectTo:o,xform:zn});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let l=s.session,d=s.user;return l?.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:d,session:l},error:null})}catch(o){if(N(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(n){var r,i,o,a,s;try{let c=null,l=null;this.flowType==="pkce"&&([c,l]=await ia(this.storage,this.storageKey));let d=await $(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(i=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&i!==void 0?i:void 0}),!((o=n?.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:l}),headers:this.headers,xform:Q3});return!((a=d.data)===null||a===void 0)&&a.url&&Ct()&&!(!((s=n.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(d.data.url),this._returnResult(d)}catch(c){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;if(i)throw i;if(!r)throw new Nt;let{error:o}=await $(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(n){if(N(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{let r=`${this.url}/resend`;if("email"in n){let{email:i,type:o,options:a}=n,{error:s}=await $(this.fetch,"POST",r,{headers:this.headers,body:{email:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}},redirectTo:a?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in n){let{phone:i,type:o,options:a}=n,{data:s,error:c}=await $(this.fetch,"POST",r,{headers:this.headers,body:{phone:i,type:o,gotrue_meta_security:{captcha_token:a?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new Jo("You must provide either an email or phone number and a type")}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await i,await r()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=r();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){let o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{let r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null,r=await Ji(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};let i=n.expires_at?n.expires_at*1e3-Date.now()<lp:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",n.expires_at),!i){if(this.userStorage){let s=await Ji(this.userStorage,this.storageKey+"-user");s?.user?n.user=s.user:n.user=mp()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};n.user=X3(n.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}let{data:o,error:a}=await this._callRefreshToken(n.refresh_token);return a?this._returnResult({data:{session:null},error:a}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;let r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:jr}):await this._useSession(async r=>{var i,o,a;let{data:s,error:c}=r;if(c)throw c;return!(!((i=s.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Nt}:await $(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(o=s.session)===null||o===void 0?void 0:o.access_token)!==null&&a!==void 0?a:void 0,xform:jr})})}catch(r){if(N(r))return P3(r)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async i=>{let{data:o,error:a}=i;if(a)throw a;if(!o.session)throw new Nt;let s=o.session,c=null,l=null;this.flowType==="pkce"&&n.email!=null&&([c,l]=await ia(this.storage,this.storageKey));let{data:d,error:u}=await $(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:c,code_challenge_method:l}),jwt:s.access_token,xform:jr});if(u)throw u;return s.user=d.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(i){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Nt;let r=Date.now()/1e3,i=r,o=!0,a=null,{payload:s}=gp(n.access_token);if(s.exp&&(i=s.exp,o=i<=r),o){let{data:c,error:l}=await this._callRefreshToken(n.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!c)return{data:{user:null,session:null},error:null};a=c}else{let{data:c,error:l}=await this._getUser(n.access_token);if(l)throw l;a={access_token:n.access_token,refresh_token:n.refresh_token,user:c.user,token_type:"bearer",expires_in:i-r,expires_at:i},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return this._returnResult({data:{user:a.user,session:a},error:null})}catch(r){if(N(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var i;if(!n){let{data:s,error:c}=r;if(c)throw c;n=(i=s.session)!==null&&i!==void 0?i:void 0}if(!n?.refresh_token)throw new Nt;let{data:o,error:a}=await this._callRefreshToken(n.refresh_token);return a?this._returnResult({data:{user:null,session:null},error:a}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(N(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!Ct())throw new ea("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ea(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new cd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ea("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new cd("No code detected.");let{data:I,error:_}=await this._exchangeCodeForSession(n.code);if(_)throw _;let pe=new URL(window.location.href);return pe.searchParams.delete("code"),window.history.replaceState(window.history.state,"",pe.toString()),{data:{session:I.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:o,access_token:a,refresh_token:s,expires_in:c,expires_at:l,token_type:d}=n;if(!a||!c||!s||!d)throw new ea("No session defined in URL");let u=Math.round(Date.now()/1e3),p=parseInt(c),h=u+p;l&&(h=parseInt(l));let y=h-u;y*1e3<=Qo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let g=h-p;u-g>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",g,h,u):u-g<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",g,h,u);let{data:v,error:k}=await this._getUser(a);if(k)throw k;let A={provider_token:i,provider_refresh_token:o,access_token:a,expires_in:p,expires_at:h,refresh_token:s,token_type:d,user:v.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:A,redirectType:n.type},error:null})}catch(i){if(N(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){let r=await Ji(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var i;let{data:o,error:a}=r;if(a)return this._returnResult({error:a});let s=(i=o.session)===null||i===void 0?void 0:i.access_token;if(s){let{error:c}=await this.admin.signOut(s,n);if(c&&!(O3(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return n!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){let r=z3(),i={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:i}}}async _emitInitialSession(n){return await this._useSession(async r=>{var i,o;try{let{data:{session:a},error:s}=r;if(s)throw s;await((i=this.stateChangeEmitters.get(n))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",n,"session",a)}catch(a){await((o=this.stateChangeEmitters.get(n))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",a),console.error(a)}})}async resetPasswordForEmail(n,r={}){let i=null,o=null;this.flowType==="pkce"&&([i,o]=await ia(this.storage,this.storageKey,!0));try{return await $(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:i,code_challenge_method:o,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(a))return this._returnResult({data:null,error:a});throw a}}async getUserIdentities(){var n;try{let{data:r,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{let{data:i,error:o}=await this._useSession(async a=>{var s,c,l,d,u;let{data:p,error:h}=a;if(h)throw h;let y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(s=n.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=n.options)===null||c===void 0?void 0:c.scopes,queryParams:(l=n.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await $(this.fetch,"GET",y,{headers:this.headers,jwt:(u=(d=p.session)===null||d===void 0?void 0:d.access_token)!==null&&u!==void 0?u:void 0})});if(o)throw o;return Ct()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:n.provider,url:i?.url},error:null})}catch(i){if(N(i))return this._returnResult({data:{provider:n.provider,url:null},error:i});throw i}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var i;try{let{error:o,data:{session:a}}=r;if(o)throw o;let{options:s,provider:c,token:l,access_token:d,nonce:u}=n,p=await $(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=a?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:c,id_token:l,access_token:d,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:zn}),{data:h,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!h||!h.session||!h.user?this._returnResult({data:{user:null,session:null},error:new hi}):(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("USER_UPDATED",h.session)),this._returnResult({data:h,error:y}))}catch(o){if(await Et(this.storage,`${this.storageKey}-code-verifier`),N(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var i,o;let{data:a,error:s}=r;if(s)throw s;return await $(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(o=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){let r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{let i=Date.now();return await W3(async o=>(o>0&&await $3(200*Math.pow(2,o-1)),this._debug(r,"refreshing attempt",o),await $(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:zn})),(o,a)=>{let s=200*Math.pow(2,o);return a&&hp(a)&&Date.now()+s-i<Qo})}catch(i){if(this._debug(r,"error",i),N(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){let i=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",i),Ct()&&!r.skipBrowserRedirect&&window.location.assign(i),{data:{provider:n,url:i},error:null}}async _recoverAndRefresh(){var n,r;let i="#_recoverAndRefresh()";this._debug(i,"begin");try{let o=await Ji(this.storage,this.storageKey);if(o&&this.userStorage){let s=await Ji(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:o.user},await ra(this.userStorage,this.storageKey+"-user",s)),o.user=(n=s?.user)!==null&&n!==void 0?n:mp()}else if(o&&!o.user&&!o.user){let s=await Ji(this.storage,this.storageKey+"-user");s&&s?.user?(o.user=s.user,await Et(this.storage,this.storageKey+"-user"),await ra(this.storage,this.storageKey,o)):o.user=mp()}if(this._debug(i,"session from storage",o),!this._isValidSession(o)){this._debug(i,"session is not valid"),o!==null&&await this._removeSession();return}let a=((r=o.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<lp;if(this._debug(i,`session has${a?"":" not"} expired with margin of ${lp}s`),a){if(this.autoRefreshToken&&o.refresh_token){let{error:s}=await this._callRefreshToken(o.refresh_token);s&&(console.error(s),hp(s)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=await this._getUser(o.access_token);!c&&s?.user?(o.user=s.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(i,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(i,"error",o),console.error(o);return}finally{this._debug(i,"end")}}async _callRefreshToken(n){var r,i;if(!n)throw new Nt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let o=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new dd;let{data:a,error:s}=await this._refreshAccessToken(n);if(s)throw s;if(!a.session)throw new Nt;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);let c={data:a.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(a){if(this._debug(o,"error",a),N(a)){let s={data:null,error:a};return hp(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(s),s}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(a),a}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(n,r,i=!0){let o=`#_notifyAllSubscribers(${n})`;this._debug(o,"begin",r,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:n,session:r});let a=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(n,r)}catch(l){a.push(l)}});if(await Promise.all(s),a.length>0){for(let c=0;c<a.length;c+=1)console.error(a[c]);throw a[0]}}finally{this._debug(o,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Et(this.storage,`${this.storageKey}-code-verifier`);let r=Object.assign({},n),i=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&r.user&&await ra(this.userStorage,this.storageKey+"-user",{user:r.user});let o=Object.assign({},r);delete o.user;let a=xm(o);await ra(this.storage,this.storageKey,a)}else{let o=xm(r);await ra(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&Ct()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let n=setInterval(()=>this._autoRefreshTokenTick(),Qo);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);let r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);let r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let n=Date.now();try{return await this._useSession(async r=>{let{data:{session:i}}=r;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let o=Math.floor((i.expires_at*1e3-n)/Qo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Qo}ms, refresh threshold is ${cp} ticks`),o<=cp&&await this._callRefreshToken(i.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof ud)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ct()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){let r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,i){let o=[`provider=${encodeURIComponent(r)}`];if(i?.redirectTo&&o.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&o.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[a,s]=await ia(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(s)}`});o.push(c.toString())}if(i?.queryParams){let a=new URLSearchParams(i.queryParams);o.push(a.toString())}return i?.skipBrowserRedirect&&o.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${n}?${o.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var i;let{data:o,error:a}=r;return a?this._returnResult({data:null,error:a}):await $(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var i,o;let{data:a,error:s}=r;if(s)return this._returnResult({data:null,error:s});let c=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:l,error:d}=await $(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(i=a?.session)===null||i===void 0?void 0:i.access_token});return d?this._returnResult({data:null,error:d}):(n.factorType==="totp"&&l.type==="totp"&&(!((o=l?.totp)===null||o===void 0)&&o.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});let s=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?l_(n.webauthn.credential_response):d_(n.webauthn.credential_response)})}:{code:n.code}),{data:c,error:l}=await $(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:s,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:l}))})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var i;let{data:o,error:a}=r;if(a)return this._returnResult({data:null,error:a});let s=await $(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:s_(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:c_(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){let{data:r,error:i}=await this._challenge({factorId:n.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;let{data:{user:r},error:i}=await this.getUser();if(i)return{data:null,error:i};let o={all:[],phone:[],totp:[],webauthn:[]};for(let a of(n=r?.factors)!==null&&n!==void 0?n:[])o.all.push(a),a.status==="verified"&&o[a.factor_type].push(a);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;let{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=gp(i.access_token),s=null;a.aal&&(s=a.aal);let c=s;((r=(n=i.user.factors)===null||n===void 0?void 0:n.filter(u=>u.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(c="aal2");let d=a.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:d},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?await $(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:i.access_token,xform:a=>({data:a,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Nt});let s=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(n,r){try{return await this._useSession(async i=>{let{data:{session:o},error:a}=i;if(a)return this._returnResult({data:null,error:a});if(!o)return this._returnResult({data:null,error:new Nt});let s=await $(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&Ct()&&!r?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async n=>{let{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await $(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Nt})})}catch(n){if(N(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;return o?this._returnResult({data:null,error:o}):i?(await $(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Nt})})}catch(r){if(N(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let i=r.keys.find(c=>c.kid===n);if(i)return i;let o=Date.now();if(i=this.jwks.keys.find(c=>c.kid===n),i&&this.jwks_cached_at+R3>o)return i;let{data:a,error:s}=await $(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=o,i=a.keys.find(c=>c.kid===n),!i)?null:i}async getClaims(n,r={}){try{let i=n;if(!i){let{data:y,error:g}=await this.getSession();if(g||!y.session)return this._returnResult({data:null,error:g});i=y.session.access_token}let{header:o,payload:a,signature:s,raw:{header:c,payload:l}}=gp(i);r?.allowExpired||K3(a.exp);let d=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!d){let{error:y}=await this.getUser(i);if(y)throw y;return{data:{claims:a,header:o,signature:s},error:null}}let u=Z3(o.alg),p=await crypto.subtle.importKey("jwk",d,u,!0,["verify"]);if(!await crypto.subtle.verify(u,p,s,H3(`${c}.${l}`)))throw new ta("Invalid JWT signature");return{data:{claims:a,header:o,signature:s},error:null}}catch(i){if(N(i))return this._returnResult({data:null,error:i});throw i}}}return e.nextInstanceID={},e})(),Pm=YR;var QR=Pm,Nm=QR;var JR="2.90.1",hd="";typeof Deno<"u"?hd="deno":typeof document<"u"?hd="web":typeof navigator<"u"&&navigator.product==="ReactNative"?hd="react-native":hd="node";var eO={"X-Client-Info":`supabase-js-${hd}/${JR}`},tO={headers:eO},nO={schema:"public"},rO={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},iO={};function pd(e){"@babel/helpers - typeof";return pd=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},pd(e)}function oO(e,t){if(pd(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(pd(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aO(e){var t=oO(e,"string");return pd(t)=="symbol"?t:t+""}function sO(e,t,n){return(t=aO(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function h_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function st(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(n),!0).forEach(function(r){sO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}var cO=e=>e?(...t)=>e(...t):(...t)=>fetch(...t),lO=()=>Headers,dO=(e,t,n)=>{let r=cO(n),i=lO();return async(o,a)=>{var s;let c=(s=await t())!==null&&s!==void 0?s:e,l=new i(a?.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${c}`),r(o,st(st({},a),{},{headers:l}))}};function uO(e){return e.endsWith("/")?e:e+"/"}function hO(e,t){var n,r;let{db:i,auth:o,realtime:a,global:s}=e,{db:c,auth:l,realtime:d,global:u}=t,p={db:st(st({},c),i),auth:st(st({},l),o),realtime:st(st({},d),a),storage:{},global:st(st(st({},u),s),{},{headers:st(st({},(n=u?.headers)!==null&&n!==void 0?n:{}),(r=s?.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return e.accessToken?p.accessToken=e.accessToken:delete p.accessToken,p}function pO(e){let t=e?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(uO(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var fO=class extends Nm{constructor(e){super(e)}},yO=class{constructor(e,t,n){var r,i;this.supabaseUrl=e,this.supabaseKey=t;let o=pO(e);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);let a=`sb-${o.hostname.split(".")[0]}-auth-token`,s={db:nO,realtime:iO,auth:st(st({},rO),{},{storageKey:a}),global:tO},c=hO(n??{},s);if(this.storageKey=(r=c.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=c.global.headers)!==null&&i!==void 0?i:{},c.accessToken)this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(d,u)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(u)} is not possible`)}});else{var l;this.auth=this._initSupabaseAuthClient((l=c.auth)!==null&&l!==void 0?l:{},this.headers,c.global.fetch)}this.fetch=dO(t,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(st({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new h3(new URL("rest/v1",o).href,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),this.storage=new D3(this.storageUrl.href,this.headers,this.fetch,n?.storage),c.accessToken||this._listenForAuthEvents()}get functions(){return new Yl(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e=this,t,n;if(e.accessToken)return await e.accessToken();let{data:r}=await e.auth.getSession();return(t=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&t!==void 0?t:e.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:o,flowType:a,lock:s,debug:c,throwOnError:l},d,u){let p={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fO({url:this.authUrl.href,headers:st(st({},p),d),storageKey:o,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:s,debug:c,throwOnError:l,fetch:u,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new nd(this.realtimeUrl.href,st(st({},e),{},{params:st(st({},{apikey:this.supabaseKey}),e?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",t?.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}},p_=(e,t,n)=>new yO(e,t,n);function gO(){if(typeof window<"u")return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(t==null)return!1;let n=t.match(/^v(\d+)\./);return n?parseInt(n[1],10)<=18:!1}gO()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var Fm={supabaseUrl:"https://wxltfyevnqrmqrtszpkp.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4bHRmeWV2bnFybXFydHN6cGtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5NDI2MDIsImV4cCI6MjA3ODUxODYwMn0.lvBJos0aR01yUQePUCv53NFYjUJS64IV7OUzZ4uU1Mo"};var Fe=p_(Fm.supabaseUrl,Fm.supabaseKey);var Os=class e{getUser(){return G(Fe.auth.getUser()).pipe(E(({data:t})=>t.user??null),lt(1))}login(t,n){return G(Fe.auth.signInWithPassword({email:t,password:n})).pipe(lt(1),E(r=>{if(r.error)throw r.error;return r}))}logout(){return G(Fe.auth.signOut())}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};function He(e){return t=>t.pipe(E(n=>e.next(n)),_i(n=>ee(e.error(n))))}function f_(){let e=f(am),t=f(Os),n=f(Vn);return{getUser$:e.on(Qe.getUser).pipe(le(()=>t.getUser().pipe(He({next:r=>Qe.getUserSuccess(r),error:r=>Qe.getUserFailure(r)})))),login$:e.on(Qe.login).pipe(le(({payload:{email:r,password:i}})=>t.login(r,i).pipe(He({next:()=>Qe.loginSuccess(),error(o){return Qe.loginFailure(o.message)}})))),getUserOnLoginSuccess$:e.on(Qe.loginSuccess).pipe(E(()=>Qe.getUser())),navigateOnLoginSuccess$:e.on(Qe.loginSuccess).pipe(vt(()=>n.navigate(["/base"]))),logout$:e.on(Qe.logout).pipe(le(()=>t.logout().pipe(He({next:()=>Qe.logoutSuccess(),error:r=>Qe.logoutFailure(r)})))),navigateOnLogoutSuccess$:e.on(Qe.logoutSuccess).pipe(vt(()=>n.navigate(["/login"])))}}var bp=G1(J1("users",Q1()),bs({user:null,loadProcessStatus:"init",isLoggedIn:!1,loginError:null}),Cs(()=>f_()),ep(xe(Qe.getUserSuccess,({payload:e})=>({user:e??null,loadProcessStatus:"success",isLoggedIn:e!==null})),xe(Qe.getUserFailure,()=>({loadProcessStatus:"error"})),xe(Qe.loginSuccess,()=>({isLoggedIn:!0})),xe(Qe.loginFailure,({payload:e})=>({loginError:e})),xe(Qe.logoutSuccess,()=>({isLoggedIn:!1,user:null}))));var Ps=class e{dispatcher=f(Z1);store=f(bp);user=this.store.user;isLoggedIn=this.store.isLoggedIn;loginError=this.store.loginError;loadProcessStatus$=W1(this.store.loadProcessStatus);getUser(){this.dispatcher.dispatch(Qe.getUser())}login(t,n){this.dispatcher.dispatch(Qe.login({email:t,password:n}))}logout(){this.dispatcher.dispatch(Qe.logout())}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};function soe(){return[Os,Ps,bp]}var R=X1({source:"Monthly Check",events:{create:void 0,createSuccess:void 0,createFailure:void 0,getCurrentWeek:void 0,getCurrentWeekSuccess:void 0,getMonth:void 0,getMonthSuccess:void 0,getMonthFailure:void 0,getCreatedMonths:void 0,getCreatedMonthsSuccess:void 0,getCreatedMonthsFailure:void 0,addRevenue:void 0,addRevenueSuccess:void 0,addRevenueFailure:void 0,updateRevenue:void 0,updateRevenueSuccess:void 0,updateRevenueFailure:void 0,deleteRevenue:void 0,deleteRevenueSuccess:void 0,deleteRevenueFailure:void 0,addFixedCost:void 0,addFixedCostSuccess:void 0,addFixedCostFailure:void 0,updateFixedCost:void 0,updateFixedCostSuccess:void 0,updateFixedCostFailure:void 0,deleteFixedCost:void 0,deleteFixedCostSuccess:void 0,deleteFixedCostFailure:void 0,addVariableCost:void 0,addVariableCostSuccess:void 0,addVariableCostFailure:void 0,updateVariableCost:void 0,updateVariableCostSuccess:void 0,updateVariableCostFailure:void 0,deleteVariableCost:void 0,deleteVariableCostSuccess:void 0,deleteVariableCostFailure:void 0,addVariableCostHistoryEntry:void 0,addVariableCostHistoryEntrySuccess:void 0,addVariableCostHistoryEntryFailure:void 0,removeVariableCostHistoryEntry:void 0,removeVariableCostHistoryEntrySuccess:void 0,removeVariableCostHistoryEntryFailure:void 0,deleteVariableCostHistoryEntry:void 0,deleteVariableCostHistoryEntrySuccess:void 0,deleteVariableCostHistoryEntryFailure:void 0,updateVariableCostHistoryEntry:void 0,updateVariableCostHistoryEntrySuccess:void 0,updateVariableCostHistoryEntryFailure:void 0,addBudget:void 0,addBudgetSuccess:void 0,addBudgetFailure:void 0,updateBudget:void 0,updateBudgetSuccess:void 0,updateBudgetFailure:void 0,deleteBudget:void 0,deleteBudgetSuccess:void 0,deleteBudgetFailure:void 0,addBudgetHistoryEntry:void 0,addBudgetHistoryEntrySuccess:void 0,addBudgetHistoryEntryFailure:void 0,deleteBudgetHistoryEntry:void 0,deleteBudgetHistoryEntrySuccess:void 0,deleteBudgetHistoryEntryFailure:void 0,updateBudgetHistoryEntry:void 0,updateBudgetHistoryEntrySuccess:void 0,updateBudgetHistoryEntryFailure:void 0}}),w={create:R.create,createSuccess:R.createSuccess,createFailure:R.createFailure,getMonth:R.getMonth,getMonthSuccess:R.getMonthSuccess,getMonthFailure:R.getMonthFailure,getCurrentWeek:R.getCurrentWeek,getCurrentWeekSuccess:R.getCurrentWeekSuccess,getCreatedMonths:R.getCreatedMonths,getCreatedMonthsSuccess:R.getCreatedMonthsSuccess,getCreatedMonthsFailure:R.getCreatedMonthsFailure,addRevenue:R.addRevenue,addRevenueSuccess:R.addRevenueSuccess,addRevenueFailure:R.addRevenueFailure,updateRevenue:R.updateRevenue,updateRevenueSuccess:R.updateRevenueSuccess,updateRevenueFailure:R.updateRevenueFailure,deleteRevenue:R.deleteRevenue,deleteRevenueSuccess:R.deleteRevenueSuccess,deleteRevenueFailure:R.deleteRevenueFailure,addFixedCost:R.addFixedCost,addFixedCostSuccess:R.addFixedCostSuccess,addFixedCostFailure:R.addFixedCostFailure,updateFixedCost:R.updateFixedCost,updateFixedCostSuccess:R.updateFixedCostSuccess,updateFixedCostFailure:R.updateFixedCostFailure,deleteFixedCost:R.deleteFixedCost,deleteFixedCostSuccess:R.deleteFixedCostSuccess,deleteFixedCostFailure:R.deleteFixedCostFailure,addVariableCost:R.addVariableCost,addVariableCostSuccess:R.addVariableCostSuccess,addVariableCostFailure:R.addVariableCostFailure,updateVariableCost:R.updateVariableCost,updateVariableCostSuccess:R.updateVariableCostSuccess,updateVariableCostFailure:R.updateVariableCostFailure,deleteVariableCost:R.deleteVariableCost,deleteVariableCostSuccess:R.deleteVariableCostSuccess,deleteVariableCostFailure:R.deleteVariableCostFailure,addVariableCostHistoryEntry:R.addVariableCostHistoryEntry,addVariableCostHistoryEntrySuccess:R.addVariableCostHistoryEntrySuccess,addVariableCostHistoryEntryFailure:R.addVariableCostHistoryEntryFailure,deleteVariableCostHistoryEntry:R.deleteVariableCostHistoryEntry,deleteVariableCostHistoryEntrySuccess:R.deleteVariableCostHistoryEntrySuccess,deleteVariableCostHistoryEntryFailure:R.deleteVariableCostHistoryEntryFailure,updateVariableCostHistoryEntry:R.updateVariableCostHistoryEntry,updateVariableCostHistoryEntrySuccess:R.updateVariableCostHistoryEntrySuccess,updateVariableCostHistoryEntryFailure:R.updateVariableCostHistoryEntryFailure,addBudget:R.addBudget,addBudgetSuccess:R.addBudgetSuccess,addBudgetFailure:R.addBudgetFailure,updateBudget:R.updateBudget,updateBudgetSuccess:R.updateBudgetSuccess,updateBudgetFailure:R.updateBudgetFailure,deleteBudget:R.deleteBudget,deleteBudgetSuccess:R.deleteBudgetSuccess,deleteBudgetFailure:R.deleteBudgetFailure,addBudgetHistoryEntry:R.addBudgetHistoryEntry,addBudgetHistoryEntrySuccess:R.addBudgetHistoryEntrySuccess,addBudgetHistoryEntryFailure:R.addBudgetHistoryEntryFailure,deleteBudgetHistoryEntry:R.deleteBudgetHistoryEntry,deleteBudgetHistoryEntrySuccess:R.deleteBudgetHistoryEntrySuccess,deleteBudgetHistoryEntryFailure:R.deleteBudgetHistoryEntryFailure,updateBudgetHistoryEntry:R.updateBudgetHistoryEntry,updateBudgetHistoryEntrySuccess:R.updateBudgetHistoryEntrySuccess,updateBudgetHistoryEntryFailure:R.updateBudgetHistoryEntryFailure};var y_=If(Cp());var Ns=class e{createMonth(t){return G(Fe.rpc("create_monthly_snapshot",{p_month:t}))}getCreatedMonths(){return G(Fe.from("monthly_snapshots").select("month")).pipe(E(t=>t.data?.map(n=>n.month.substring(0,7))??[]))}getMonth(t){return G(Fe.from("monthly_snapshots").select("*").eq("month",t).single()).pipe(E(n=>n.data))}getCurrentWeeklyCheck(){let t=(0,y_.default)().week();return G(Fe.from("weekly_check").select("*").eq("cw",t).single()).pipe(E(n=>n.data??null))}addRevenue(t){return G(Fe.rpc("add_monthly_snapshot_revenue_line",{p_snapshot_id:t,p_line:{value:0,category:""}}).select("*").single()).pipe(E(n=>({revenue:n.data.retval_line,total:n.data.retval_revenue_total})))}updateRevenue(t,n){return G(Fe.rpc("update_monthly_snapshot_revenue_line",{p_snapshot_id:t,p_line_id:n.id.toString(),p_new_values:{value:n.value,category:n.category}}).select("*").single()).pipe(E(r=>({revenue:r.data.retval_revenue_lines,total:r.data.retval_revenue_total})))}deleteRevenue(t,n){return G(Fe.rpc("delete_monthly_snapshot_revenue_line",{p_snapshot_id:t,p_line_id:n.toString()}).select("*").single()).pipe(E(r=>({revenue:r.data.retval_revenue_lines,total:r.data.retval_revenue_total})))}addFixedCost(t){return G(Fe.rpc("add_monthly_snapshot_fixed_costs_line",{p_snapshot_id:t,p_line:{value:0,category:""}}).select("*").single()).pipe(E(n=>({fixedCost:n.data.retval_line,total:n.data.retval_fixed_costs_total})))}updateFixedCost(t,n){return G(Fe.rpc("update_monthly_snapshot_fixed_costs_line",{p_snapshot_id:t,p_line_id:n.id.toString(),p_new_values:{value:n.value,category:n.category}}).select("*").single()).pipe(E(r=>({fixedCosts:r.data.retval_fixed_costs,total:r.data.retval_fixed_costs_total})))}deleteFixedCost(t,n){return G(Fe.rpc("delete_monthly_snapshot_fixed_costs_line",{p_snapshot_id:t,p_line_id:n.toString()}).select("*").single()).pipe(E(r=>({fixedCosts:r.data.retval_fixed_costs,total:r.data.retval_fixed_costs_total})))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};var Fs=class e{addVariableCost(t){return G(Fe.rpc("add_monthly_snapshot_variable_costs_line",{p_snapshot_id:t,p_line:{value:0,category:"Neu",forecast:0,history:[]}}).select("*").single()).pipe(E(n=>({variableCost:n.data.retval_line,total:n.data.retval_variable_costs_total})))}updateVariableCost(t,n){return G(Fe.rpc("update_monthly_snapshot_variable_costs_line",{p_snapshot_id:t,p_line_id:n.id.toString(),p_new_values:{value:n.value,category:n.category,forecast:n.forecast}}).select("*").single()).pipe(E(r=>({variableCosts:r.data.out_variable_costs_lines,total:r.data.out_variable_costs_total})))}deleteVariableCost(t,n){return G(Fe.rpc("delete_monthly_snapshot_variable_costs_line",{p_snapshot_id:t,p_line_id:n.toString()}).select("*").single()).pipe(E(r=>({variableCosts:r.data.retval_variable_costs,total:r.data.retval_variable_costs_total})))}addVariableCostHistoryEntry(t,n){return G(Fe.rpc("add_variable_costs_history_entry",{p_snapshot_id:t,p_line_id:n}).select("*").single()).pipe(E(r=>({variableCosts:r.data.variable_costs_lines,total:r.data.variable_costs_total})))}updateVariableCostHistoryEntry(t,n,r){return G(Fe.rpc("update_variable_costs_history_entry",{p_snapshot_id:t,p_line_id:n,p_history_item:r}).select("*").single()).pipe(E(i=>({variableCosts:i.data.variable_costs_lines,total:i.data.variable_costs_total})))}deleteVariableCostHistoryEntry(t,n,r){return G(Fe.rpc("delete_monthly_snapshot_variable_costs_history_entry",{p_history_item_id:r,p_line_id:n,p_snapshot_id:t}).select("*").single()).pipe(E(i=>({variableCosts:i.data.out_variable_costs_lines,total:i.data.out_variable_costs_total})))}addBudget(t){return G(Fe.rpc("add_monthly_snapshot_budget_line",{p_snapshot_id:t,p_line:{value:0,category:"Neu",forecast:0,history:[]}}))}updateBudget(t,n){return G(Fe.rpc("update_monthly_snapshot_budget_line",{p_snapshot_id:t,p_line_id:n.id.toString(),p_new_values:{value:n.value,category:n.category,forecast:n.forecast}}))}deleteBudget(t,n){return G(Fe.rpc("delete_monthly_snapshot_budget_line",{p_snapshot_id:t,p_line_id:n}))}addBudgetHistoryEntry(t,n){return G(Fe.rpc("add_budget_history_entry",{p_snapshot_id:t,p_line_id:n}))}deleteBudgetHistoryEntry(t,n,r){return G(Fe.rpc("delete_monthly_snapshot_budget_history_entry",{p_snapshot_id:t,p_line_id:n,p_history_item_id:r}))}updateBudgetHistoryEntry(t,n,r){return G(Fe.rpc("update_budget_history_entry",{p_snapshot_id:t,p_line_id:n,p_history_item:r}).select("*")).pipe(E(i=>({budgets:i.data.budget_lines})))}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};var g_=If(Cp());function m_(e,t=f(Ns),n=f(Fs),r=f(Zl),i=f(Vn)){function o(){return vc(E(()=>Gt(e).month.id))}return{create$:r.on(w.create).pipe(le(({payload:a})=>t.createMonth(a).pipe(He({next:()=>w.createSuccess(a),error:s=>w.createFailure(s)})))),navigateOnCreateSuccess$:r.on(w.createSuccess).pipe(le(({payload:a})=>{let s=(0,g_.default)(a);return i.navigateByUrl(`/monthly-check/${s.year()}/${s.format("MM")}`)})),getCreatedMonths$:r.on(w.getCreatedMonths).pipe(le(()=>t.getCreatedMonths().pipe(He({next:a=>w.getCreatedMonthsSuccess(a),error:a=>w.getCreatedMonthsFailure(a)})))),getMonth$:r.on(w.getMonth).pipe(le(({payload:a})=>t.getMonth(a).pipe(He({next:s=>w.getMonthSuccess(s),error:s=>w.getMonthFailure(s)})))),loadCurrent$:r.on(w.getCurrentWeek).pipe(le(()=>t.getCurrentWeeklyCheck().pipe(He({next:a=>w.getCurrentWeekSuccess(a),error:console.error})))),addRevenue$:r.on(w.addRevenue).pipe(o(),le(a=>t.addRevenue(a).pipe(He({next:s=>w.addRevenueSuccess(s),error:s=>w.addRevenueFailure(s)})))),updateRevenue$:r.on(w.updateRevenue).pipe(le(({payload:{revenue:a,monthId:s}})=>t.updateRevenue(s,a).pipe(He({next:c=>w.updateRevenueSuccess(c),error:c=>w.updateRevenueFailure(c)})))),deleteRevenue$:r.on(w.deleteRevenue).pipe(le(({payload:{monthId:a,revenueId:s}})=>t.deleteRevenue(a,s).pipe(He({next:c=>w.deleteRevenueSuccess(c),error:c=>w.deleteRevenueFailure(c)})))),addFixedCost$:r.on(w.addFixedCost).pipe(le(({payload:a})=>t.addFixedCost(a).pipe(He({next:s=>w.addFixedCostSuccess(s),error:s=>w.addFixedCostFailure(s)})))),updateFixedCost$:r.on(w.updateFixedCost).pipe(le(({payload:{fixedCost:a,monthId:s}})=>t.updateFixedCost(s,a).pipe(He({next:c=>w.updateFixedCostSuccess(c),error:c=>w.updateFixedCostFailure(c)})))),deleteFixedCost$:r.on(w.deleteFixedCost).pipe(le(({payload:{monthId:a,fixedCostId:s}})=>t.deleteFixedCost(a,s).pipe(He({next:c=>w.deleteFixedCostSuccess(c),error:c=>w.deleteFixedCostFailure(c)})))),addVariableCost$:r.on(w.addVariableCost).pipe(le(({payload:a})=>n.addVariableCost(a).pipe(He({next:s=>w.addVariableCostSuccess(s),error:s=>w.addVariableCostFailure(s)})))),updateVariableCost$:r.on(w.updateVariableCost).pipe(le(({payload:{variableCost:a,monthId:s}})=>n.updateVariableCost(s,a).pipe(He({next:c=>w.updateVariableCostSuccess(c),error:c=>w.updateVariableCostFailure(c)})))),deleteVariableCost$:r.on(w.deleteVariableCost).pipe(le(({payload:{monthId:a,variableCostId:s}})=>n.deleteVariableCost(a,s).pipe(He({next:c=>w.deleteVariableCostSuccess(c),error:c=>w.deleteVariableCostFailure(c)})))),addVariableCostHistoryEntry$:r.on(w.addVariableCostHistoryEntry).pipe(le(({payload:{monthId:a,variableCostId:s}})=>n.addVariableCostHistoryEntry(a,s).pipe(He({next:c=>w.addVariableCostHistoryEntrySuccess(c),error:c=>w.addVariableCostHistoryEntryFailure(c)})))),deleteVariableCostHistoryEntry$:r.on(w.deleteVariableCostHistoryEntry).pipe(le(({payload:{monthId:a,variableCostId:s,entryId:c}})=>n.deleteVariableCostHistoryEntry(a,s,c).pipe(He({next:l=>w.deleteVariableCostHistoryEntrySuccess(l),error:l=>w.deleteVariableCostHistoryEntryFailure(l)})))),updateVariableCostHistoryEntry$:r.on(w.updateVariableCostHistoryEntry).pipe(le(({payload:{monthId:a,variableCostId:s,entry:c}})=>n.updateVariableCostHistoryEntry(a,s,c).pipe(He({next:l=>w.updateVariableCostHistoryEntrySuccess(l),error:l=>w.updateVariableCostHistoryEntryFailure(l)})))),addBudget$:r.on(w.addBudget).pipe(o(),le(a=>n.addBudget(a).pipe(He({next:()=>w.addBudgetSuccess(),error:s=>w.addBudgetFailure(s)})))),updateBudget$:r.on(w.updateBudget).pipe(E(({payload:a})=>({budget:a,monthId:Gt(e).month.id})),le(({budget:a,monthId:s})=>n.updateBudget(s,a).pipe(He({next:()=>w.updateBudgetSuccess(),error:c=>w.updateBudgetFailure(c)})))),deleteBudget$:r.on(w.deleteBudget).pipe(E(({payload:a})=>({id:a,monthId:Gt(e).month.id})),le(({id:a,monthId:s})=>n.deleteBudget(s,a).pipe(He({next:()=>w.deleteBudgetSuccess(),error:c=>w.deleteBudgetFailure(c)})))),addBudgetHistoryEntry$:r.on(w.addBudgetHistoryEntry).pipe(E(({payload:a})=>({budgetId:a,monthId:Gt(e).month.id})),le(({budgetId:a,monthId:s})=>n.addBudgetHistoryEntry(s,a).pipe(He({next:()=>w.addBudgetHistoryEntrySuccess(),error:c=>w.addBudgetHistoryEntryFailure(c)})))),deleteBudgetHistoryEntry$:r.on(w.deleteBudgetHistoryEntry).pipe(E(({payload:{budgetId:a,entryId:s}})=>({budgetId:a,entryId:s,monthId:Gt(e).month.id})),le(({budgetId:a,entryId:s,monthId:c})=>n.deleteBudgetHistoryEntry(c,a,s).pipe(He({next:()=>w.deleteBudgetHistoryEntrySuccess(),error:l=>w.deleteBudgetHistoryEntryFailure(l)})))),updateBudgetHistoryEntry$:r.on(w.updateBudgetHistoryEntry).pipe(E(({payload:{budgetId:a,entry:s}})=>({budgetId:a,entry:s,monthId:Gt(e).month.id})),le(({budgetId:a,entry:s,monthId:c})=>n.updateBudgetHistoryEntry(c,a,s).pipe(He({next:l=>w.updateBudgetHistoryEntrySuccess(l),error:l=>w.updateBudgetHistoryEntryFailure(l)})))),reloadMonth$:r.on(w.addVariableCostSuccess,w.addBudgetSuccess,w.deleteBudgetSuccess,w.addBudgetHistoryEntrySuccess,w.deleteBudgetHistoryEntrySuccess,w.updateBudgetSuccess).pipe(E(()=>Gt(e).month.month),E(a=>w.getMonth(a)))}}var Kt="init",js="pending",ur="success",fd="error",_p=G1(J1("monthly-check",Q1()),bs({month:null,currentWeek:null,createdMonths:[],createProcessStatus:Kt,getMonthProcessStatus:Kt,getCreatedMonthsProcessStatus:Kt,getCurrentWeekProcessStatus:Kt,saveRevenueProcessStatus:Kt,addRevenueProcessStatus:Kt,deleteRevenueProcessStatus:Kt,saveFixedCostProcessStatus:Kt,addFixedCostProcessStatus:Kt,deleteFixedCostProcessStatus:Kt,saveVariableCostProcessStatus:Kt,addVariableCostProcessStatus:Kt,deleteVariableCostProcessStatus:Kt,addHistoryEntryProcessStatus:Kt,addBudgetProcessStatus:Kt}),Cs(e=>m_(e)),ep(xe(w.create,()=>({createProcessStatus:js})),xe(w.createSuccess,()=>({createProcessStatus:ur})),xe(w.createFailure,()=>({createProcessStatus:fd})),xe(w.getCreatedMonthsSuccess,({payload:e})=>({createdMonths:e,getCreatedMonthsProcessStatus:ur})),xe(w.getMonth,()=>({getMonthProcessStatus:js})),xe(w.getMonthSuccess,({payload:e})=>({month:e,getMonthProcessStatus:ur})),xe(w.getMonthFailure,()=>({getMonthProcessStatus:fd})),xe(w.getCurrentWeek,()=>({getCurrentWeekProcessStatus:js})),xe(w.getCurrentWeekSuccess,({payload:e})=>({currentWeek:e})),xe(w.updateRevenue,()=>({saveRevenueProcessStatus:js})),xe(w.addRevenueSuccess,({payload:{revenue:e,total:t}},{month:n})=>({addRevenueProcessStatus:ur,month:x(m({},n),{revenue_lines:[...n.revenue_lines,e],revenue_total:t})})),xe(w.updateRevenueSuccess,w.deleteRevenueSuccess,({payload:{revenue:e,total:t}},{month:n})=>({saveRevenueProcessStatus:ur,month:x(m({},n),{revenue_lines:e,revenue_total:t})})),xe(w.updateRevenueFailure,()=>({saveRevenueProcessStatus:fd})),xe(w.updateFixedCost,()=>({saveFixedCostProcessStatus:js})),xe(w.addFixedCostSuccess,({payload:{fixedCost:e,total:t}},{month:n})=>({addFixedCostProcessStatus:ur,month:x(m({},n),{fixed_costs_lines:[...n.fixed_costs_lines,e],fixed_costs_total:t})})),xe(w.updateFixedCostSuccess,w.deleteFixedCostSuccess,({payload:{fixedCosts:e,total:t}},{month:n})=>({saveFixedCostProcessStatus:ur,month:x(m({},n),{fixed_costs_lines:e,fixed_costs_total:t})})),xe(w.updateFixedCostFailure,()=>({saveFixedCostProcessStatus:fd})),xe(w.addVariableCostSuccess,({payload:{variableCost:e,total:t}},{month:n})=>{if(!n)return{month:null};let r=n.variable_costs_lines;return r&&(r=[...r,e]),{addFixedCostProcessStatus:ur,month:x(m({},n),{variable_costs_lines:r??[],variable_costs_total:t})}}),xe(w.updateVariableCostSuccess,w.deleteVariableCostSuccess,w.addVariableCostHistoryEntrySuccess,w.deleteVariableCostHistoryEntrySuccess,w.updateVariableCostHistoryEntrySuccess,({payload:{variableCosts:e,total:t}},{month:n})=>({saveVariableCostProcessStatus:ur,month:x(m({},n),{variable_costs_lines:e,variable_costs_total:t})})),xe(w.updateBudgetHistoryEntrySuccess,({payload:{budgets:e}},{month:t})=>({month:x(m({},t),{budget_lines:e})})),xe(w.addVariableCostHistoryEntry,w.addBudgetHistoryEntry,()=>({addHistoryEntryProcessStatus:js})),xe(w.addVariableCostHistoryEntrySuccess,w.addBudgetHistoryEntrySuccess,()=>({addHistoryEntryProcessStatus:ur})),xe(w.deleteBudgetHistoryEntry,w.deleteVariableCostHistoryEntry,()=>({addHistoryEntryProcessStatus:Kt})),xe(w.updateVariableCostFailure,()=>({saveVariableCostProcessStatus:fd})),xe(w.addBudgetSuccess,()=>({addBudgetProcessStatus:ur}))));var Hm=If(Cp());var Vs=class e{events=r3(w);store=f(_p);router=f(Vn);currentMonth=this.store.month;currentWeek=this.store.currentWeek;currentWeek$=W1(this.store.currentWeek);areMonthsLoaded=S(()=>this.store.getCreatedMonthsProcessStatus()==="success");isMonthLoading=S(()=>this.store.getMonthProcessStatus()==="pending");isMonthLoaded=S(()=>this.store.getMonthProcessStatus()==="success");isSavingRevenue=S(()=>this.store.saveRevenueProcessStatus()==="pending");isRevenueAdded=S(()=>this.store.addRevenueProcessStatus()==="success");isSavingFixedCost=S(()=>this.store.saveFixedCostProcessStatus()==="pending");isFixedCostAdded=S(()=>this.store.addFixedCostProcessStatus()==="success");isSavingVariableCost=S(()=>this.store.saveVariableCostProcessStatus()==="pending");isVariableCostAdded=S(()=>this.store.addVariableCostProcessStatus()==="success");isHistoryEntryAdded=S(()=>this.store.addHistoryEntryProcessStatus()==="success");isBudgetAdded=S(()=>this.store.addBudgetProcessStatus()==="success");revenue=S(()=>this.currentMonth()?.revenue_lines??[]);totalRevenue=S(()=>this.currentMonth()?.revenue_total??0);fixedCosts=S(()=>this.currentMonth()?.fixed_costs_lines??[]);totalFixedCosts=S(()=>this.currentMonth()?.fixed_costs_total??0);variableCosts=S(()=>this.currentMonth()?.variable_costs_lines??[]);totalVariableCosts=S(()=>this.currentMonth()?.variable_costs_total??0);budgets=S(()=>this.currentMonth()?.budget_lines??[]);totalBudgets=S(()=>{let t=this.budgets();return t.length===0?0:t.reduce((n,r)=>n+r.value,0)});snapshots=S(()=>this.store.createdMonths().map(t=>({month:t,translated:(0,Hm.default)(t).format("MMMM")})));createdYears=S(()=>Array.from(new Set(this.store.createdMonths().map(t=>(0,Hm.default)(t).format("YYYY")))));createMonth(t){this.events.create(t)}getCreatedMonths(){this.events.getCreatedMonths()}getMonth(t){let n=`${t}-01`;this.events.getMonth(n)}getCurrentWeek(){this.events.getCurrentWeek()}addRevenue(){this.events.addRevenue()}updateRevenue(t){this.events.updateRevenue({revenue:t,monthId:this.currentMonth().id})}deleteRevenue(t){this.events.deleteRevenue({monthId:this.currentMonth().id,revenueId:t})}addFixedCost(){this.events.addFixedCost(this.currentMonth().id)}updateFixedCost(t){this.events.updateFixedCost({fixedCost:t,monthId:this.currentMonth().id})}deleteFixedCost(t){this.events.deleteFixedCost({monthId:this.currentMonth().id,fixedCostId:t})}addVariableCost(){this.events.addVariableCost(this.currentMonth().id)}updateVariableCost(t){this.events.updateVariableCost({variableCost:t,monthId:this.currentMonth().id})}deleteVariableCost(t){this.events.deleteVariableCost({monthId:this.currentMonth().id,variableCostId:t})}addVariableCostHistoryEntry(t){this.events.addVariableCostHistoryEntry({variableCostId:t,monthId:this.currentMonth().id})}deleteVariableCostHistoryEntry(t,n){this.events.deleteVariableCostHistoryEntry({monthId:this.currentMonth().id,variableCostId:t,entryId:n})}updateVariableCostHistoryEntry(t,n){this.events.updateVariableCostHistoryEntry({monthId:this.currentMonth().id,variableCostId:t,entry:n})}addBudget(){this.events.addBudget()}updateBudget(t){this.events.updateBudget(t)}deleteBudget(t){this.events.deleteBudget(t.toString())}addBudgetHistoryEntry(t){this.events.addBudgetHistoryEntry(t)}deleteBudgetHistoryEntry(t,n){this.events.deleteBudgetHistoryEntry({budgetId:t,entryId:n})}updateBudgetHistoryEntry(t,n){this.events.updateBudgetHistoryEntry({budgetId:t,entry:n})}navigateTo(t,n){if(t&&!n){this.router.navigate(["/monthly-check",t]);return}this.router.navigate(["/monthly-check",t,n])}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac})};function eae(){return[Ns,Fs,_p,Vs]}var mO=new C("cdk-dir-doc",{providedIn:"root",factory:()=>f(oe)}),vO=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function v_(e){let t=e?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?vO.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var eo=(()=>{class e{get value(){return this.valueSignal()}valueSignal=we("ltr");change=new Me;constructor(){let n=f(mO,{optional:!0});if(n){let r=n.body?n.body.dir:null,i=n.documentElement?n.documentElement.dir:null;this.valueSignal.set(v_(r||i||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var k_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ve({type:e});static \u0275inj=Pe({})}return e})();var kO=["*"];var MO=[[["","mat-card-avatar",""],["","matCardAvatar",""]],[["mat-card-title"],["mat-card-subtitle"],["","mat-card-title",""],["","mat-card-subtitle",""],["","matCardTitle",""],["","matCardSubtitle",""]],"*"],wO=["[mat-card-avatar], [matCardAvatar]",`mat-card-title, mat-card-subtitle,
      [mat-card-title], [mat-card-subtitle],
      [matCardTitle], [matCardSubtitle]`,"*"],bO=new C("MAT_CARD_CONFIG"),Sp=(()=>{class e{appearance;constructor(){let n=f(bO,{optional:!0});this.appearance=n?.appearance||"raised"}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-card"]],hostAttrs:[1,"mat-mdc-card","mdc-card"],hostVars:8,hostBindings:function(r,i){r&2&&Ee("mat-mdc-card-outlined",i.appearance==="outlined")("mdc-card--outlined",i.appearance==="outlined")("mat-mdc-card-filled",i.appearance==="filled")("mdc-card--filled",i.appearance==="filled")},inputs:{appearance:"appearance"},exportAs:["matCard"],ngContentSelectors:kO,decls:1,vars:0,template:function(r,i){r&1&&(vn(),zt(0))},styles:[`.mat-mdc-card{display:flex;flex-direction:column;box-sizing:border-box;position:relative;border-style:solid;border-width:0;background-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-color:var(--mat-card-elevated-container-color, var(--mat-sys-surface-container-low));border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-elevated-container-elevation, var(--mat-sys-level1))}.mat-mdc-card::after{position:absolute;top:0;left:0;width:100%;height:100%;border:solid 1px rgba(0,0,0,0);content:"";display:block;pointer-events:none;box-sizing:border-box;border-radius:var(--mat-card-elevated-container-shape, var(--mat-sys-corner-medium))}.mat-mdc-card-outlined{background-color:var(--mat-card-outlined-container-color, var(--mat-sys-surface));border-radius:var(--mat-card-outlined-container-shape, var(--mat-sys-corner-medium));border-width:var(--mat-card-outlined-outline-width, 1px);border-color:var(--mat-card-outlined-outline-color, var(--mat-sys-outline-variant));box-shadow:var(--mat-card-outlined-container-elevation, var(--mat-sys-level0))}.mat-mdc-card-outlined::after{border:none}.mat-mdc-card-filled{background-color:var(--mat-card-filled-container-color, var(--mat-sys-surface-container-highest));border-radius:var(--mat-card-filled-container-shape, var(--mat-sys-corner-medium));box-shadow:var(--mat-card-filled-container-elevation, var(--mat-sys-level0))}.mdc-card__media{position:relative;box-sizing:border-box;background-repeat:no-repeat;background-position:center;background-size:cover}.mdc-card__media::before{display:block;content:""}.mdc-card__media:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.mdc-card__media:last-child{border-bottom-left-radius:inherit;border-bottom-right-radius:inherit}.mat-mdc-card-actions{display:flex;flex-direction:row;align-items:center;box-sizing:border-box;min-height:52px;padding:8px}.mat-mdc-card-title{font-family:var(--mat-card-title-text-font, var(--mat-sys-title-large-font));line-height:var(--mat-card-title-text-line-height, var(--mat-sys-title-large-line-height));font-size:var(--mat-card-title-text-size, var(--mat-sys-title-large-size));letter-spacing:var(--mat-card-title-text-tracking, var(--mat-sys-title-large-tracking));font-weight:var(--mat-card-title-text-weight, var(--mat-sys-title-large-weight))}.mat-mdc-card-subtitle{color:var(--mat-card-subtitle-text-color, var(--mat-sys-on-surface));font-family:var(--mat-card-subtitle-text-font, var(--mat-sys-title-medium-font));line-height:var(--mat-card-subtitle-text-line-height, var(--mat-sys-title-medium-line-height));font-size:var(--mat-card-subtitle-text-size, var(--mat-sys-title-medium-size));letter-spacing:var(--mat-card-subtitle-text-tracking, var(--mat-sys-title-medium-tracking));font-weight:var(--mat-card-subtitle-text-weight, var(--mat-sys-title-medium-weight))}.mat-mdc-card-title,.mat-mdc-card-subtitle{display:block;margin:0}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle{padding:16px 16px 0}.mat-mdc-card-header{display:flex;padding:16px 16px 0}.mat-mdc-card-content{display:block;padding:0 16px}.mat-mdc-card-content:first-child{padding-top:16px}.mat-mdc-card-content:last-child{padding-bottom:16px}.mat-mdc-card-title-group{display:flex;justify-content:space-between;width:100%}.mat-mdc-card-avatar{height:40px;width:40px;border-radius:50%;flex-shrink:0;margin-bottom:16px;object-fit:cover}.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-avatar~.mat-mdc-card-header-text .mat-mdc-card-title{line-height:normal}.mat-mdc-card-sm-image{width:80px;height:80px}.mat-mdc-card-md-image{width:112px;height:112px}.mat-mdc-card-lg-image{width:152px;height:152px}.mat-mdc-card-xl-image{width:240px;height:240px}.mat-mdc-card-subtitle~.mat-mdc-card-title,.mat-mdc-card-title~.mat-mdc-card-subtitle,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-title,.mat-mdc-card-header .mat-mdc-card-header-text .mat-mdc-card-subtitle,.mat-mdc-card-title-group .mat-mdc-card-title,.mat-mdc-card-title-group .mat-mdc-card-subtitle{padding-top:0}.mat-mdc-card-content>:last-child:not(.mat-mdc-card-footer){margin-bottom:0}.mat-mdc-card-actions-align-end{justify-content:flex-end}
`],encapsulation:2,changeDetection:0})}return e})(),gae=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["mat-card-title"],["","mat-card-title",""],["","matCardTitle",""]],hostAttrs:[1,"mat-mdc-card-title"]})}return e})();var Ip=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["mat-card-content"]],hostAttrs:[1,"mat-mdc-card-content"]})}return e})();var mae=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-card-header"]],hostAttrs:[1,"mat-mdc-card-header"],ngContentSelectors:wO,decls:4,vars:0,consts:[[1,"mat-mdc-card-header-text"]],template:function(r,i){r&1&&(vn(MO),zt(0),Bi(1,"div",0),zt(2,1),zi(),zt(3,2))},encapsulation:2,changeDetection:0})}return e})();var x_=(()=>{class e{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||e)(F(Tt),F(Se))};static \u0275dir=ce({type:e})}return e})(),CO=(()=>{class e extends x_{static \u0275fac=(()=>{let n;return function(i){return(n||(n=er(e)))(i||e)}})();static \u0275dir=ce({type:e,features:[dt]})}return e})(),qs=new C("");var _O={provide:qs,useExisting:fn(()=>jp),multi:!0};function SO(){let e=Nn()?Nn().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var IO=new C(""),jp=(()=>{class e extends x_{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!SO())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||e)(F(Tt),F(Se),F(IO,8))};static \u0275dir=ce({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Ce("input",function(a){return i._handleInput(a.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(a){return i._compositionEnd(a.target.value)})},standalone:!1,features:[qt([_O]),dt]})}return e})();function Um(e){return e==null||$m(e)===0}function $m(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var Us=new C(""),Cd=new C(""),xO=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Dp=class{static min(t){return DO(t)}static max(t){return EO(t)}static required(t){return D_(t)}static requiredTrue(t){return AO(t)}static email(t){return TO(t)}static minLength(t){return LO(t)}static maxLength(t){return RO(t)}static pattern(t){return OO(t)}static nullValidator(t){return Ep()}static compose(t){return O_(t)}static composeAsync(t){return P_(t)}};function DO(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}function EO(e){return t=>{if(t.value==null||e==null)return null;let n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}function D_(e){return Um(e.value)?{required:!0}:null}function AO(e){return e.value===!0?null:{required:!0}}function TO(e){return Um(e.value)||xO.test(e.value)?null:{email:!0}}function LO(e){return t=>{let n=t.value?.length??$m(t.value);return n===null||n===0?null:n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}function RO(e){return t=>{let n=t.value?.length??$m(t.value);return n!==null&&n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}function OO(e){if(!e)return Ep;let t,n;return typeof e=="string"?(n="",e.charAt(0)!=="^"&&(n+="^"),n+=e,e.charAt(e.length-1)!=="$"&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),r=>{if(Um(r.value))return null;let i=r.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Ep(e){return null}function E_(e){return e!=null}function A_(e){return Tr(e)?G(e):e}function T_(e){let t={};return e.forEach(n=>{t=n!=null?m(m({},t),n):t}),Object.keys(t).length===0?null:t}function L_(e,t){return t.map(n=>n(e))}function PO(e){return!e.validate}function R_(e){return e.map(t=>PO(t)?t:n=>t.validate(n))}function O_(e){if(!e)return null;let t=e.filter(E_);return t.length==0?null:function(n){return T_(L_(n,t))}}function Wm(e){return e!=null?O_(R_(e)):null}function P_(e){if(!e)return null;let t=e.filter(E_);return t.length==0?null:function(n){let r=L_(n,t).map(A_);return Kf(r).pipe(E(T_))}}function Gm(e){return e!=null?P_(R_(e)):null}function M_(e,t){return e===null?[t]:Array.isArray(e)?[...e,t]:[e,t]}function N_(e){return e._rawValidators}function F_(e){return e._rawAsyncValidators}function Bm(e){return e?Array.isArray(e)?e:[e]:[]}function Ap(e,t){return Array.isArray(e)?e.includes(t):e===t}function w_(e,t){let n=Bm(t);return Bm(e).forEach(i=>{Ap(n,i)||n.push(i)}),n}function b_(e,t){return Bm(t).filter(n=>!Ap(e,n))}var Tp=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Wm(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=Gm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,n){return this.control?this.control.hasError(t,n):!1}getError(t,n){return this.control?this.control.getError(t,n):null}},fi=class extends Tp{name;get formDirective(){return null}get path(){return null}},hr=class extends Tp{_parent=null;name=null;valueAccessor=null},Lp=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}};var j_=(()=>{class e extends Lp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(F(hr,2))};static \u0275dir=ce({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Ee("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[dt]})}return e})(),Oae=(()=>{class e extends Lp{constructor(n){super(n)}static \u0275fac=function(r){return new(r||e)(F(fi,10))};static \u0275dir=ce({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["","formArray",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Ee("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[dt]})}return e})();var yd="VALID",xp="INVALID",Hs="PENDING",gd="DISABLED",to=class{},Rp=class extends to{value;source;constructor(t,n){super(),this.value=t,this.source=n}},vd=class extends to{pristine;source;constructor(t,n){super(),this.pristine=t,this.source=n}},kd=class extends to{touched;source;constructor(t,n){super(),this.touched=t,this.source=n}},Bs=class extends to{status;source;constructor(t,n){super(),this.status=t,this.source=n}},Op=class extends to{source;constructor(t){super(),this.source=t}},wd=class extends to{source;constructor(t){super(),this.source=t}};function Km(e){return(Vp(e)?e.validators:e)||null}function NO(e){return Array.isArray(e)?Wm(e):e||null}function Zm(e,t){return(Vp(t)?t.asyncValidators:e)||null}function FO(e){return Array.isArray(e)?Gm(e):e||null}function Vp(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function V_(e,t,n){let r=e.controls;if(!(t?Object.keys(r):r).length)throw new b(1e3,"");if(!r[n])throw new b(1001,"")}function H_(e,t,n){e._forEachChild((r,i)=>{if(n[i]===void 0)throw new b(1002,"")})}var no=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,n){this._assignValidators(t),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return U(this.statusReactive)}set status(t){U(()=>this.statusReactive.set(t))}_status=S(()=>this.statusReactive());statusReactive=we(void 0);get valid(){return this.status===yd}get invalid(){return this.status===xp}get pending(){return this.status==Hs}get disabled(){return this.status===gd}get enabled(){return this.status!==gd}errors;get pristine(){return U(this.pristineReactive)}set pristine(t){U(()=>this.pristineReactive.set(t))}_pristine=S(()=>this.pristineReactive());pristineReactive=we(!0);get dirty(){return!this.pristine}get touched(){return U(this.touchedReactive)}set touched(t){U(()=>this.touchedReactive.set(t))}_touched=S(()=>this.touchedReactive());touchedReactive=we(!1);get untouched(){return!this.touched}_events=new z;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(w_(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(w_(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(b_(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(b_(t,this._rawAsyncValidators))}hasValidator(t){return Ap(this._rawValidators,t)}hasAsyncValidator(t){return Ap(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let n=this.touched===!1;this.touched=!0;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(x(m({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new kd(!0,r))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(t))}markAsUntouched(t={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:r})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,r),n&&t.emitEvent!==!1&&this._events.next(new kd(!1,r))}markAsDirty(t={}){let n=this.pristine===!0;this.pristine=!1;let r=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(x(m({},t),{sourceControl:r})),n&&t.emitEvent!==!1&&this._events.next(new vd(!1,r))}markAsPristine(t={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,r),n&&t.emitEvent!==!1&&this._events.next(new vd(!0,r))}markAsPending(t={}){this.status=Hs;let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Bs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(x(m({},t),{sourceControl:n}))}disable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=gd,this.errors=null,this._forEachChild(i=>{i.disable(x(m({},t),{onlySelf:!0}))}),this._updateValue();let r=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Rp(this.value,r)),this._events.next(new Bs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(x(m({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let n=this._parentMarkedDirty(t.onlySelf);this.status=yd,this._forEachChild(r=>{r.enable(x(m({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(x(m({},t),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(t,n){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===yd||this.status===Hs)&&this._runAsyncValidator(r,t.emitEvent)}let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Rp(this.value,n)),this._events.next(new Bs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(x(m({},t),{sourceControl:n}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?gd:yd}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,n){if(this.asyncValidator){this.status=Hs,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1,shouldHaveEmitted:t!==!1};let r=A_(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,n={}){this.errors=t,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(t){let n=t;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(t,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[t]:null}hasError(t,n){return!!this.getError(t,n)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,n,r){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||r)&&this._events.next(new Bs(this.status,n)),this._parent&&this._parent._updateControlsErrors(t,n,r)}_initObservables(){this.valueChanges=new Me,this.statusChanges=new Me}_calculateStatus(){return this._allControlsDisabled()?gd:this.errors?xp:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Hs)?Hs:this._anyControlsHaveStatus(xp)?xp:yd}_anyControlsHaveStatus(t){return this._anyControls(n=>n.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),i&&this._events.next(new vd(this.pristine,n))}_updateTouched(t={},n){this.touched=this._anyControlsTouched(),this._events.next(new kd(this.touched,n)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Vp(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let n=this._parent&&this._parent.dirty;return!t&&!!n&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=NO(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=FO(this._rawAsyncValidators)}},zs=class extends no{constructor(t,n,r){super(Km(n),Zm(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,n){return this.controls[t]?this.controls[t]:(this.controls[t]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(t,n,r={}){this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(t,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(t,n,r={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],n&&this.registerControl(t,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,n={}){H_(this,!0,t),Object.keys(t).forEach(r=>{V_(this,!0,r),this.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(Object.keys(t).forEach(r=>{let i=this.controls[r];i&&i.patchValue(t[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t={},n={}){this._forEachChild((r,i)=>{r.reset(t?t[i]:null,x(m({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new wd(this))}getRawValue(){return this._reduceChildren({},(t,n,r)=>(t[r]=n.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&t(r,n)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&t(r))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(t,n){let r=t;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var zm=class extends zs{};var $s=new C("",{factory:()=>Hp}),Hp="always";function B_(e,t){return[...t.path,e]}function bd(e,t,n=Hp){Xm(e,t),t.valueAccessor.writeValue(e.value),(e.disabled||n==="always")&&t.valueAccessor.setDisabledState?.(e.disabled),VO(e,t),BO(e,t),HO(e,t),jO(e,t)}function Pp(e,t,n=!0){let r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),Fp(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function Np(e,t){e.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(t)})}function jO(e,t){if(t.valueAccessor.setDisabledState){let n=r=>{t.valueAccessor.setDisabledState(r)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}function Xm(e,t){let n=N_(e);t.validator!==null?e.setValidators(M_(n,t.validator)):typeof n=="function"&&e.setValidators([n]);let r=F_(e);t.asyncValidator!==null?e.setAsyncValidators(M_(r,t.asyncValidator)):typeof r=="function"&&e.setAsyncValidators([r]);let i=()=>e.updateValueAndValidity();Np(t._rawValidators,i),Np(t._rawAsyncValidators,i)}function Fp(e,t){let n=!1;if(e!==null){if(t.validator!==null){let i=N_(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==t.validator);o.length!==i.length&&(n=!0,e.setValidators(o))}}if(t.asyncValidator!==null){let i=F_(e);if(Array.isArray(i)&&i.length>0){let o=i.filter(a=>a!==t.asyncValidator);o.length!==i.length&&(n=!0,e.setAsyncValidators(o))}}}let r=()=>{};return Np(t._rawValidators,r),Np(t._rawAsyncValidators,r),n}function VO(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&z_(e,t)})}function HO(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&z_(e,t),e.updateOn!=="submit"&&e.markAsTouched()})}function z_(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function BO(e,t){let n=(r,i)=>{t.valueAccessor.writeValue(r),i&&t.viewToModelUpdate(r)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}function q_(e,t){e==null,Xm(e,t)}function zO(e,t){return Fp(e,t)}function Ym(e,t){if(!e.hasOwnProperty("model"))return!1;let n=e.model;return n.isFirstChange()?!0:!Object.is(t,n.currentValue)}function qO(e){return Object.getPrototypeOf(e.constructor)===CO}function U_(e,t){e._syncPendingControls(),t.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function Qm(e,t){if(!t)return null;Array.isArray(t);let n,r,i;return t.forEach(o=>{o.constructor===jp?n=o:qO(o)?r=o:i=o}),i||r||n||null}function UO(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}var $O={provide:fi,useExisting:fn(()=>WO)},md=Promise.resolve(),WO=(()=>{class e extends fi{callSetDisabledState;get submitted(){return U(this.submittedReactive)}_submitted=S(()=>this.submittedReactive());submittedReactive=we(!1);_directives=new Set;form;ngSubmit=new Me;options;constructor(n,r,i){super(),this.callSetDisabledState=i,this.form=new zs({},Wm(n),Gm(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){md.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),bd(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){md.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){md.then(()=>{let r=this._findContainer(n.path),i=new zs({});q_(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){md.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){md.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),U_(this.form,this._directives),this.ngSubmit.emit(n),this.form._events.next(new Op(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static \u0275fac=function(r){return new(r||e)(F(Us,10),F(Cd,10),F($s,8))};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup","",3,"formArray",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[qt([$O]),dt]})}return e})();function C_(e,t){let n=e.indexOf(t);n>-1&&e.splice(n,1)}function __(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var Md=class extends no{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,n,r){super(Km(n),Zm(r,n)),this._applyFormState(t),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Vp(n)&&(n.nonNullable||n.initialValueIsDefault)&&(__(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,n={}){this.value=this._pendingValue=t,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(t,n={}){this.setValue(t,n)}reset(t=this.defaultValue,n={}){this._applyFormState(t),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),n.overwriteDefaultValue&&(this.defaultValue=this.value),this._pendingChange=!1,n?.emitEvent!==!1&&this._events.next(new wd(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){C_(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){C_(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){__(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var GO=e=>e instanceof Md;var KO={provide:hr,useExisting:fn(()=>Jm)},S_=Promise.resolve(),Jm=(()=>{class e extends hr{_changeDetectorRef;callSetDisabledState;control=new Md;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Me;constructor(n,r,i,o,a,s){super(),this._changeDetectorRef=a,this.callSetDisabledState=s,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Qm(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),Ym(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){bd(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){S_.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Rt(r);S_.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?B_(n,this._parent):[n]}static \u0275fac=function(r){return new(r||e)(F(fi,9),F(Us,10),F(Cd,10),F(qs,10),F(Ut,8),F($s,8))};static \u0275dir=ce({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[qt([KO]),dt,at]})}return e})();var Nae=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})();var qm=class extends no{constructor(t,n,r){super(Km(n),Zm(r,n)),this.controls=t,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,n={}){Array.isArray(t)?t.forEach(r=>{this.controls.push(r),this._registerControl(r)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(t,n,r={}){this.controls.splice(t,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(t,n={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(t,n,r={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,n={}){H_(this,!1,t),t.forEach((r,i)=>{V_(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(t,n={}){t!=null&&(t.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(t=[],n={}){this._forEachChild((r,i)=>{r.reset(t[i],x(m({},n),{onlySelf:!0}))}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n),n?.emitEvent!==!1&&this._events.next(new wd(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((n,r)=>{t(n,r)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(n=>n.enabled&&t(n))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};var ZO=(()=>{class e extends fi{callSetDisabledState;get submitted(){return U(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}_submitted=S(()=>this._submittedReactive());_submittedReactive=we(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];constructor(n,r,i){super(),this.callSetDisabledState=i,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this.onChanges(n)}ngOnDestroy(){this.onDestroy()}onChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}onDestroy(){this.form&&(Fp(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get path(){return[]}addControl(n){let r=this.form.get(n.path);return bd(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){Pp(n.control||null,n,!1),UO(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}getFormArray(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}updateModel(n,r){this.form.get(n.path).setValue(r)}onReset(){this.resetForm()}resetForm(n=void 0,r={}){this.form.reset(n,r),this._submittedReactive.set(!1)}onSubmit(n){return this.submitted=!0,U_(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Op(this.control)),n?.target?.method==="dialog"}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(Pp(r||null,n),GO(i)&&(bd(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);q_(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&zO(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Xm(this.form,this),this._oldForm&&Fp(this._oldForm,this)}_checkFormPresent(){this.form}static \u0275fac=function(r){return new(r||e)(F(Us,10),F(Cd,10),F($s,8))};static \u0275dir=ce({type:e,features:[dt,at]})}return e})();var ev=new C(""),XO={provide:hr,useExisting:fn(()=>YO)},YO=(()=>{class e extends hr{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(n){}model;update=new Me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=Qm(this,i)}ngOnChanges(n){if(this._isControlChanged(n)){let r=n.form.previousValue;r&&Pp(r,this,!1),bd(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}Ym(n,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Pp(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_isControlChanged(n){return n.hasOwnProperty("form")}static \u0275fac=function(r){return new(r||e)(F(Us,10),F(Cd,10),F(qs,10),F(ev,8),F($s,8))};static \u0275dir=ce({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[qt([XO]),dt,at]})}return e})();var QO={provide:hr,useExisting:fn(()=>JO)},JO=(()=>{class e extends hr{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(n){}model;update=new Me;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(n,r,i,o,a){super(),this._ngModelWarningConfig=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=Qm(this,o)}ngOnChanges(n){this._added||this._setUpControl(),Ym(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return B_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(r){return new(r||e)(F(fi,13),F(Us,10),F(Cd,10),F(qs,10),F(ev,8))};static \u0275dir=ce({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[qt([QO]),dt,at]})}return e})();var eP={provide:fi,useExisting:fn(()=>tP)},tP=(()=>{class e extends ZO{form=null;ngSubmit=new Me;get control(){return this.form}static \u0275fac=(()=>{let n;return function(i){return(n||(n=er(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Ce("submit",function(a){return i.onSubmit(a)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[qt([eP]),dt]})}return e})();var nP=(()=>{class e{_validator=Ep;_onChange;_enabled;ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Ep,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,features:[at]})}return e})();var rP={provide:Us,useExisting:fn(()=>iP),multi:!0};var iP=(()=>{class e extends nP{required;inputName="required";normalizeInput=Rt;createValidator=n=>D_;enabled(n){return n}static \u0275fac=(()=>{let n;return function(i){return(n||(n=er(e)))(i||e)}})();static \u0275dir=ce({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&ft("required",i._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[qt([rP]),dt]})}return e})();var $_=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ve({type:e});static \u0275inj=Pe({})}return e})();function I_(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var oP=(()=>{class e{useNonNullable=!1;get nonNullable(){let n=new e;return n.useNonNullable=!0,n}group(n,r=null){let i=this._reduceControls(n),o={};return I_(r)?o=r:r!==null&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new zs(i,o)}record(n,r=null){let i=this._reduceControls(n);return new zm(i,r)}control(n,r,i){let o={};return this.useNonNullable?(I_(r)?o=r:(o.validators=r,o.asyncValidators=i),new Md(n,x(m({},o),{nonNullable:!0}))):new Md(n,r,i)}array(n,r,i){let o=n.map(a=>this._createControl(a));return new qm(o,r,i)}_reduceControls(n){let r={};return Object.keys(n).forEach(i=>{r[i]=this._createControl(n[i])}),r}_createControl(n){if(n instanceof Md)return n;if(n instanceof no)return n;if(Array.isArray(n)){let r=n[0],i=n.length>1?n[1]:null,o=n.length>2?n[2]:null;return this.control(r,i,o)}else return this.control(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Fae=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:()=>f(oP).nonNullable,providedIn:"root"})}return e})();var W_=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:$s,useValue:n.callSetDisabledState??Hp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ve({type:e});static \u0275inj=Pe({imports:[$_]})}return e})(),jae=(()=>{class e{static withConfig(n){return{ngModule:e,providers:[{provide:ev,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:$s,useValue:n.callSetDisabledState??Hp}]}}static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ve({type:e});static \u0275inj=Pe({imports:[$_]})}return e})();var sP=["*"];var Wae=[["path",{d:"M12 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5",key:"x6cv4u"}],["path",{d:"m16 19 3 3 3-3",key:"1ibux0"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M19 16v6",key:"tddt3s"}],["path",{d:"M6 12h.01",key:"c2rlol"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],Gae=[["path",{d:"M12 18H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5",key:"x6cv4u"}],["path",{d:"M18 12h.01",key:"yjnet6"}],["path",{d:"M19 22v-6",key:"qhmiwi"}],["path",{d:"m22 19-3-3-3 3",key:"rn6bg2"}],["path",{d:"M6 12h.01",key:"c2rlol"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]];var Kae=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var Zae=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]];var Xae=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]];var Yae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}]];var Qae=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]];var Jae=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]];var ese=[["path",{d:"m15 18-.722-3.25",key:"1j64jw"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0",key:"1e7gxb"}],["path",{d:"m20 15-1.726-2.05",key:"1cnuld"}],["path",{d:"m4 15 1.726-2.05",key:"1dsqqd"}],["path",{d:"m9 18 .722-3.25",key:"ypw2yx"}]];var tse=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var nse=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]];var rse=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]];var ise=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]];var ose=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]];var ase=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M8 12h5",key:"1g6qi8"}],["path",{d:"M16 9.5a4 4 0 1 0 0 5.2",key:"b2px4r"}]];var sse=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]];var cse=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var _d={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},tv=new C("LucideIcons",{factory:()=>new Sd({})}),Sd=class{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return typeof this.icons=="object"&&t in this.icons}},cP=(()=>{class e{constructor(){this.color=_d.stroke,this.size=_d.width,this.strokeWidth=_d["stroke-width"],this.absoluteStrokeWidth=!1}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function lP(e,t=3){return parseFloat(e.toFixed(t)).toString(10)}var Bp=(()=>{class e{constructor(n,r,i,o,a){this.elem=n,this.renderer=r,this.changeDetector=i,this.iconProviders=o,this.iconConfig=a,this.absoluteStrokeWidth=!1,this.defaultSize=_d.height}get size(){return this._size??this.iconConfig.size}set size(n){n?this._size=this.parseNumber(n):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(n){n?this._strokeWidth=this.parseNumber(n):delete this._strokeWidth}ngOnChanges(n){if(n.name||n.img||n.color||n.size||n.absoluteStrokeWidth||n.strokeWidth||n.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let r=this.img??this.name;if(typeof r=="string"){let i=this.getIcon(this.toPascalCase(r));if(i)this.replaceElement(i);else throw new Error(`The "${r}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(r))this.replaceElement(r);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(n){let r=x(m({},_d),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?lP(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),i=this.createElement(["svg",r,n]);i.classList.add("lucide"),typeof this.name=="string"&&i.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&i.classList.add(...this.class.split(/ /).map(a=>a.trim()).filter(a=>a.length>0));let o=this.elem.nativeElement.childNodes;for(let a of o)this.renderer.removeChild(this.elem.nativeElement,a);this.renderer.appendChild(this.elem.nativeElement,i)}toPascalCase(n){return n.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(r,i,o)=>i.toUpperCase()+o.toLowerCase())}parseNumber(n){if(typeof n=="string"){let r=parseInt(n,10);if(isNaN(r))throw new Error(`${n} is not numeric.`);return r}return n}getIcon(n){for(let r of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(r.hasIcon(n))return r.getIcon(n);return null}createElement([n,r,i=[]]){let o=this.renderer.createElement(n,"http://www.w3.org/2000/svg");return Object.keys(r).forEach(a=>{let s=typeof r[a]=="string"?r[a]:r[a].toString(10);this.renderer.setAttribute(o,a,s)}),i.length&&i.forEach(a=>{let s=this.createElement(a);this.renderer.appendChild(o,s)}),o}}return e.\u0275fac=function(n){return new(n||e)(F(Se),F(Tt),F(Ut),F(tv),F(cP))},e.\u0275cmp=ge({type:e,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[at],ngContentSelectors:sP,decls:1,vars:0,template:function(n,r){n&1&&(vn(),zt(0))},encapsulation:2}),e})(),nv=class{constructor(t){this.icons=t}},dP=e=>new Sd(e??{}),Ws=(()=>{class e{static pick(n){return{ngModule:e,providers:[{provide:tv,multi:!0,useValue:new Sd(n)},{provide:tv,multi:!0,useFactory:dP,deps:[[new _h,nv]]}]}}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=Ve({type:e}),e.\u0275inj=Pe({imports:[[]]}),e})();var uP=["noContentFallback"],hP=["maffiButton",""],pP=["*"];function fP(e,t){if(e&1&&$e(0,"i-lucide",1),e&2){let n=ne();Je("name",t)("size",n._size())}}function yP(e,t){e&1&&(L(0,"div",2),To(),L(1,"svg",4),$e(2,"path",5)(3,"path",6),V()())}function gP(e,t){e&1&&$e(0,"span",7,0)}var Vr=class e{icon=ve();theme=ve("primary");isLoading=ve(!1);disabled=ve(!1);size=ve("small");noContentFallback=ir("noContentFallback");buttonType=S(()=>this.icon()&&this.noContentFallback()?"fab":"button");_size=S(()=>{switch(this.size()){case"mini":return 12;case"small":return 16;case"medium":return 24;case"large":return 32}});isDisabled=S(()=>this.isLoading()||this.disabled());classes=S(()=>{let t="min-h-8";this.size()==="mini"&&(t="min-h-6");let n=`
      relative
      inline-flex
      gap-2
      items-center
      ${t}
      text-xs
    `,r=`
      hover:cursor-pointer
      disabled:hover:cursor-auto

      focus-visible:outline-dotted
      focus-visible:outline-1
      focus-visible:outline-blue-700
      focus-visible:outline-offset-2

      disabled:text-black
      disabled:bg-gray-200

      transition-colors
    `,i=this.getTypeClasses(this.buttonType()),o=this.getThemeClasses();return`${n} ${r} ${i} ${o}`});getThemeClasses(){switch(this.theme()){case"primary":return`
          text-white
          bg-blue-900
          hover:bg-blue-800
          active:bg-blue-800
        `;case"secondary":return`
        text-gray-100
        hover:bg-gray-700
        active:bg-gray-700
        `;case"plain":return`
          text-gray-100
        `;case"inactive":return`
          text-neutral-400
          hover:text-gray-100
        `;default:throw new Error(`Theme ${this.theme()} is not supported for Button2Component`)}}getTypeClasses(t){switch(t){case"fab":return"rounded-full aspect-square justify-center";case"button":return"px-4 py-2 w-fit rounded-lg justify-start"}}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["button","maffiButton",""]],viewQuery:function(n,r){n&1&&On(r.noContentFallback,uP,5),n&2&&rr()},hostVars:3,hostBindings:function(n,r){n&2&&(is("disabled",r.isDisabled()),kn(r.classes()))},inputs:{icon:[1,"icon"],theme:[1,"theme"],isLoading:[1,"isLoading"],disabled:[1,"disabled"],size:[1,"size"]},attrs:hP,ngContentSelectors:pP,decls:5,vars:2,consts:[["noContentFallback",""],[3,"name","size"],["role","status",1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","opacity-30"],["aria-hidden","true",1,"absolute","inset-0","-m-2"],["aria-hidden","true","viewBox","0 0 100 101","xmlns","http://www.w3.org/2000/svg",1,"fill-primary","h-6","w-6","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"hidden"]],template:function(n,r){if(n&1&&(vn(),ln(0,fP,1,2,"i-lucide",1),ln(1,yP,4,0,"div",2),zt(2,0,null,gP,2,0),$e(4,"span",3)),n&2){let i;dn((i=r.icon())?0:-1,i),j(),dn(r.isLoading()?1:-1)}},dependencies:[Ws,Bp],encapsulation:2,changeDetection:0})};var rv;try{rv=typeof Intl<"u"&&Intl.v8BreakIterator}catch{rv=!1}var gt=(()=>{class e{_platformId=f(ti);isBrowser=this._platformId?p1(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||rv)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Id;function K_(){if(Id==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Id=!0}))}finally{Id=Id||!1}return Id}function iv(e){return K_()?e:!!e.capture}var pr=(function(e){return e[e.NORMAL=0]="NORMAL",e[e.NEGATED=1]="NEGATED",e[e.INVERTED=2]="INVERTED",e})(pr||{}),zp,la;function qp(){if(la==null){if(typeof document!="object"||!document||typeof Element!="function"||!Element)return la=!1,la;if(document.documentElement?.style&&"scrollBehavior"in document.documentElement.style)la=!0;else{let e=Element.prototype.scrollTo;e?la=!/\{\s*\[native code\]\s*\}/.test(e.toString()):la=!1}}return la}function Gs(){if(typeof document!="object"||!document)return pr.NORMAL;if(zp==null){let e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";let n=document.createElement("div"),r=n.style;r.width="2px",r.height="1px",e.appendChild(n),document.body.appendChild(e),zp=pr.NORMAL,e.scrollLeft===0&&(e.scrollLeft=1,zp=e.scrollLeft===0?pr.NEGATED:pr.INVERTED),e.remove()}return zp}var ov;function Z_(){if(ov==null){let e=typeof document<"u"?document.head:null;ov=!!(e&&(e.createShadowRoot||e.attachShadow))}return ov}function av(e){if(Z_()){let t=e.getRootNode?e.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function da(){let e=typeof document<"u"&&document?document.activeElement:null;for(;e&&e.shadowRoot;){let t=e.shadowRoot.activeElement;if(t===e)break;e=t}return e}function Hr(e){return e.composedPath?e.composedPath()[0]:e.target}function sv(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}var Ks,X_=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function Cse(){if(Ks)return Ks;if(typeof document!="object"||!document)return Ks=new Set(X_),Ks;let e=document.createElement("input");return Ks=new Set(X_.filter(t=>(e.setAttribute("type",t),e.type===t))),Ks}var mP=["*",[["mat-toolbar-row"]]],vP=["*","mat-toolbar-row"],kP=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return e})(),Up=(()=>{class e{_elementRef=f(Se);_platform=f(gt);_document=f(oe);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-toolbar"]],contentQueries:function(r,i,o){if(r&1&&os(o,kP,5),r&2){let a;Or(a=Pr())&&(i._toolbarRows=a)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(r,i){r&2&&(kn(i.color?"mat-"+i.color:""),Ee("mat-toolbar-multiple-rows",i._toolbarRows.length>0)("mat-toolbar-single-row",i._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:vP,decls:2,vars:0,template:function(r,i){r&1&&(vn(mP),zt(0),zt(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return e})();var Y_=()=>({exact:!0}),Q_=class e{static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-bottom-nav"]],hostAttrs:[1,"sticky","bottom-0","z-10","w-full"],decls:8,vars:7,consts:[["base","routerLinkActive"],["weeklyCheck","routerLinkActive"],["monthlyCheck","routerLinkActive"],[1,"flex","w-full!","items-center","justify-center","border-t-1","border-gray-100","bg-gray-800!"],[1,"flex","items-center","justify-center","gap-3"],["maffiButton","","icon","HandCoins","routerLink","base","routerLinkActive","",3,"routerLinkActiveOptions","theme"],["maffiButton","","icon","ReceiptEuro","routerLink","weekly-check","routerLinkActive","",3,"routerLinkActiveOptions","theme"],["maffiButton","","icon","Calendar","routerLink","monthly-check","routerLinkActive","",3,"theme"]],template:function(n,r){if(n&1&&(L(0,"mat-toolbar",3)(1,"div",4),$e(2,"button",5,0)(4,"button",6,1)(6,"button",7,2),V()()),n&2){let i=ut(3),o=ut(5),a=ut(7);j(2),Je("routerLinkActiveOptions",Zh(5,Y_))("theme",i.isActive?"plain":"inactive"),j(2),Je("routerLinkActiveOptions",Zh(6,Y_))("theme",o.isActive?"plain":"inactive"),j(2),Je("theme",a.isActive?"plain":"inactive")}},dependencies:[Vr,Ms,nm,Up],encapsulation:2})};var MP=["*"],J_=class e{usersFacade=f(Ps);title=ve.required();logout(){this.usersFacade.logout()}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-header"]],inputs:{title:[1,"title"]},ngContentSelectors:MP,decls:5,vars:1,consts:[[1,"sticky","top-0","z-10","flex","justify-between","border-b-1","bg-gray-800!","text-gray-100!"],[1,"text-2xl!"],["maffiButton","","icon","LogOut",3,"click"]],template:function(n,r){n&1&&(vn(),L(0,"mat-toolbar",0)(1,"h1",1),Ze(2),V(),zt(3),L(4,"button",2),Ce("click",function(){return r.logout()}),V()()),n&2&&(j(2),Wh(r.title()))},dependencies:[Up,Vr],encapsulation:2})};var cv={},yi=class e{_appId=f(Vi);static _infix=`a${Math.floor(Math.random()*1e5).toString()}`;getId(t,n=!1){return this._appId!=="ng"&&(t+=this._appId),cv.hasOwnProperty(t)||(cv[t]=0),`${t}${n?e._infix+"-":""}${cv[t]++}`}static \u0275fac=function(n){return new(n||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})};var e8=(()=>{class e{_listeners=[];notify(n,r){for(let i of this._listeners)i(n,r)}listen(n){return this._listeners.push(n),()=>{this._listeners=this._listeners.filter(r=>n!==r)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var lv=new C("CdkAccordion"),ace=(()=>{class e{_stateChanges=new z;_openCloseAllActions=new z;id=f(yi).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(n){this._stateChanges.next(n)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",Rt]},exportAs:["cdkAccordion"],features:[qt([{provide:lv,useExisting:e}]),at]})}return e})(),t8=(()=>{class e{accordion=f(lv,{optional:!0,skipSelf:!0});_changeDetectorRef=f(Ut);_expansionDispatcher=f(e8);_openCloseAllSubscription=je.EMPTY;closed=new Me;opened=new Me;destroyed=new Me;expandedChange=new Me;id=f(yi).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(n){if(this._expanded!==n){if(this._expanded=n,this.expandedChange.emit(n),n){this.opened.emit();let r=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,r)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(n){this._disabled.set(n)}_disabled=we(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((n,r)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===r&&this.id!==n&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(n=>{this.disabled||(this.expanded=n)})}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",Rt],disabled:[2,"disabled","disabled",Rt]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[qt([{provide:lv,useValue:void 0}])]})}return e})();function Zs(e){return Array.isArray(e)?e:[e]}var n8=new Set,ua,$p=(()=>{class e{_platform=f(gt);_nonce=f(es,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):bP}matchMedia(n){return(this._platform.WEBKIT||this._platform.BLINK)&&wP(n,this._nonce),this._matchMedia(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function wP(e,t){if(!n8.has(e))try{ua||(ua=document.createElement("style"),t&&ua.setAttribute("nonce",t),ua.setAttribute("type","text/css"),document.head.appendChild(ua)),ua.sheet&&(ua.sheet.insertRule(`@media ${e} {body{ }}`,0),n8.add(e))}catch(n){console.error(n)}}function bP(e){return{matches:e==="all"||e==="",media:e,addListener:()=>{},removeListener:()=>{}}}var dv=(()=>{class e{_mediaMatcher=f($p);_zone=f(be);_queries=new Map;_destroySubject=new z;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(n){return r8(Zs(n)).some(i=>this._registerQuery(i).mql.matches)}observe(n){let i=r8(Zs(n)).map(a=>this._registerQuery(a).observable),o=Ia(i);return o=Ci(o.pipe(lt(1)),o.pipe(_c(1),Xf(0))),o.pipe(E(a=>{let s={matches:!1,breakpoints:{}};return a.forEach(({matches:c,query:l})=>{s.matches=s.matches||c,s.breakpoints[l]=c}),s}))}_registerQuery(n){if(this._queries.has(n))return this._queries.get(n);let r=this._mediaMatcher.matchMedia(n),o={observable:new te(a=>{let s=c=>this._zone.run(()=>a.next(c));return r.addListener(s),()=>{r.removeListener(s)}}).pipe(Ii(r),E(({matches:a})=>({query:n,matches:a})),xn(this._destroySubject)),mql:r};return this._queries.set(n,o),o}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function r8(e){return e.map(t=>t.split(",")).reduce((t,n)=>t.concat(n)).map(t=>t.trim())}var ha={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"};var CP=new C("MATERIAL_ANIMATIONS"),i8=null;function uv(){return f(CP,{optional:!0})?.animationsDisabled||f(nl,{optional:!0})==="NoopAnimations"?"di-disabled":(i8??=f($p).matchMedia("(prefers-reduced-motion)").matches,i8?"reduced-motion":"enabled")}function hv(){return uv()!=="enabled"}var _P=["determinateSpinner"];function SP(e,t){if(e&1&&(To(),L(0,"svg",11),$e(1,"circle",12),V()),e&2){let n=ne();ft("viewBox",n._viewBox()),j(),Ho("stroke-dasharray",n._strokeCircumference(),"px")("stroke-dashoffset",n._strokeCircumference()/2,"px")("stroke-width",n._circleStrokeWidth(),"%"),ft("r",n._circleRadius())}}var IP=new C("mat-progress-spinner-default-options",{providedIn:"root",factory:()=>({diameter:o8})}),o8=100,xP=10,a8=(()=>{class e{_elementRef=f(Se);_noopAnimations;get color(){return this._color||this._defaultColor}set color(n){this._color=n}_color;_defaultColor="primary";_determinateCircle;constructor(){let n=f(IP),r=uv(),i=this._elementRef.nativeElement;this._noopAnimations=r==="di-disabled"&&!!n&&!n._forceAnimations,this.mode=i.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&r==="reduced-motion"&&i.classList.add("mat-progress-spinner-reduced-motion"),n&&(n.color&&(this.color=this._defaultColor=n.color),n.diameter&&(this.diameter=n.diameter),n.strokeWidth&&(this.strokeWidth=n.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(n){this._value=Math.max(0,Math.min(100,n||0))}_value=0;get diameter(){return this._diameter}set diameter(n){this._diameter=n||0}_diameter=o8;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(n){this._strokeWidth=n||0}_strokeWidth;_circleRadius(){return(this.diameter-xP)/2}_viewBox(){let n=this._circleRadius()*2+this.strokeWidth;return`0 0 ${n} ${n}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(r,i){if(r&1&&Vo(_P,5),r&2){let o;Or(o=Pr())&&(i._determinateCircle=o.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(r,i){r&2&&(ft("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",i.mode==="determinate"?i.value:null)("mode",i.mode),kn("mat-"+i.color),Ho("width",i.diameter,"px")("height",i.diameter,"px")("--mat-progress-spinner-size",i.diameter+"px")("--mat-progress-spinner-active-indicator-width",i.diameter+"px"),Ee("_mat-animation-noopable",i._noopAnimations)("mdc-circular-progress--indeterminate",i.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",vl],diameter:[2,"diameter","diameter",vl],strokeWidth:[2,"strokeWidth","strokeWidth",vl]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(r,i){if(r&1&&(nr(0,SP,2,8,"ng-template",null,0,Bo),L(2,"div",2,1),To(),L(4,"svg",3),$e(5,"circle",4),V()(),Uu(),L(6,"div",5)(7,"div",6)(8,"div",7),Rr(9,8),V(),L(10,"div",9),Rr(11,8),V(),L(12,"div",10),Rr(13,8),V()()()),r&2){let o=ut(1);j(4),ft("viewBox",i._viewBox()),j(),Ho("stroke-dasharray",i._strokeCircumference(),"px")("stroke-dashoffset",i._strokeDashOffset(),"px")("stroke-width",i._circleStrokeWidth(),"%"),ft("r",i._circleRadius()),j(4),Je("ngTemplateOutlet",o),j(2),Je("ngTemplateOutlet",o),j(2),Je("ngTemplateOutlet",o)}},dependencies:[_l],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return e})();var Tce=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ve({type:e});static \u0275inj=Pe({imports:[k_]})}return e})();var pv=0;function DP(){return pv}function ro(e,t){return(...n)=>{try{return pv=t,e(...n)}finally{pv=0}}}function EP(e){return!e}function s8(e){return e}function gi(e){return Array.isArray(e)}function Xs(e){return(typeof e=="object"||typeof e=="function")&&e!=null}var pa=Symbol(),Jp=Symbol(),Dd=class{predicates;fns=[];constructor(t){this.predicates=t}push(t){this.fns.push(c8(this.predicates,t))}mergeIn(t){let n=this.predicates?t.fns.map(r=>c8(this.predicates,r)):t.fns;this.fns.push(...n)}},Gp=class extends Dd{get defaultValue(){return!1}compute(t){return this.fns.some(n=>{let r=n(t);return r&&r!==Jp})}},Ys=class e extends Dd{ignore;static ignoreNull(t){return new e(t,n=>n===null)}constructor(t,n){super(t),this.ignore=n}get defaultValue(){return[]}compute(t){return this.fns.reduce((n,r)=>{let i=r(t);return i===void 0||i===Jp?n:gi(i)?[...n,...this.ignore?i.filter(o=>!this.ignore(o)):i]:this.ignore&&this.ignore(i)?n:[...n,i]},[])}},fv=class extends Ys{constructor(t){super(t,void 0)}},yv=class extends Dd{key;get defaultValue(){return this.key.reducer.getInitial()}constructor(t,n){super(t),this.key=n}compute(t){if(this.fns.length===0)return this.key.reducer.getInitial();let n=this.key.reducer.getInitial();for(let r=0;r<this.fns.length;r++){let i=this.fns[r](t);i!==Jp&&(n=this.key.reducer.reduce(n,i))}return n}};function c8(e,t){return e.length===0?t:n=>{for(let r of e){let i=n.stateOf(r.path),o=U(i.structure.pathKeys).length-r.depth;for(let a=0;a<o;a++)i=i.structure.parent;if(!r.fn(i.context))return Jp}return t(n)}}var Qs=class{predicates;hidden;disabledReasons;readonly;syncErrors;syncTreeErrors;asyncErrors;metadata=new Map;constructor(t){this.predicates=t,this.hidden=new Gp(t),this.disabledReasons=new fv(t),this.readonly=new Gp(t),this.syncErrors=Ys.ignoreNull(t),this.syncTreeErrors=Ys.ignoreNull(t),this.asyncErrors=Ys.ignoreNull(t)}hasMetadata(t){return this.metadata.has(t)}getMetadataKeys(){return this.metadata.keys()}getMetadata(t){return this.metadata.has(t)||this.metadata.set(t,new yv(this.predicates,t)),this.metadata.get(t)}mergeIn(t){this.hidden.mergeIn(t.hidden),this.disabledReasons.mergeIn(t.disabledReasons),this.readonly.mergeIn(t.readonly),this.syncErrors.mergeIn(t.syncErrors),this.syncTreeErrors.mergeIn(t.syncTreeErrors),this.asyncErrors.mergeIn(t.asyncErrors);for(let n of t.getMetadataKeys()){let r=t.metadata.get(n);this.getMetadata(n).mergeIn(r)}}},Kp=class{depth;constructor(t){this.depth=t}build(){return new Zp(this,[],0)}},Js=class e extends Kp{constructor(t){super(t)}current;all=[];addHiddenRule(t){this.getCurrent().addHiddenRule(t)}addDisabledReasonRule(t){this.getCurrent().addDisabledReasonRule(t)}addReadonlyRule(t){this.getCurrent().addReadonlyRule(t)}addSyncErrorRule(t){this.getCurrent().addSyncErrorRule(t)}addSyncTreeErrorRule(t){this.getCurrent().addSyncTreeErrorRule(t)}addAsyncErrorRule(t){this.getCurrent().addAsyncErrorRule(t)}addMetadataRule(t,n){this.getCurrent().addMetadataRule(t,n)}getChild(t){if(t===pa){let n=this.getCurrent().children;n.size>(n.has(pa)?1:0)&&(this.current=void 0)}return this.getCurrent().getChild(t)}hasLogic(t){return this===t?!0:this.all.some(({builder:n})=>n.hasLogic(t))}mergeIn(t,n){n?this.all.push({builder:t,predicate:{fn:ro(n.fn,this.depth),path:n.path}}):this.all.push({builder:t}),this.current=void 0}getCurrent(){return this.current===void 0&&(this.current=new Ed(this.depth),this.all.push({builder:this.current})),this.current}static newRoot(){return new e(0)}},Ed=class extends Kp{logic=new Qs([]);children=new Map;constructor(t){super(t)}addHiddenRule(t){this.logic.hidden.push(ro(t,this.depth))}addDisabledReasonRule(t){this.logic.disabledReasons.push(ro(t,this.depth))}addReadonlyRule(t){this.logic.readonly.push(ro(t,this.depth))}addSyncErrorRule(t){this.logic.syncErrors.push(ro(t,this.depth))}addSyncTreeErrorRule(t){this.logic.syncTreeErrors.push(ro(t,this.depth))}addAsyncErrorRule(t){this.logic.asyncErrors.push(ro(t,this.depth))}addMetadataRule(t,n){this.logic.getMetadata(t).push(ro(n,this.depth))}getChild(t){return this.children.has(t)||this.children.set(t,new Js(this.depth+1)),this.children.get(t)}hasLogic(t){return this===t}},Zp=class e{builder;predicates;depth;logic;constructor(t,n,r){this.builder=t,this.predicates=n,this.depth=r,this.logic=t?AP(t,n,r):new Qs([])}getChild(t){let n=this.builder?d8(this.builder,t):[];if(n.length===0)return new e(void 0,[],this.depth+1);if(n.length===1){let{builder:r,predicates:i}=n[0];return new e(r,[...this.predicates,...i.map(o=>mv(o,this.depth))],this.depth+1)}else{let r=n.map(({builder:i,predicates:o})=>new e(i,[...this.predicates,...o.map(a=>mv(a,this.depth))],this.depth+1));return new gv(r)}}hasLogic(t){return this.builder?.hasLogic(t)??!1}},gv=class e{all;logic;constructor(t){this.all=t,this.logic=new Qs([]);for(let n of t)this.logic.mergeIn(n.logic)}getChild(t){return new e(this.all.flatMap(n=>n.getChild(t)))}hasLogic(t){return this.all.some(n=>n.hasLogic(t))}};function d8(e,t){if(e instanceof Js)return e.all.flatMap(({builder:n,predicate:r})=>{let i=d8(n,t);return r?i.map(({builder:o,predicates:a})=>({builder:o,predicates:[...a,r]})):i});if(e instanceof Ed)return[...t!==pa&&e.children.has(pa)?[{builder:e.getChild(pa),predicates:[]}]:[],...e.children.has(t)?[{builder:e.getChild(t),predicates:[]}]:[]];throw new b(1909,!1)}function AP(e,t,n){let r=new Qs(t);if(e instanceof Js){let i=e.all.map(({builder:o,predicate:a})=>new Zp(o,a?[...t,mv(a,n)]:t,n));for(let o of i)r.mergeIn(o.logic)}else if(e instanceof Ed)r.mergeIn(e.logic);else throw new b(1909,!1);return r}function mv(e,t){return x(m({},e),{depth:t})}var u8=Symbol("PATH"),mi=class e{keys;parent;keyInParent;root;children=new Map;fieldPathProxy=new Proxy(this,TP);logicBuilder;constructor(t,n,r,i){this.keys=t,this.parent=r,this.keyInParent=i,this.root=n??this,r||(this.logicBuilder=Js.newRoot())}get builder(){return this.logicBuilder?this.logicBuilder:this.parent.builder.getChild(this.keyInParent)}getChild(t){return this.children.has(t)||this.children.set(t,new e([...this.keys,t],this.root,this,t)),this.children.get(t)}mergeIn(t,n){let r=t.compile();this.builder.mergeIn(r.builder,n)}static unwrapFieldPath(t){return t[u8]}static newRoot(){return new e([],void 0,void 0,void 0)}},TP={get(e,t){return t===u8?e:e.getChild(t).fieldPathProxy}},Wp,xd=new Map,Xp=class e{schemaFn;constructor(t){this.schemaFn=t}compile(){if(xd.has(this))return xd.get(this);let t=mi.newRoot();xd.set(this,t);let n=Wp;try{Wp=t,this.schemaFn(t.fieldPathProxy)}finally{Wp=n}return t}static create(t){return t instanceof e?t:new e(t)}static rootCompile(t){try{return xd.clear(),t===void 0?mi.newRoot():t instanceof e?t.compile():new e(t).compile()}finally{xd.clear()}}};function LP(e){return e instanceof Xp||typeof e=="function"}function Dv(e){if(Wp!==mi.unwrapFieldPath(e).root)throw new b(1908,!1)}function Ev(e,t,n){return Dv(e),mi.unwrapFieldPath(e).builder.addMetadataRule(t,n),t}var io={list(){return{reduce:(e,t)=>t===void 0?e:[...e,t],getInitial:()=>[]}},min(){return{reduce:(e,t)=>e===void 0||t===void 0?e??t:Math.min(e,t),getInitial:()=>{}}},max(){return{reduce:(e,t)=>e===void 0||t===void 0?e??t:Math.max(e,t),getInitial:()=>{}}},or(){return{reduce:(e,t)=>e||t,getInitial:()=>!1}},and(){return{reduce:(e,t)=>e&&t,getInitial:()=>!0}},override:RP};function RP(e){return{reduce:(t,n)=>n,getInitial:()=>e?.()}}var Yp=class{reducer;create;brand;constructor(t,n){this.reducer=t,this.create=n}};function vi(e){return new Yp(e??io.override())}var Av=vi(io.or()),h8=vi(io.max()),p8=vi(io.min()),f8=vi(io.max()),y8=vi(io.min()),g8=vi(io.list());function OP(e){return e.errors().length>0?"invalid":e.pending()?"unknown":"valid"}var vv=class{node;constructor(t){this.node=t}rawSyncTreeErrors=S(()=>this.shouldSkipValidation()?[]:[...this.node.logicNode.logic.syncTreeErrors.compute(this.node.context),...this.node.structure.parent?.validationState.rawSyncTreeErrors()??[]]);syncErrors=S(()=>this.shouldSkipValidation()?[]:[...this.node.logicNode.logic.syncErrors.compute(this.node.context),...this.syncTreeErrors(),...PP(this.node.submitState.submissionErrors())]);syncValid=S(()=>this.shouldSkipValidation()?!0:this.node.structure.reduceChildren(this.syncErrors().length===0,(t,n)=>n&&t.validationState.syncValid(),EP));syncTreeErrors=S(()=>this.rawSyncTreeErrors().filter(t=>t.fieldTree===this.node.fieldProxy));rawAsyncErrors=S(()=>this.shouldSkipValidation()?[]:[...this.node.logicNode.logic.asyncErrors.compute(this.node.context),...this.node.structure.parent?.validationState.rawAsyncErrors()??[]]);asyncErrors=S(()=>this.shouldSkipValidation()?[]:this.rawAsyncErrors().filter(t=>t==="pending"||t.fieldTree===this.node.fieldProxy));errors=S(()=>[...this.syncErrors(),...this.asyncErrors().filter(t=>t!=="pending")]);errorSummary=S(()=>this.node.structure.reduceChildren(this.errors(),(t,n)=>[...n,...t.errorSummary()]));pending=S(()=>this.node.structure.reduceChildren(this.asyncErrors().includes("pending"),(t,n)=>n||t.validationState.asyncErrors().includes("pending")));status=S(()=>{if(this.shouldSkipValidation())return"valid";let t=OP(this);return this.node.structure.reduceChildren(t,(n,r)=>r==="invalid"||n.validationState.status()==="invalid"?"invalid":r==="unknown"||n.validationState.status()==="unknown"?"unknown":"valid",n=>n==="invalid")});valid=S(()=>this.status()==="valid");invalid=S(()=>this.status()==="invalid");shouldSkipValidation=S(()=>this.node.hidden()||this.node.disabled()||this.node.readonly())};function PP(e){return e===void 0?[]:gi(e)?e:[e]}function m8(e,t){if(gi(e))for(let n of e)n.fieldTree??=t;else e&&(e.fieldTree??=t);return e}var kv=vi(),Mv=class{node;cache=new WeakMap;constructor(t){this.node=t}resolve(t){if(!this.cache.has(t)){let n=S(()=>{let r=mi.unwrapFieldPath(t),i=this.node,o=DP();for(;o>0||!i.structure.logic.hasLogic(r.root.builder);)if(o--,i=i.structure.parent,i===void 0)throw new b(1900,!1);for(let a of r.keys)if(i=i.structure.getChild(a),i===void 0)throw new b(1901,!1);return i.fieldProxy});this.cache.set(t,n)}return this.cache.get(t)()}get fieldTree(){return this.node.fieldProxy}get state(){return this.node}get value(){return this.node.structure.value}get key(){return this.node.structure.keyInParent}get pathKeys(){return this.node.structure.pathKeys}index=S(()=>{let t=this.key();if(!gi(U(this.node.structure.parent.value)))throw new b(1906,!1);return Number(t)});fieldTreeOf=t=>this.resolve(t);stateOf=t=>this.resolve(t)();valueOf=t=>{let n=this.resolve(t)().value();if(n instanceof no)throw new b(1907,!1);return n}},wv=class{node;metadata=new Map;constructor(t){this.node=t;for(let n of this.node.logicNode.logic.getMetadataKeys())if(n.create){let r=this.node.logicNode.logic.getMetadata(n),i=U(()=>nt(this.node.structure.injector,()=>n.create(S(()=>r.compute(this.node.context)))));this.metadata.set(n,i)}}get(t){if(this.has(t)&&!this.metadata.has(t)){if(t.create)throw new b(1912,!1);let n=this.node.logicNode.logic.getMetadata(t);this.metadata.set(t,S(()=>n.compute(this.node.context)))}return this.metadata.get(t)}has(t){return this.node.logicNode.logic.hasMetadata(t)}},NP={get(e,t,n){let r=e(),i=r.structure.getChild(t);if(i!==void 0)return i.fieldProxy;let o=U(r.value);if(gi(o)){if(t==="length")return r.value().length;if(t===Symbol.iterator)return()=>(r.value(),Array.prototype[Symbol.iterator].apply(r.fieldProxy))}if(Xs(o)&&t===Symbol.iterator)return function*(){for(let a in n)yield[a,n[a]]}},getOwnPropertyDescriptor(e,t){let n=U(e().value),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&!r.configurable&&(r.configurable=!0),r},ownKeys(e){let t=U(e().value);return typeof t=="object"&&t!==null?Reflect.ownKeys(t):[]}};function FP(e,t){let n=S(()=>e()[t()]);return n[qe]=e[qe],n.set=r=>{e.update(i=>jP(i,r,t()))},n.update=r=>{n.set(r(U(n)))},n.asReadonly=()=>n,n}function jP(e,t,n){if(gi(e)){let r=[...e];return r[n]=t,r}else return x(m({},e),{[n]:t})}var Qp=class{logic;node;createChildNode;identitySymbol=Symbol();_injector=void 0;get injector(){return this._injector??=Q.create({providers:[],parent:this.fieldManager.injector}),this._injector}constructor(t,n,r){this.logic=t,this.node=n,this.createChildNode=r}children(){let t=this.childrenMap();return t===void 0?[]:Array.from(t.byPropertyKey.values()).map(n=>U(n.reader))}getChild(t){let n=t.toString(),r=U(this.childrenMap)?.byPropertyKey.get(n)?.reader;return r||(r=this.createReader(n)),r()}reduceChildren(t,n,r){let i=this.childrenMap();if(!i)return t;let o=t;for(let a of i.byPropertyKey.values()){if(r?.(o))break;o=n(U(a.reader),o)}return o}destroy(){this.injector.destroy()}createKeyInParent(t,n,r){if(t.kind==="root")return v8;if(n===void 0){let i=r;return S(()=>{if(this.parent.structure.getChild(i)!==this.node)throw new b(1902,!1);return i})}else{let i=r;return S(()=>{let o=this.parent.structure.value();if(!gi(o))throw new b(1903,!1);let a=o[i];if(Xs(a)&&a.hasOwnProperty(this.parent.structure.identitySymbol)&&a[this.parent.structure.identitySymbol]===n)return i;for(let s=0;s<o.length;s++){let c=o[s];if(Xs(c)&&c.hasOwnProperty(this.parent.structure.identitySymbol)&&c[this.parent.structure.identitySymbol]===n)return i=s.toString()}throw new b(1904,!1)})}}createChildrenMap(){return qi({source:this.value,computation:(t,n)=>{if(!Xs(t))return;let r=n?.value??{byPropertyKey:new Map},i,o=gi(t);r!==void 0&&(o?i=HP(r,t,this.identitySymbol):i=BP(r,t));for(let a of Object.keys(t)){let s,c=t[a];if(c===void 0){r.byPropertyKey.has(a)&&(i??=m({},r),i.byPropertyKey.delete(a));continue}o&&Xs(c)&&!gi(c)&&(s=c[this.identitySymbol]??=Symbol(""));let l;s&&(r.byTrackingKey?.has(s)||(i??=m({},r),i.byTrackingKey??=new Map,i.byTrackingKey.set(s,this.createChildNode(a,s,o))),l=(i??r).byTrackingKey.get(s));let d=r.byPropertyKey.get(a);d===void 0?(i??=m({},r),i.byPropertyKey.set(a,{reader:this.createReader(a),node:l??this.createChildNode(a,s,o)})):l&&l!==d.node&&(i??=m({},r),d.node=l)}return i??r}})}createReader(t){return S(()=>this.childrenMap()?.byPropertyKey.get(t)?.node)}},bv=class extends Qp{fieldManager;value;get parent(){}get root(){return this.node}get pathKeys(){return VP}get keyInParent(){return v8}childrenMap;constructor(t,n,r,i,o){super(n,t,o),this.fieldManager=r,this.value=i,this.childrenMap=this.createChildrenMap()}},Cv=class extends Qp{logic;parent;root;pathKeys;keyInParent;value;childrenMap;get fieldManager(){return this.root.structure.fieldManager}constructor(t,n,r,i,o,a){super(n,t,a),this.logic=n,this.parent=r,this.root=this.parent.structure.root,this.keyInParent=this.createKeyInParent({kind:"child",parent:r,pathNode:void 0,logic:n,initialKeyInParent:o,identityInParent:i,fieldAdapter:void 0},i,o),this.pathKeys=S(()=>[...r.structure.pathKeys(),this.keyInParent()]),this.value=FP(this.parent.structure.value,this.keyInParent),this.childrenMap=this.createChildrenMap(),this.fieldManager.structures.add(this)}};var VP=S(()=>[]),v8=S(()=>{throw new b(1905,!1)});function HP(e,t,n){let r,i=new Set(e.byPropertyKey.keys()),o=new Set(e.byTrackingKey?.keys());for(let a=0;a<t.length;a++){let s=t[a];i.delete(a.toString()),Xs(s)&&s.hasOwnProperty(n)&&o.delete(s[n])}if(i.size>0){r??=m({},e);for(let a of i)r.byPropertyKey.delete(a)}if(o.size>0){r??=m({},e);for(let a of o)r.byTrackingKey?.delete(a)}return r}function BP(e,t){let n;for(let r of e.byPropertyKey.keys())t.hasOwnProperty(r)||(n??=m({},e),n.byPropertyKey.delete(r));return n}var _v=class{node;selfSubmitting=we(!1);submissionErrors;constructor(t){this.node=t,this.submissionErrors=qi({source:this.node.structure.value,computation:()=>[]})}submitting=S(()=>this.selfSubmitting()||(this.node.structure.parent?.submitting()??!1))},Ad=class{structure;validationState;metadataState;nodeState;submitState;fieldAdapter;_context=void 0;get context(){return this._context??=new Mv(this)}fieldProxy=new Proxy(()=>this,NP);pathNode;constructor(t){this.pathNode=t.pathNode,this.fieldAdapter=t.fieldAdapter,this.structure=this.fieldAdapter.createStructure(this,t),this.validationState=this.fieldAdapter.createValidationState(this,t),this.nodeState=this.fieldAdapter.createNodeState(this,t),this.metadataState=new wv(this),this.submitState=new _v(this)}focusBoundControl(){this.getBindingForFocus()?.focus()}getBindingForFocus(){let t=this.formFieldBindings().filter(n=>n.focus!==void 0).reduce(l8,void 0);return t||this.structure.children().map(n=>n.getBindingForFocus()).reduce(l8,void 0)}pendingSync=qi({source:()=>this.value(),computation:(t,n)=>{n?.value?.abort()}});get logicNode(){return this.structure.logic}get value(){return this.structure.value}_controlValue=qi(()=>this.value());get controlValue(){return this._controlValue.asReadonly()}get keyInParent(){return this.structure.keyInParent}get errors(){return this.validationState.errors}get errorSummary(){return this.validationState.errorSummary}get pending(){return this.validationState.pending}get valid(){return this.validationState.valid}get invalid(){return this.validationState.invalid}get dirty(){return this.nodeState.dirty}get touched(){return this.nodeState.touched}get disabled(){return this.nodeState.disabled}get disabledReasons(){return this.nodeState.disabledReasons}get hidden(){return this.nodeState.hidden}get readonly(){return this.nodeState.readonly}get formFieldBindings(){return this.nodeState.formFieldBindings}get submitting(){return this.submitState.submitting}get name(){return this.nodeState.name}get max(){return this.metadata(p8)}get maxLength(){return this.metadata(y8)}get min(){return this.metadata(h8)}get minLength(){return this.metadata(f8)}get pattern(){return this.metadata(g8)??zP}get required(){return this.metadata(Av)??qP}metadata(t){return this.metadataState.get(t)}hasMetadata(t){return this.metadataState.has(t)}markAsTouched(){this.nodeState.markAsTouched(),this.pendingSync()?.abort(),this.sync()}markAsDirty(){this.nodeState.markAsDirty()}reset(t){U(()=>this._reset(t))}_reset(t){t!==void 0&&this.value.set(t),this.nodeState.markAsUntouched(),this.nodeState.markAsPristine();for(let n of this.structure.children())n._reset()}setControlValue(t){this._controlValue.set(t),this.markAsDirty(),this.debounceSync()}sync(){this.value.set(this.controlValue())}async debounceSync(){this.pendingSync()?.abort();let t=this.nodeState.debouncer();if(t){let n=new AbortController,r=t(n.signal);if(r&&(this.pendingSync.set(n),await r,n.signal.aborted))return}this.sync()}static newRoot(t,n,r,i){return i.newRoot(t,n,r,i)}createStructure(t){return t.kind==="root"?new bv(this,t.logic,t.fieldManager,t.value,this.newChild.bind(this)):new Cv(this,t.logic,t.parent,t.identityInParent,t.initialKeyInParent,this.newChild.bind(this))}newChild(t,n,r){let i,o;return r?(i=this.pathNode.getChild(pa),o=this.structure.logic.getChild(pa)):(i=this.pathNode.getChild(t),o=this.structure.logic.getChild(t)),this.fieldAdapter.newChild({kind:"child",parent:this,pathNode:i,logic:o,initialKeyInParent:t,identityInParent:n,fieldAdapter:this.fieldAdapter})}},zP=S(()=>[]),qP=S(()=>!1);function l8(e,t){return e?t&&e.element.compareDocumentPosition(t.element)&Node.DOCUMENT_POSITION_PRECEDING?t:e:t}var Sv=class{node;selfTouched=we(!1);selfDirty=we(!1);markAsTouched(){this.selfTouched.set(!0)}markAsDirty(){this.selfDirty.set(!0)}markAsPristine(){this.selfDirty.set(!1)}markAsUntouched(){this.selfTouched.set(!1)}formFieldBindings=we([]);constructor(t){this.node=t}dirty=S(()=>{let t=this.selfDirty()&&!this.isNonInteractive();return this.node.structure.reduceChildren(t,(n,r)=>r||n.nodeState.dirty(),s8)});touched=S(()=>{let t=this.selfTouched()&&!this.isNonInteractive();return this.node.structure.reduceChildren(t,(n,r)=>r||n.nodeState.touched(),s8)});disabledReasons=S(()=>[...this.node.structure.parent?.nodeState.disabledReasons()??[],...this.node.logicNode.logic.disabledReasons.compute(this.node.context)]);disabled=S(()=>!!this.disabledReasons().length);readonly=S(()=>(this.node.structure.parent?.nodeState.readonly()||this.node.logicNode.logic.readonly.compute(this.node.context))??!1);hidden=S(()=>(this.node.structure.parent?.nodeState.hidden()||this.node.logicNode.logic.hidden.compute(this.node.context))??!1);name=S(()=>{let t=this.node.structure.parent;return t?`${t.name()}.${this.node.structure.keyInParent()}`:this.node.structure.fieldManager.rootName});debouncer=S(()=>{if(this.node.logicNode.logic.hasMetadata(kv)){let n=this.node.logicNode.logic.getMetadata(kv).compute(this.node.context);if(n)return r=>n(this.node.context,r)}return this.node.structure.parent?.nodeState.debouncer?.()});isNonInteractive=S(()=>this.hidden()||this.disabled()||this.readonly())},Iv=class{newRoot(t,n,r,i){return new Ad({kind:"root",fieldManager:t,value:n,pathNode:r,logic:r.builder.build(),fieldAdapter:i})}newChild(t){return new Ad(t)}createNodeState(t){return new Sv(t)}createValidationState(t){return new vv(t)}createStructure(t,n){return t.createStructure(n)}},xv=class{injector;rootName;constructor(t,n){this.injector=t,this.rootName=n??`${this.injector.get(Vi)}.form${UP++}`}structures=new Set;createFieldManagementEffect(t){an(()=>{let n=new Set;this.markStructuresLive(t,n);for(let r of this.structures)n.has(r)||(this.structures.delete(r),U(()=>r.destroy()))},{injector:this.injector})}markStructuresLive(t,n){n.add(t);for(let r of t.children())this.markStructuresLive(r.structure,n)}},UP=0;function $P(e){let t,n,r;return e.length===3?[t,n,r]=e:e.length===2?LP(e[1])?[t,n]=e:[t,r]=e:[t]=e,[t,n,r]}function Td(...e){let[t,n,r]=$P(e),i=r?.injector??f(Q),o=nt(i,()=>Xp.rootCompile(n)),a=new xv(i,r?.name),s=r?.adapter??new Iv,c=Ad.newRoot(a,t,o,s);return a.createFieldManagementEffect(c.structure),c.fieldProxy}var WP=new C("");var Tv=class{field;constructor(t){this.field=t}control=this;get value(){return this.field().value()}get valid(){return this.field().valid()}get invalid(){return this.field().invalid()}get pending(){return this.field().pending()}get disabled(){return this.field().disabled()}get enabled(){return!this.field().disabled()}get errors(){let t=this.field().errors();if(t.length===0)return null;let n={};for(let r of t)n[r.kind]=r;return n}get pristine(){return!this.field().dirty()}get dirty(){return this.field().dirty()}get touched(){return this.field().touched()}get untouched(){return!this.field().touched()}get status(){if(this.field().disabled())return"DISABLED";if(this.field().valid())return"VALID";if(this.field().invalid())return"INVALID";if(this.field().pending())return"PENDING";throw new b(1910,!1)}valueAccessor=null;hasValidator(t){return t===Dp.required?this.field().required():!1}updateValueAndValidity(){}},GP=new C(""),KP={create:Lr,update:Fy},ef=(()=>{class e{element=f(Se).nativeElement;injector=f(Q);formField=ve.required();state=S(()=>this.formField()());[Fh]=KP;config=f(WP,{optional:!0});classes=Object.entries(this.config?.classes??{}).map(([n,r])=>[n,S(()=>r(this))]);controlValueAccessors=f(qs,{optional:!0,self:!0});interopNgControl;get \u0275interopControl(){return this.controlValueAccessors?.[0]??this.interopNgControl?.valueAccessor??void 0}getOrCreateNgControl(){return this.interopNgControl??=new Tv(this.state)}\u0275register(){an(n=>{let r=this.state();r.nodeState.formFieldBindings.update(i=>[...i,this]),n(()=>{r.nodeState.formFieldBindings.update(i=>i.filter(o=>o!==this))})},{injector:this.injector})}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["","formField",""]],inputs:{formField:[1,"formField"]},features:[qt([{provide:GP,useExisting:e},{provide:hr,useFactory:()=>f(e).getOrCreateNgControl()}])]})}return e})();function k8(e,t){return e instanceof Function?e(t):e}function ZP(e){return typeof e=="number"?isNaN(e):e===""||e===!1||e==null}function XP(e,t){Dv(e),mi.unwrapFieldPath(e).builder.addSyncErrorRule(r=>m8(t(r),r.fieldTree))}function YP(e){return new Rv(e)}var Lv=class{__brand=void 0;kind="";fieldTree;message;constructor(t){t&&Object.assign(this,t)}},Rv=class extends Lv{kind="required"};function tf(e,t){let n=Ev(e,vi(),r=>t?.when?t.when(r):!0);Ev(e,Av,({state:r})=>r.metadata(n)()),XP(e,r=>{if(r.state.metadata(n)()&&ZP(r.value()))return t?.error?k8(t.error,r):YP({message:k8(t?.message,r)})})}var ec=class e{icon=ve.required();size=ve("small");_size=S(()=>{switch(this.size()){case"mini":return 12;case"small":return 16;case"medium":return 24;case"large":return 32}});static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-icon"]],inputs:{icon:[1,"icon"],size:[1,"size"]},decls:1,vars:2,consts:[[3,"name","size"]],template:function(n,r){n&1&&$e(0,"i-lucide",0),n&2&&Je("name",r.icon())("size",r._size())},dependencies:[Ws,Bp],encapsulation:2})};var M8=class e{balance=ve.required();static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-balance"]],inputs:{balance:[1,"balance"]},decls:9,vars:3,consts:[[1,"grid","h-5","w-full","grid-cols-[1.5rem_6.5rem_1rem]","items-center","gap-2"],["icon","Scale","size","medium"],[1,"text-sm","font-semibold"],[1,"text-(length:--text-xs)","leading-(--text-sm--line-height)","font-medium"]],template:function(n,r){n&1&&(L(0,"mat-card")(1,"mat-card-content")(2,"div",0),$e(3,"app-icon",1),L(4,"span",2),Ze(5,"Saldo"),V(),L(6,"h1",3),Ze(7),Mn(8,"currency"),V()()()()),n&2&&(j(7),xt(" ",Pn(8,1,r.balance())," "))},dependencies:[Sp,Ip,Ws,ec,oi],encapsulation:2})};var QP=["inputRef"],nf=class e{value=e1();blurred=un();enterPress=un();inputRef=ir.required("inputRef");setValue(t){t&&this.value.set(+t)}select(){setTimeout(()=>this.inputRef().nativeElement.select())}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-number-input"]],viewQuery:function(n,r){n&1&&On(r.inputRef,QP,5),n&2&&rr()},inputs:{value:[1,"value"]},outputs:{value:"valueChange",blurred:"blurred",enterPress:"enterPress"},decls:2,vars:1,consts:[["inputRef",""],["type","number",1,"mb-1","w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"input","blur","keyup.enter","value"]],template:function(n,r){if(n&1){let i=Lt();Bi(0,"input",1,0),$h("input",function(a){return ue(i),he(r.setValue(a.target.value))})("blur",function(){return ue(i),he(r.blurred.emit())})("keyup.enter",function(){return ue(i),he(r.enterPress.emit())}),zi()}n&2&&is("value",r.value())},encapsulation:2})};var JP=["inputRef"],rf=class e{value=e1();blurred=un();enterPress=un();inputRef=ir.required("inputRef");select(){setTimeout(()=>this.inputRef().nativeElement.select())}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-string-input"]],viewQuery:function(n,r){n&1&&On(r.inputRef,JP,5),n&2&&rr()},inputs:{value:[1,"value"]},outputs:{value:"valueChange",blurred:"blurred",enterPress:"enterPress"},decls:2,vars:1,consts:[["inputRef",""],["type","text",1,"mb-1","w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"ngModelChange","blur","keyup.enter","ngModel"]],template:function(n,r){if(n&1){let i=Lt();L(0,"input",1,0),Kh("ngModelChange",function(a){return ue(i),$y(r.value,a)||(r.value=a),he(a)}),Ce("blur",function(){return ue(i),he(r.blurred.emit())})("keyup.enter",function(){return ue(i),he(r.enterPress.emit())}),V()}n&2&&Gh("ngModel",r.value)},dependencies:[W_,jp,j_,Jm],encapsulation:2})};var Ld=class{_attachedHost=null;attach(t){return this._attachedHost=t,t.attach(this)}detach(){let t=this._attachedHost;t!=null&&(this._attachedHost=null,t.detach())}get isAttached(){return this._attachedHost!=null}setAttachedHost(t){this._attachedHost=t}},tc=class extends Ld{component;viewContainerRef;injector;projectableNodes;constructor(t,n,r,i){super(),this.component=t,this.viewContainerRef=n,this.injector=r,this.projectableNodes=i}},nc=class extends Ld{templateRef;viewContainerRef;context;injector;constructor(t,n,r,i){super(),this.templateRef=t,this.viewContainerRef=n,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(t,n=this.context){return this.context=n,super.attach(t)}detach(){return this.context=void 0,super.detach()}},Ov=class extends Ld{element;constructor(t){super(),this.element=t instanceof Se?t.nativeElement:t}},rc=class{_attachedPortal=null;_disposeFn=null;_isDisposed=!1;hasAttached(){return!!this._attachedPortal}attach(t){if(t instanceof tc)return this._attachedPortal=t,this.attachComponentPortal(t);if(t instanceof nc)return this._attachedPortal=t,this.attachTemplatePortal(t);if(this.attachDomPortal&&t instanceof Ov)return this._attachedPortal=t,this.attachDomPortal(t)}attachDomPortal=null;detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(t){this._disposeFn=t}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}},of=class extends rc{outletElement;_appRef;_defaultInjector;constructor(t,n,r){super(),this.outletElement=t,this._appRef=n,this._defaultInjector=r}attachComponentPortal(t){let n;if(t.viewContainerRef){let r=t.injector||t.viewContainerRef.injector,i=r.get(Er,null,{optional:!0})||void 0;n=t.viewContainerRef.createComponent(t.component,{index:t.viewContainerRef.length,injector:r,ngModuleRef:i,projectableNodes:t.projectableNodes||void 0}),this.setDisposeFn(()=>n.destroy())}else{let r=this._appRef,i=t.injector||this._defaultInjector||Q.NULL,o=i.get(Oe,r.injector);n=t1(t.component,{elementInjector:i,environmentInjector:o,projectableNodes:t.projectableNodes||void 0}),r.attachView(n.hostView),this.setDisposeFn(()=>{r.viewCount>0&&r.detachView(n.hostView),n.destroy()})}return this.outletElement.appendChild(this._getComponentRootNode(n)),this._attachedPortal=t,n}attachTemplatePortal(t){let n=t.viewContainerRef,r=n.createEmbeddedView(t.templateRef,t.context,{injector:t.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=n.indexOf(r);i!==-1&&n.remove(i)}),this._attachedPortal=t,r}attachDomPortal=t=>{let n=t.element;n.parentNode;let r=this.outletElement.ownerDocument.createComment("dom-portal");n.parentNode.insertBefore(r,n),this.outletElement.appendChild(n),this._attachedPortal=t,super.setDisposeFn(()=>{r.parentNode&&r.parentNode.replaceChild(n,r)})};dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(t){return t.hostView.rootNodes[0]}};var Rd=(()=>{class e extends rc{_moduleRef=f(Er,{optional:!0});_document=f(oe);_viewContainerRef=f(cn);_isInitialized=!1;_attachedRef=null;constructor(){super()}get portal(){return this._attachedPortal}set portal(n){this.hasAttached()&&!n&&!this._isInitialized||(this.hasAttached()&&super.detach(),n&&super.attach(n),this._attachedPortal=n||null)}attached=new Me;get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedRef=this._attachedPortal=null}attachComponentPortal(n){n.setAttachedHost(this);let r=n.viewContainerRef!=null?n.viewContainerRef:this._viewContainerRef,i=r.createComponent(n.component,{index:r.length,injector:n.injector||r.injector,projectableNodes:n.projectableNodes||void 0,ngModuleRef:this._moduleRef||void 0});return r!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=n,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(n){n.setAttachedHost(this);let r=this._viewContainerRef.createEmbeddedView(n.templateRef,n.context,{injector:n.injector});return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=n,this._attachedRef=r,this.attached.emit(r),r}attachDomPortal=n=>{let r=n.element;r.parentNode;let i=this._document.createComment("dom-portal");n.setAttachedHost(this),r.parentNode.insertBefore(i,r),this._getRootNode().appendChild(r),this._attachedPortal=n,super.setDisposeFn(()=>{i.parentNode&&i.parentNode.replaceChild(r,i)})};_getRootNode(){let n=this._viewContainerRef.element.nativeElement;return n.nodeType===n.ELEMENT_NODE?n:n.parentNode}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:[0,"cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[dt]})}return e})();function w8(e){return e.buttons===0||e.detail===0}function b8(e){let t=e.touches&&e.touches[0]||e.changedTouches&&e.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}function eN(e,t=0){return tN(e)?Number(e):arguments.length===2?t:0}function tN(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}function ic(e){return e instanceof Se?e.nativeElement:e}var nN=new C("cdk-input-modality-detector-options"),rN={ignoreKeys:[18,17,224,91,16]},C8=650,Pv={passive:!0,capture:!0},iN=(()=>{class e{_platform=f(gt);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new mt(null);_options;_lastTouchMs=0;_onKeydown=n=>{this._options?.ignoreKeys?.some(r=>r===n.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=Hr(n))};_onMousedown=n=>{Date.now()-this._lastTouchMs<C8||(this._modality.next(w8(n)?"keyboard":"mouse"),this._mostRecentTarget=Hr(n))};_onTouchstart=n=>{if(b8(n)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=Hr(n)};constructor(){let n=f(be),r=f(oe),i=f(nN,{optional:!0});if(this._options=m(m({},rN),i),this.modalityDetected=this._modality.pipe(_c(1)),this.modalityChanged=this.modalityDetected.pipe(mu()),this._platform.isBrowser){let o=f(Bt).createRenderer(null,null);this._listenerCleanups=n.runOutsideAngular(()=>[o.listen(r,"keydown",this._onKeydown,Pv),o.listen(r,"mousedown",this._onMousedown,Pv),o.listen(r,"touchstart",this._onTouchstart,Pv)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(n=>n())}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),sf=(function(e){return e[e.IMMEDIATE=0]="IMMEDIATE",e[e.EVENTUAL=1]="EVENTUAL",e})(sf||{}),oN=new C("cdk-focus-monitor-default-options"),af=iv({passive:!0,capture:!0}),_8=(()=>{class e{_ngZone=f(be);_platform=f(gt);_inputModalityDetector=f(iN);_origin=null;_lastFocusOrigin=null;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(oe);_stopInputModalityDetector=new z;constructor(){let n=f(oN,{optional:!0});this._detectionMode=n?.detectionMode||sf.IMMEDIATE}_rootNodeFocusAndBlurListener=n=>{let r=Hr(n);for(let i=r;i;i=i.parentElement)n.type==="focus"?this._onFocus(n,i):this._onBlur(n,i)};monitor(n,r=!1){let i=ic(n);if(!this._platform.isBrowser||i.nodeType!==1)return ee();let o=av(i)||this._document,a=this._elementInfo.get(i);if(a)return r&&(a.checkChildren=!0),a.subject;let s={checkChildren:r,subject:new z,rootNode:o};return this._elementInfo.set(i,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(n){let r=ic(n),i=this._elementInfo.get(r);i&&(i.subject.complete(),this._setClasses(r),this._elementInfo.delete(r),this._removeGlobalListeners(i))}focusVia(n,r,i){let o=ic(n),a=this._document.activeElement;o===a?this._getClosestElementsInfo(o).forEach(([s,c])=>this._originChanged(s,r,c)):(this._setOrigin(r),typeof o.focus=="function"&&o.focus(i))}ngOnDestroy(){this._elementInfo.forEach((n,r)=>this.stopMonitoring(r))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(n){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(n)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:n&&this._isLastInteractionFromInputLabel(n)?"mouse":"program"}_shouldBeAttributedToTouch(n){return this._detectionMode===sf.EVENTUAL||!!n?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(n,r){n.classList.toggle("cdk-focused",!!r),n.classList.toggle("cdk-touch-focused",r==="touch"),n.classList.toggle("cdk-keyboard-focused",r==="keyboard"),n.classList.toggle("cdk-mouse-focused",r==="mouse"),n.classList.toggle("cdk-program-focused",r==="program")}_setOrigin(n,r=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=n,this._originFromTouchInteraction=n==="touch"&&r,this._detectionMode===sf.IMMEDIATE){clearTimeout(this._originTimeoutId);let i=this._originFromTouchInteraction?C8:1;this._originTimeoutId=setTimeout(()=>this._origin=null,i)}})}_onFocus(n,r){let i=this._elementInfo.get(r),o=Hr(n);!i||!i.checkChildren&&r!==o||this._originChanged(r,this._getFocusOrigin(o),i)}_onBlur(n,r){let i=this._elementInfo.get(r);!i||i.checkChildren&&n.relatedTarget instanceof Node&&r.contains(n.relatedTarget)||(this._setClasses(r),this._emitOrigin(i,null))}_emitOrigin(n,r){n.subject.observers.length&&this._ngZone.run(()=>n.subject.next(r))}_registerGlobalListeners(n){if(!this._platform.isBrowser)return;let r=n.rootNode,i=this._rootNodeFocusListenerCount.get(r)||0;i||this._ngZone.runOutsideAngular(()=>{r.addEventListener("focus",this._rootNodeFocusAndBlurListener,af),r.addEventListener("blur",this._rootNodeFocusAndBlurListener,af)}),this._rootNodeFocusListenerCount.set(r,i+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(xn(this._stopInputModalityDetector)).subscribe(o=>{this._setOrigin(o,!0)}))}_removeGlobalListeners(n){let r=n.rootNode;if(this._rootNodeFocusListenerCount.has(r)){let i=this._rootNodeFocusListenerCount.get(r);i>1?this._rootNodeFocusListenerCount.set(r,i-1):(r.removeEventListener("focus",this._rootNodeFocusAndBlurListener,af),r.removeEventListener("blur",this._rootNodeFocusAndBlurListener,af),this._rootNodeFocusListenerCount.delete(r))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(n,r,i){this._setClasses(n,r),this._emitOrigin(i,r),this._lastFocusOrigin=r}_getClosestElementsInfo(n){let r=[];return this._elementInfo.forEach((i,o)=>{(o===n||i.checkChildren&&o.contains(n))&&r.push([o,i])}),r}_isLastInteractionFromInputLabel(n){let{_mostRecentTarget:r,mostRecentModality:i}=this._inputModalityDetector;if(i!=="mouse"||!r||r===n||n.nodeName!=="INPUT"&&n.nodeName!=="TEXTAREA"||n.disabled)return!1;let o=n.labels;if(o){for(let a=0;a<o.length;a++)if(o[a].contains(r))return!0}return!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var cf=new WeakMap,oc=(()=>{class e{_appRef;_injector=f(Q);_environmentInjector=f(Oe);load(n){let r=this._appRef=this._appRef||this._injector.get(mn),i=cf.get(r);i||(i={loaders:new Set,refs:[]},cf.set(r,i),r.onDestroy(()=>{cf.get(r)?.refs.forEach(o=>o.destroy()),cf.delete(r)})),i.loaders.has(n)||(i.loaders.add(n),i.refs.push(t1(n,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var S8=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],exportAs:["cdkVisuallyHidden"],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-visually-hidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap;outline:0;-webkit-appearance:none;-moz-appearance:none;left:0}[dir=rtl] .cdk-visually-hidden{left:auto;right:0}
`],encapsulation:2,changeDetection:0})}return e})(),lf;function aN(){if(lf===void 0&&(lf=null,typeof window<"u")){let e=window;e.trustedTypes!==void 0&&(lf=e.trustedTypes.createPolicy("angular#components",{createHTML:t=>t}))}return lf}function Gle(e){return aN()?.createHTML(e)||e}var sN=(()=>{class e{create(n){return typeof MutationObserver>"u"?null:new MutationObserver(n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Xle=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275mod=Ve({type:e});static \u0275inj=Pe({providers:[sN]})}return e})();var Fv=(()=>{class e{_platform=f(gt);constructor(){}isDisabled(n){return n.hasAttribute("disabled")}isVisible(n){return lN(n)&&getComputedStyle(n).visibility==="visible"}isTabbable(n){if(!this._platform.isBrowser)return!1;let r=cN(mN(n));if(r&&(I8(r)===-1||!this.isVisible(r)))return!1;let i=n.nodeName.toLowerCase(),o=I8(n);return n.hasAttribute("contenteditable")?o!==-1:i==="iframe"||i==="object"||this._platform.WEBKIT&&this._platform.IOS&&!yN(n)?!1:i==="audio"?n.hasAttribute("controls")?o!==-1:!1:i==="video"?o===-1?!1:o!==null?!0:this._platform.FIREFOX||n.hasAttribute("controls"):n.tabIndex>=0}isFocusable(n,r){return gN(n)&&!this.isDisabled(n)&&(r?.ignoreVisibility||this.isVisible(n))}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function cN(e){try{return e.frameElement}catch{return null}}function lN(e){return!!(e.offsetWidth||e.offsetHeight||typeof e.getClientRects=="function"&&e.getClientRects().length)}function dN(e){let t=e.nodeName.toLowerCase();return t==="input"||t==="select"||t==="button"||t==="textarea"}function uN(e){return pN(e)&&e.type=="hidden"}function hN(e){return fN(e)&&e.hasAttribute("href")}function pN(e){return e.nodeName.toLowerCase()=="input"}function fN(e){return e.nodeName.toLowerCase()=="a"}function x8(e){if(!e.hasAttribute("tabindex")||e.tabIndex===void 0)return!1;let t=e.getAttribute("tabindex");return!!(t&&!isNaN(parseInt(t,10)))}function I8(e){if(!x8(e))return null;let t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}function yN(e){let t=e.nodeName.toLowerCase(),n=t==="input"&&e.type;return n==="text"||n==="password"||t==="select"||t==="textarea"}function gN(e){return uN(e)?!1:dN(e)||hN(e)||e.hasAttribute("contenteditable")||x8(e)}function mN(e){return e.ownerDocument&&e.ownerDocument.defaultView||window}var Nv=class{_element;_checker;_ngZone;_document;_injector;_startAnchor=null;_endAnchor=null;_hasAttached=!1;startAnchorListener=()=>this.focusLastTabbableElement();endAnchorListener=()=>this.focusFirstTabbableElement();get enabled(){return this._enabled}set enabled(t){this._enabled=t,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_enabled=!0;constructor(t,n,r,i,o=!1,a){this._element=t,this._checker=n,this._ngZone=r,this._document=i,this._injector=a,o||this.attachAnchors()}destroy(){let t=this._startAnchor,n=this._endAnchor;t&&(t.removeEventListener("focus",this.startAnchorListener),t.remove()),n&&(n.removeEventListener("focus",this.endAnchorListener),n.remove()),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return this._hasAttached?!0:(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusInitialElement(t)))})}focusFirstTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusFirstTabbableElement(t)))})}focusLastTabbableElementWhenReady(t){return new Promise(n=>{this._executeOnStable(()=>n(this.focusLastTabbableElement(t)))})}_getRegionBoundary(t){let n=this._element.querySelectorAll(`[cdk-focus-region-${t}], [cdkFocusRegion${t}], [cdk-focus-${t}]`);return t=="start"?n.length?n[0]:this._getFirstTabbableElement(this._element):n.length?n[n.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(t){let n=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(n){if(!this._checker.isFocusable(n)){let r=this._getFirstTabbableElement(n);return r?.focus(t),!!r}return n.focus(t),!0}return this.focusFirstTabbableElement(t)}focusFirstTabbableElement(t){let n=this._getRegionBoundary("start");return n&&n.focus(t),!!n}focusLastTabbableElement(t){let n=this._getRegionBoundary("end");return n&&n.focus(t),!!n}hasAttached(){return this._hasAttached}_getFirstTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let r=0;r<n.length;r++){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(n[r]):null;if(i)return i}return null}_getLastTabbableElement(t){if(this._checker.isFocusable(t)&&this._checker.isTabbable(t))return t;let n=t.children;for(let r=n.length-1;r>=0;r--){let i=n[r].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(n[r]):null;if(i)return i}return null}_createAnchor(){let t=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,t),t.classList.add("cdk-visually-hidden"),t.classList.add("cdk-focus-trap-anchor"),t.setAttribute("aria-hidden","true"),t}_toggleAnchorTabIndex(t,n){t?n.setAttribute("tabindex","0"):n.removeAttribute("tabindex")}toggleAnchors(t){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(t,this._startAnchor),this._toggleAnchorTabIndex(t,this._endAnchor))}_executeOnStable(t){this._injector?sn(t,{injector:this._injector}):setTimeout(t)}},jv=(()=>{class e{_checker=f(Fv);_ngZone=f(be);_document=f(oe);_injector=f(Q);constructor(){f(oc).load(S8)}create(n,r=!1){return new Nv(n,this._checker,this._ngZone,this._document,r,this._injector)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),cde=(()=>{class e{_elementRef=f(Se);_focusTrapFactory=f(jv);focusTrap=void 0;_previouslyFocusedElement=null;get enabled(){return this.focusTrap?.enabled||!1}set enabled(n){this.focusTrap&&(this.focusTrap.enabled=n)}autoCapture=!1;constructor(){f(gt).isBrowser&&(this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0))}ngOnDestroy(){this.focusTrap?.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap?.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap&&!this.focusTrap.hasAttached()&&this.focusTrap.attachAnchors()}ngOnChanges(n){let r=n.autoCapture;r&&!r.firstChange&&this.autoCapture&&this.focusTrap?.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=da(),this.focusTrap?.focusInitialElementWhenReady()}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["","cdkTrapFocus",""]],inputs:{enabled:[2,"cdkTrapFocus","enabled",Rt],autoCapture:[2,"cdkTrapFocusAutoCapture","autoCapture",Rt]},exportAs:["cdkTrapFocus"],features:[at]})}return e})();function df(e,...t){return t.length?t.some(n=>e[n]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function ht(e){return e==null?"":typeof e=="string"?e:`${e}px`}var vN=20,uf=(()=>{class e{_ngZone=f(be);_platform=f(gt);_renderer=f(Bt).createRenderer(null,null);_cleanupGlobalListener;constructor(){}_scrolled=new z;_scrolledCount=0;scrollContainers=new Map;register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){let r=this.scrollContainers.get(n);r&&(r.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=vN){return this._platform.isBrowser?new te(r=>{this._cleanupGlobalListener||(this._cleanupGlobalListener=this._ngZone.runOutsideAngular(()=>this._renderer.listen("document","scroll",()=>this._scrolled.next())));let i=n>0?this._scrolled.pipe(gu(n)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||(this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0)}}):ee()}ngOnDestroy(){this._cleanupGlobalListener?.(),this._cleanupGlobalListener=void 0,this.scrollContainers.forEach((n,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(n,r){let i=this.getAncestorScrollContainers(n);return this.scrolled(r).pipe(Ue(o=>!o||i.indexOf(o)>-1))}getAncestorScrollContainers(n){let r=[];return this.scrollContainers.forEach((i,o)=>{this._scrollableContainsElement(o,n)&&r.push(o)}),r}_scrollableContainsElement(n,r){let i=ic(r),o=n.getElementRef().nativeElement;do if(i==o)return!0;while(i=i.parentElement);return!1}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Dde=(()=>{class e{elementRef=f(Se);scrollDispatcher=f(uf);ngZone=f(be);dir=f(eo,{optional:!0});_scrollElement=this.elementRef.nativeElement;_destroyed=new z;_renderer=f(Tt);_cleanupScroll;_elementScrolled=new z;constructor(){}ngOnInit(){this._cleanupScroll=this.ngZone.runOutsideAngular(()=>this._renderer.listen(this._scrollElement,"scroll",n=>this._elementScrolled.next(n))),this.scrollDispatcher.register(this)}ngOnDestroy(){this._cleanupScroll?.(),this._elementScrolled.complete(),this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){let r=this.elementRef.nativeElement,i=this.dir&&this.dir.value=="rtl";n.left==null&&(n.left=i?n.end:n.start),n.right==null&&(n.right=i?n.start:n.end),n.bottom!=null&&(n.top=r.scrollHeight-r.clientHeight-n.bottom),i&&Gs()!=pr.NORMAL?(n.left!=null&&(n.right=r.scrollWidth-r.clientWidth-n.left),Gs()==pr.INVERTED?n.left=n.right:Gs()==pr.NEGATED&&(n.left=n.right?-n.right:n.right)):n.right!=null&&(n.left=r.scrollWidth-r.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){let r=this.elementRef.nativeElement;qp()?r.scrollTo(n):(n.top!=null&&(r.scrollTop=n.top),n.left!=null&&(r.scrollLeft=n.left))}measureScrollOffset(n){let r="left",i="right",o=this.elementRef.nativeElement;if(n=="top")return o.scrollTop;if(n=="bottom")return o.scrollHeight-o.clientHeight-o.scrollTop;let a=this.dir&&this.dir.value=="rtl";return n=="start"?n=a?i:r:n=="end"&&(n=a?r:i),a&&Gs()==pr.INVERTED?n==r?o.scrollWidth-o.clientWidth-o.scrollLeft:o.scrollLeft:a&&Gs()==pr.NEGATED?n==r?o.scrollLeft+o.scrollWidth-o.clientWidth:-o.scrollLeft:n==r?o.scrollLeft:o.scrollWidth-o.clientWidth-o.scrollLeft}static \u0275fac=function(r){return new(r||e)};static \u0275dir=ce({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]})}return e})(),kN=20,Od=(()=>{class e{_platform=f(gt);_listeners;_viewportSize=null;_change=new z;_document=f(oe);constructor(){let n=f(be),r=f(Bt).createRenderer(null,null);n.runOutsideAngular(()=>{if(this._platform.isBrowser){let i=o=>this._change.next(o);this._listeners=[r.listen("window","resize",i),r.listen("window","orientationchange",i)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(n=>n()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){let n=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+i,right:n.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let n=this._document,r=this._getWindow(),i=n.documentElement,o=i.getBoundingClientRect(),a=-o.top||n.body?.scrollTop||r.scrollY||i.scrollTop||0,s=-o.left||n.body?.scrollLeft||r.scrollX||i.scrollLeft||0;return{top:a,left:s}}change(n=kN){return n>0?this._change.pipe(gu(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var D8=qp();function cc(e){return new hf(e.get(Od),e.get(oe))}var hf=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,n){this._viewportRuler=t,this._document=n}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=ht(-this._previousScrollPosition.left),t.style.top=ht(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,n=this._document.body,r=t.style,i=n.style,o=r.scrollBehavior||"",a=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),D8&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),D8&&(r.scrollBehavior=o,i.scrollBehavior=a)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let n=this._document.documentElement,r=this._viewportRuler.getViewportSize();return n.scrollHeight>r.height||n.scrollWidth>r.width}};function N8(e,t){return new pf(e.get(uf),e.get(be),e.get(Od),t)}var pf=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,n,r,i){this._scrollDispatcher=t,this._ngZone=n,this._viewportRuler=r,this._config=i}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Ue(n=>!n||!this._overlayRef.overlayElement.contains(n.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let n=this._viewportRuler.getViewportScrollPosition().top;Math.abs(n-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}};var Pd=class{enable(){}disable(){}attach(){}};function Vv(e,t){return t.some(n=>{let r=e.bottom<n.top,i=e.top>n.bottom,o=e.right<n.left,a=e.left>n.right;return r||i||o||a})}function E8(e,t){return t.some(n=>{let r=e.top<n.top,i=e.bottom>n.bottom,o=e.left<n.left,a=e.right>n.right;return r||i||o||a})}function F8(e,t){return new ff(e.get(uf),e.get(Od),e.get(be),t)}var ff=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,n,r,i){this._scrollDispatcher=t,this._viewportRuler=n,this._ngZone=r,this._config=i}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let n=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();Vv(n,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},j8=(()=>{class e{_injector=f(Q);constructor(){}noop=()=>new Pd;close=n=>N8(this._injector,n);block=()=>cc(this._injector);reposition=n=>F8(this._injector,n);static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),ac=class{positionStrategy;scrollStrategy=new Pd;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";disableAnimations;width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;usePopover;constructor(t){if(t){let n=Object.keys(t);for(let r of n)t[r]!==void 0&&(this[r]=t[r])}}};var yf=class{connectionPair;scrollableViewProperties;constructor(t,n){this.connectionPair=t,this.scrollableViewProperties=n}};var V8=(()=>{class e{_attachedOverlays=[];_document=f(oe);_isAttached=!1;constructor(){}ngOnDestroy(){this.detach()}add(n){this.remove(n),this._attachedOverlays.push(n)}remove(n){let r=this._attachedOverlays.indexOf(n);r>-1&&this._attachedOverlays.splice(r,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),H8=(()=>{class e extends V8{_ngZone=f(be);_renderer=f(Bt).createRenderer(null,null);_cleanupKeydown;add(n){super.add(n),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=n=>{let r=this._attachedOverlays;for(let i=r.length-1;i>-1;i--)if(r[i]._keydownEvents.observers.length>0){this._ngZone.run(()=>r[i]._keydownEvents.next(n));break}};static \u0275fac=(()=>{let n;return function(i){return(n||(n=er(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),B8=(()=>{class e extends V8{_platform=f(gt);_ngZone=f(be);_renderer=f(Bt).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget=null;_cleanups;add(n){if(super.add(n),!this._isAttached){let r=this._document.body,i={capture:!0},o=this._renderer;this._cleanups=this._ngZone.runOutsideAngular(()=>[o.listen(r,"pointerdown",this._pointerDownListener,i),o.listen(r,"click",this._clickListener,i),o.listen(r,"auxclick",this._clickListener,i),o.listen(r,"contextmenu",this._clickListener,i)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(n=>n()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=n=>{this._pointerDownEventTarget=Hr(n)};_clickListener=n=>{let r=Hr(n),i=n.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:r;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let a=o.length-1;a>-1;a--){let s=o[a];if(s._outsidePointerEvents.observers.length<1||!s.hasAttached())continue;if(A8(s.overlayElement,r)||A8(s.overlayElement,i))break;let c=s._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(n)):c.next(n)}};static \u0275fac=(()=>{let n;return function(i){return(n||(n=er(e)))(i||e)}})();static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function A8(e,t){let n=typeof ShadowRoot<"u"&&ShadowRoot,r=t;for(;r;){if(r===e)return!0;r=n&&r instanceof ShadowRoot?r.host:r.parentNode}return!1}var z8=(()=>{class e{static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(r,i){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}.cdk-overlay-popover{background:none;border:none;padding:0;outline:0;overflow:visible;position:fixed;pointer-events:none;white-space:normal;color:inherit;text-decoration:none;width:100%;height:100%;inset:auto;top:0;left:0}.cdk-overlay-popover::backdrop{display:none}.cdk-overlay-popover .cdk-overlay-backdrop{position:fixed;z-index:auto}
`],encapsulation:2,changeDetection:0})}return e})(),vf=(()=>{class e{_platform=f(gt);_containerElement;_document=f(oe);_styleLoader=f(oc);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let n="cdk-overlay-container";if(this._platform.isBrowser||sv()){let i=this._document.querySelectorAll(`.${n}[platform="server"], .${n}[platform="test"]`);for(let o=0;o<i.length;o++)i[o].remove()}let r=this._document.createElement("div");r.classList.add(n),sv()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}_loadStyles(){this._styleLoader.load(z8)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Hv=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,n,r,i){this._renderer=n,this._ngZone=r,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=n.listen(this.element,"click",i)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}};function Bv(e){return e&&e.nodeType===1}var sc=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new z;_attachments=new z;_detachments=new z;_positionStrategy;_scrollStrategy;_locationChanges=je.EMPTY;_backdropRef=null;_detachContentMutationObserver;_detachContentAfterRenderRef;_disposed=!1;_previousHostParent;_keydownEvents=new z;_outsidePointerEvents=new z;_afterNextRenderRef;constructor(t,n,r,i,o,a,s,c,l,d=!1,u,p){this._portalOutlet=t,this._host=n,this._pane=r,this._config=i,this._ngZone=o,this._keyboardDispatcher=a,this._document=s,this._location=c,this._outsideClickDispatcher=l,this._animationsDisabled=d,this._injector=u,this._renderer=p,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){if(this._disposed)return null;this._attachHost();let n=this._portalOutlet.attach(t);return this._positionStrategy?.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=sn(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._completeDetachContent(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof n?.onDestroy=="function"&&n.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),n}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._completeDetachContent(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){if(this._disposed)return;let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._completeDetachContent(),this._disposed=!0}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=m(m({},this._config),t),this._updateElementSize()}setDirection(t){this._config=x(m({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=ht(this._config.width),t.height=ht(this._config.height),t.minWidth=ht(this._config.minWidth),t.minHeight=ht(this._config.minHeight),t.maxWidth=ht(this._config.maxWidth),t.maxHeight=ht(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachHost(){if(!this._host.parentElement){let t=this._config.usePopover?this._positionStrategy?.getPopoverInsertionPoint?.():null;Bv(t)?t.after(this._host):t?.type==="parent"?t.element.appendChild(this._host):this._previousHostParent?.appendChild(this._host)}if(this._config.usePopover)try{this._host.showPopover()}catch{}}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Hv(this._document,this._renderer,this._ngZone,n=>{this._backdropClick.next(n)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._config.usePopover?this._host.prepend(this._backdropRef.element):this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){!this._config.usePopover&&this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,n,r){let i=Zs(n||[]).filter(o=>!!o);i.length&&(r?t.classList.add(...i):t.classList.remove(...i))}_detachContentWhenEmpty(){let t=!1;try{this._detachContentAfterRenderRef=sn(()=>{t=!0,this._detachContent()},{injector:this._injector})}catch(n){if(t)throw n;this._detachContent()}globalThis.MutationObserver&&this._pane&&(this._detachContentMutationObserver||=new globalThis.MutationObserver(()=>{this._detachContent()}),this._detachContentMutationObserver.observe(this._pane,{childList:!0}))}_detachContent(){(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),this._completeDetachContent())}_completeDetachContent(){this._detachContentAfterRenderRef?.destroy(),this._detachContentAfterRenderRef=void 0,this._detachContentMutationObserver?.disconnect()}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},T8="cdk-overlay-connected-position-bounding-box",MN=/([A-Za-z%]+)$/;function q8(e,t){return new gf(t,e.get(Od),e.get(oe),e.get(gt),e.get(vf))}var gf=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender=!1;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed=!1;_boundingBox=null;_lastPosition=null;_lastScrollVisibility=null;_positionChanges=new z;_resizeSubscription=je.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount=null;_popoverLocation="global";positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,n,r,i,o){this._viewportRuler=n,this._document=r,this._platform=i,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(T8),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._getContainerRect();let t=this._originRect,n=this._overlayRect,r=this._viewportRect,i=this._containerRect,o=[],a;for(let s of this._preferredPositions){let c=this._getOriginPoint(t,i,s),l=this._getOverlayPoint(c,n,s),d=this._getOverlayFit(l,n,r,s);if(d.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(s,c);return}if(this._canFitWithFlexibleDimensions(d,l,r)){o.push({position:s,origin:c,overlayRect:n,boundingBoxRect:this._calculateBoundingBoxRect(c,s)});continue}(!a||a.overlayFit.visibleArea<d.visibleArea)&&(a={overlayFit:d,overlayPoint:l,originPoint:c,position:s,overlayRect:n})}if(o.length){let s=null,c=-1;for(let l of o){let d=l.boundingBoxRect.width*l.boundingBoxRect.height*(l.position.weight||1);d>c&&(c=d,s=l)}this._isPushed=!1,this._applyPosition(s.position,s.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(a.position,a.originPoint);return}this._applyPosition(a.position,a.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&fa(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(T8),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;t?(this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._getContainerRect(),this._applyPosition(t,this._getOriginPoint(this._originRect,this._containerRect,t))):this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}withPopoverLocation(t){return this._popoverLocation=t,this}getPopoverInsertionPoint(){return this._popoverLocation==="global"?null:this._popoverLocation!=="inline"?this._popoverLocation:this._origin instanceof Se?this._origin.nativeElement:Bv(this._origin)?this._origin:null}_getOriginPoint(t,n,r){let i;if(r.originX=="center")i=t.left+t.width/2;else{let a=this._isRtl()?t.right:t.left,s=this._isRtl()?t.left:t.right;i=r.originX=="start"?a:s}n.left<0&&(i-=n.left);let o;return r.originY=="center"?o=t.top+t.height/2:o=r.originY=="top"?t.top:t.bottom,n.top<0&&(o-=n.top),{x:i,y:o}}_getOverlayPoint(t,n,r){let i;r.overlayX=="center"?i=-n.width/2:r.overlayX==="start"?i=this._isRtl()?-n.width:0:i=this._isRtl()?0:-n.width;let o;return r.overlayY=="center"?o=-n.height/2:o=r.overlayY=="top"?0:-n.height,{x:t.x+i,y:t.y+o}}_getOverlayFit(t,n,r,i){let o=R8(n),{x:a,y:s}=t,c=this._getOffset(i,"x"),l=this._getOffset(i,"y");c&&(a+=c),l&&(s+=l);let d=0-a,u=a+o.width-r.width,p=0-s,h=s+o.height-r.height,y=this._subtractOverflows(o.width,d,u),g=this._subtractOverflows(o.height,p,h),v=y*g;return{visibleArea:v,isCompletelyWithinViewport:o.width*o.height===v,fitsInViewportVertically:g===o.height,fitsInViewportHorizontally:y==o.width}}_canFitWithFlexibleDimensions(t,n,r){if(this._hasFlexibleDimensions){let i=r.bottom-n.y,o=r.right-n.x,a=L8(this._overlayRef.getConfig().minHeight),s=L8(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||a!=null&&a<=i,l=t.fitsInViewportHorizontally||s!=null&&s<=o;return c&&l}return!1}_pushOverlayOnScreen(t,n,r){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let i=R8(n),o=this._viewportRect,a=Math.max(t.x+i.width-o.width,0),s=Math.max(t.y+i.height-o.height,0),c=Math.max(o.top-r.top-t.y,0),l=Math.max(o.left-r.left-t.x,0),d=0,u=0;return i.width<=o.width?d=l||-a:d=t.x<this._getViewportMarginStart()?o.left-r.left-t.x:0,i.height<=o.height?u=c||-s:u=t.y<this._getViewportMarginTop()?o.top-r.top-t.y:0,this._previousPushAmount={x:d,y:u},{x:t.x+d,y:t.y+u}}_applyPosition(t,n){if(this._setTransformOrigin(t),this._setOverlayElementStyles(n,t),this._setBoundingBoxStyles(n,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let r=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!wN(this._lastScrollVisibility,r)){let i=new yf(t,r);this._positionChanges.next(i)}this._lastScrollVisibility=r}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let n=this._boundingBox.querySelectorAll(this._transformOriginSelector),r,i=t.overlayY;t.overlayX==="center"?r="center":this._isRtl()?r=t.overlayX==="start"?"right":"left":r=t.overlayX==="start"?"left":"right";for(let o=0;o<n.length;o++)n[o].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(t,n){let r=this._viewportRect,i=this._isRtl(),o,a,s;if(n.overlayY==="top")a=t.y,o=r.height-a+this._getViewportMarginBottom();else if(n.overlayY==="bottom")s=r.height-t.y+this._getViewportMarginTop()+this._getViewportMarginBottom(),o=r.height-s+this._getViewportMarginTop();else{let h=Math.min(r.bottom-t.y+r.top,t.y),y=this._lastBoundingBoxSize.height;o=h*2,a=t.y-h,o>y&&!this._isInitialRender&&!this._growAfterOpen&&(a=t.y-y/2)}let c=n.overlayX==="start"&&!i||n.overlayX==="end"&&i,l=n.overlayX==="end"&&!i||n.overlayX==="start"&&i,d,u,p;if(l)p=r.width-t.x+this._getViewportMarginStart()+this._getViewportMarginEnd(),d=t.x-this._getViewportMarginStart();else if(c)u=t.x,d=r.right-t.x-this._getViewportMarginEnd();else{let h=Math.min(r.right-t.x+r.left,t.x),y=this._lastBoundingBoxSize.width;d=h*2,u=t.x-h,d>y&&!this._isInitialRender&&!this._growAfterOpen&&(u=t.x-y/2)}return{top:a,left:u,bottom:s,right:p,width:d,height:o}}_setBoundingBoxStyles(t,n){let r=this._calculateBoundingBoxRect(t,n);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));let i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right="auto",i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;i.width=ht(r.width),i.height=ht(r.height),i.top=ht(r.top)||"auto",i.bottom=ht(r.bottom)||"auto",i.left=ht(r.left)||"auto",i.right=ht(r.right)||"auto",n.overlayX==="center"?i.alignItems="center":i.alignItems=n.overlayX==="end"?"flex-end":"flex-start",n.overlayY==="center"?i.justifyContent="center":i.justifyContent=n.overlayY==="bottom"?"flex-end":"flex-start",o&&(i.maxHeight=ht(o)),a&&(i.maxWidth=ht(a))}this._lastBoundingBoxSize=r,fa(this._boundingBox.style,i)}_resetBoundingBoxStyles(){fa(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){fa(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,n){let r={},i=this._hasExactPosition(),o=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(i){let d=this._viewportRuler.getViewportScrollPosition();fa(r,this._getExactOverlayY(n,t,d)),fa(r,this._getExactOverlayX(n,t,d))}else r.position="static";let s="",c=this._getOffset(n,"x"),l=this._getOffset(n,"y");c&&(s+=`translateX(${c}px) `),l&&(s+=`translateY(${l}px)`),r.transform=s.trim(),a.maxHeight&&(i?r.maxHeight=ht(a.maxHeight):o&&(r.maxHeight="")),a.maxWidth&&(i?r.maxWidth=ht(a.maxWidth):o&&(r.maxWidth="")),fa(this._pane.style,r)}_getExactOverlayY(t,n,r){let i={top:"",bottom:""},o=this._getOverlayPoint(n,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r)),t.overlayY==="bottom"){let a=this._document.documentElement.clientHeight;i.bottom=`${a-(o.y+this._overlayRect.height)}px`}else i.top=ht(o.y);return i}_getExactOverlayX(t,n,r){let i={left:"",right:""},o=this._getOverlayPoint(n,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,r));let a;if(this._isRtl()?a=t.overlayX==="end"?"left":"right":a=t.overlayX==="end"?"right":"left",a==="right"){let s=this._document.documentElement.clientWidth;i.right=`${s-(o.x+this._overlayRect.width)}px`}else i.left=ht(o.x);return i}_getScrollVisibility(){let t=this._getOriginRect(),n=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:E8(t,r),isOriginOutsideView:Vv(t,r),isOverlayClipped:E8(n,r),isOverlayOutsideView:Vv(n,r)}}_subtractOverflows(t,...n){return n.reduce((r,i)=>r-Math.max(i,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,n=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._getViewportMarginTop(),left:r.left+this._getViewportMarginStart(),right:r.left+t-this._getViewportMarginEnd(),bottom:r.top+n-this._getViewportMarginBottom(),width:t-this._getViewportMarginStart()-this._getViewportMarginEnd(),height:n-this._getViewportMarginTop()-this._getViewportMarginBottom()}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,n){return n==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&Zs(t).forEach(n=>{n!==""&&this._appliedPanelClasses.indexOf(n)===-1&&(this._appliedPanelClasses.push(n),this._pane.classList.add(n))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getViewportMarginStart(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.start??0}_getViewportMarginEnd(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.end??0}_getViewportMarginTop(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.top??0}_getViewportMarginBottom(){return typeof this._viewportMargin=="number"?this._viewportMargin:this._viewportMargin?.bottom??0}_getOriginRect(){let t=this._origin;if(t instanceof Se)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let n=t.width||0,r=t.height||0;return{top:t.y,bottom:t.y+r,left:t.x,right:t.x+n,height:r,width:n}}_getContainerRect(){let t=this._overlayRef.getConfig().usePopover&&this._popoverLocation!=="global",n=this._overlayContainer.getContainerElement();t&&(n.style.display="block");let r=n.getBoundingClientRect();return t&&(n.style.display=""),r}};function fa(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function L8(e){if(typeof e!="number"&&e!=null){let[t,n]=e.split(MN);return!n||n==="px"?parseFloat(t):null}return e||null}function R8(e){return{top:Math.floor(e.top),right:Math.floor(e.right),bottom:Math.floor(e.bottom),left:Math.floor(e.left),width:Math.floor(e.width),height:Math.floor(e.height)}}function wN(e,t){return e===t?!0:e.isOriginClipped===t.isOriginClipped&&e.isOriginOutsideView===t.isOriginOutsideView&&e.isOverlayClipped===t.isOverlayClipped&&e.isOverlayOutsideView===t.isOverlayOutsideView}var O8="cdk-global-overlay-wrapper";function lc(e){return new mf}var mf=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let n=t.getConfig();this._overlayRef=t,this._width&&!n.width&&t.updateSize({width:this._width}),this._height&&!n.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(O8),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:o,maxWidth:a,maxHeight:s}=r,c=(i==="100%"||i==="100vw")&&(!a||a==="100%"||a==="100vw"),l=(o==="100%"||o==="100vh")&&(!s||s==="100%"||s==="100vh"),d=this._xPosition,u=this._xOffset,p=this._overlayRef.getConfig().direction==="rtl",h="",y="",g="";c?g="flex-start":d==="center"?(g="center",p?y=u:h=u):p?d==="left"||d==="end"?(g="flex-end",h=u):(d==="right"||d==="start")&&(g="flex-start",y=u):d==="left"||d==="start"?(g="flex-start",h=u):(d==="right"||d==="end")&&(g="flex-end",y=u),t.position=this._cssPosition,t.marginLeft=c?"0":h,t.marginTop=l?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":y,n.justifyContent=g,n.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,n=this._overlayRef.hostElement,r=n.style;n.classList.remove(O8),r.justifyContent=r.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},U8=(()=>{class e{_injector=f(Q);constructor(){}global(){return lc()}flexibleConnectedTo(n){return q8(this._injector,n)}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),$8=new C("OVERLAY_DEFAULT_CONFIG");function kf(e,t){e.get(oc).load(z8);let n=e.get(vf),r=e.get(oe),i=e.get(yi),o=e.get(mn),a=e.get(eo),s=e.get(Tt,null,{optional:!0})||e.get(Bt).createRenderer(null,null),c=new ac(t),l=e.get($8,null,{optional:!0})?.usePopover??!0;c.direction=c.direction||a.value,"showPopover"in r.body?c.usePopover=t?.usePopover??l:c.usePopover=!1;let d=r.createElement("div"),u=r.createElement("div");d.id=i.getId("cdk-overlay-"),d.classList.add("cdk-overlay-pane"),u.appendChild(d),c.usePopover&&(u.setAttribute("popover","manual"),u.classList.add("cdk-overlay-popover"));let p=c.usePopover?c.positionStrategy?.getPopoverInsertionPoint?.():null;return Bv(p)?p.after(u):p?.type==="parent"?p.element.appendChild(u):n.getContainerElement().appendChild(u),new sc(new of(d,o,e),u,d,c,e.get(be),e.get(H8),r,e.get($i),e.get(B8),t?.disableAnimations??e.get(nl,null,{optional:!0})==="NoopAnimations",e.get(Oe),s)}var bN=(()=>{class e{scrollStrategies=f(j8);_positionBuilder=f(U8);_injector=f(Q);constructor(){}create(n){return kf(this._injector,n)}position(){return this._positionBuilder}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function _N(e,t){}var dc=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var qv=(()=>{class e extends rc{_elementRef=f(Se);_focusTrapFactory=f(jv);_config;_interactivityChecker=f(Fv);_ngZone=f(be);_focusMonitor=f(_8);_renderer=f(Tt);_changeDetectorRef=f(Ut);_injector=f(Q);_platform=f(gt);_document=f(oe);_portalOutlet;_focusTrapped=new z;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=f(dc,{optional:!0})||new dc,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(n){this._ariaLabelledByQueue.push(n),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(n){let r=this._ariaLabelledByQueue.indexOf(n);r>-1&&(this._ariaLabelledByQueue.splice(r,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachComponentPortal(n);return this._contentAttached(),r}attachTemplatePortal(n){this._portalOutlet.hasAttached();let r=this._portalOutlet.attachTemplatePortal(n);return this._contentAttached(),r}attachDomPortal=n=>{this._portalOutlet.hasAttached();let r=this._portalOutlet.attachDomPortal(n);return this._contentAttached(),r};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(n,r){this._interactivityChecker.isFocusable(n)||(n.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{o(),a(),n.removeAttribute("tabindex")},o=this._renderer.listen(n,"blur",i),a=this._renderer.listen(n,"mousedown",i)})),n.focus(r)}_focusByCssSelector(n,r){let i=this._elementRef.nativeElement.querySelector(n);i&&this._forceFocus(i,r)}_trapFocus(n){this._isDestroyed||sn(()=>{let r=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||r.focus(n);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(n)||this._focusDialogContainer(n);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',n);break;default:this._focusByCssSelector(this._config.autoFocus,n);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let n=this._config.restoreFocus,r=null;if(typeof n=="string"?r=this._document.querySelector(n):typeof n=="boolean"?r=n?this._elementFocusedBeforeDialogWasOpened:null:n&&(r=n),this._config.restoreFocus&&r&&typeof r.focus=="function"){let i=da(),o=this._elementRef.nativeElement;(!i||i===this._document.body||i===o||o.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(r,this._closeInteractionType),this._closeInteractionType=null):r.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(n){this._elementRef.nativeElement.focus?.(n)}_containsFocus(){let n=this._elementRef.nativeElement,r=da();return n===r||n.contains(r)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=da()))}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["cdk-dialog-container"]],viewQuery:function(r,i){if(r&1&&Vo(Rd,7),r&2){let o;Or(o=Pr())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(r,i){r&2&&ft("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[dt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){r&1&&nr(0,_N,0,0,"ng-template",0)},dependencies:[Rd],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return e})(),Nd=class{overlayRef;config;componentInstance=null;componentRef=null;containerInstance;disableClose;closed=new z;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(t,n){this.overlayRef=t,this.config=n,this.disableClose=n.disableClose,this.backdropClick=t.backdropClick(),this.keydownEvents=t.keydownEvents(),this.outsidePointerEvents=t.outsidePointerEvents(),this.id=n.id,this.keydownEvents.subscribe(r=>{r.keyCode===27&&!this.disableClose&&!df(r)&&(r.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=t.detachments().subscribe(()=>{n.closeOnOverlayDetachments!==!1&&this.close()})}close(t,n){if(this._canClose(t)){let r=this.closed;this.containerInstance._closeInteractionType=n?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),r.next(t),r.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(t="",n=""){return this.overlayRef.updateSize({width:t,height:n}),this}addPanelClass(t){return this.overlayRef.addPanelClass(t),this}removePanelClass(t){return this.overlayRef.removePanelClass(t),this}_canClose(t){let n=this.config;return!!this.containerInstance&&(!n.closePredicate||n.closePredicate(t,n,this.componentInstance))}},SN=new C("DialogScrollStrategy",{providedIn:"root",factory:()=>{let e=f(Q);return()=>cc(e)}}),IN=new C("DialogData"),xN=new C("DefaultDialogConfig");function DN(e){let t=we(e),n=new Me;return{valueSignal:t,get value(){return t()},change:n,ngOnDestroy(){n.complete()}}}var G8=(()=>{class e{_injector=f(Q);_defaultOptions=f(xN,{optional:!0});_parentDialog=f(e,{optional:!0,skipSelf:!0});_overlayContainer=f(vf);_idGenerator=f(yi);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new z;_afterOpenedAtThisLevel=new z;_ariaHiddenElements=new Map;_scrollStrategy=f(SN);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=mo(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Ii(void 0)));constructor(){}open(n,r){let i=this._defaultOptions||new dc;r=m(m({},i),r),r.id=r.id||this._idGenerator.getId("cdk-dialog-"),r.id&&this.getDialogById(r.id);let o=this._getOverlayConfig(r),a=kf(this._injector,o),s=new Nd(a,r),c=this._attachContainer(a,s,r);if(s.containerInstance=c,!this.openDialogs.length){let l=this._overlayContainer.getContainerElement();c._focusTrapped?c._focusTrapped.pipe(lt(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(l)}):this._hideNonDialogContentFromAssistiveTechnology(l)}return this._attachDialogContent(n,s,c,r),this.openDialogs.push(s),s.closed.subscribe(()=>this._removeOpenDialog(s,!0)),this.afterOpened.next(s),s}closeAll(){zv(this.openDialogs,n=>n.close())}getDialogById(n){return this.openDialogs.find(r=>r.id===n)}ngOnDestroy(){zv(this._openDialogsAtThisLevel,n=>{n.config.closeOnDestroy===!1&&this._removeOpenDialog(n,!1)}),zv(this._openDialogsAtThisLevel,n=>n.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(n){let r=new ac({positionStrategy:n.positionStrategy||lc().centerHorizontally().centerVertically(),scrollStrategy:n.scrollStrategy||this._scrollStrategy(),panelClass:n.panelClass,hasBackdrop:n.hasBackdrop,direction:n.direction,minWidth:n.minWidth,minHeight:n.minHeight,maxWidth:n.maxWidth,maxHeight:n.maxHeight,width:n.width,height:n.height,disposeOnNavigation:n.closeOnNavigation,disableAnimations:n.disableAnimations});return n.backdropClass&&(r.backdropClass=n.backdropClass),r}_attachContainer(n,r,i){let o=i.injector||i.viewContainerRef?.injector,a=[{provide:dc,useValue:i},{provide:Nd,useValue:r},{provide:sc,useValue:n}],s;i.container?typeof i.container=="function"?s=i.container:(s=i.container.type,a.push(...i.container.providers(i))):s=qv;let c=new tc(s,i.viewContainerRef,Q.create({parent:o||this._injector,providers:a}));return n.attach(c).instance}_attachDialogContent(n,r,i,o){if(n instanceof Jn){let a=this._createInjector(o,r,i,void 0),s={$implicit:o.data,dialogRef:r};o.templateContext&&(s=m(m({},s),typeof o.templateContext=="function"?o.templateContext():o.templateContext)),i.attachTemplatePortal(new nc(n,null,s,a))}else{let a=this._createInjector(o,r,i,this._injector),s=i.attachComponentPortal(new tc(n,o.viewContainerRef,a));r.componentRef=s,r.componentInstance=s.instance}}_createInjector(n,r,i,o){let a=n.injector||n.viewContainerRef?.injector,s=[{provide:IN,useValue:n.data},{provide:Nd,useValue:r}];return n.providers&&(typeof n.providers=="function"?s.push(...n.providers(r,n,i)):s.push(...n.providers)),n.direction&&(!a||!a.get(eo,null,{optional:!0}))&&s.push({provide:eo,useValue:DN(n.direction)}),Q.create({parent:a||o,providers:s})}_removeOpenDialog(n,r){let i=this.openDialogs.indexOf(n);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((o,a)=>{o?a.setAttribute("aria-hidden",o):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),r&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(n){if(n.parentElement){let r=n.parentElement.children;for(let i=r.length-1;i>-1;i--){let o=r[i];o!==n&&o.nodeName!=="SCRIPT"&&o.nodeName!=="STYLE"&&!o.hasAttribute("aria-live")&&!o.hasAttribute("popover")&&(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let n=this._parentDialog;return n?n._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function zv(e,t){let n=e.length;for(;n--;)t(e[n])}function EN(e,t){}var K8="_mat-bottom-sheet-enter",Z8="_mat-bottom-sheet-exit",AN=(()=>{class e extends qv{_breakpointSubscription;_animationsDisabled=hv();_animationState="void";_animationStateChanged=new Me;_destroyed=!1;constructor(){super();let n=f(dv);this._breakpointSubscription=n.observe([ha.Medium,ha.Large,ha.XLarge]).subscribe(()=>{let r=this._elementRef.nativeElement.classList;r.toggle("mat-bottom-sheet-container-medium",n.isMatched(ha.Medium)),r.toggle("mat-bottom-sheet-container-large",n.isMatched(ha.Large)),r.toggle("mat-bottom-sheet-container-xlarge",n.isMatched(ha.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._animationsDisabled&&this._simulateAnimation(K8))}exit(){this._destroyed||(this._elementRef.nativeElement.setAttribute("mat-exit",""),this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._animationsDisabled&&this._simulateAnimation(Z8))}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_simulateAnimation(n){this._ngZone.run(()=>{this._handleAnimationEvent(!0,n),setTimeout(()=>this._handleAnimationEvent(!1,n))})}_trapFocus(){super._trapFocus({preventScroll:!0})}_handleAnimationEvent(n,r){let i=r===K8;(i||r===Z8)&&this._animationStateChanged.emit({toState:i?"visible":"hidden",phase:n?"start":"done"})}static \u0275fac=function(r){return new(r||e)};static \u0275cmp=ge({type:e,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:9,hostBindings:function(r,i){r&1&&Ce("animationstart",function(a){return i._handleAnimationEvent(!0,a.animationName)})("animationend",function(a){return i._handleAnimationEvent(!1,a.animationName)})("animationcancel",function(a){return i._handleAnimationEvent(!1,a.animationName)}),r&2&&(ft("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-label",i._config.ariaLabel),Ee("mat-bottom-sheet-container-animations-enabled",!i._animationsDisabled)("mat-bottom-sheet-container-enter",i._animationState==="visible")("mat-bottom-sheet-container-exit",i._animationState==="hidden"))},features:[dt],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(r,i){r&1&&nr(0,EN,0,0,"ng-template",0)},dependencies:[Rd],styles:[`@keyframes _mat-bottom-sheet-enter{from{transform:translateY(100%)}to{transform:none}}@keyframes _mat-bottom-sheet-exit{from{transform:none}to{transform:translateY(100%)}}.mat-bottom-sheet-container{box-shadow:0px 8px 10px -5px rgba(0, 0, 0, 0.2), 0px 16px 24px 2px rgba(0, 0, 0, 0.14), 0px 6px 30px 5px rgba(0, 0, 0, 0.12);padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto;position:relative;background:var(--mat-bottom-sheet-container-background-color, var(--mat-sys-surface-container-low));color:var(--mat-bottom-sheet-container-text-color, var(--mat-sys-on-surface));font-family:var(--mat-bottom-sheet-container-text-font, var(--mat-sys-body-large-font));font-size:var(--mat-bottom-sheet-container-text-size, var(--mat-sys-body-large-size));line-height:var(--mat-bottom-sheet-container-text-line-height, var(--mat-sys-body-large-line-height));font-weight:var(--mat-bottom-sheet-container-text-weight, var(--mat-sys-body-large-weight));letter-spacing:var(--mat-bottom-sheet-container-text-tracking, var(--mat-sys-body-large-tracking))}@media(forced-colors: active){.mat-bottom-sheet-container{outline:1px solid}}.mat-bottom-sheet-container-animations-enabled{transform:translateY(100%)}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-enter{animation:_mat-bottom-sheet-enter 195ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-bottom-sheet-container-animations-enabled.mat-bottom-sheet-container-exit{animation:_mat-bottom-sheet-exit 375ms cubic-bezier(0.4, 0, 1, 1) backwards}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:var(--mat-bottom-sheet-container-shape, 28px);border-top-right-radius:var(--mat-bottom-sheet-container-shape, 28px)}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}
`],encapsulation:2})}return e})(),$v=new C("MatBottomSheetData"),Uv=class{viewContainerRef;injector;panelClass;direction;data=null;hasBackdrop=!0;backdropClass;disableClose=!1;ariaLabel=null;ariaModal=!1;closeOnNavigation=!0;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;height="";minHeight;maxHeight},Mf=class{_ref;get instance(){return this._ref.componentInstance}get componentRef(){return this._ref.componentRef}containerInstance;disableClose;_afterOpened=new z;_result;_closeFallbackTimeout;constructor(t,n,r){this._ref=t,this.containerInstance=r,this.disableClose=n.disableClose,r._animationStateChanged.pipe(Ue(i=>i.phase==="done"&&i.toState==="visible"),lt(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),r._animationStateChanged.pipe(Ue(i=>i.phase==="done"&&i.toState==="hidden"),lt(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),t.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),xa(this.backdropClick(),this.keydownEvents().pipe(Ue(i=>i.keyCode===27))).subscribe(i=>{!this.disableClose&&(i.type!=="keydown"||!df(i))&&(i.preventDefault(),this.dismiss())})}dismiss(t){this.containerInstance&&(this.containerInstance._animationStateChanged.pipe(Ue(n=>n.phase==="start"),lt(1)).subscribe(()=>{this._closeFallbackTimeout=setTimeout(()=>this._ref.close(this._result),500),this._ref.overlayRef.detachBackdrop()}),this._result=t,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}},TN=new C("mat-bottom-sheet-default-options"),X8=(()=>{class e{_injector=f(Q);_parentBottomSheet=f(e,{optional:!0,skipSelf:!0});_animationsDisabled=hv();_defaultOptions=f(TN,{optional:!0});_bottomSheetRefAtThisLevel=null;_dialog=f(G8);get _openedBottomSheetRef(){let n=this._parentBottomSheet;return n?n._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(n){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=n:this._bottomSheetRefAtThisLevel=n}constructor(){}open(n,r){let i=m(m({},this._defaultOptions||new Uv),r),o;return this._dialog.open(n,x(m({},i),{disableClose:!0,closeOnOverlayDetachments:!1,maxWidth:"100%",container:AN,scrollStrategy:i.scrollStrategy||cc(this._injector),positionStrategy:lc(this._injector).centerHorizontally().bottom("0"),disableAnimations:this._animationsDisabled,templateContext:()=>({bottomSheetRef:o}),providers:(a,s,c)=>(o=new Mf(a,i,c),[{provide:Mf,useValue:o},{provide:$v,useValue:i.data}])})),o.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===o&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>o.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):o.containerInstance.enter(),this._openedBottomSheetRef=o,o}dismiss(n){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(n)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}static \u0275fac=function(r){return new(r||e)};static \u0275prov=M({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var LN=["valueInput"],RN=["noteInput"],ON=["historyScroll"],PN=(e,t)=>t.id;function NN(e,t){if(e&1){let n=Lt();L(0,"div",9)(1,"span"),Ze(2),Mn(3,"date"),V(),L(4,"span",10),Ce("click",function(){let i=ue(n).$implicit,o=ne();return he(o.edit(i,"note"))}),Ze(5),V(),L(6,"span",11),Ce("click",function(){let i=ue(n).$implicit,o=ne();return he(o.edit(i,"value"))}),Ze(7),Mn(8,"currency"),V(),L(9,"input",12,1),Ce("click",function(){ue(n);let i=ut(10);return he(i.select())})("blur",function(){ue(n);let i=ne();return he(i.submit())})("keyup.enter",function(){ue(n);let i=ne();return i.submit(),he(i.reset())}),V(),Lr(),L(11,"input",13,2),Ce("click",function(){ue(n);let i=ut(12);return he(i.select())})("blur",function(){ue(n);let i=ne();return he(i.submit())})("keyup.enter",function(){ue(n);let i=ne();return i.submit(),he(i.reset())}),V(),Lr(),L(13,"button",14),Ce("click",function(){let i=ue(n).$implicit,o=ne();return he(o.deleteHistory(i.id))}),V()()}if(e&2){let n=t.$implicit,r=t.$index,i=t.$count,o=ne(),a="ml-2 my-2 p-4";Ee("border-b-gray-50",r!==i-1)("border-b",r!==i-1),j(),kn(a),j(),xt(" ",Gy(3,31,n.date,"dd.MM.")," "),j(2),kn(a),Ee("hidden",o.selectedEntry()===n.id),j(),xt(" ",n.note," "),j(),kn(a),Ee("hidden",o.selectedEntry()===n.id),j(),xt(" ",Pn(8,34,n.value)," "),j(2),kn(a),Ee("hidden",o.selectedEntry()!==n.id),ft("data-id",n.id),Hi(o.form.note,"formField"),j(2),kn(a),Ee("hidden",o.selectedEntry()!==n.id),ft("data-id",n.id),Hi(o.form.value,"formField")}}function FN(e,t){e&1&&(L(0,"div",7),Ze(1,"Noch keine Eintr\xE4ge vorhanden."),V())}var wf=class e{facade=f(Vs);data=f($v);isAdded=this.facade.isHistoryEntryAdded;isMonthLoaded=this.facade.isMonthLoaded;selectedEntry=we(null);formModel=we(this.initForm());form=Td(this.formModel,t=>{tf(t.id)});valueInputs=tg("valueInput");noteInputs=tg("noteInput");historyScroll=ir("historyScroll");currentHistory=S(()=>{switch(this.data.kind){case"budgets":return this.facade.budgets().find(t=>t.id===this.data.row.id).history;case"variableCosts":return this.facade.variableCosts().find(t=>t.id===this.data.row.id).history;default:throw new Error(`History not found for ${this.data.kind}`)}});focusOnAdd=an(()=>{this.isAdded()&&this.isMonthLoaded()&&U(()=>{let t=this.currentHistory();if(t.length===0)return;let n=t.at(-1);this.edit(n,this.data.row.category==="Amazon"?"note":"value"),setTimeout(()=>{let r=this.historyScroll()?.nativeElement;r&&r.scrollTo({top:r.scrollHeight,behavior:"smooth"})})})});addHistory(){switch(this.data.kind){case"budgets":this.facade.addBudgetHistoryEntry(this.data.row.id);break;case"variableCosts":this.facade.addVariableCostHistoryEntry(this.data.row.id);break;default:throw new Error(`History not found for ${this.data.kind}`)}}deleteHistory(t){switch(this.data.kind){case"budgets":this.facade.deleteBudgetHistoryEntry(this.data.row.id,t);break;case"variableCosts":this.facade.deleteVariableCostHistoryEntry(this.data.row.id,t);break;default:throw new Error(`History not found for ${this.data.kind}`)}this.facade.deleteBudgetHistoryEntry(this.data.row.id,t)}updateHistory(t){switch(this.data.kind){case"budgets":this.facade.updateBudgetHistoryEntry(this.data.row.id,t);break;case"variableCosts":this.facade.updateVariableCostHistoryEntry(this.data.row.id,t);break;default:throw new Error(`History not found for ${this.data.kind}`)}}edit(t,n){this.selectedEntry.set(t.id),this.setForm(t),setTimeout(()=>{let r=this.selectedEntry();if(r)switch(n){case"note":{this.noteInputs().find(o=>o.nativeElement.dataset.id===r).nativeElement.select();break}case"value":{this.valueInputs().find(o=>o.nativeElement.dataset.id===r).nativeElement.select();break}}})}submit(){this.form().valid()&&this.updateHistory(this.formModel())}reset(){this.selectedEntry.set(null),this.formModel.set(this.initForm())}initForm(){return{id:null,value:null,date:null,note:""}}setForm(t){this.formModel.set({id:t.id,value:t.value,date:t.date,note:t.note??""})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-monthly-history"]],viewQuery:function(n,r){n&1&&On(r.valueInputs,LN,5)(r.noteInputs,RN,5)(r.historyScroll,ON,5),n&2&&rr(3)},decls:9,vars:1,consts:[["historyScroll",""],["noteInput",""],["valueInput",""],[1,"flex","flex-col","gap-2","overflow-hidden","pb-2"],[1,"max-h-64","overflow-auto"],[1,"flex","w-full","flex-col","items-center","justify-center","**:text-white"],[1,"grid","w-full","grid-cols-[auto_auto_6rem_min-content]","items-center","gap-2",3,"border-b-gray-50","border-b"],[1,"p-2"],["maffiButton","","icon","CirclePlus",1,"self-center",3,"click"],[1,"grid","w-full","grid-cols-[auto_auto_6rem_min-content]","items-center","gap-2"],[3,"click"],[1,"m-0!","my-0!","w-full","text-right",3,"click"],[1,"w-full","rounded","border","border-blue-400","bg-gray-600","outline-none",3,"click","blur","keyup.enter","formField"],["type","number",1,"w-full","rounded","border","border-blue-400","bg-gray-600","text-right","outline-none",3,"click","blur","keyup.enter","formField"],["maffiButton","","icon","Trash",1,"mr-2",3,"click"]],template:function(n,r){if(n&1){let i=Lt();L(0,"section",3)(1,"div",4,0)(3,"div",5),hl(4,NN,14,36,"div",6,PN,!1,FN,2,0,"div",7),V()(),L(7,"button",8),Ce("click",function(){return ue(i),he(r.addHistory())}),Ze(8," Hinzuf\xFCgen "),V()()}n&2&&(j(4),pl(r.currentHistory()))},dependencies:[Vr,ef,oi,ug],encapsulation:2})};var jN=["category"],VN=["value"],HN=(e,t)=>({$implicit:e,last:t}),Y8=(e,t)=>({isRowSelected:e,row:t}),BN=e=>({$implicit:e}),zN=(e,t)=>t.id;function qN(e,t){e&1&&(L(0,"div",10),$e(1,"div"),L(2,"span",13),Ze(3,"Forecast"),V(),L(4,"span",13),Ze(5,"Wert"),V(),$e(6,"div"),V())}function UN(e,t){if(e&1&&Rr(0,11),e&2){let n=t.$implicit,r=t.$index,i=t.$count,o=ne(2),a=ut(3),s=ut(5);Je("ngTemplateOutlet",o.useDataTemplate()==="values"?a:s)("ngTemplateOutletContext",yl(2,HN,n,r===i-1))}}function $N(e,t){if(e&1&&(L(0,"span"),Ze(1," Summe "),V(),L(2,"span",15),Ze(3),Mn(4,"currency"),V(),$e(5,"div")),e&2){let n=ne(3);j(3),xt(" ",Pn(4,1,n.total()))}}function WN(e,t){if(e&1){let n=Lt();L(0,"div",12),ln(1,$N,6,3),L(2,"button",14),Ua("animate-fade-out"),Oo("animate-fade-in"),Ce("click",function(i){return ue(n),ne(2).addRow.emit(),he(i.stopPropagation())}),Ze(3," Hinzuf\xFCgen "),V()()}if(e&2){let n=ne(2);j(),dn(n.hasSum()?1:-1),j(),Ee("justify-self-end",n.hasSum())}}function GN(e,t){if(e&1&&(L(0,"section",8),Oo("animate-fade-in"),L(1,"header",9),ln(2,qN,7,0,"div",10),V(),hl(3,UN,1,5,"ng-container",11,zN),ln(5,WN,4,3,"div",12),V()),e&2){let n=ne();j(2),dn(n.useDataTemplate()==="valuesWithHistory"?2:-1),j(),pl(n.data()),j(2),dn(n.isExpanded()?5:-1)}}function KN(e,t){}function ZN(e,t){if(e&1){let n=Lt();L(0,"div",16),Rr(1,11),Fo(2,null,3),L(4,"app-number-input",17,4),Ce("blurred",function(){ue(n);let i=ne();return he(i.submit())})("enterPress",function(){ue(n);let i=ne();return i.submit(),he(i.reset())}),V(),Lr(),L(6,"div",18),Ce("click",function(){ue(n);let i=ut(5);return he(i.select())}),L(7,"span",19),Ce("click",function(){let i=ue(n).$implicit,o=ne();return he(o.editValue(i))}),Ze(8),Mn(9,"currency"),V()(),jo(),L(10,"div",null,5),nr(12,KN,0,0,"ng-template",11),V(),L(13,"button",20),Ce("click",function(){let i=ue(n).$implicit,o=ne();return he(o.deleteRow.emit(i.id))}),V()()}if(e&2){let n=t.$implicit,r=t.last,i=ne(),o=ut(7);Ee("border-b-0",r);let a=i.selectedRow()===n.id;j(),Je("ngTemplateOutlet",o)("ngTemplateOutletContext",yl(15,Y8,a,n));let s=i.selectedField()==="value";j(3),Ee("block!",a&&s),Hi(i.form.value,"formField"),j(2),Ee("flex!",!a||a&&!s),j(2),xt(" ",Pn(9,13,n.value)," "),j(4),Je("ngTemplateOutlet",i.col3Template())("ngTemplateOutletContext",Wy(18,BN,n))}}function XN(e,t){if(e&1){let n=Lt();L(0,"app-number-input",24),Ce("blurred",function(){ue(n);let i=ne(2);return i.submit(),he(i.selectedField.set(null))})("enterPress",function(){ue(n);let i=ne(2);return i.submit(),he(i.reset())}),V(),Lr()}if(e&2){let n=ne(2);Hi(n.form.forecast,"formField")}}function YN(e,t){if(e&1){let n=Lt();L(0,"div",23)(1,"span",19),Ce("click",function(){ue(n);let i=ne().$implicit,o=ne();return he(o.editForecast(i))}),Ze(2),Mn(3,"currency"),V()()}if(e&2){let n=ne().$implicit;j(2),xt(" ",Pn(3,1,n.forecast)," ")}}function QN(e,t){if(e&1){let n=Lt();L(0,"div",21),Rr(1,11),Fo(2,null,6),ln(4,XN,1,2,"app-number-input",22)(5,YN,4,3,"div",23),jo(),Fo(6,null,3),L(8,"div",23)(9,"span",19),Ce("click",function(){let i=ue(n).$implicit,o=ne();return he(o.editValue(i))}),Ze(10),Mn(11,"currency"),V()(),jo(),L(12,"button",20),Ce("click",function(){let i=ue(n).$implicit,o=ne();return he(o.deleteRow.emit(i.id))}),V()()}if(e&2){let n=t.$implicit,r=t.last,i=ne(),o=ut(7);Ee("border-b-0",r);let a=i.selectedRow()===n.id;j(),Je("ngTemplateOutlet",o)("ngTemplateOutletContext",yl(12,Y8,a,n));let s=i.selectedField()==="forecast";j(3),dn(a&&s?4:5),j(4),Ee("text-green-500",n.value<=n.forecast)("text-red-500",n.value>n.forecast),j(2),xt(" ",Pn(11,10,n.value)," ")}}function JN(e,t){if(e&1){let n=Lt();L(0,"app-string-input",17,7),Ce("blurred",function(){ue(n);let i=ne();return i.submit(),he(i.reset())})("enterPress",function(){ue(n);let i=ne();return i.submit(),he(i.reset())}),V(),Lr(),L(2,"div",25),Ce("click",function(){ue(n);let i=ut(1);return he(i.select())}),L(3,"span",19),Ce("click",function(){let i=ue(n).row,o=ne();return he(o.editCategory(i))}),Ze(4),V()()}if(e&2){let n=t.isRowSelected,r=t.row,i=ne(),o=i.selectedField()==="category";Ee("block!",n&&o),Hi(i.form.category,"formField"),j(2),Ee("flex!",!n||n&&!o),j(2),xt(" ",r.category," ")}}var bf=class e{bottomSheet=f(X8);viewContainerRef=f(cn);isExpanded=ve.required();data=ve.required();isLoading=ve.required();isSaving=ve.required();isAdded=ve.required();total=ve.required();hasSum=ve(!0);col3Template=ve();useDataTemplate=ve("values");valuesWithHistoryKind=ve();updateRow=un();deleteRow=un();addRow=un();categoryRef=ir("category");valueRef=ir("value");selectedRow=we(null);selectedField=we(null);formModel=we(this.initForm());form=Td(this.formModel,t=>{tf(t.id)});editCategory(t){this.setForm(t),this.selectedRow.set(t.id),this.selectedField.set("category"),setTimeout(()=>this.categoryRef()?.nativeElement.select())}editValue(t){t.category!=="Einkauf"&&(this.setForm(t),this.selectedRow.set(t.id),t.history?this.bottomSheet.open(wf,{data:{row:t,kind:this.valuesWithHistoryKind()},viewContainerRef:this.viewContainerRef}):this.selectedField.set("value"))}editForecast(t){this.setForm(t),this.selectedRow.set(t.id),this.selectedField.set("forecast")}submit(){this.form().valid()&&this.updateRow.emit(this.formModel())}reset(){this.selectedRow.set(null),this.selectedField.set(null),this.formModel.set(this.initForm())}initForm(){return{id:null,category:null,value:null,forecast:null}}setForm(t){this.formModel.set({id:t.id,category:t.category,value:t.value,forecast:t.forecast??null})}static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-money-table-content"]],viewQuery:function(n,r){n&1&&On(r.categoryRef,jN,5)(r.valueRef,VN,5),n&2&&rr(2)},inputs:{isExpanded:[1,"isExpanded"],data:[1,"data"],isLoading:[1,"isLoading"],isSaving:[1,"isSaving"],isAdded:[1,"isAdded"],total:[1,"total"],hasSum:[1,"hasSum"],col3Template:[1,"col3Template"],useDataTemplate:[1,"useDataTemplate"],valuesWithHistoryKind:[1,"valuesWithHistoryKind"]},outputs:{updateRow:"updateRow",deleteRow:"deleteRow",addRow:"addRow"},decls:8,vars:1,consts:[["values",""],["valuesWithHistory",""],["categoryCell",""],["valueCell",""],["valueInput",""],["col3",""],["forecastCell",""],["categoryInput",""],[1,"flex","w-full","flex-col","gap-3","rounded-lg","bg-gray-800","p-1"],[1,"empty:hidden"],[1,"grid","grid-cols-[43%_20%_18%_1fr]","items-center","gap-2"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"grid","w-full","grid-cols-[39%_20%_1fr_auto]","items-center","[&_span]:font-semibold"],[1,"text-right","text-sm"],["maffiButton","","size","small",1,"w-5",3,"click"],[1,"text-right"],[1,"grid","grid-cols-[40%_20%_1fr_auto]","items-center","justify-center","gap-2","border-b","border-b-gray-500","text-sm"],[1,"hidden",3,"blurred","enterPress","formField"],[1,"hidden","items-center","justify-end",3,"click"],[1,"h-full",3,"click"],["maffiButton","","icon","Trash","size","mini","theme","secondary",1,"mb-1","h-full",3,"click"],[1,"grid","grid-cols-[40%_20%_20%_auto]","items-center","justify-center","gap-2","border-b","border-b-gray-500","text-sm"],[1,"*:w-20",3,"formField"],[1,"flex","items-center","justify-end"],[1,"*:w-20",3,"blurred","enterPress","formField"],[1,"hidden","items-center",3,"click"]],template:function(n,r){n&1&&(L(0,"main"),ln(1,GN,6,2,"section",8),V(),nr(2,ZN,14,20,"ng-template",null,0,Bo)(4,QN,13,15,"ng-template",null,1,Bo)(6,JN,5,7,"ng-template",null,2,Bo)),n&2&&(j(),dn(r.isExpanded()?1:-1))},dependencies:[Vr,nf,rf,ef,_l,oi],encapsulation:2})};function eF(e,t){e&1&&$e(0,"mat-spinner",9)}function tF(e,t){if(e&1&&(Ze(0),Mn(1,"currency")),e&2){let n=ne(2);xt(" ",Pn(1,1,n.total())," ")}}function nF(e,t){if(e&1){let n=Lt();L(0,"header",5),Ce("click",function(){ue(n),ne();let i=ut(3);return he(i.toggle())}),$e(1,"app-icon",6,1),L(3,"div",7,2)(5,"h2",8),Ze(6),V(),ln(7,eF,1,0,"mat-spinner",9),V(),L(8,"h1",10),ln(9,tF,2,3),V(),$e(10,"app-icon",11,3),V(),L(12,"app-money-table-content",12),Ce("updateRow",function(i){ue(n);let o=ne();return he(o.updateRow.emit(i))})("deleteRow",function(i){ue(n);let o=ne();return he(o.deleteRow.emit(i))})("addRow",function(){ue(n);let i=ne();return he(i.addRow.emit())}),V()}if(e&2){let n=ne(),r=ut(3);j(),Je("icon",n.headerIcon()),j(5),xt(" ",n.headerTitle()," "),j(),dn(n.isSaving()?7:-1),j(2),dn(r.expanded?-1:9),j(),Je("icon",r.expanded?"ChevronUp":"ChevronDown"),j(2),Je("isExpanded",r.expanded)("data",n.data())("isLoading",n.isLoading())("isSaving",n.isSaving())("isAdded",n.isAdded())("total",n.total())("hasSum",n.hasSum())("col3Template",n.col3Template())("useDataTemplate",n.useDataTemplate())("valuesWithHistoryKind",n.valuesWithHistoryKind())}}var Q8=class e{data=ve.required();isLoading=ve.required();isSaving=ve.required();isAdded=ve.required();total=ve.required();headerIcon=ve.required();headerTitle=ve();hasSum=ve(!0);col3Template=ve();useDataTemplate=ve("values");valuesWithHistoryKind=ve();updateRow=un();deleteRow=un();addRow=un();static \u0275fac=function(n){return new(n||e)};static \u0275cmp=ge({type:e,selectors:[["app-money-table-v2"]],inputs:{data:[1,"data"],isLoading:[1,"isLoading"],isSaving:[1,"isSaving"],isAdded:[1,"isAdded"],total:[1,"total"],headerIcon:[1,"headerIcon"],headerTitle:[1,"headerTitle"],hasSum:[1,"hasSum"],col3Template:[1,"col3Template"],useDataTemplate:[1,"useDataTemplate"],valuesWithHistoryKind:[1,"valuesWithHistoryKind"]},outputs:{updateRow:"updateRow",deleteRow:"deleteRow",addRow:"addRow"},decls:5,vars:3,consts:[["accItem","cdkAccordionItem"],["col1",""],["col2",""],["col3",""],[1,"flex","flex-col"],[1,"sticky","top-14","z-10","grid","w-full","grid-cols-[auto_32%_1fr_1rem]","items-center","gap-2","overflow-hidden","bg-gray-800","py-2","backdrop-blur","transition-all","duration-100","md:top-16",3,"click"],["size","medium",3,"icon"],[1,"flex","items-center","gap-2"],[1,"w-min","text-sm","font-semibold","text-gray-100"],["diameter","18"],[1,"text-(length:--text-xs)","leading-(--text-sm--line-height)","font-medium"],["size","small",1,"ml-1",3,"icon"],[3,"updateRow","deleteRow","addRow","isExpanded","data","isLoading","isSaving","isAdded","total","hasSum","col3Template","useDataTemplate","valuesWithHistoryKind"]],template:function(n,r){if(n&1&&(L(0,"mat-card")(1,"mat-card-content")(2,"cdk-accordion-item",4,0),ln(4,nF,13,15),V()()()),n&2){let i=ut(3);j(2),Ee("gap-3",i.expanded),j(2),dn(r.headerTitle()?4:-1)}},dependencies:[Ip,Sp,t8,ec,a8,bf,oi],encapsulation:2})};export{m as a,x as b,o6 as c,If as d,je as e,vc as f,te as g,z as h,fo as i,hk as j,fk as k,pt as l,G as m,ee as n,Gf as o,Cc as p,E6 as q,E as r,mo as s,Kf as t,Zf as u,xa as v,Ue as w,gu as x,_i as y,Xf as z,lt as A,Da as B,Pk as C,Qf as D,Nk as E,Ii as F,le as G,xn as H,vt as I,fn as J,M as K,Pe as L,C as M,K as N,f as O,nM as P,ue as Q,he as R,Q as S,oe as T,Ye as U,Me as V,be as W,Dn as X,CS as Y,we as Z,an as _,U as $,at as aa,er as ba,Se as ca,tr as da,cw as ea,j as fa,sx as ga,Jn as ha,Bt as ia,Tt as ja,cn as ka,ge as la,Ve as ma,ce as na,ns as oa,KD as pa,dt as qa,nr as ra,rs as sa,d5 as ta,ft as ua,Oo as va,gE as wa,Lr as xa,Hi as ya,ln as za,dn as Aa,UE as Ba,$E as Ca,hl as Da,pl as Ea,Je as Fa,L as Ga,V as Ha,$e as Ia,Bi as Ja,zi as Ka,qy as La,Fo as Ma,jo as Na,Rr as Oa,Lt as Pa,is as Qa,Ce as Ra,$h as Sa,ne as Ta,vn as Ua,zt as Va,os as Wa,Vo as Xa,Or as Ya,Pr as Za,x5 as _a,On as $a,rr as ab,ut as bb,Ho as cb,Ee as db,g7 as eb,kn as fb,Ze as gb,Wh as hb,xt as ib,V5 as jb,A7 as kb,qt as lb,Zh as mb,Wy as nb,yl as ob,O7 as pb,P7 as qb,Mn as rb,Pn as sb,Gy as tb,Bo as ub,V7 as vb,zo as wb,Xy as xb,S as yb,qi as zb,Qh as Ab,un as Bb,ve as Cb,ir as Db,tg as Eb,RY as Fb,OY as Gb,e1 as Hb,Ut as Ib,Rt as Jb,vl as Kb,NY as Lb,_l as Mb,zA as Nb,ug as Ob,UA as Pb,oi as Qb,QQ as Rb,a9 as Sb,A9 as Tb,T9 as Ub,$g as Vb,ys as Wb,Vn as Xb,lL as Yb,yL as Zb,gL as _b,XC as $b,Gt as ac,G1 as bc,bs as cc,xe as dc,am as ec,Zl as fc,Z1 as gc,X1 as hc,r3 as ic,Cs as jc,Q1 as kc,J1 as lc,ep as mc,Fe as nc,He as oc,Ps as pc,soe as qc,Cp as rc,Vs as sc,eae as tc,eo as uc,k_ as vc,Sp as wc,gae as xc,Ip as yc,mae as zc,qs as Ac,jp as Bc,Dp as Cc,hr as Dc,j_ as Ec,Oae as Fc,WO as Gc,Md as Hc,Nae as Ic,YO as Jc,JO as Kc,tP as Lc,iP as Mc,Fae as Nc,jae as Oc,eN as Pc,ic as Qc,gt as Rc,iv as Sc,Hr as Tc,Cse as Uc,oc as Vc,w8 as Wc,b8 as Xc,_8 as Yc,Gle as Zc,Xle as _c,cde as $c,yi as ad,df as bd,hv as cd,Wae as dd,Gae as ed,Kae as fd,Zae as gd,Xae as hd,Yae as id,Qae as jd,Jae as kd,ese as ld,tse as md,nse as nd,rse as od,ise as pd,ose as qd,ase as rd,sse as sd,cse as td,Bp as ud,Ws as vd,Vr as wd,ec as xd,Q_ as yd,J_ as zd,ace as Ad,t8 as Bd,a8 as Cd,Tce as Dd,Td as Ed,ef as Fd,tf as Gd,nc as Hd,Rd as Id,Dde as Jd,cc as Kd,ac as Ld,lc as Md,bN as Nd,dc as Od,qv as Pd,G8 as Qd,$v as Rd,X8 as Sd,Q8 as Td,M8 as Ud};
