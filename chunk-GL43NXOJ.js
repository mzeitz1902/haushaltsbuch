import{$ as Jr,$a as at,$b as Pa,A as Ln,Aa as Tn,Ab as O,Ac as je,B as Y1,Bb as le,Bc as qt,Ca as Qr,Cc as Id,D as F,Da as ie,Dc as de,E as Dn,Ea as sd,Ec as qn,F as Be,Fa as fs,Fb as ra,G as ds,Ga as ce,Gb as ia,Gc as Ld,H as Kr,Ha as he,Hb as we,I as Zr,Ia as gs,Ib as jt,J as Q1,Ja as Z,Jb as Md,Ka as cd,Kb as wd,L as ls,La as Fn,Lb as ws,M as Ye,Ma as dd,Mb as jn,N as Xr,Na as _t,Nb as Se,O as Ct,Oa as ld,Ob as G,P as na,Pa as Pn,Pb as ot,Q as ed,Qa as ms,Qb as xe,R as hs,Ra as hd,Rb as He,S as Qe,Sa as P,Sb as ti,T as us,Ta as Ea,Tb as Ie,U as An,Ua as ud,Ub as Le,V as Ft,Va as pd,W as ps,Wa as ae,Wb as Vn,X as td,Xa as Ee,Xb as ai,Ya as bt,Yb as yt,Z as ad,Za as tt,Zb as oa,_a as Ta,_b as Ge,a as k,aa as Rn,ab as A,ac as We,b as j,ba as me,bb as nt,bc as Cd,c as W1,ca as Oe,cb as yd,cc as Vt,d as Tt,da as te,db as ks,e as s2,ea as z,eb as Y,ec as J,f as U,fa as Yr,fb as oe,fc as ni,g as Je,ga as Pt,gb as x,gc as _d,h as ea,ha as _,hb as ei,i as K1,ia as re,ib as $,j as Sn,ja as nd,jb as rt,k as Z1,ka as L,kb as fd,kc as ri,l as ta,la as q,lb as On,lc as ii,m as cs,ma as f,mc as bd,n as xn,na as rd,nb as gd,nc as Sd,o as K,ob as Fa,p as be,pa as id,pb as it,pc as xd,q as X1,qa as Ot,qb as vs,qc as B,ra as et,rb as Ms,rc as Ce,s as J1,sa as ht,sc as zt,ta as ut,tb as ke,tc as oi,u as lt,ua as En,ub as ve,uc as si,v as aa,va as od,vb as md,vc as ue,w as b,wa as Re,wb as kd,wc as zn,x as pe,xa as N,xb as vd,y as I,ya as pt,yb as Me,z as In,za as ys,zb as T}from"./chunk-5KOQMT6M.js";var ua=Tt((g3,Gi)=>{"use strict";var Yl,Ql,eh,th,ah,nh,rh,ih,oh,sh,ch,dh,lh,Ui,fc,hh,uh,ph,tn,yh,fh,gh,mh,kh,vh,Mh,wh,Ch,$i,_h,bh,Sh;(function(n){var t=typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:{};typeof define=="function"&&define.amd?define("tslib",["exports"],function(a){n(e(t,e(a)))}):typeof Gi=="object"&&typeof Gi.exports=="object"?n(e(t,e(Gi.exports))):n(e(t));function e(a,r){return a!==t&&(typeof Object.create=="function"?Object.defineProperty(a,"__esModule",{value:!0}):a.__esModule=!0),function(i,o){return a[i]=r?r(i,o):o}}})(function(n){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,o){i.__proto__=o}||function(i,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(i[s]=o[s])};Yl=function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");t(i,o);function s(){this.constructor=i}i.prototype=o===null?Object.create(o):(s.prototype=o.prototype,new s)},Ql=Object.assign||function(i){for(var o,s=1,c=arguments.length;s<c;s++){o=arguments[s];for(var d in o)Object.prototype.hasOwnProperty.call(o,d)&&(i[d]=o[d])}return i},eh=function(i,o){var s={};for(var c in i)Object.prototype.hasOwnProperty.call(i,c)&&o.indexOf(c)<0&&(s[c]=i[c]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,c=Object.getOwnPropertySymbols(i);d<c.length;d++)o.indexOf(c[d])<0&&Object.prototype.propertyIsEnumerable.call(i,c[d])&&(s[c[d]]=i[c[d]]);return s},th=function(i,o,s,c){var d=arguments.length,l=d<3?o:c===null?c=Object.getOwnPropertyDescriptor(o,s):c,h;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")l=Reflect.decorate(i,o,s,c);else for(var p=i.length-1;p>=0;p--)(h=i[p])&&(l=(d<3?h(l):d>3?h(o,s,l):h(o,s))||l);return d>3&&l&&Object.defineProperty(o,s,l),l},ah=function(i,o){return function(s,c){o(s,c,i)}},nh=function(i,o,s,c,d,l){function h(ge){if(ge!==void 0&&typeof ge!="function")throw new TypeError("Function expected");return ge}for(var p=c.kind,u=p==="getter"?"get":p==="setter"?"set":"value",y=!o&&i?c.static?i:i.prototype:null,m=o||(y?Object.getOwnPropertyDescriptor(y,c.name):{}),g,v=!1,C=s.length-1;C>=0;C--){var M={};for(var w in c)M[w]=w==="access"?{}:c[w];for(var w in c.access)M.access[w]=c.access[w];M.addInitializer=function(ge){if(v)throw new TypeError("Cannot add initializers after decoration has completed");l.push(h(ge||null))};var E=(0,s[C])(p==="accessor"?{get:m.get,set:m.set}:m[u],M);if(p==="accessor"){if(E===void 0)continue;if(E===null||typeof E!="object")throw new TypeError("Object expected");(g=h(E.get))&&(m.get=g),(g=h(E.set))&&(m.set=g),(g=h(E.init))&&d.unshift(g)}else(g=h(E))&&(p==="field"?d.unshift(g):m[u]=g)}y&&Object.defineProperty(y,c.name,m),v=!0},rh=function(i,o,s){for(var c=arguments.length>2,d=0;d<o.length;d++)s=c?o[d].call(i,s):o[d].call(i);return c?s:void 0},ih=function(i){return typeof i=="symbol"?i:"".concat(i)},oh=function(i,o,s){return typeof o=="symbol"&&(o=o.description?"[".concat(o.description,"]"):""),Object.defineProperty(i,"name",{configurable:!0,value:s?"".concat(s," ",o):o})},sh=function(i,o){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(i,o)},ch=function(i,o,s,c){function d(l){return l instanceof s?l:new s(function(h){h(l)})}return new(s||(s=Promise))(function(l,h){function p(m){try{y(c.next(m))}catch(g){h(g)}}function u(m){try{y(c.throw(m))}catch(g){h(g)}}function y(m){m.done?l(m.value):d(m.value).then(p,u)}y((c=c.apply(i,o||[])).next())})},dh=function(i,o){var s={label:0,sent:function(){if(l[0]&1)throw l[1];return l[1]},trys:[],ops:[]},c,d,l,h=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return h.next=p(0),h.throw=p(1),h.return=p(2),typeof Symbol=="function"&&(h[Symbol.iterator]=function(){return this}),h;function p(y){return function(m){return u([y,m])}}function u(y){if(c)throw new TypeError("Generator is already executing.");for(;h&&(h=0,y[0]&&(s=0)),s;)try{if(c=1,d&&(l=y[0]&2?d.return:y[0]?d.throw||((l=d.return)&&l.call(d),0):d.next)&&!(l=l.call(d,y[1])).done)return l;switch(d=0,l&&(y=[y[0]&2,l.value]),y[0]){case 0:case 1:l=y;break;case 4:return s.label++,{value:y[1],done:!1};case 5:s.label++,d=y[1],y=[0];continue;case 7:y=s.ops.pop(),s.trys.pop();continue;default:if(l=s.trys,!(l=l.length>0&&l[l.length-1])&&(y[0]===6||y[0]===2)){s=0;continue}if(y[0]===3&&(!l||y[1]>l[0]&&y[1]<l[3])){s.label=y[1];break}if(y[0]===6&&s.label<l[1]){s.label=l[1],l=y;break}if(l&&s.label<l[2]){s.label=l[2],s.ops.push(y);break}l[2]&&s.ops.pop(),s.trys.pop();continue}y=o.call(i,s)}catch(m){y=[6,m],d=0}finally{c=l=0}if(y[0]&5)throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}},lh=function(i,o){for(var s in i)s!=="default"&&!Object.prototype.hasOwnProperty.call(o,s)&&$i(o,i,s)},$i=Object.create?function(i,o,s,c){c===void 0&&(c=s);var d=Object.getOwnPropertyDescriptor(o,s);(!d||("get"in d?!o.__esModule:d.writable||d.configurable))&&(d={enumerable:!0,get:function(){return o[s]}}),Object.defineProperty(i,c,d)}:function(i,o,s,c){c===void 0&&(c=s),i[c]=o[s]},Ui=function(i){var o=typeof Symbol=="function"&&Symbol.iterator,s=o&&i[o],c=0;if(s)return s.call(i);if(i&&typeof i.length=="number")return{next:function(){return i&&c>=i.length&&(i=void 0),{value:i&&i[c++],done:!i}}};throw new TypeError(o?"Object is not iterable.":"Symbol.iterator is not defined.")},fc=function(i,o){var s=typeof Symbol=="function"&&i[Symbol.iterator];if(!s)return i;var c=s.call(i),d,l=[],h;try{for(;(o===void 0||o-- >0)&&!(d=c.next()).done;)l.push(d.value)}catch(p){h={error:p}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(h)throw h.error}}return l},hh=function(){for(var i=[],o=0;o<arguments.length;o++)i=i.concat(fc(arguments[o]));return i},uh=function(){for(var i=0,o=0,s=arguments.length;o<s;o++)i+=arguments[o].length;for(var c=Array(i),d=0,o=0;o<s;o++)for(var l=arguments[o],h=0,p=l.length;h<p;h++,d++)c[d]=l[h];return c},ph=function(i,o,s){if(s||arguments.length===2)for(var c=0,d=o.length,l;c<d;c++)(l||!(c in o))&&(l||(l=Array.prototype.slice.call(o,0,c)),l[c]=o[c]);return i.concat(l||Array.prototype.slice.call(o))},tn=function(i){return this instanceof tn?(this.v=i,this):new tn(i)},yh=function(i,o,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c=s.apply(i,o||[]),d,l=[];return d=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),d[Symbol.asyncIterator]=function(){return this},d;function h(C){return function(M){return Promise.resolve(M).then(C,g)}}function p(C,M){c[C]&&(d[C]=function(w){return new Promise(function(E,ge){l.push([C,w,E,ge])>1||u(C,w)})},M&&(d[C]=M(d[C])))}function u(C,M){try{y(c[C](M))}catch(w){v(l[0][3],w)}}function y(C){C.value instanceof tn?Promise.resolve(C.value.v).then(m,g):v(l[0][2],C)}function m(C){u("next",C)}function g(C){u("throw",C)}function v(C,M){C(M),l.shift(),l.length&&u(l[0][0],l[0][1])}},fh=function(i){var o,s;return o={},c("next"),c("throw",function(d){throw d}),c("return"),o[Symbol.iterator]=function(){return this},o;function c(d,l){o[d]=i[d]?function(h){return(s=!s)?{value:tn(i[d](h)),done:!1}:l?l(h):h}:l}},gh=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var o=i[Symbol.asyncIterator],s;return o?o.call(i):(i=typeof Ui=="function"?Ui(i):i[Symbol.iterator](),s={},c("next"),c("throw"),c("return"),s[Symbol.asyncIterator]=function(){return this},s);function c(l){s[l]=i[l]&&function(h){return new Promise(function(p,u){h=i[l](h),d(p,u,h.done,h.value)})}}function d(l,h,p,u){Promise.resolve(u).then(function(y){l({value:y,done:p})},h)}},mh=function(i,o){return Object.defineProperty?Object.defineProperty(i,"raw",{value:o}):i.raw=o,i};var e=Object.create?function(i,o){Object.defineProperty(i,"default",{enumerable:!0,value:o})}:function(i,o){i.default=o},a=function(i){return a=Object.getOwnPropertyNames||function(o){var s=[];for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(s[s.length]=c);return s},a(i)};kh=function(i){if(i&&i.__esModule)return i;var o={};if(i!=null)for(var s=a(i),c=0;c<s.length;c++)s[c]!=="default"&&$i(o,i,s[c]);return e(o,i),o},vh=function(i){return i&&i.__esModule?i:{default:i}},Mh=function(i,o,s,c){if(s==="a"&&!c)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?i!==o||!c:!o.has(i))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?c:s==="a"?c.call(i):c?c.value:o.get(i)},wh=function(i,o,s,c,d){if(c==="m")throw new TypeError("Private method is not writable");if(c==="a"&&!d)throw new TypeError("Private accessor was defined without a setter");if(typeof o=="function"?i!==o||!d:!o.has(i))throw new TypeError("Cannot write private member to an object whose class did not declare it");return c==="a"?d.call(i,s):d?d.value=s:o.set(i,s),s},Ch=function(i,o){if(o===null||typeof o!="object"&&typeof o!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof i=="function"?o===i:i.has(o)},_h=function(i,o,s){if(o!=null){if(typeof o!="object"&&typeof o!="function")throw new TypeError("Object expected.");var c,d;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");c=o[Symbol.asyncDispose]}if(c===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");c=o[Symbol.dispose],s&&(d=c)}if(typeof c!="function")throw new TypeError("Object not disposable.");d&&(c=function(){try{d.call(this)}catch(l){return Promise.reject(l)}}),i.stack.push({value:o,dispose:c,async:s})}else s&&i.stack.push({async:!0});return o};var r=typeof SuppressedError=="function"?SuppressedError:function(i,o,s){var c=new Error(s);return c.name="SuppressedError",c.error=i,c.suppressed=o,c};bh=function(i){function o(l){i.error=i.hasError?new r(l,i.error,"An error was suppressed during disposal."):l,i.hasError=!0}var s,c=0;function d(){for(;s=i.stack.pop();)try{if(!s.async&&c===1)return c=0,i.stack.push(s),Promise.resolve().then(d);if(s.dispose){var l=s.dispose.call(s.value);if(s.async)return c|=2,Promise.resolve(l).then(d,function(h){return o(h),d()})}else c|=1}catch(h){o(h)}if(c===1)return i.hasError?Promise.reject(i.error):Promise.resolve();if(i.hasError)throw i.error}return d()},Sh=function(i,o){return typeof i=="string"&&/^\.\.?\//.test(i)?i.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,c,d,l,h){return c?o?".jsx":".js":d&&(!l||!h)?s:d+l+"."+h.toLowerCase()+"js"}):i},n("__extends",Yl),n("__assign",Ql),n("__rest",eh),n("__decorate",th),n("__param",ah),n("__esDecorate",nh),n("__runInitializers",rh),n("__propKey",ih),n("__setFunctionName",oh),n("__metadata",sh),n("__awaiter",ch),n("__generator",dh),n("__exportStar",lh),n("__createBinding",$i),n("__values",Ui),n("__read",fc),n("__spread",hh),n("__spreadArrays",uh),n("__spreadArray",ph),n("__await",tn),n("__asyncGenerator",yh),n("__asyncDelegator",fh),n("__asyncValues",gh),n("__makeTemplateObject",mh),n("__importStar",kh),n("__importDefault",vh),n("__classPrivateFieldGet",Mh),n("__classPrivateFieldSet",wh),n("__classPrivateFieldIn",Ch),n("__addDisposableResource",_h),n("__disposeResources",bh),n("__rewriteRelativeImportExtension",Sh)})});var kc=Tt(mc=>{"use strict";Object.defineProperty(mc,"__esModule",{value:!0});var gc=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};mc.default=gc});var wc=Tt(Mc=>{"use strict";Object.defineProperty(Mc,"__esModule",{value:!0});var $y=ua(),Gy=$y.__importDefault(kc()),vc=class{constructor(t){var e,a;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(a=t.isMaybeSingle)!==null&&a!==void 0?a:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");let a=this.fetch,r=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,s,c,d;let l=null,h=null,p=null,u=i.status,y=i.statusText;if(i.ok){if(this.method!=="HEAD"){let C=await i.text();C===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((o=this.headers.get("Accept"))===null||o===void 0)&&o.includes("application/vnd.pgrst.plan+text"))?h=C:h=JSON.parse(C))}let g=(s=this.headers.get("Prefer"))===null||s===void 0?void 0:s.match(/count=(exact|planned|estimated)/),v=(c=i.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");g&&v&&v.length>1&&(p=parseInt(v[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(h)&&(h.length>1?(l={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,p=null,u=406,y="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{let g=await i.text();try{l=JSON.parse(g),Array.isArray(l)&&i.status===404&&(h=[],l=null,u=200,y="OK")}catch{i.status===404&&g===""?(u=204,y="No Content"):l={message:g}}if(l&&this.isMaybeSingle&&(!((d=l?.details)===null||d===void 0)&&d.includes("0 rows"))&&(l=null,u=200,y="OK"),l&&this.shouldThrowOnError)throw new Gy.default(l)}return{error:l,data:h,count:p,status:u,statusText:y}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,s,c;return{error:{message:`${(o=i?.name)!==null&&o!==void 0?o:"FetchError"}: ${i?.message}`,details:`${(s=i?.stack)!==null&&s!==void 0?s:""}`,hint:"",code:`${(c=i?.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),r.then(t,e)}returns(){return this}overrideTypes(){return this}};Mc.default=vc});var bc=Tt(_c=>{"use strict";Object.defineProperty(_c,"__esModule",{value:!0});var Wy=ua(),Ky=Wy.__importDefault(wc()),Cc=class extends Ky.default{select(t){let e=!1,a=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:a,foreignTable:r,referencedTable:i=r}={}){let o=i?`${i}.order`:"order",s=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${s?`${s},`:""}${t}.${e?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:a=e}={}){let r=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:a,referencedTable:r=a}={}){let i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:a=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var s;let c=[t?"analyze":null,e?"verbose":null,a?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(s=this.headers.get("Accept"))!==null&&s!==void 0?s:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${o}; for="${d}"; options=${c};`),o==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};_c.default=Cc});var Wi=Tt(xc=>{"use strict";Object.defineProperty(xc,"__esModule",{value:!0});var Zy=ua(),Xy=Zy.__importDefault(bc()),Jy=new RegExp("[,()]"),Sc=class extends Xy.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let a=Array.from(new Set(e)).map(r=>typeof r=="string"&&Jy.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${a})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:a,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");let o=a===void 0?"":`(${a})`;return this.url.searchParams.append(t,`${i}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,a])=>{this.url.searchParams.append(e,`eq.${a}`)}),this}not(t,e,a){return this.url.searchParams.append(t,`not.${e}.${a}`),this}or(t,{foreignTable:e,referencedTable:a=e}={}){let r=a?`${a}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,a){return this.url.searchParams.append(t,`${e}.${a}`),this}};xc.default=Sc});var Dc=Tt(Lc=>{"use strict";Object.defineProperty(Lc,"__esModule",{value:!0});var Yy=ua(),vr=Yy.__importDefault(Wi()),Ic=class{constructor(t,{headers:e={},schema:a,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=a,this.fetch=r}select(t,e){let{head:a=!1,count:r}=e??{},i=a?"HEAD":"GET",o=!1,s=(t??"*").split("").map(c=>/\s/.test(c)&&!o?"":(c==='"'&&(o=!o),c)).join("");return this.url.searchParams.set("select",s),r&&this.headers.append("Prefer",`count=${r}`),new vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:a=!0}={}){var r;let i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let o=t.reduce((s,c)=>s.concat(Object.keys(c)),[]);if(o.length>0){let s=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",s.join(","))}}return new vr.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:a=!1,count:r,defaultToNull:i=!0}={}){var o;let s="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){let c=t.reduce((d,l)=>d.concat(Object.keys(l)),[]);if(c.length>0){let d=[...new Set(c)].map(l=>`"${l}"`);this.url.searchParams.set("columns",d.join(","))}}return new vr.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}update(t,{count:e}={}){var a;let r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new vr.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:t}={}){var e;let a="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new vr.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}};Lc.default=Ic});var Ih=Tt(Rc=>{"use strict";Object.defineProperty(Rc,"__esModule",{value:!0});var xh=ua(),Qy=xh.__importDefault(Dc()),ef=xh.__importDefault(Wi()),Ac=class n{constructor(t,{headers:e={},schema:a,fetch:r}={}){this.url=t,this.headers=new Headers(e),this.schemaName=a,this.fetch=r}from(t){let e=new URL(`${this.url}/${t}`);return new Qy.default(e,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new n(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:a=!1,get:r=!1,count:i}={}){var o;let s,c=new URL(`${this.url}/rpc/${t}`),d;a||r?(s=a?"HEAD":"GET",Object.entries(e).filter(([h,p])=>p!==void 0).map(([h,p])=>[h,Array.isArray(p)?`{${p.join(",")}}`:`${p}`]).forEach(([h,p])=>{c.searchParams.append(h,p)})):(s="POST",d=e);let l=new Headers(this.headers);return i&&l.set("Prefer",`count=${i}`),new ef.default({method:s,url:c,headers:l,schema:this.schemaName,body:d,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}};Rc.default=Ac});var Fh=Tt(Fe=>{"use strict";Object.defineProperty(Fe,"__esModule",{value:!0});Fe.PostgrestError=Fe.PostgrestBuilder=Fe.PostgrestTransformBuilder=Fe.PostgrestFilterBuilder=Fe.PostgrestQueryBuilder=Fe.PostgrestClient=void 0;var an=ua(),Lh=an.__importDefault(Ih());Fe.PostgrestClient=Lh.default;var Dh=an.__importDefault(Dc());Fe.PostgrestQueryBuilder=Dh.default;var Ah=an.__importDefault(Wi());Fe.PostgrestFilterBuilder=Ah.default;var Rh=an.__importDefault(bc());Fe.PostgrestTransformBuilder=Rh.default;var Eh=an.__importDefault(wc());Fe.PostgrestBuilder=Eh.default;var Th=an.__importDefault(kc());Fe.PostgrestError=Th.default;Fe.default={PostgrestClient:Lh.default,PostgrestQueryBuilder:Dh.default,PostgrestFilterBuilder:Ah.default,PostgrestTransformBuilder:Rh.default,PostgrestBuilder:Eh.default,PostgrestError:Th.default}});var Rd=null;function Ke(){return Rd}function Cs(n){Rd??=n}var Bn=class{},_s=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:()=>f(Ed),providedIn:"platform"})}return n})();var Ed=(()=>{class n extends _s{_location;_history;_doc=f(N);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ke().getBaseHref(this._doc)}onPopState(e){let a=Ke().getGlobalEventTarget(this._doc,"window");return a.addEventListener("popstate",e,!1),()=>a.removeEventListener("popstate",e)}onHashChange(e){let a=Ke().getGlobalEventTarget(this._doc,"window");return a.addEventListener("hashchange",e,!1),()=>a.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,a,r){this._history.pushState(e,a,r)}replaceState(e,a,r){this._history.replaceState(e,a,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:()=>new n,providedIn:"platform"})}return n})();function Td(n,t){return n?t?n.endsWith("/")?t.startsWith("/")?n+t.slice(1):n+t:t.startsWith("/")?n+t:`${n}/${t}`:n:t}function Dd(n){let t=n.search(/#|\?|$/);return n[t-1]==="/"?n.slice(0,t-1)+n.slice(t):n}function Bt(n){return n&&n[0]!=="?"?`?${n}`:n}var Oa=(()=>{class n{historyGo(e){throw new Error("")}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:()=>f(Pd),providedIn:"root"})}return n})(),Fd=new L(""),Pd=(()=>{class n extends Oa{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,a){super(),this._platformLocation=e,this._baseHref=a??this._platformLocation.getBaseHrefFromDOM()??f(N).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Td(this._baseHref,e)}path(e=!1){let a=this._platformLocation.pathname+Bt(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${a}${r}`:a}pushState(e,a,r,i){let o=this.prepareExternalUrl(r+Bt(i));this._platformLocation.pushState(e,a,o)}replaceState(e,a,r,i){let o=this.prepareExternalUrl(r+Bt(i));this._platformLocation.replaceState(e,a,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(a){return new(a||n)(q(_s),q(Fd,8))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ja=(()=>{class n{_subject=new K;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let a=this._locationStrategy.getBaseHref();this._basePath=l2(Dd(Ad(a))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,a=""){return this.path()==this.normalize(e+Bt(a))}normalize(e){return n.stripTrailingSlash(d2(this._basePath,Ad(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,a="",r=null){this._locationStrategy.pushState(r,"",e,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bt(a)),r)}replaceState(e,a="",r=null){this._locationStrategy.replaceState(r,"",e,a),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Bt(a)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(a=>{this._notifyUrlChangeListeners(a.url,a.state)}),()=>{let a=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(a,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",a){this._urlChangeListeners.forEach(r=>r(e,a))}subscribe(e,a,r){return this._subject.subscribe({next:e,error:a??void 0,complete:r??void 0})}static normalizeQueryParams=Bt;static joinWithSlash=Td;static stripTrailingSlash=Dd;static \u0275fac=function(a){return new(a||n)(q(Oa))};static \u0275prov=_({token:n,factory:()=>c2(),providedIn:"root"})}return n})();function c2(){return new ja(q(Oa))}function d2(n,t){if(!n||!t.startsWith(n))return t;let e=t.substring(n.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Ad(n){return n.replace(/\/index.html$/,"")}function l2(n){if(new RegExp("^(https?:)?//").test(n)){let[,e]=n.split(/\/\/[^\/]+/);return e}return n}var xs=(function(n){return n[n.Decimal=0]="Decimal",n[n.Percent=1]="Percent",n[n.Currency=2]="Currency",n[n.Scientific=3]="Scientific",n})(xs||{});var ft={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function Va(n,t){let e=ws(n),a=e[jn.NumberSymbols][t];if(typeof a>"u"){if(t===ft.CurrencyDecimal)return e[jn.NumberSymbols][ft.Decimal];if(t===ft.CurrencyGroup)return e[jn.NumberSymbols][ft.Group]}return a}function jd(n,t){return ws(n)[jn.NumberFormats][t]}var h2=/^(\d+)?\.((\d+)(-(\d+))?)?$/,Od=22,ci=".",Hn="0",u2=";",p2=",",bs="#";function y2(n,t,e,a,r,i,o=!1){let s="",c=!1;if(!isFinite(n))s=Va(e,ft.Infinity);else{let d=m2(n);o&&(d=g2(d));let l=t.minInt,h=t.minFrac,p=t.maxFrac;if(i){let C=i.match(h2);if(C===null)throw new z(2306,!1);let M=C[1],w=C[3],E=C[5];M!=null&&(l=Ss(M)),w!=null&&(h=Ss(w)),E!=null?p=Ss(E):w!=null&&h>p&&(p=h)}k2(d,h,p);let u=d.digits,y=d.integerLen,m=d.exponent,g=[];for(c=u.every(C=>!C);y<l;y++)u.unshift(0);for(;y<0;y++)u.unshift(0);y>0?g=u.splice(y,u.length):(g=u,u=[0]);let v=[];for(u.length>=t.lgSize&&v.unshift(u.splice(-t.lgSize,u.length).join(""));u.length>t.gSize;)v.unshift(u.splice(-t.gSize,u.length).join(""));u.length&&v.unshift(u.join("")),s=v.join(Va(e,a)),g.length&&(s+=Va(e,r)+g.join("")),m&&(s+=Va(e,ft.Exponential)+"+"+m)}return n<0&&!c?s=t.negPre+s+t.negSuf:s=t.posPre+s+t.posSuf,s}function Vd(n,t,e){let a=jd(t,xs.Decimal),r=f2(a,Va(t,ft.MinusSign));return y2(n,r,t,ft.Group,ft.Decimal,e)}function f2(n,t="-"){let e={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},a=n.split(u2),r=a[0],i=a[1],o=r.indexOf(ci)!==-1?r.split(ci):[r.substring(0,r.lastIndexOf(Hn)+1),r.substring(r.lastIndexOf(Hn)+1)],s=o[0],c=o[1]||"";e.posPre=s.substring(0,s.indexOf(bs));for(let l=0;l<c.length;l++){let h=c.charAt(l);h===Hn?e.minFrac=e.maxFrac=l+1:h===bs?e.maxFrac=l+1:e.posSuf+=h}let d=s.split(p2);if(e.gSize=d[1]?d[1].length:0,e.lgSize=d[2]||d[1]?(d[2]||d[1]).length:0,i){let l=r.length-e.posPre.length-e.posSuf.length,h=i.indexOf(bs);e.negPre=i.substring(0,h).replace(/'/g,""),e.negSuf=i.slice(h+l).replace(/'/g,"")}else e.negPre=t+e.posPre,e.negSuf=e.posSuf;return e}function g2(n){if(n.digits[0]===0)return n;let t=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(t===0?n.digits.push(0,0):t===1&&n.digits.push(0),n.integerLen+=2),n}function m2(n){let t=Math.abs(n)+"",e=0,a,r,i,o,s;for((r=t.indexOf(ci))>-1&&(t=t.replace(ci,"")),(i=t.search(/e/i))>0?(r<0&&(r=i),r+=+t.slice(i+1),t=t.substring(0,i)):r<0&&(r=t.length),i=0;t.charAt(i)===Hn;i++);if(i===(s=t.length))a=[0],r=1;else{for(s--;t.charAt(s)===Hn;)s--;for(r-=i,a=[],o=0;i<=s;i++,o++)a[o]=Number(t.charAt(i))}return r>Od&&(a=a.splice(0,Od-1),e=r-1,r=1),{digits:a,exponent:e,integerLen:r}}function k2(n,t,e){if(t>e)throw new z(2307,!1);let a=n.digits,r=a.length-n.integerLen,i=Math.min(Math.max(t,r),e),o=i+n.integerLen,s=a[o];if(o>0){a.splice(Math.max(n.integerLen,o));for(let h=o;h<a.length;h++)a[h]=0}else{r=Math.max(0,r),n.integerLen=1,a.length=Math.max(1,o=i+1),a[0]=0;for(let h=1;h<o;h++)a[h]=0}if(s>=5)if(o-1<0){for(let h=0;h>o;h--)a.unshift(0),n.integerLen++;a.unshift(1),n.integerLen++}else a[o-1]++;for(;r<Math.max(0,i);r++)a.push(0);let c=i!==0,d=t+n.integerLen,l=a.reduceRight(function(h,p,u,y){return p=p+h,y[u]=p<10?p:p-10,c&&(y[u]===0&&u>=d?y.pop():c=!1),p>=10?1:0},0);l&&(a.unshift(l),n.integerLen++)}function Ss(n){let t=parseInt(n);if(isNaN(t))throw new z(2305,!1);return t}var Nn=(()=>{class n{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(e){this._viewContainerRef=e}ngOnChanges(e){if(this._shouldRecreateView(e)){let a=this._viewContainerRef;if(this._viewRef&&a.remove(a.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let r=this._createContextForwardProxy();this._viewRef=a.createEmbeddedView(this.ngTemplateOutlet,r,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(e){return!!e.ngTemplateOutlet||!!e.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(e,a,r)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,a,r):!1,get:(e,a,r)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,a,r)}})}static \u0275fac=function(a){return new(a||n)(A(nt))};static \u0275dir=x({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[ce]})}return n})();function v2(n,t){return new z(2100,!1)}var Un=(()=>{class n{_locale;constructor(e){this._locale=e}transform(e,a,r){if(!M2(e))return null;r||=this._locale;try{let i=w2(e);return Vd(i,r,a)}catch(i){throw v2(n,i.message)}}static \u0275fac=function(a){return new(a||n)(A(xd,16))};static \u0275pipe=ei({name:"number",type:n,pure:!0})}return n})();function M2(n){return!(n==null||n===""||n!==n)}function w2(n){if(typeof n=="string"&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if(typeof n!="number")throw new z(2309,!1);return n}function Is(n,t){t=encodeURIComponent(t);for(let e of n.split(";")){let a=e.indexOf("="),[r,i]=a==-1?[e,""]:[e.slice(0,a),e.slice(a+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}var $n=class{};function x4(n,t,e){return wd(n,t,e)}var Ls="browser";function di(n){return n===Ls}var Gn=class{_doc;constructor(t){this._doc=t}manager},li=(()=>{class n extends Gn{constructor(e){super(e)}supports(e){return!0}addEventListener(e,a,r,i){return e.addEventListener(a,r,i),()=>this.removeEventListener(e,a,r,i)}removeEventListener(e,a,r,i){return e.removeEventListener(a,r,i)}static \u0275fac=function(a){return new(a||n)(q(N))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),ui=new L(""),Ts=(()=>{class n{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,a){this._zone=a,e.forEach(o=>{o.manager=this});let r=e.filter(o=>!(o instanceof li));this._plugins=r.slice().reverse();let i=e.find(o=>o instanceof li);i&&this._plugins.push(i)}addEventListener(e,a,r,i){return this._findPluginFor(a).addEventListener(e,a,r,i)}getZone(){return this._zone}_findPluginFor(e){let a=this._eventNameToPlugin.get(e);if(a)return a;if(a=this._plugins.find(i=>i.supports(e)),!a)throw new z(5101,!1);return this._eventNameToPlugin.set(e,a),a}static \u0275fac=function(a){return new(a||n)(q(ui),q(Ee))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),Ds="ng-app-id";function zd(n){for(let t of n)t.remove()}function qd(n,t){let e=t.createElement("style");return e.textContent=n,e}function L2(n,t,e,a){let r=n.head?.querySelectorAll(`style[${Ds}="${t}"],link[${Ds}="${t}"]`);if(r)for(let i of r)i.removeAttribute(Ds),i instanceof HTMLLinkElement?a.set(i.href.slice(i.href.lastIndexOf("/")+1),{usage:0,elements:[i]}):i.textContent&&e.set(i.textContent,{usage:0,elements:[i]})}function Rs(n,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",n),e}var Fs=(()=>{class n{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(e,a,r,i={}){this.doc=e,this.appId=a,this.nonce=r,L2(e,a,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,a){for(let r of e)this.addUsage(r,this.inline,qd);a?.forEach(r=>this.addUsage(r,this.external,Rs))}removeStyles(e,a){for(let r of e)this.removeUsage(r,this.inline);a?.forEach(r=>this.removeUsage(r,this.external))}addUsage(e,a,r){let i=a.get(e);i?i.usage++:a.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,r(e,this.doc)))})}removeUsage(e,a){let r=a.get(e);r&&(r.usage--,r.usage<=0&&(zd(r.elements),a.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])zd(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[a,{elements:r}]of this.inline)r.push(this.addElement(e,qd(a,this.doc)));for(let[a,{elements:r}]of this.external)r.push(this.addElement(e,Rs(a,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,a){return this.nonce&&a.setAttribute("nonce",this.nonce),e.appendChild(a)}static \u0275fac=function(a){return new(a||n)(q(N),q(Fn),q(Pn,8),q(_t))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),As={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Ps=/%COMP%/g;var Hd="%COMP%",D2=`_nghost-${Hd}`,A2=`_ngcontent-${Hd}`,R2=!0,E2=new L("",{providedIn:"root",factory:()=>R2});function T2(n){return A2.replace(Ps,n)}function F2(n){return D2.replace(Ps,n)}function Nd(n,t){return t.map(e=>e.replace(Ps,n))}var Os=(()=>{class n{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,a,r,i,o,s,c,d=null,l=null){this.eventManager=e,this.sharedStylesHost=a,this.appId=r,this.removeStylesOnCompDestroy=i,this.doc=o,this.platformId=s,this.ngZone=c,this.nonce=d,this.tracingService=l,this.platformIsServer=!1,this.defaultRenderer=new Wn(e,o,c,this.platformIsServer,this.tracingService)}createRenderer(e,a){if(!e||!a)return this.defaultRenderer;let r=this.getOrCreateRenderer(e,a);return r instanceof hi?r.applyToHost(e):r instanceof Kn&&r.applyStyles(),r}getOrCreateRenderer(e,a){let r=this.rendererByCompId,i=r.get(a.id);if(!i){let o=this.doc,s=this.ngZone,c=this.eventManager,d=this.sharedStylesHost,l=this.removeStylesOnCompDestroy,h=this.platformIsServer,p=this.tracingService;switch(a.encapsulation){case ms.Emulated:i=new hi(c,d,a,this.appId,l,o,s,h,p);break;case ms.ShadowDom:return new Es(c,d,e,a,o,s,this.nonce,h,p);default:i=new Kn(c,d,a,l,o,s,h,p);break}r.set(a.id,i)}return i}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(a){return new(a||n)(q(Ts),q(Fs),q(Fn),q(E2),q(N),q(_t),q(Ee),q(Pn),q(pd,8))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),Wn=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,a,r,i){this.eventManager=t,this.doc=e,this.ngZone=a,this.platformIsServer=r,this.tracingService=i}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(As[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(Bd(t)?t.content:t).appendChild(e)}insertBefore(t,e,a){t&&(Bd(t)?t.content:t).insertBefore(e,a)}removeChild(t,e){e.remove()}selectRootElement(t,e){let a=typeof t=="string"?this.doc.querySelector(t):t;if(!a)throw new z(-5104,!1);return e||(a.textContent=""),a}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,a,r){if(r){e=r+":"+e;let i=As[r];i?t.setAttributeNS(i,e,a):t.setAttribute(e,a)}else t.setAttribute(e,a)}removeAttribute(t,e,a){if(a){let r=As[a];r?t.removeAttributeNS(r,e):t.removeAttribute(`${a}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,a,r){r&(Ea.DashCase|Ea.Important)?t.style.setProperty(e,a,r&Ea.Important?"important":""):t.style[e]=a}removeStyle(t,e,a){a&Ea.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,a){t!=null&&(t[e]=a)}setValue(t,e){t.nodeValue=e}listen(t,e,a,r){if(typeof t=="string"&&(t=Ke().getGlobalEventTarget(this.doc,t),!t))throw new z(5102,!1);let i=this.decoratePreventDefault(a);return this.tracingService?.wrapEventListener&&(i=this.tracingService.wrapEventListener(t,e,i)),this.eventManager.addEventListener(t,e,i,r)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;t(e)===!1&&e.preventDefault()}}};function Bd(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Es=class extends Wn{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,a,r,i,o,s,c,d){super(t,i,o,c,d),this.sharedStylesHost=e,this.hostEl=a,this.shadowRoot=a.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=r.styles;l=Nd(r.id,l);for(let p of l){let u=document.createElement("style");s&&u.setAttribute("nonce",s),u.textContent=p,this.shadowRoot.appendChild(u)}let h=r.getExternalStyles?.();if(h)for(let p of h){let u=Rs(p,i);s&&u.setAttribute("nonce",s),this.shadowRoot.appendChild(u)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,a){return super.insertBefore(this.nodeOrShadowRoot(t),e,a)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Kn=class extends Wn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,a,r,i,o,s,c,d){super(t,i,o,s,c),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r;let l=a.styles;this.styles=d?Nd(d,l):l,this.styleUrls=a.getExternalStyles?.(d)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&ud.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},hi=class extends Kn{contentAttr;hostAttr;constructor(t,e,a,r,i,o,s,c,d){let l=r+"-"+a.id;super(t,e,a,i,o,s,c,d,l),this.contentAttr=T2(l),this.hostAttr=F2(l)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let a=super.createElement(t,e);return super.setAttribute(a,this.contentAttr,""),a}};var pi=class n extends Bn{supportsDOMEvents=!0;static makeCurrent(){Cs(new n)}onAndCancel(t,e,a,r){return t.addEventListener(e,a,r),()=>{t.removeEventListener(e,a,r)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=P2();return e==null?null:O2(e)}resetBaseElement(){Zn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Is(document.cookie,t)}},Zn=null;function P2(){return Zn=Zn||document.head.querySelector("base"),Zn?Zn.getAttribute("href"):null}function O2(n){return new URL(n,document.baseURI).pathname}var j2=(()=>{class n{build(){return new XMLHttpRequest}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})(),Ud=["alt","control","meta","shift"],V2={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},z2={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},$d=(()=>{class n extends Gn{constructor(e){super(e)}supports(e){return n.parseEventName(e)!=null}addEventListener(e,a,r,i){let o=n.parseEventName(a),s=n.eventCallback(o.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ke().onAndCancel(e,o.domEventName,s,i))}static parseEventName(e){let a=e.toLowerCase().split("."),r=a.shift();if(a.length===0||!(r==="keydown"||r==="keyup"))return null;let i=n._normalizeKey(a.pop()),o="",s=a.indexOf("code");if(s>-1&&(a.splice(s,1),o="code."),Ud.forEach(d=>{let l=a.indexOf(d);l>-1&&(a.splice(l,1),o+=d+".")}),o+=i,a.length!=0||i.length===0)return null;let c={};return c.domEventName=r,c.fullKey=o,c}static matchEventFullKeyCode(e,a){let r=V2[e.key]||e.key,i="";return a.indexOf("code.")>-1&&(r=e.code,i="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),Ud.forEach(o=>{if(o!==r){let s=z2[o];s(e)&&(i+=o+".")}}),i+=r,i===a)}static eventCallback(e,a,r){return i=>{n.matchEventFullKeyCode(i,e)&&r.runGuarded(()=>a(i))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(a){return new(a||n)(q(N))};static \u0275prov=_({token:n,factory:n.\u0275fac})}return n})();function q2(n,t,e){let a=k({rootComponent:n,platformRef:e?.platformRef},B2(t));return Id(a)}function B2(n){return{appProviders:[...G2,...n?.providers??[]],platformProviders:$2}}function H2(){pi.makeCurrent()}function N2(){return new ys}function U2(){return cd(document),document}var $2=[{provide:_t,useValue:Ls},{provide:dd,useValue:H2,multi:!0},{provide:N,useFactory:U2}];var G2=[{provide:id,useValue:"root"},{provide:ys,useFactory:N2},{provide:ui,useClass:li,multi:!0,deps:[N]},{provide:ui,useClass:$d,multi:!0,deps:[N]},Os,Fs,Ts,{provide:Ta,useExisting:Os},{provide:$n,useClass:j2},[]];var Gd=(()=>{class n{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(a){return new(a||n)(q(N))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var R="primary",lr=Symbol("RouteTitle"),Bs=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function da(n){return new Bs(n)}function el(n,t,e){let a=e.path.split("/");if(a.length>n.length||e.pathMatch==="full"&&(t.hasChildren()||a.length<n.length))return null;let r={};for(let i=0;i<a.length;i++){let o=a[i],s=n[i];if(o[0]===":")r[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:n.slice(0,a.length),posParams:r}}function K2(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;++e)if(!gt(n[e],t[e]))return!1;return!0}function gt(n,t){let e=n?Hs(n):void 0,a=t?Hs(t):void 0;if(!e||!a||e.length!=a.length)return!1;let r;for(let i=0;i<e.length;i++)if(r=e[i],!tl(n[r],t[r]))return!1;return!0}function Hs(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function tl(n,t){if(Array.isArray(n)&&Array.isArray(t)){if(n.length!==t.length)return!1;let e=[...n].sort(),a=[...t].sort();return e.every((r,i)=>a[i]===r)}else return n===t}function al(n){return n.length>0?n[n.length-1]:null}function It(n){return Ln(n)?n:On(n)?pe(Promise.resolve(n)):I(n)}var Z2={exact:rl,subset:il},nl={exact:X2,subset:J2,ignored:()=>!0};function Wd(n,t,e){return Z2[e.paths](n.root,t.root,e.matrixParams)&&nl[e.queryParams](n.queryParams,t.queryParams)&&!(e.fragment==="exact"&&n.fragment!==t.fragment)}function X2(n,t){return gt(n,t)}function rl(n,t,e){if(!sa(n.segments,t.segments)||!gi(n.segments,t.segments,e)||n.numberOfChildren!==t.numberOfChildren)return!1;for(let a in t.children)if(!n.children[a]||!rl(n.children[a],t.children[a],e))return!1;return!0}function J2(n,t){return Object.keys(t).length<=Object.keys(n).length&&Object.keys(t).every(e=>tl(n[e],t[e]))}function il(n,t,e){return ol(n,t,t.segments,e)}function ol(n,t,e,a){if(n.segments.length>e.length){let r=n.segments.slice(0,e.length);return!(!sa(r,e)||t.hasChildren()||!gi(r,e,a))}else if(n.segments.length===e.length){if(!sa(n.segments,e)||!gi(n.segments,e,a))return!1;for(let r in t.children)if(!n.children[r]||!il(n.children[r],t.children[r],a))return!1;return!0}else{let r=e.slice(0,n.segments.length),i=e.slice(n.segments.length);return!sa(n.segments,r)||!gi(n.segments,r,a)||!n.children[R]?!1:ol(n.children[R],t,i,a)}}function gi(n,t,e){return t.every((a,r)=>nl[e](n[r].parameters,a.parameters))}var kt=class{root;queryParams;fragment;_queryParamMap;constructor(t=new H([],{}),e={},a=null){this.root=t,this.queryParams=e,this.fragment=a}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){return ep.serialize(this)}},H=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(a=>a.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return mi(this)}},Ht=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=da(this.parameters),this._parameterMap}toString(){return cl(this)}};function Y2(n,t){return sa(n,t)&&n.every((e,a)=>gt(e.parameters,t[a].parameters))}function sa(n,t){return n.length!==t.length?!1:n.every((e,a)=>e.path===t[a].path)}function Q2(n,t){let e=[];return Object.entries(n.children).forEach(([a,r])=>{a===R&&(e=e.concat(t(r,a)))}),Object.entries(n.children).forEach(([a,r])=>{a!==R&&(e=e.concat(t(r,a)))}),e}var hr=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:()=>new la,providedIn:"root"})}return n})(),la=class{parse(t){let e=new Us(t);return new kt(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${Xn(t.root,!0)}`,a=np(t.queryParams),r=typeof t.fragment=="string"?`#${tp(t.fragment)}`:"";return`${e}${a}${r}`}},ep=new la;function mi(n){return n.segments.map(t=>cl(t)).join("/")}function Xn(n,t){if(!n.hasChildren())return mi(n);if(t){let e=n.children[R]?Xn(n.children[R],!1):"",a=[];return Object.entries(n.children).forEach(([r,i])=>{r!==R&&a.push(`${r}:${Xn(i,!1)}`)}),a.length>0?`${e}(${a.join("//")})`:e}else{let e=Q2(n,(a,r)=>r===R?[Xn(n.children[R],!1)]:[`${r}:${Xn(a,!1)}`]);return Object.keys(n.children).length===1&&n.children[R]!=null?`${mi(n)}/${e[0]}`:`${mi(n)}/(${e.join("//")})`}}function sl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yi(n){return sl(n).replace(/%3B/gi,";")}function tp(n){return encodeURI(n)}function Ns(n){return sl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ki(n){return decodeURIComponent(n)}function Kd(n){return ki(n.replace(/\+/g,"%20"))}function cl(n){return`${Ns(n.path)}${ap(n.parameters)}`}function ap(n){return Object.entries(n).map(([t,e])=>`;${Ns(t)}=${Ns(e)}`).join("")}function np(n){let t=Object.entries(n).map(([e,a])=>Array.isArray(a)?a.map(r=>`${yi(e)}=${yi(r)}`).join("&"):`${yi(e)}=${yi(a)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var rp=/^[^\/()?;#]+/;function js(n){let t=n.match(rp);return t?t[0]:""}var ip=/^[^\/()?;=#]+/;function op(n){let t=n.match(ip);return t?t[0]:""}var sp=/^[^=?&#]+/;function cp(n){let t=n.match(sp);return t?t[0]:""}var dp=/^[^&#]+/;function lp(n){let t=n.match(dp);return t?t[0]:""}var Us=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new H([],{}):new H([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let a={};return this.peekStartsWith("(")&&(a=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(a[R]=new H(t,e)),a}parseSegment(){let t=js(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(t),new Ht(ki(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=op(this.remaining);if(!e)return;this.capture(e);let a="";if(this.consumeOptional("=")){let r=js(this.remaining);r&&(a=r,this.capture(a))}t[ki(e)]=ki(a)}parseQueryParam(t){let e=cp(this.remaining);if(!e)return;this.capture(e);let a="";if(this.consumeOptional("=")){let o=lp(this.remaining);o&&(a=o,this.capture(a))}let r=Kd(e),i=Kd(a);if(t.hasOwnProperty(r)){let o=t[r];Array.isArray(o)||(o=[o],t[r]=o),o.push(i)}else t[r]=i}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let a=js(this.remaining),r=this.remaining[a.length];if(r!=="/"&&r!==")"&&r!==";")throw new z(4010,!1);let i;a.indexOf(":")>-1?(i=a.slice(0,a.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=R);let o=this.parseChildren();e[i??R]=Object.keys(o).length===1&&o[R]?o[R]:new H([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new z(4011,!1)}};function dl(n){return n.segments.length>0?new H([],{[R]:n}):n}function ll(n){let t={};for(let[a,r]of Object.entries(n.children)){let i=ll(r);if(a===R&&i.segments.length===0&&i.hasChildren())for(let[o,s]of Object.entries(i.children))t[o]=s;else(i.segments.length>0||i.hasChildren())&&(t[a]=i)}let e=new H(n.segments,t);return hp(e)}function hp(n){if(n.numberOfChildren===1&&n.children[R]){let t=n.children[R];return new H(n.segments.concat(t.segments),t.children)}return n}function Nt(n){return n instanceof kt}function hl(n,t,e=null,a=null){let r=ul(n);return pl(r,t,e,a)}function ul(n){let t;function e(i){let o={};for(let c of i.children){let d=e(c);o[c.outlet]=d}let s=new H(i.url,o);return i===n&&(t=s),s}let a=e(n.root),r=dl(a);return t??r}function pl(n,t,e,a){let r=n;for(;r.parent;)r=r.parent;if(t.length===0)return Vs(r,r,r,e,a);let i=up(t);if(i.toRoot())return Vs(r,r,new H([],{}),e,a);let o=pp(i,r,n),s=o.processChildren?Yn(o.segmentGroup,o.index,i.commands):fl(o.segmentGroup,o.index,i.commands);return Vs(r,o.segmentGroup,s,e,a)}function vi(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function tr(n){return typeof n=="object"&&n!=null&&n.outlets}function Vs(n,t,e,a,r){let i={};a&&Object.entries(a).forEach(([c,d])=>{i[c]=Array.isArray(d)?d.map(l=>`${l}`):`${d}`});let o;n===t?o=e:o=yl(n,t,e);let s=dl(ll(o));return new kt(s,i,r)}function yl(n,t,e){let a={};return Object.entries(n.children).forEach(([r,i])=>{i===t?a[r]=e:a[r]=yl(i,t,e)}),new H(n.segments,a)}var Mi=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,a){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=a,t&&a.length>0&&vi(a[0]))throw new z(4003,!1);let r=a.find(tr);if(r&&r!==al(a))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function up(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Mi(!0,0,n);let t=0,e=!1,a=n.reduce((r,i,o)=>{if(typeof i=="object"&&i!=null){if(i.outlets){let s={};return Object.entries(i.outlets).forEach(([c,d])=>{s[c]=typeof d=="string"?d.split("/"):d}),[...r,{outlets:s}]}if(i.segmentPath)return[...r,i.segmentPath]}return typeof i!="string"?[...r,i]:o===0?(i.split("/").forEach((s,c)=>{c==0&&s==="."||(c==0&&s===""?e=!0:s===".."?t++:s!=""&&r.push(s))}),r):[...r,i]},[]);return new Mi(e,t,a)}var Ba=class{segmentGroup;processChildren;index;constructor(t,e,a){this.segmentGroup=t,this.processChildren=e,this.index=a}};function pp(n,t,e){if(n.isAbsolute)return new Ba(t,!0,0);if(!e)return new Ba(t,!1,NaN);if(e.parent===null)return new Ba(e,!0,0);let a=vi(n.commands[0])?0:1,r=e.segments.length-1+a;return yp(e,r,n.numberOfDoubleDots)}function yp(n,t,e){let a=n,r=t,i=e;for(;i>r;){if(i-=r,a=a.parent,!a)throw new z(4005,!1);r=a.segments.length}return new Ba(a,!1,r-i)}function fp(n){return tr(n[0])?n[0].outlets:{[R]:n}}function fl(n,t,e){if(n??=new H([],{}),n.segments.length===0&&n.hasChildren())return Yn(n,t,e);let a=gp(n,t,e),r=e.slice(a.commandIndex);if(a.match&&a.pathIndex<n.segments.length){let i=new H(n.segments.slice(0,a.pathIndex),{});return i.children[R]=new H(n.segments.slice(a.pathIndex),n.children),Yn(i,0,r)}else return a.match&&r.length===0?new H(n.segments,{}):a.match&&!n.hasChildren()?$s(n,t,e):a.match?Yn(n,0,r):$s(n,t,e)}function Yn(n,t,e){if(e.length===0)return new H(n.segments,{});{let a=fp(e),r={};if(Object.keys(a).some(i=>i!==R)&&n.children[R]&&n.numberOfChildren===1&&n.children[R].segments.length===0){let i=Yn(n.children[R],t,e);return new H(n.segments,i.children)}return Object.entries(a).forEach(([i,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(r[i]=fl(n.children[i],t,o))}),Object.entries(n.children).forEach(([i,o])=>{a[i]===void 0&&(r[i]=o)}),new H(n.segments,r)}}function gp(n,t,e){let a=0,r=t,i={match:!1,pathIndex:0,commandIndex:0};for(;r<n.segments.length;){if(a>=e.length)return i;let o=n.segments[r],s=e[a];if(tr(s))break;let c=`${s}`,d=a<e.length-1?e[a+1]:null;if(r>0&&c===void 0)break;if(c&&d&&typeof d=="object"&&d.outlets===void 0){if(!Xd(c,d,o))return i;a+=2}else{if(!Xd(c,{},o))return i;a++}r++}return{match:!0,pathIndex:r,commandIndex:a}}function $s(n,t,e){let a=n.segments.slice(0,t),r=0;for(;r<e.length;){let i=e[r];if(tr(i)){let c=mp(i.outlets);return new H(a,c)}if(r===0&&vi(e[0])){let c=n.segments[t];a.push(new Ht(c.path,Zd(e[0]))),r++;continue}let o=tr(i)?i.outlets[R]:`${i}`,s=r<e.length-1?e[r+1]:null;o&&s&&vi(s)?(a.push(new Ht(o,Zd(s))),r+=2):(a.push(new Ht(o,{})),r++)}return new H(a,{})}function mp(n){let t={};return Object.entries(n).forEach(([e,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(t[e]=$s(new H([],{}),0,a))}),t}function Zd(n){let t={};return Object.entries(n).forEach(([e,a])=>t[e]=`${a}`),t}function Xd(n,t,e){return n==e.path&&gt(t,e.parameters)}var Qn="imperative",_e=(function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n})(_e||{}),Ue=class{id;url;constructor(t,e){this.id=t,this.url=e}},ha=class extends Ue{type=_e.NavigationStart;navigationTrigger;restoredState;constructor(t,e,a="imperative",r=null){super(t,e),this.navigationTrigger=a,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ct=class extends Ue{urlAfterRedirects;type=_e.NavigationEnd;constructor(t,e,a){super(t,e),this.urlAfterRedirects=a}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Te=(function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n[n.Aborted=4]="Aborted",n})(Te||{}),ar=(function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n})(ar||{}),mt=class extends Ue{reason;code;type=_e.NavigationCancel;constructor(t,e,a,r){super(t,e),this.reason=a,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},St=class extends Ue{reason;code;type=_e.NavigationSkipped;constructor(t,e,a,r){super(t,e),this.reason=a,this.code=r}},Na=class extends Ue{error;target;type=_e.NavigationError;constructor(t,e,a,r){super(t,e),this.error=a,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},nr=class extends Ue{urlAfterRedirects;state;type=_e.RoutesRecognized;constructor(t,e,a,r){super(t,e),this.urlAfterRedirects=a,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wi=class extends Ue{urlAfterRedirects;state;type=_e.GuardsCheckStart;constructor(t,e,a,r){super(t,e),this.urlAfterRedirects=a,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ci=class extends Ue{urlAfterRedirects;state;shouldActivate;type=_e.GuardsCheckEnd;constructor(t,e,a,r,i){super(t,e),this.urlAfterRedirects=a,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_i=class extends Ue{urlAfterRedirects;state;type=_e.ResolveStart;constructor(t,e,a,r){super(t,e),this.urlAfterRedirects=a,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bi=class extends Ue{urlAfterRedirects;state;type=_e.ResolveEnd;constructor(t,e,a,r){super(t,e),this.urlAfterRedirects=a,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Si=class{route;type=_e.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},xi=class{route;type=_e.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Ii=class{snapshot;type=_e.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Li=class{snapshot;type=_e.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Di=class{snapshot;type=_e.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ai=class{snapshot;type=_e.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var rr=class{},Ua=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function kp(n){return!(n instanceof rr)&&!(n instanceof Ua)}function vp(n,t){return n.providers&&!n._injector&&(n._injector=ks(n.providers,t,`Route: ${n.path}`)),n._injector??t}function st(n){return n.outlet||R}function Mp(n,t){let e=n.filter(a=>st(a)===t);return e.push(...n.filter(a=>st(a)!==t)),e}function Wa(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let t=n.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Ri=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Wa(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new Ka(this.rootInjector)}},Ka=(()=>{class n{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,a){let r=this.getOrCreateContext(e);r.outlet=a,this.contexts.set(e,r)}onChildOutletDestroyed(e){let a=this.getContext(e);a&&(a.outlet=null,a.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let a=this.getContext(e);return a||(a=new Ri(this.rootInjector),this.contexts.set(e,a)),a}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(a){return new(a||n)(q(Ot))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ei=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Gs(t,this._root);return e?e.children.map(a=>a.value):[]}firstChild(t){let e=Gs(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Ws(t,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==t)}pathFromRoot(t){return Ws(t,this._root).map(e=>e.value)}};function Gs(n,t){if(n===t.value)return t;for(let e of t.children){let a=Gs(n,e);if(a)return a}return null}function Ws(n,t){if(n===t.value)return[t];for(let e of t.children){let a=Ws(n,e);if(a.length)return a.unshift(t),a}return[]}var Ne=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function qa(n){let t={};return n&&n.children.forEach(e=>t[e.value.outlet]=e),t}var ir=class extends Ei{snapshot;constructor(t,e){super(t),this.snapshot=e,tc(this,t)}toString(){return this.snapshot.toString()}};function gl(n){let t=wp(n),e=new be([new Ht("",{})]),a=new be({}),r=new be({}),i=new be({}),o=new be(""),s=new xt(e,a,i,o,r,R,n,t.root);return s.snapshot=t.root,new ir(new Ne(s,[]),t)}function wp(n){let t={},e={},a={},i=new ca([],t,a,"",e,R,n,null,{});return new or("",new Ne(i,[]))}var xt=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,a,r,i,o,s,c){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=a,this.fragmentSubject=r,this.dataSubject=i,this.outlet=o,this.component=s,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(F(d=>d[lr]))??I(void 0),this.url=t,this.params=e,this.queryParams=a,this.fragment=r,this.data=i}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(F(t=>da(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(F(t=>da(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ti(n,t,e="emptyOnly"){let a,{routeConfig:r}=n;return t!==null&&(e==="always"||r?.path===""||!t.component&&!t.routeConfig?.loadComponent)?a={params:k(k({},t.params),n.params),data:k(k({},t.data),n.data),resolve:k(k(k(k({},n.data),t.data),r?.data),n._resolvedData)}:a={params:k({},n.params),data:k({},n.data),resolve:k(k({},n.data),n._resolvedData??{})},r&&kl(r)&&(a.resolve[lr]=r.title),a}var ca=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[lr]}constructor(t,e,a,r,i,o,s,c,d){this.url=t,this.params=e,this.queryParams=a,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=c,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=da(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(a=>a.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},or=class extends Ei{url;constructor(t,e){super(e),this.url=t,tc(this,e)}toString(){return ml(this._root)}};function tc(n,t){t.value._routerState=n,t.children.forEach(e=>tc(n,e))}function ml(n){let t=n.children.length>0?` { ${n.children.map(ml).join(", ")} } `:"";return`${n.value}${t}`}function zs(n){if(n.snapshot){let t=n.snapshot,e=n._futureSnapshot;n.snapshot=e,gt(t.queryParams,e.queryParams)||n.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&n.fragmentSubject.next(e.fragment),gt(t.params,e.params)||n.paramsSubject.next(e.params),K2(t.url,e.url)||n.urlSubject.next(e.url),gt(t.data,e.data)||n.dataSubject.next(e.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ks(n,t){let e=gt(n.params,t.params)&&Y2(n.url,t.url),a=!n.parent!=!t.parent;return e&&!a&&(!n.parent||Ks(n.parent,t.parent))}function kl(n){return typeof n.title=="string"||n.title===null}var vl=new L(""),ac=(()=>{class n{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=R;activateEvents=new ae;deactivateEvents=new ae;attachEvents=new ae;detachEvents=new ae;routerOutletData=ue();parentContexts=f(Ka);location=f(nt);changeDetector=f(je);inputBinder=f(ji,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:a,previousValue:r}=e.name;if(a)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,a){this.activated=e,this._activatedRoute=a,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,a){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=e;let r=this.location,o=e.snapshot.component,s=this.parentContexts.getOrCreateContext(this.name).children,c=new Zs(e,s,r.injector,this.routerOutletData);this.activated=r.createComponent(o,{index:r.length,injector:c,environmentInjector:a}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[ce]})}return n})(),Zs=class{route;childContexts;parent;outletData;constructor(t,e,a,r){this.route=t,this.childContexts=e,this.parent=a,this.outletData=r}get(t,e){return t===xt?this.route:t===Ka?this.childContexts:t===vl?this.outletData:this.parent.get(t,e)}},ji=new L("");var nc=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275cmp=Y({type:n,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(a,r){a&1&&le(0,"router-outlet")},dependencies:[ac],encapsulation:2})}return n})();function rc(n){let t=n.children&&n.children.map(rc),e=t?j(k({},n),{children:t}):k({},n);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==R&&(e.component=nc),e}function Cp(n,t,e){let a=sr(n,t._root,e?e._root:void 0);return new ir(a,t)}function sr(n,t,e){if(e&&n.shouldReuseRoute(t.value,e.value.snapshot)){let a=e.value;a._futureSnapshot=t.value;let r=_p(n,t,e);return new Ne(a,r)}else{if(n.shouldAttach(t.value)){let i=n.retrieve(t.value);if(i!==null){let o=i.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(s=>sr(n,s)),o}}let a=bp(t.value),r=t.children.map(i=>sr(n,i));return new Ne(a,r)}}function _p(n,t,e){return t.children.map(a=>{for(let r of e.children)if(n.shouldReuseRoute(a.value,r.value.snapshot))return sr(n,a,r);return sr(n,a)})}function bp(n){return new xt(new be(n.url),new be(n.params),new be(n.queryParams),new be(n.fragment),new be(n.data),n.outlet,n.component,n)}var $a=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},Ml="ngNavigationCancelingError";function Fi(n,t){let{redirectTo:e,navigationBehaviorOptions:a}=Nt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,r=wl(!1,Te.Redirect);return r.url=e,r.navigationBehaviorOptions=a,r}function wl(n,t){let e=new Error(`NavigationCancelingError: ${n||""}`);return e[Ml]=!0,e.cancellationCode=t,e}function Sp(n){return Cl(n)&&Nt(n.url)}function Cl(n){return!!n&&n[Ml]}var xp=(n,t,e,a)=>F(r=>(new Xs(t,r.targetRouterState,r.currentRouterState,e,a).activate(n),r)),Xs=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,a,r,i){this.routeReuseStrategy=t,this.futureState=e,this.currState=a,this.forwardEvent=r,this.inputBindingEnabled=i}activate(t){let e=this.futureState._root,a=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,a,t),zs(this.futureState.root),this.activateChildRoutes(e,a,t)}deactivateChildRoutes(t,e,a){let r=qa(e);t.children.forEach(i=>{let o=i.value.outlet;this.deactivateRoutes(i,r[o],a),delete r[o]}),Object.values(r).forEach(i=>{this.deactivateRouteAndItsChildren(i,a)})}deactivateRoutes(t,e,a){let r=t.value,i=e?e.value:null;if(r===i)if(r.component){let o=a.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,a);else i&&this.deactivateRouteAndItsChildren(e,a)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let a=e.getContext(t.value.outlet),r=a&&t.value.component?a.children:e,i=qa(t);for(let o of Object.values(i))this.deactivateRouteAndItsChildren(o,r);if(a&&a.outlet){let o=a.outlet.detach(),s=a.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:s})}}deactivateRouteAndOutlet(t,e){let a=e.getContext(t.value.outlet),r=a&&t.value.component?a.children:e,i=qa(t);for(let o of Object.values(i))this.deactivateRouteAndItsChildren(o,r);a&&(a.outlet&&(a.outlet.deactivate(),a.children.onOutletDeactivated()),a.attachRef=null,a.route=null)}activateChildRoutes(t,e,a){let r=qa(e);t.children.forEach(i=>{this.activateRoutes(i,r[i.value.outlet],a),this.forwardEvent(new Ai(i.value.snapshot))}),t.children.length&&this.forwardEvent(new Li(t.value.snapshot))}activateRoutes(t,e,a){let r=t.value,i=e?e.value:null;if(zs(r),r===i)if(r.component){let o=a.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,a);else if(r.component){let o=a.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),zs(s.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=r,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,a)}},Pi=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},Ha=class{component;route;constructor(t,e){this.component=t,this.route=e}};function Ip(n,t,e){let a=n._root,r=t?t._root:null;return Jn(a,r,e,[a.value])}function Lp(n){let t=n.routeConfig?n.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:n,guards:t}}function Za(n,t){let e=Symbol(),a=t.get(n,e);return a===e?typeof n=="function"&&!nd(n)?n:t.get(n):a}function Jn(n,t,e,a,r={canDeactivateChecks:[],canActivateChecks:[]}){let i=qa(t);return n.children.forEach(o=>{Dp(o,i[o.value.outlet],e,a.concat([o.value]),r),delete i[o.value.outlet]}),Object.entries(i).forEach(([o,s])=>er(s,e.getContext(o),r)),r}function Dp(n,t,e,a,r={canDeactivateChecks:[],canActivateChecks:[]}){let i=n.value,o=t?t.value:null,s=e?e.getContext(n.value.outlet):null;if(o&&i.routeConfig===o.routeConfig){let c=Ap(o,i,i.routeConfig.runGuardsAndResolvers);c?r.canActivateChecks.push(new Pi(a)):(i.data=o.data,i._resolvedData=o._resolvedData),i.component?Jn(n,t,s?s.children:null,a,r):Jn(n,t,e,a,r),c&&s&&s.outlet&&s.outlet.isActivated&&r.canDeactivateChecks.push(new Ha(s.outlet.component,o))}else o&&er(t,s,r),r.canActivateChecks.push(new Pi(a)),i.component?Jn(n,null,s?s.children:null,a,r):Jn(n,null,e,a,r);return r}function Ap(n,t,e){if(typeof e=="function")return e(n,t);switch(e){case"pathParamsChange":return!sa(n.url,t.url);case"pathParamsOrQueryParamsChange":return!sa(n.url,t.url)||!gt(n.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ks(n,t)||!gt(n.queryParams,t.queryParams);case"paramsChange":default:return!Ks(n,t)}}function er(n,t,e){let a=qa(n),r=n.value;Object.entries(a).forEach(([i,o])=>{r.component?t?er(o,t.children.getContext(i),e):er(o,null,e):er(o,t,e)}),r.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new Ha(t.outlet.component,r)):e.canDeactivateChecks.push(new Ha(null,r)):e.canDeactivateChecks.push(new Ha(null,r))}function ur(n){return typeof n=="function"}function Rp(n){return typeof n=="boolean"}function Ep(n){return n&&ur(n.canLoad)}function Tp(n){return n&&ur(n.canActivate)}function Fp(n){return n&&ur(n.canActivateChild)}function Pp(n){return n&&ur(n.canDeactivate)}function Op(n){return n&&ur(n.canMatch)}function _l(n){return n instanceof Y1||n?.name==="EmptyError"}var fi=Symbol("INITIAL_VALUE");function Ga(){return me(n=>Dn(n.map(t=>t.pipe(Qe(1),Rn(fi)))).pipe(F(t=>{for(let e of t)if(e!==!0){if(e===fi)return fi;if(e===!1||jp(e))return e}return!0}),Ye(t=>t!==fi),Qe(1)))}function jp(n){return Nt(n)||n instanceof $a}function Vp(n,t){return Be(e=>{let{targetSnapshot:a,currentSnapshot:r,guards:{canActivateChecks:i,canDeactivateChecks:o}}=e;return o.length===0&&i.length===0?I(j(k({},e),{guardsResult:!0})):zp(o,a,r,n).pipe(Be(s=>s&&Rp(s)?qp(a,i,n,t):I(s)),F(s=>j(k({},e),{guardsResult:s})))})}function zp(n,t,e,a){return pe(n).pipe(Be(r=>$p(r.component,r.route,e,t,a)),Ft(r=>r!==!0,!0))}function qp(n,t,e,a){return pe(t).pipe(na(r=>Kr(Hp(r.route.parent,a),Bp(r.route,a),Up(n,r.path,e),Np(n,r.route,e))),Ft(r=>r!==!0,!0))}function Bp(n,t){return n!==null&&t&&t(new Di(n)),I(!0)}function Hp(n,t){return n!==null&&t&&t(new Ii(n)),I(!0)}function Np(n,t,e){let a=t.routeConfig?t.routeConfig.canActivate:null;if(!a||a.length===0)return I(!0);let r=a.map(i=>Zr(()=>{let o=Wa(t)??e,s=Za(i,o),c=Tp(s)?s.canActivate(t,n):et(o,()=>s(t,n));return It(c).pipe(Ft())}));return I(r).pipe(Ga())}function Up(n,t,e){let a=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(o=>Lp(o)).filter(o=>o!==null).map(o=>Zr(()=>{let s=o.guards.map(c=>{let d=Wa(o.node)??e,l=Za(c,d),h=Fp(l)?l.canActivateChild(a,n):et(d,()=>l(a,n));return It(h).pipe(Ft())});return I(s).pipe(Ga())}));return I(i).pipe(Ga())}function $p(n,t,e,a,r){let i=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!i||i.length===0)return I(!0);let o=i.map(s=>{let c=Wa(t)??r,d=Za(s,c),l=Pp(d)?d.canDeactivate(n,t,e,a):et(c,()=>d(n,t,e,a));return It(l).pipe(Ft())});return I(o).pipe(Ga())}function Gp(n,t,e,a){let r=t.canLoad;if(r===void 0||r.length===0)return I(!0);let i=r.map(o=>{let s=Za(o,n),c=Ep(s)?s.canLoad(t,e):et(n,()=>s(t,e));return It(c)});return I(i).pipe(Ga(),bl(a))}function bl(n){return Z1(te(t=>{if(typeof t!="boolean")throw Fi(n,t)}),F(t=>t===!0))}function Wp(n,t,e,a){let r=t.canMatch;if(!r||r.length===0)return I(!0);let i=r.map(o=>{let s=Za(o,n),c=Op(s)?s.canMatch(t,e):et(n,()=>s(t,e));return It(c)});return I(i).pipe(Ga(),bl(a))}var cr=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},dr=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function za(n){return In(new cr(n))}function Kp(n){return In(new z(4e3,!1))}function Zp(n){return In(wl(!1,Te.GuardRejected))}var Js=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let a=[],r=e.root;for(;;){if(a=a.concat(r.segments),r.numberOfChildren===0)return I(a);if(r.numberOfChildren>1||!r.children[R])return Kp(`${t.redirectTo}`);r=r.children[R]}}applyRedirectCommands(t,e,a,r,i){return Xp(e,r,i).pipe(F(o=>{if(o instanceof kt)throw new dr(o);let s=this.applyRedirectCreateUrlTree(o,this.urlSerializer.parse(o),t,a);if(o[0]==="/")throw new dr(s);return s}))}applyRedirectCreateUrlTree(t,e,a,r){let i=this.createSegmentGroup(t,e.root,a,r);return new kt(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let a={};return Object.entries(t).forEach(([r,i])=>{if(typeof i=="string"&&i[0]===":"){let s=i.substring(1);a[r]=e[s]}else a[r]=i}),a}createSegmentGroup(t,e,a,r){let i=this.createSegments(t,e.segments,a,r),o={};return Object.entries(e.children).forEach(([s,c])=>{o[s]=this.createSegmentGroup(t,c,a,r)}),new H(i,o)}createSegments(t,e,a,r){return e.map(i=>i.path[0]===":"?this.findPosParam(t,i,r):this.findOrReturn(i,a))}findPosParam(t,e,a){let r=a[e.path.substring(1)];if(!r)throw new z(4001,!1);return r}findOrReturn(t,e){let a=0;for(let r of e){if(r.path===t.path)return e.splice(a),r;a++}return t}};function Xp(n,t,e){if(typeof n=="string")return I(n);let a=n,{queryParams:r,fragment:i,routeConfig:o,url:s,outlet:c,params:d,data:l,title:h}=t;return It(et(e,()=>a({params:d,data:l,queryParams:r,fragment:i,routeConfig:o,url:s,outlet:c,title:h})))}var Ys={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Jp(n,t,e,a,r){let i=Sl(n,t,e);return i.matched?(a=vp(t,a),Wp(a,t,e,r).pipe(F(o=>o===!0?i:k({},Ys)))):I(i)}function Sl(n,t,e){if(t.path==="**")return Yp(e);if(t.path==="")return t.pathMatch==="full"&&(n.hasChildren()||e.length>0)?k({},Ys):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let r=(t.matcher||el)(e,n,t);if(!r)return k({},Ys);let i={};Object.entries(r.posParams??{}).forEach(([s,c])=>{i[s]=c.path});let o=r.consumed.length>0?k(k({},i),r.consumed[r.consumed.length-1].parameters):i;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function Yp(n){return{matched:!0,parameters:n.length>0?al(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Jd(n,t,e,a){return e.length>0&&ty(n,e,a)?{segmentGroup:new H(t,ey(a,new H(e,n.children))),slicedSegments:[]}:e.length===0&&ay(n,e,a)?{segmentGroup:new H(n.segments,Qp(n,e,a,n.children)),slicedSegments:e}:{segmentGroup:new H(n.segments,n.children),slicedSegments:e}}function Qp(n,t,e,a){let r={};for(let i of e)if(Vi(n,t,i)&&!a[st(i)]){let o=new H([],{});r[st(i)]=o}return k(k({},a),r)}function ey(n,t){let e={};e[R]=t;for(let a of n)if(a.path===""&&st(a)!==R){let r=new H([],{});e[st(a)]=r}return e}function ty(n,t,e){return e.some(a=>Vi(n,t,a)&&st(a)!==R)}function ay(n,t,e){return e.some(a=>Vi(n,t,a))}function Vi(n,t,e){return(n.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function ny(n,t,e){return t.length===0&&!n.children[e]}var Qs=class{};function ry(n,t,e,a,r,i,o="emptyOnly"){return new ec(n,t,e,a,r,o,i).recognize()}var iy=31,ec=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,a,r,i,o,s){this.injector=t,this.configLoader=e,this.rootComponentType=a,this.config=r,this.urlTree=i,this.paramsInheritanceStrategy=o,this.urlSerializer=s,this.applyRedirects=new Js(this.urlSerializer,this.urlTree)}noMatchError(t){return new z(4002,`'${t.segmentGroup}'`)}recognize(){let t=Jd(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(F(({children:e,rootSnapshot:a})=>{let r=new Ne(a,e),i=new or("",r),o=hl(a,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,i.url=this.urlSerializer.serialize(o),{state:i,tree:o}}))}match(t){let e=new ca([],Object.freeze({}),Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),R,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,R,e).pipe(F(a=>({children:a,rootSnapshot:e})),Ct(a=>{if(a instanceof dr)return this.urlTree=a.urlTree,this.match(a.urlTree.root);throw a instanceof cr?this.noMatchError(a):a}))}processSegmentGroup(t,e,a,r,i){return a.segments.length===0&&a.hasChildren()?this.processChildren(t,e,a,i):this.processSegment(t,e,a,a.segments,r,!0,i).pipe(F(o=>o instanceof Ne?[o]:[]))}processChildren(t,e,a,r){let i=[];for(let o of Object.keys(a.children))o==="primary"?i.unshift(o):i.push(o);return pe(i).pipe(na(o=>{let s=a.children[o],c=Mp(e,o);return this.processSegmentGroup(t,c,s,o,r)}),ad((o,s)=>(o.push(...s),o)),hs(null),td(),Be(o=>{if(o===null)return za(a);let s=xl(o);return oy(s),I(s)}))}processSegment(t,e,a,r,i,o,s){return pe(e).pipe(na(c=>this.processSegmentAgainstRoute(c._injector??t,e,c,a,r,i,o,s).pipe(Ct(d=>{if(d instanceof cr)return I(null);throw d}))),Ft(c=>!!c),Ct(c=>{if(_l(c))return ny(a,r,i)?I(new Qs):za(a);throw c}))}processSegmentAgainstRoute(t,e,a,r,i,o,s,c){return st(a)!==o&&(o===R||!Vi(r,i,a))?za(r):a.redirectTo===void 0?this.matchSegmentAgainstRoute(t,r,a,i,o,c):this.allowRedirects&&s?this.expandSegmentAgainstRouteUsingRedirect(t,r,e,a,i,o,c):za(r)}expandSegmentAgainstRouteUsingRedirect(t,e,a,r,i,o,s){let{matched:c,parameters:d,consumedSegments:l,positionalParamSegments:h,remainingSegments:p}=Sl(e,r,i);if(!c)return za(e);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>iy&&(this.allowRedirects=!1));let u=new ca(i,d,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Yd(r),st(r),r.component??r._loadedComponent??null,r,Qd(r)),y=Ti(u,s,this.paramsInheritanceStrategy);return u.params=Object.freeze(y.params),u.data=Object.freeze(y.data),this.applyRedirects.applyRedirectCommands(l,r.redirectTo,h,u,t).pipe(me(g=>this.applyRedirects.lineralizeSegments(r,g)),Be(g=>this.processSegment(t,a,e,g.concat(p),o,!1,s)))}matchSegmentAgainstRoute(t,e,a,r,i,o){let s=Jp(e,a,r,t,this.urlSerializer);return a.path==="**"&&(e.children={}),s.pipe(me(c=>c.matched?(t=a._injector??t,this.getChildConfig(t,a,r).pipe(me(({routes:d})=>{let l=a._loadedInjector??t,{parameters:h,consumedSegments:p,remainingSegments:u}=c,y=new ca(p,h,Object.freeze(k({},this.urlTree.queryParams)),this.urlTree.fragment,Yd(a),st(a),a.component??a._loadedComponent??null,a,Qd(a)),m=Ti(y,o,this.paramsInheritanceStrategy);y.params=Object.freeze(m.params),y.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:v}=Jd(e,p,u,d);if(v.length===0&&g.hasChildren())return this.processChildren(l,d,g,y).pipe(F(M=>new Ne(y,M)));if(d.length===0&&v.length===0)return I(new Ne(y,[]));let C=st(a)===i;return this.processSegment(l,d,g,v,C?R:i,!0,y).pipe(F(M=>new Ne(y,M instanceof Ne?[M]:[])))}))):za(e)))}getChildConfig(t,e,a){return e.children?I({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?I({routes:e._loadedRoutes,injector:e._loadedInjector}):Gp(t,e,a,this.urlSerializer).pipe(Be(r=>r?this.configLoader.loadChildren(t,e).pipe(te(i=>{e._loadedRoutes=i.routes,e._loadedInjector=i.injector})):Zp(e))):I({routes:[],injector:t})}};function oy(n){n.sort((t,e)=>t.value.outlet===R?-1:e.value.outlet===R?1:t.value.outlet.localeCompare(e.value.outlet))}function sy(n){let t=n.value.routeConfig;return t&&t.path===""}function xl(n){let t=[],e=new Set;for(let a of n){if(!sy(a)){t.push(a);continue}let r=t.find(i=>a.value.routeConfig===i.value.routeConfig);r!==void 0?(r.children.push(...a.children),e.add(r)):t.push(a)}for(let a of e){let r=xl(a.children);t.push(new Ne(a.value,r))}return t.filter(a=>!e.has(a))}function Yd(n){return n.data||{}}function Qd(n){return n.resolve||{}}function cy(n,t,e,a,r,i){return Be(o=>ry(n,t,e,a,o.extractedUrl,r,i).pipe(F(({state:s,tree:c})=>j(k({},o),{targetSnapshot:s,urlAfterRedirects:c}))))}function dy(n,t){return Be(e=>{let{targetSnapshot:a,guards:{canActivateChecks:r}}=e;if(!r.length)return I(e);let i=new Set(r.map(c=>c.route)),o=new Set;for(let c of i)if(!o.has(c))for(let d of Il(c))o.add(d);let s=0;return pe(o).pipe(na(c=>i.has(c)?ly(c,a,n,t):(c.data=Ti(c,c.parent,n).resolve,I(void 0))),te(()=>s++),ps(1),Be(c=>s===o.size?I(e):lt))})}function Il(n){let t=n.children.map(e=>Il(e)).flat();return[n,...t]}function ly(n,t,e,a){let r=n.routeConfig,i=n._resolve;return r?.title!==void 0&&!kl(r)&&(i[lr]=r.title),Zr(()=>(n.data=Ti(n,n.parent,e).resolve,hy(i,n,t,a).pipe(F(o=>(n._resolvedData=o,n.data=k(k({},n.data),o),null)))))}function hy(n,t,e,a){let r=Hs(n);if(r.length===0)return I({});let i={};return pe(r).pipe(Be(o=>uy(n[o],t,e,a).pipe(Ft(),te(s=>{if(s instanceof $a)throw Fi(new la,s);i[o]=s}))),ps(1),F(()=>i),Ct(o=>_l(o)?lt:In(o)))}function uy(n,t,e,a){let r=Wa(t)??a,i=Za(n,r),o=i.resolve?i.resolve(t,e):et(r,()=>i(t,e));return It(o)}function qs(n){return me(t=>{let e=n(t);return e?pe(e).pipe(F(()=>t)):I(t)})}var ic=(()=>{class n{buildTitle(e){let a,r=e.root;for(;r!==void 0;)a=this.getResolvedTitleForRoute(r)??a,r=r.children.find(i=>i.outlet===R);return a}getResolvedTitleForRoute(e){return e.data[lr]}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:()=>f(Ll),providedIn:"root"})}return n})(),Ll=(()=>{class n extends ic{title;constructor(e){super(),this.title=e}updateTitle(e){let a=this.buildTitle(e);a!==void 0&&this.title.setTitle(a)}static \u0275fac=function(a){return new(a||n)(q(Gd))};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Xa=new L("",{providedIn:"root",factory:()=>({})}),pr=new L(""),Dl=(()=>{class n{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=f(Sd);loadComponent(e,a){if(this.componentLoaders.get(a))return this.componentLoaders.get(a);if(a._loadedComponent)return I(a._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(a);let r=It(et(e,()=>a.loadComponent())).pipe(F(Rl),me(El),te(o=>{this.onLoadEndListener&&this.onLoadEndListener(a),a._loadedComponent=o}),An(()=>{this.componentLoaders.delete(a)})),i=new xn(r,()=>new K).pipe(cs());return this.componentLoaders.set(a,i),i}loadChildren(e,a){if(this.childrenLoaders.get(a))return this.childrenLoaders.get(a);if(a._loadedRoutes)return I({routes:a._loadedRoutes,injector:a._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(a);let i=Al(a,this.compiler,e,this.onLoadEndListener).pipe(An(()=>{this.childrenLoaders.delete(a)})),o=new xn(i,()=>new K).pipe(cs());return this.childrenLoaders.set(a,o),o}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Al(n,t,e,a){return It(et(e,()=>n.loadChildren())).pipe(F(Rl),me(El),Be(r=>r instanceof yd||Array.isArray(r)?I(r):pe(t.compileModuleAsync(r))),F(r=>{a&&a(n);let i,o,s=!1;return Array.isArray(r)?(o=r,s=!0):(i=r.create(e).injector,o=i.get(pr,[],{optional:!0,self:!0}).flat()),{routes:o.map(rc),injector:i}}))}function py(n){return n&&typeof n=="object"&&"default"in n}function Rl(n){return py(n)?n.default:n}function El(n){return I(n)}var zi=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:()=>f(yy),providedIn:"root"})}return n})(),yy=(()=>{class n{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,a){return e}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Tl=new L("");var Fl=new L(""),Pl=(()=>{class n{currentNavigation=ie(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new K;transitionAbortWithErrorSubject=new K;configLoader=f(Dl);environmentInjector=f(Ot);destroyRef=f(pt);urlSerializer=f(hr);rootContexts=f(Ka);location=f(ja);inputBindingEnabled=f(ji,{optional:!0})!==null;titleStrategy=f(ic);options=f(Xa,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=f(zi);createViewTransition=f(Tl,{optional:!0});navigationErrorHandler=f(Fl,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>I(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=r=>this.events.next(new Si(r)),a=r=>this.events.next(new xi(r));this.configLoader.onLoadEndListener=a,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let a=++this.navigationId;B(()=>{this.transitions?.next(j(k({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:a}))})}setupNavigations(e){return this.transitions=new be(null),this.transitions.pipe(Ye(a=>a!==null),me(a=>{let r=!1;return I(a).pipe(me(i=>{if(this.navigationId>a.id)return this.cancelNavigationTransition(a,"",Te.SupersededByNewNavigation),lt;this.currentTransition=a,this.currentNavigation.set({id:i.id,initialUrl:i.rawUrl,extractedUrl:i.extractedUrl,targetBrowserUrl:typeof i.extras.browserUrl=="string"?this.urlSerializer.parse(i.extras.browserUrl):i.extras.browserUrl,trigger:i.source,extras:i.extras,previousNavigation:this.lastSuccessfulNavigation?j(k({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>i.abortController.abort()});let o=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),s=i.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!o&&s!=="reload")return this.events.next(new St(i.id,this.urlSerializer.serialize(i.rawUrl),"",ar.IgnoredSameUrlNavigation)),i.resolve(!1),lt;if(this.urlHandlingStrategy.shouldProcessUrl(i.rawUrl))return I(i).pipe(me(c=>(this.events.next(new ha(c.id,this.urlSerializer.serialize(c.extractedUrl),c.source,c.restoredState)),c.id!==this.navigationId?lt:Promise.resolve(c))),cy(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),te(c=>{a.targetSnapshot=c.targetSnapshot,a.urlAfterRedirects=c.urlAfterRedirects,this.currentNavigation.update(l=>(l.finalUrl=c.urlAfterRedirects,l));let d=new nr(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(d)}));if(o&&this.urlHandlingStrategy.shouldProcessUrl(i.currentRawUrl)){let{id:c,extractedUrl:d,source:l,restoredState:h,extras:p}=i,u=new ha(c,this.urlSerializer.serialize(d),l,h);this.events.next(u);let y=gl(this.rootComponentType).snapshot;return this.currentTransition=a=j(k({},i),{targetSnapshot:y,urlAfterRedirects:d,extras:j(k({},p),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(m=>(m.finalUrl=d,m)),I(a)}else return this.events.next(new St(i.id,this.urlSerializer.serialize(i.extractedUrl),"",ar.IgnoredByUrlHandlingStrategy)),i.resolve(!1),lt}),te(i=>{let o=new wi(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot);this.events.next(o)}),F(i=>(this.currentTransition=a=j(k({},i),{guards:Ip(i.targetSnapshot,i.currentSnapshot,this.rootContexts)}),a)),Vp(this.environmentInjector,i=>this.events.next(i)),te(i=>{if(a.guardsResult=i.guardsResult,i.guardsResult&&typeof i.guardsResult!="boolean")throw Fi(this.urlSerializer,i.guardsResult);let o=new Ci(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects),i.targetSnapshot,!!i.guardsResult);this.events.next(o)}),Ye(i=>i.guardsResult?!0:(this.cancelNavigationTransition(i,"",Te.GuardRejected),!1)),qs(i=>{if(i.guards.canActivateChecks.length!==0)return I(i).pipe(te(o=>{let s=new _i(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}),me(o=>{let s=!1;return I(o).pipe(dy(this.paramsInheritanceStrategy,this.environmentInjector),te({next:()=>s=!0,complete:()=>{s||this.cancelNavigationTransition(o,"",Te.NoDataFromResolver)}}))}),te(o=>{let s=new bi(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(s)}))}),qs(i=>{let o=s=>{let c=[];if(s.routeConfig?.loadComponent){let d=Wa(s)??this.environmentInjector;c.push(this.configLoader.loadComponent(d,s.routeConfig).pipe(te(l=>{s.component=l}),F(()=>{})))}for(let d of s.children)c.push(...o(d));return c};return Dn(o(i.targetSnapshot.root)).pipe(hs(null),Qe(1))}),qs(()=>this.afterPreactivation()),me(()=>{let{currentSnapshot:i,targetSnapshot:o}=a,s=this.createViewTransition?.(this.environmentInjector,i.root,o.root);return s?pe(s).pipe(F(()=>a)):I(a)}),F(i=>{let o=Cp(e.routeReuseStrategy,i.targetSnapshot,i.currentRouterState);return this.currentTransition=a=j(k({},i),{targetRouterState:o}),this.currentNavigation.update(s=>(s.targetRouterState=o,s)),a}),te(()=>{this.events.next(new rr)}),xp(this.rootContexts,e.routeReuseStrategy,i=>this.events.next(i),this.inputBindingEnabled),Qe(1),Oe(new ta(i=>{let o=a.abortController.signal,s=()=>i.next();return o.addEventListener("abort",s),()=>o.removeEventListener("abort",s)}).pipe(Ye(()=>!r&&!a.targetRouterState),te(()=>{this.cancelNavigationTransition(a,a.abortController.signal.reason+"",Te.Aborted)}))),te({next:i=>{r=!0,this.lastSuccessfulNavigation=B(this.currentNavigation),this.events.next(new ct(i.id,this.urlSerializer.serialize(i.extractedUrl),this.urlSerializer.serialize(i.urlAfterRedirects))),this.titleStrategy?.updateTitle(i.targetRouterState.snapshot),i.resolve(!0)},complete:()=>{r=!0}}),Oe(this.transitionAbortWithErrorSubject.pipe(te(i=>{throw i}))),An(()=>{r||this.cancelNavigationTransition(a,"",Te.SupersededByNewNavigation),this.currentTransition?.id===a.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Ct(i=>{if(this.destroyed)return a.resolve(!1),lt;if(r=!0,Cl(i))this.events.next(new mt(a.id,this.urlSerializer.serialize(a.extractedUrl),i.message,i.cancellationCode)),Sp(i)?this.events.next(new Ua(i.url,i.navigationBehaviorOptions)):a.resolve(!1);else{let o=new Na(a.id,this.urlSerializer.serialize(a.extractedUrl),i,a.targetSnapshot??void 0);try{let s=et(this.environmentInjector,()=>this.navigationErrorHandler?.(o));if(s instanceof $a){let{message:c,cancellationCode:d}=Fi(this.urlSerializer,s);this.events.next(new mt(a.id,this.urlSerializer.serialize(a.extractedUrl),c,d)),this.events.next(new Ua(s.redirectTo,s.navigationBehaviorOptions))}else throw this.events.next(o),i}catch(s){this.options.resolveNavigationPromiseOnError?a.resolve(!1):a.reject(s)}}return lt}))}))}cancelNavigationTransition(e,a,r){let i=new mt(e.id,this.urlSerializer.serialize(e.extractedUrl),a,r);this.events.next(i),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),a=B(this.currentNavigation),r=a?.targetBrowserUrl??a?.extractedUrl;return e.toString()!==r?.toString()&&!a?.extras.skipLocationChange}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function fy(n){return n!==Qn}var Ol=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:()=>f(gy),providedIn:"root"})}return n})(),Oi=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},gy=(()=>{class n extends Oi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),jl=(()=>{class n{urlSerializer=f(hr);options=f(Xa,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=f(ja);urlHandlingStrategy=f(zi);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new kt;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:e,initialUrl:a,targetBrowserUrl:r}){let i=e!==void 0?this.urlHandlingStrategy.merge(e,a):a,o=r??i;return o instanceof kt?this.urlSerializer.serialize(o):o}commitTransition({targetRouterState:e,finalUrl:a,initialUrl:r}){a&&e?(this.currentUrlTree=a,this.rawUrlTree=this.urlHandlingStrategy.merge(a,r),this.routerState=e):this.rawUrlTree=r}routerState=gl(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:e}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e??this.rawUrlTree)}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:()=>f(my),providedIn:"root"})}return n})(),my=(()=>{class n extends jl{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(a=>{a.type==="popstate"&&setTimeout(()=>{e(a.url,a.state,"popstate")})})}handleRouterEvent(e,a){e instanceof ha?this.updateStateMemento():e instanceof St?this.commitTransition(a):e instanceof nr?this.urlUpdateStrategy==="eager"&&(a.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(a),a)):e instanceof rr?(this.commitTransition(a),this.urlUpdateStrategy==="deferred"&&!a.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(a),a)):e instanceof mt&&e.code!==Te.SupersededByNewNavigation&&e.code!==Te.Redirect?this.restoreHistory(a):e instanceof Na?this.restoreHistory(a,!0):e instanceof ct&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,{extras:a,id:r}){let{replaceUrl:i,state:o}=a;if(this.location.isCurrentPathEqualTo(e)||i){let s=this.browserPageId,c=k(k({},o),this.generateNgRouterState(r,s));this.location.replaceState(e,"",c)}else{let s=k(k({},o),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(e,"",s)}}restoreHistory(e,a=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,i=this.currentPageId-r;i!==0?this.location.historyGo(i):this.getCurrentUrlTree()===e.finalUrl&&i===0&&(this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(a&&this.resetInternalState(e),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,a){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:a}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function oc(n,t){n.events.pipe(Ye(e=>e instanceof ct||e instanceof mt||e instanceof Na||e instanceof St),F(e=>e instanceof ct||e instanceof St?0:(e instanceof mt?e.code===Te.Redirect||e.code===Te.SupersededByNewNavigation:!1)?2:1),Ye(e=>e!==2),Qe(1)).subscribe(()=>{t()})}var ky={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vy={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Ut=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=f(fd);stateManager=f(jl);options=f(Xa,{optional:!0})||{};pendingTasks=f(sd);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=f(Pl);urlSerializer=f(hr);location=f(ja);urlHandlingStrategy=f(zi);injector=f(Ot);_events=new K;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=f(Ol);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=f(pr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!f(ji,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Sn;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(a=>{try{let r=this.navigationTransitions.currentTransition,i=B(this.navigationTransitions.currentNavigation);if(r!==null&&i!==null){if(this.stateManager.handleRouterEvent(a,i),a instanceof mt&&a.code!==Te.Redirect&&a.code!==Te.SupersededByNewNavigation)this.navigated=!0;else if(a instanceof ct)this.navigated=!0;else if(a instanceof Ua){let o=a.navigationBehaviorOptions,s=this.urlHandlingStrategy.merge(a.url,r.currentRawUrl),c=k({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||fy(r.source)},o);this.scheduleNavigation(s,Qn,null,c,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}kp(a)&&this._events.next(a)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qn,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,a,r)=>{this.navigateToSyncWithBrowser(e,r,a)})}navigateToSyncWithBrowser(e,a,r){let i={replaceUrl:!0},o=r?.navigationId?r:null;if(r){let c=k({},r);delete c.navigationId,delete c.\u0275routerPageId,Object.keys(c).length!==0&&(i.state=c)}let s=this.parseUrl(e);this.scheduleNavigation(s,a,o,i).catch(c=>{this.disposed||this.injector.get(Tn)(c)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return B(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(rc),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,a={}){let{relativeTo:r,queryParams:i,fragment:o,queryParamsHandling:s,preserveFragment:c}=a,d=c?this.currentUrlTree.fragment:o,l=null;switch(s??this.options.defaultQueryParamsHandling){case"merge":l=k(k({},this.currentUrlTree.queryParams),i);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=i||null}l!==null&&(l=this.removeEmptyProps(l));let h;try{let p=r?r.snapshot:this.routerState.snapshot.root;h=ul(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return pl(h,e,l,d??null)}navigateByUrl(e,a={skipLocationChange:!1}){let r=Nt(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(i,Qn,null,a)}navigate(e,a={skipLocationChange:!1}){return My(e),this.navigateByUrl(this.createUrlTree(e,a),a)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.console.warn(Yr(4018,!1)),this.urlSerializer.parse("/")}}isActive(e,a){let r;if(a===!0?r=k({},ky):a===!1?r=k({},vy):r=a,Nt(e))return Wd(this.currentUrlTree,e,r);let i=this.parseUrl(e);return Wd(this.currentUrlTree,i,r)}removeEmptyProps(e){return Object.entries(e).reduce((a,[r,i])=>(i!=null&&(a[r]=i),a),{})}scheduleNavigation(e,a,r,i,o){if(this.disposed)return Promise.resolve(!1);let s,c,d;o?(s=o.resolve,c=o.reject,d=o.promise):d=new Promise((h,p)=>{s=h,c=p});let l=this.pendingTasks.add();return oc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(l))}),this.navigationTransitions.handleNavigationRequest({source:a,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:i,resolve:s,reject:c,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(h=>Promise.reject(h))}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function My(n){for(let t=0;t<n.length;t++)if(n[t]==null)throw new z(4008,!1)}var Ja=(()=>{class n{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=ie(null);get href(){return B(this.reactiveHref)}set href(e){this.reactiveHref.set(e)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new K;applicationErrorHandler=f(Tn);options=f(Xa,{optional:!0});constructor(e,a,r,i,o,s){this.router=e,this.route=a,this.tabIndexAttribute=r,this.renderer=i,this.el=o,this.locationStrategy=s,this.reactiveHref.set(f(new oi("href"),{optional:!0}));let c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=c==="a"||c==="area"||!!(typeof customElements=="object"&&customElements.get(c)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let e=this.preserveFragment,a=r=>r==="merge"||r==="preserve";e||=a(this.queryParamsHandling),e||=!this.queryParamsHandling&&!a(this.options?.defaultQueryParamsHandling),e&&(this.subscription=this.router.events.subscribe(r=>{r instanceof ct&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Nt(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,a,r,i,o){let s=this.urlTree;if(s===null||this.isAnchorElement&&(e!==0||a||r||i||o||typeof this.target=="string"&&this.target!="_self"))return!0;let c={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(s,c)?.catch(d=>{this.applicationErrorHandler(d)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.reactiveHref.set(e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e))??"":null)}applyAttributeValue(e,a){let r=this.renderer,i=this.el.nativeElement;a!==null?r.setAttribute(i,e,a):r.removeAttribute(i,e)}get urlTree(){return this.routerLinkInput===null?null:Nt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(a){return new(a||n)(A(Ut),A(xt),gs("tabindex"),A(at),A(Z),A(Oa))};static \u0275dir=x({type:n,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(a,r){a&1&&Se("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),a&2&&it("href",r.reactiveHref(),hd)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",de],skipLocationChange:[2,"skipLocationChange","skipLocationChange",de],replaceUrl:[2,"replaceUrl","replaceUrl",de],routerLink:"routerLink"},features:[ce]})}return n})(),sc=(()=>{class n{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new ae;constructor(e,a,r,i,o){this.router=e,this.element=a,this.renderer=r,this.cdr=i,this.link=o,this.routerEventsSubscription=e.events.subscribe(s=>{s instanceof ct&&this.update()})}ngAfterContentInit(){I(this.links.changes,I(null)).pipe(ds()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(a=>!!a).map(a=>a.onChanges);this.linkInputChangesSubscription=pe(e).pipe(ds()).subscribe(a=>{this._isActive!==this.isLinkActive(this.router)(a)&&this.update()})}set routerLinkActive(e){let a=Array.isArray(e)?e:e.split(" ");this.classes=a.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(a=>{e?this.renderer.addClass(this.element.nativeElement,a):this.renderer.removeClass(this.element.nativeElement,a)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let a=Cy(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>{let i=r.urlTree;return i?e.isActive(i,a):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(a){return new(a||n)(A(Ut),A(Z),A(at),A(je),A(Ja,8))};static \u0275dir=x({type:n,selectors:[["","routerLinkActive",""]],contentQueries:function(a,r,i){if(a&1&&He(i,Ja,5),a&2){let o;Ie(o=Le())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[ce]})}return n})();function Cy(n){return!!n.paths}var _y=new L("");function by(n,...t){return rd([{provide:pr,multi:!0,useValue:n},[],{provide:xt,useFactory:Sy,deps:[Ut]},{provide:gd,multi:!0,useFactory:xy},t.map(e=>e.\u0275providers)])}function Sy(n){return n.routerState.root}function xy(){let n=f(Re);return t=>{let e=n.get(Fa);if(t!==e.components[0])return;let a=n.get(Ut),r=n.get(Iy);n.get(Ly)===1&&a.initialNavigation(),n.get(Dy,null,{optional:!0})?.setUpPreloading(),n.get(_y,null,{optional:!0})?.init(),a.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var Iy=new L("",{factory:()=>new K}),Ly=new L("",{providedIn:"root",factory:()=>1});var Dy=new L("");function cc(n){n||(n=f(pt));let t=new ta(e=>{if(n.destroyed){e.next();return}return n.onDestroy(e.next.bind(e))});return e=>e.pipe(Oe(t))}function Vl(n,t){let e=t?.injector??f(Re),a=new X1(1),r=zt(()=>{let i;try{i=n()}catch(o){B(()=>a.error(o));return}B(()=>a.next(i))},{injector:e,manualCleanup:!0});return e.get(pt).onDestroy(()=>{r.destroy(),a.complete()}),a.asObservable()}var zl=Symbol("DEEP_SIGNAL");function ql(n){return new Proxy(n,{has(t,e){return!!this.get(t,e,void 0)},get(t,e){let a=B(t);return!Ry(a)||!(e in a)?(Qr(t[e])&&t[e][zl]&&delete t[e],t[e]):(Qr(t[e])||(Object.defineProperty(t,e,{value:Ce(()=>t()[e]),configurable:!0}),t[e][zl]=!0),ql(t[e]))}})}var Ay=[WeakSet,WeakMap,Promise,Date,Error,RegExp,ArrayBuffer,DataView,Function];function Ry(n){if(n===null||typeof n!="object"||Ey(n))return!1;let t=Object.getPrototypeOf(n);if(t===Object.prototype)return!0;for(;t&&t!==Object.prototype;){if(Ay.includes(t.constructor))return!1;t=Object.getPrototypeOf(t)}return t===Object.prototype}function Ey(n){return typeof n?.[Symbol.iterator]=="function"}var Ty=new WeakMap,$e=Symbol("STATE_SOURCE");function dc(n,...t){let e=B(()=>Ya(n)),a=t.reduce((o,s)=>k(k({},o),typeof s=="function"?s(o):s),e),r=n[$e],i=Reflect.ownKeys(n[$e]);for(let o of Reflect.ownKeys(a))if(i.includes(o)){let s=o;e[s]!==a[s]&&r[s].set(a[s])}Py(n)}function Ya(n){let t=n[$e];return Reflect.ownKeys(n[$e]).reduce((e,a)=>{let r=t[a]();return j(k({},e),{[a]:r})},{})}function Fy(n){return Ty.get(n[$e])||[]}function Py(n){let t=Fy(n);for(let e of t){let a=B(()=>Ya(n));e(a)}}function Bl(...n){let t=[...n],e=typeof t[0]=="function"?{}:t.shift(),a=t;return(()=>{class i{constructor(){let s=a.reduce((m,g)=>g(m),Oy()),{stateSignals:c,props:d,methods:l,hooks:h}=s,p=k(k(k({},c),d),l);this[$e]=s[$e];for(let m of Reflect.ownKeys(p))this[m]=p[m];let{onInit:u,onDestroy:y}=h;u&&u(),y&&f(pt).onDestroy(y)}static \u0275fac=function(c){return new(c||i)};static \u0275prov=_({token:i,factory:i.\u0275fac,providedIn:e.providedIn||null})}return i})()}function Oy(){return{[$e]:{},stateSignals:{},props:{},methods:{},hooks:{}}}function Qa(...n){let t=typeof n[0]=="function"?n:n.slice(1);return e=>t.reduce((a,r)=>r(a),e)}function yr(n){return t=>{let e=k(k(k({[$e]:t[$e]},t.stateSignals),t.props),t.methods),a=typeof n=="function"?n(e):n,r=(i,o)=>o?()=>{i&&i(),o(e)}:i;return j(k({},t),{hooks:{onInit:r(t.hooks.onInit,a.onInit),onDestroy:r(t.hooks.onDestroy,a.onDestroy)}})}}function Hl(n){return t=>{let e=n(k(k(k({[$e]:t[$e]},t.stateSignals),t.props),t.methods));return j(k({},t),{methods:k(k({},t.methods),e)})}}function qi(n){return t=>{let e=typeof n=="function"?n():n,a=Reflect.ownKeys(e),r=t[$e],i={};for(let o of a)r[o]=ie(e[o]),i[o]=ql(r[o]);return j(k({},t),{stateSignals:k(k({},t.stateSignals),i)})}}function en(...n){return{reducer:n.pop(),events:n}}var Bi=Symbol(),Nl=Symbol(),Hi=class{[Bi]=new K;on(...t){return this[Bi].pipe(jy(t),zy())}},lc=(()=>{class n extends Hi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})(),Ul=(()=>{class n extends Hi{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function jy(n){if(n.length===0)return e=>e;let t=Vy(n);return Ye(({type:e})=>!!t[e])}function Vy(n){return n.reduce((t,e)=>j(k({},t),{[e.type]:e}),{})}function zy(){return F(t=>{var n=W1(t,[]);return Object.defineProperty(n,Nl,{value:n.type}),n})}var hc=(()=>{class n{reducerEvents=f(Ul);events=f(lc);dispatch(e){this.reducerEvents[Bi].next(e),J1.schedule(()=>this.events[Bi].next(e))}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"platform"})}return n})();function qy(n){let t=e=>({type:n,payload:e});return t.type=n,t}function $l(n){return Object.entries(n.events).reduce((t,[e])=>{let a=`[${n.source}] ${e}`;return j(k({},t),{[e]:qy(a)})},{})}function By(n){return typeof n=="object"&&n!==null&&"type"in n}function Gl(n){return Qa(void 0,yr({onInit(t,e=f(hc)){let a=n(t),r=Object.values(a).map(i=>i.pipe(te(o=>{By(o)&&!(Nl in o)&&e.dispatch(o)})));ls(...r).pipe(cc()).subscribe()}}))}function Wl(...n){return Qa({state:void 0},yr({onInit(t,e=f(Ul)){let a=n.map(r=>e.on(...r.events).pipe(te(i=>{let o=B(()=>Ya(t)),s=r.reducer(i,o),c=Array.isArray(s)?s:[s];dc(t,...c)})));ls(...a).pipe(cc()).subscribe()}}))}var Lt=$l({source:"Users",events:{getUser:void 0,getUserSuccess:void 0,getUserFailure:void 0,login:void 0,loginSuccess:void 0,loginFailure:void 0,logout:void 0,logoutSuccess:void 0,logoutFailure:void 0}}),ne={getUser:Lt.getUser,getUserSuccess:Lt.getUserSuccess,getUserFailure:Lt.getUserFailure,login:Lt.login,loginSuccess:Lt.loginSuccess,loginFailure:Lt.loginFailure,logout:Lt.logout,logoutSuccess:Lt.logoutSuccess,logoutFailure:Lt.logoutFailure};var n3=Symbol("DEVTOOLS_FEATURE");var Hy=new L("ReduxDevtoolsConfig"),Ny=(()=>{var t,e,a;let r=class r{constructor(){Je(this,t,ie({}));Je(this,e);Je(this,a,zt(()=>{if(U(this,e)===void 0)throw new Error("no callback function defined");let o=U(this,t).call(this),s=Object.entries(o).reduce((c,[d,l])=>j(k({},c),{[d]:Ya(l)}),{});U(this,e).call(this,s)}))}get stores(){return U(this,t).call(this)}track(o,s){U(this,t).update(c=>j(k({},c),{[o]:s}))}onChange(o){ea(this,e,o)}removeStore(o){U(this,t).update(s=>Object.entries(s).reduce((c,[d,l])=>(d!==o&&(c[d]=l),c),{}))}notifyRenamedStore(o){U(this,t).call(this)[o]&&U(this,t).update(s=>k({},s))}};t=new WeakMap,e=new WeakMap,a=new WeakMap,r.\u0275fac=function(s){return new(s||r)},r.\u0275prov=_({token:r,factory:r.\u0275fac,providedIn:"root"});let n=r;return n})(),uc=new Set,Kl={send:()=>{}},Zl=(()=>{var t,e,a,r,i,o,s;let c=class c{constructor(){Je(this,t,{});Je(this,e,di(f(_t)));Je(this,a,[]);Je(this,r,k({name:"NgRx SignalStore"},f(Hy,{optional:!0})));Je(this,i,{});Je(this,o,1);Je(this,s,f(Ee).runOutsideAngular(()=>U(this,e)&&window.__REDUX_DEVTOOLS_EXTENSION__?window.__REDUX_DEVTOOLS_EXTENSION__.connect(U(this,r)):Kl));U(this,e)}ngOnDestroy(){uc.clear()}syncToDevTools(l){let h=Object.entries(l).reduce((y,[m,g])=>{let{options:v,name:C}=U(this,t)[m];return y[C]=v.map(g),y},{});ea(this,i,k(k({},U(this,i)),h));let p=Array.from(uc),u=p.length?p.join(", "):"Store Update";uc.clear(),U(this,s).send({type:u},U(this,i))}getNextId(){return String(K1(this,o)._++)}addStore(l,h,p,u){let y=h,m=Object.values(U(this,t)).map(v=>v.name);if(m.includes(y)&&!u.indexNames)throw new Error(`An instance of the store ${y} already exists. Enable automatic indexing via withDevTools('${y}', { indexNames: true }), or rename it upon instantiation.`);for(let v=1;m.includes(y);v++)y=`${h}-${v}`;U(this,t)[l]={name:y,options:u};let g=u.tracker;U(this,a).includes(g)||U(this,a).push(g),g.onChange(v=>this.syncToDevTools(v)),g.track(l,p)}removeStore(l){let h=U(this,t)[l].name;ea(this,t,Object.entries(U(this,t)).reduce((p,[u,y])=>(u!==l&&(p[u]=y),p),{})),ea(this,i,Object.entries(U(this,i)).reduce((p,[u,y])=>(u!==h&&(p[u]=y),p),{}));for(let p of U(this,a))p.removeStore(l)}renameStore(l,h){let p=U(this,t)[l];if(!p)return;let u=p.name;if(u===h)return;if(Object.entries(U(this,t)).filter(([m])=>m!==l).map(([,m])=>m.name).includes(h))throw new Error(`NgRx Toolkit/DevTools: cannot rename from ${u} to ${h}. ${h} is already assigned to another SignalStore instance.`);ea(this,t,Object.entries(U(this,t)).reduce((m,[g,v])=>(g===l?m[g]=j(k({},v),{name:h}):m[g]=v,m),{})),ea(this,i,Object.entries(U(this,i)).reduce((m,[g,v])=>(g!==u&&(m[g]=v),m),{})),U(this,a).forEach(m=>m.notifyRenamedStore(l))}};t=new WeakMap,e=new WeakMap,a=new WeakMap,r=new WeakMap,i=new WeakMap,o=new WeakMap,s=new WeakMap,c.\u0275fac=function(h){return new(h||c)},c.\u0275prov=_({token:c,factory:c.\u0275fac,providedIn:"root"});let n=c;return n})(),Uy="___renameDevtoolsName",pc="___uniqueDevtoolsId";function Xl(n,...t){return Qa(Hl(()=>{let e=f(Zl),a=e.getNextId();return{[Uy]:r=>{e.renameStore(a,r)},[pc]:()=>a}}),yr(e=>{let a=f(Zl),r=String(e[pc]());return{onInit(){let i=String(e[pc]()),o={indexNames:!t.some(s=>s.indexNames===!1),map:t.find(s=>s.map)?.map??(s=>s),tracker:f(t.find(s=>s.tracker)?.tracker||Ny)};a.addStore(i,n,e,o)},onDestroy(){a.removeStore(r)}}}))}var r3=Symbol("SYNC_STATUS");var i3=Qa(qi({}));var Jl=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);var fr=class extends Error{constructor(t,e="FunctionsError",a){super(t),this.name=e,this.context=a}},Ni=class extends fr{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},gr=class extends fr{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},mr=class extends fr{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},yc=(function(n){return n.Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2",n})(yc||{});var kr=class{constructor(t,{headers:e={},customFetch:a,region:r=yc.Any}={}){this.url=t,this.headers=e,this.region=r,this.fetch=Jl(a)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return b(this,arguments,void 0,function*(e,a={}){var r;let i,o;try{let{headers:s,method:c,body:d,signal:l,timeout:h}=a,p={},{region:u}=a;u||(u=this.region);let y=new URL(`${this.url}/${e}`);u&&u!=="any"&&(p["x-region"]=u,y.searchParams.set("forceFunctionRegion",u));let m;d&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)?typeof Blob<"u"&&d instanceof Blob||d instanceof ArrayBuffer?(p["Content-Type"]="application/octet-stream",m=d):typeof d=="string"?(p["Content-Type"]="text/plain",m=d):typeof FormData<"u"&&d instanceof FormData?m=d:(p["Content-Type"]="application/json",m=JSON.stringify(d)):m=d;let g=l;h&&(o=new AbortController,i=setTimeout(()=>o.abort(),h),l?(g=o.signal,l.addEventListener("abort",()=>o.abort())):g=o.signal);let v=yield this.fetch(y.toString(),{method:c||"POST",headers:Object.assign(Object.assign(Object.assign({},p),this.headers),s),body:m,signal:g}).catch(E=>{throw new Ni(E)}),C=v.headers.get("x-relay-error");if(C&&C==="true")throw new gr(v);if(!v.ok)throw new mr(v);let M=((r=v.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),w;return M==="application/json"?w=yield v.json():M==="application/octet-stream"||M==="application/pdf"?w=yield v.blob():M==="text/event-stream"?w=v:M==="multipart/form-data"?w=yield v.formData():w=yield v.text(),{data:w,error:null,response:v}}catch(s){return{data:null,error:s,response:s instanceof mr||s instanceof gr?s.context:void 0}}finally{i&&clearTimeout(i)}})}};var Ec=s2(Fh(),1),{PostgrestClient:Ph,PostgrestQueryBuilder:b3,PostgrestFilterBuilder:S3,PostgrestTransformBuilder:x3,PostgrestBuilder:I3,PostgrestError:tf}=Ec.default||Ec;var Tc=class{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){let e=process.versions;if(e&&e.node){let a=e.node,r=parseInt(a.replace(/^v/,"").split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let t=this.detectEnvironment();if(t.constructor)return t.constructor;let e=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(e+=`

Suggested solution: ${t.workaround}`),new Error(e)}static createWebSocket(t,e){let a=this.getWebSocketConstructor();return new a(t,e)}static isWebSocketSupported(){try{let t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}},Fc=Tc;var Oh="2.81.1";var jh=`realtime-js/${Oh}`,Pc="1.0.0",Vh="2.0.0",Oc=Pc;var Mr=1e4,zh=1e3,qh=100,pa=(function(n){return n[n.connecting=0]="connecting",n[n.open=1]="open",n[n.closing=2]="closing",n[n.closed=3]="closed",n})(pa||{}),ye=(function(n){return n.closed="closed",n.errored="errored",n.joined="joined",n.joining="joining",n.leaving="leaving",n})(ye||{}),Ve=(function(n){return n.close="phx_close",n.error="phx_error",n.join="phx_join",n.reply="phx_reply",n.leave="phx_leave",n.access_token="access_token",n})(Ve||{}),jc=(function(n){return n.websocket="websocket",n})(jc||{}),ya=(function(n){return n.Connecting="connecting",n.Open="open",n.Closing="closing",n.Closed="closed",n})(ya||{});var Ki=class{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={push:0,reply:1,broadcast:2,userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST="broadcast"}encode(t,e){if(this._isArrayBuffer(t.payload))return e(this._binaryEncodePush(t));if(t.event===this.BROADCAST&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return e(this._binaryEncodeUserBroadcastPush(t));let a=[t.join_ref,t.ref,t.topic,t.event,t.payload];return e(JSON.stringify(a))}_binaryEncodePush(t){let{join_ref:e,ref:a,event:r,topic:i,payload:o}=t,s=this.META_LENGTH+e.length+a.length+i.length+r.length,c=new ArrayBuffer(this.HEADER_LENGTH+s),d=new DataView(c),l=0;d.setUint8(l++,this.KINDS.push),d.setUint8(l++,e.length),d.setUint8(l++,a.length),d.setUint8(l++,i.length),d.setUint8(l++,r.length),Array.from(e,p=>d.setUint8(l++,p.charCodeAt(0))),Array.from(a,p=>d.setUint8(l++,p.charCodeAt(0))),Array.from(i,p=>d.setUint8(l++,p.charCodeAt(0))),Array.from(r,p=>d.setUint8(l++,p.charCodeAt(0)));var h=new Uint8Array(c.byteLength+o.byteLength);return h.set(new Uint8Array(c),0),h.set(new Uint8Array(o),c.byteLength),h.buffer}_binaryEncodeUserBroadcastPush(t){var e;return this._isArrayBuffer((e=t.payload)===null||e===void 0?void 0:e.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var e,a;let{join_ref:r,ref:i,topic:o}=t,s=t.payload.event,c=(a=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&a!==void 0?a:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+i.length+o.length+s.length,l=new ArrayBuffer(this.HEADER_LENGTH+d),h=new DataView(l),p=0;h.setUint8(p++,this.KINDS.userBroadcastPush),h.setUint8(p++,r.length),h.setUint8(p++,i.length),h.setUint8(p++,o.length),h.setUint8(p++,s.length),h.setUint8(p++,this.BINARY_ENCODING),Array.from(r,y=>h.setUint8(p++,y.charCodeAt(0))),Array.from(i,y=>h.setUint8(p++,y.charCodeAt(0))),Array.from(o,y=>h.setUint8(p++,y.charCodeAt(0))),Array.from(s,y=>h.setUint8(p++,y.charCodeAt(0)));var u=new Uint8Array(l.byteLength+c.byteLength);return u.set(new Uint8Array(l),0),u.set(new Uint8Array(c),l.byteLength),u.buffer}_encodeJsonUserBroadcastPush(t){var e,a;let{join_ref:r,ref:i,topic:o}=t,s=t.payload.event,c=(a=(e=t.payload)===null||e===void 0?void 0:e.payload)!==null&&a!==void 0?a:{},l=new TextEncoder().encode(JSON.stringify(c)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+r.length+i.length+o.length+s.length,p=new ArrayBuffer(this.HEADER_LENGTH+h),u=new DataView(p),y=0;u.setUint8(y++,this.KINDS.userBroadcastPush),u.setUint8(y++,r.length),u.setUint8(y++,i.length),u.setUint8(y++,o.length),u.setUint8(y++,s.length),u.setUint8(y++,this.JSON_ENCODING),Array.from(r,g=>u.setUint8(y++,g.charCodeAt(0))),Array.from(i,g=>u.setUint8(y++,g.charCodeAt(0))),Array.from(o,g=>u.setUint8(y++,g.charCodeAt(0))),Array.from(s,g=>u.setUint8(y++,g.charCodeAt(0)));var m=new Uint8Array(p.byteLength+l.byteLength);return m.set(new Uint8Array(p),0),m.set(new Uint8Array(l),p.byteLength),m.buffer}decode(t,e){if(this._isArrayBuffer(t)){let a=this._binaryDecode(t);return e(a)}if(typeof t=="string"){let a=JSON.parse(t),[r,i,o,s,c]=a;return e({join_ref:r,ref:i,topic:o,event:s,payload:c})}return e({})}_binaryDecode(t){let e=new DataView(t),a=e.getUint8(0),r=new TextDecoder;switch(a){case this.KINDS.push:return this._decodePush(t,e,r);case this.KINDS.reply:return this._decodeReply(t,e,r);case this.KINDS.broadcast:return this._decodeBroadcast(t,e,r);case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,e,r)}}_decodePush(t,e,a){let r=e.getUint8(1),i=e.getUint8(2),o=e.getUint8(3),s=this.HEADER_LENGTH+this.META_LENGTH-1,c=a.decode(t.slice(s,s+r));s=s+r;let d=a.decode(t.slice(s,s+i));s=s+i;let l=a.decode(t.slice(s,s+o));s=s+o;let h=JSON.parse(a.decode(t.slice(s,t.byteLength)));return{join_ref:c,ref:null,topic:d,event:l,payload:h}}_decodeReply(t,e,a){let r=e.getUint8(1),i=e.getUint8(2),o=e.getUint8(3),s=e.getUint8(4),c=this.HEADER_LENGTH+this.META_LENGTH,d=a.decode(t.slice(c,c+r));c=c+r;let l=a.decode(t.slice(c,c+i));c=c+i;let h=a.decode(t.slice(c,c+o));c=c+o;let p=a.decode(t.slice(c,c+s));c=c+s;let u=JSON.parse(a.decode(t.slice(c,t.byteLength))),y={status:p,response:u};return{join_ref:d,ref:l,topic:h,event:Ve.reply,payload:y}}_decodeBroadcast(t,e,a){let r=e.getUint8(1),i=e.getUint8(2),o=this.HEADER_LENGTH+2,s=a.decode(t.slice(o,o+r));o=o+r;let c=a.decode(t.slice(o,o+i));o=o+i;let d=JSON.parse(a.decode(t.slice(o,t.byteLength)));return{join_ref:null,ref:null,topic:s,event:c,payload:d}}_decodeUserBroadcast(t,e,a){let r=e.getUint8(1),i=e.getUint8(2),o=e.getUint8(3),s=e.getUint8(4),c=this.HEADER_LENGTH+4,d=a.decode(t.slice(c,c+r));c=c+r;let l=a.decode(t.slice(c,c+i));c=c+i;let h=a.decode(t.slice(c,c+o));c=c+o;let p=t.slice(c,t.byteLength),u=s===this.JSON_ENCODING?JSON.parse(a.decode(p)):p,y={type:this.BROADCAST,event:l,payload:u};return o>0&&(y.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:d,event:this.BROADCAST,payload:y}}_isArrayBuffer(t){var e;return t instanceof ArrayBuffer||((e=t?.constructor)===null||e===void 0?void 0:e.name)==="ArrayBuffer"}};var nn=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Q=(function(n){return n.abstime="abstime",n.bool="bool",n.date="date",n.daterange="daterange",n.float4="float4",n.float8="float8",n.int2="int2",n.int4="int4",n.int4range="int4range",n.int8="int8",n.int8range="int8range",n.json="json",n.jsonb="jsonb",n.money="money",n.numeric="numeric",n.oid="oid",n.reltime="reltime",n.text="text",n.time="time",n.timestamp="timestamp",n.timestamptz="timestamptz",n.timetz="timetz",n.tsrange="tsrange",n.tstzrange="tstzrange",n})(Q||{}),zc=(n,t,e={})=>{var a;let r=(a=e.skipTypes)!==null&&a!==void 0?a:[];return t?Object.keys(t).reduce((i,o)=>(i[o]=af(o,n,t,r),i),{}):{}},af=(n,t,e,a)=>{let r=t.find(s=>s.name===n),i=r?.type,o=e[n];return i&&!a.includes(i)?Bh(i,o):Vc(o)},Bh=(n,t)=>{if(n.charAt(0)==="_"){let e=n.slice(1,n.length);return sf(t,e)}switch(n){case Q.bool:return nf(t);case Q.float4:case Q.float8:case Q.int2:case Q.int4:case Q.int8:case Q.numeric:case Q.oid:return rf(t);case Q.json:case Q.jsonb:return of(t);case Q.timestamp:return cf(t);case Q.abstime:case Q.date:case Q.daterange:case Q.int4range:case Q.int8range:case Q.money:case Q.reltime:case Q.text:case Q.time:case Q.timestamptz:case Q.timetz:case Q.tsrange:case Q.tstzrange:return Vc(t);default:return Vc(t)}},Vc=n=>n,nf=n=>{switch(n){case"t":return!0;case"f":return!1;default:return n}},rf=n=>{if(typeof n=="string"){let t=parseFloat(n);if(!Number.isNaN(t))return t}return n},of=n=>{if(typeof n=="string")try{return JSON.parse(n)}catch(t){return console.log(`JSON parse error: ${t}`),n}return n},sf=(n,t)=>{if(typeof n!="string")return n;let e=n.length-1,a=n[e];if(n[0]==="{"&&a==="}"){let i,o=n.slice(1,e);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(s=>Bh(t,s))}return n},cf=n=>typeof n=="string"?n.replace(" ","T"):n,Zi=n=>{let t=new URL(n);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};var rn=class{constructor(t,e,a={},r=Mr){this.channel=t,this.event=e,this.payload=a,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var a;return this._hasReceived(t)&&e((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(a=>a.status===t).forEach(a=>a.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var wr=class n{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let a=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},r=>{let{onJoin:i,onLeave:o,onSync:s}=this.caller;this.joinRef=this.channel._joinRef(),this.state=n.syncState(this.state,r,i,o),this.pendingDiffs.forEach(c=>{this.state=n.syncDiff(this.state,c,i,o)}),this.pendingDiffs=[],s()}),this.channel._on(a.diff,{},r=>{let{onJoin:i,onLeave:o,onSync:s}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=n.syncDiff(this.state,r,i,o),s())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,a,r){let i=this.cloneDeep(t),o=this.transformState(e),s={},c={};return this.map(i,(d,l)=>{o[d]||(c[d]=l)}),this.map(o,(d,l)=>{let h=i[d];if(h){let p=l.map(g=>g.presence_ref),u=h.map(g=>g.presence_ref),y=l.filter(g=>u.indexOf(g.presence_ref)<0),m=h.filter(g=>p.indexOf(g.presence_ref)<0);y.length>0&&(s[d]=y),m.length>0&&(c[d]=m)}else s[d]=l}),this.syncDiff(i,{joins:s,leaves:c},a,r)}static syncDiff(t,e,a,r){let{joins:i,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return a||(a=()=>{}),r||(r=()=>{}),this.map(i,(s,c)=>{var d;let l=(d=t[s])!==null&&d!==void 0?d:[];if(t[s]=this.cloneDeep(c),l.length>0){let h=t[s].map(u=>u.presence_ref),p=l.filter(u=>h.indexOf(u.presence_ref)<0);t[s].unshift(...p)}a(s,l,c)}),this.map(o,(s,c)=>{let d=t[s];if(!d)return;let l=c.map(h=>h.presence_ref);d=d.filter(h=>l.indexOf(h.presence_ref)<0),t[s]=d,r(s,d,c),d.length===0&&delete t[s]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(a=>e(a,t[a]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,a)=>{let r=t[a];return"metas"in r?e[a]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):e[a]=r,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Cr=(function(n){return n.BROADCAST="broadcast",n.PRESENCE="presence",n.POSTGRES_CHANGES="postgres_changes",n.SYSTEM="system",n})(Cr||{}),Dt=(function(n){return n.SUBSCRIBED="SUBSCRIBED",n.TIMED_OUT="TIMED_OUT",n.CLOSED="CLOSED",n.CHANNEL_ERROR="CHANNEL_ERROR",n})(Dt||{});var _r=class n{constructor(t,e={config:{}},a){var r,i;if(this.topic=t,this.params=e,this.socket=a,this.bindings={},this.state=ye.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new rn(this,Ve.join,this.params,this.timeout),this.rejoinTimer=new nn(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ye.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(o=>o.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ye.closed,this.socket._remove(this)}),this._onError(o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",o=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,o),this.state=ye.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ve.reply,{},(o,s)=>{this._trigger(this._replyEventName(s),o)}),this.presence=new wr(this),this.broadcastEndpointURL=Zi(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((i=(r=this.params.config)===null||r===void 0?void 0:r.broadcast)===null||i===void 0)&&i.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,e=this.timeout){var a,r,i;if(this.socket.isConnected()||this.socket.connect(),this.state==ye.closed){let{config:{broadcast:o,presence:s,private:c}}=this.params,d=(r=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(u=>u.filter))!==null&&r!==void 0?r:[],l=!!this.bindings[Cr.PRESENCE]&&this.bindings[Cr.PRESENCE].length>0||((i=this.params.config.presence)===null||i===void 0?void 0:i.enabled)===!0,h={},p={broadcast:o,presence:Object.assign(Object.assign({},s),{enabled:l}),postgres_changes:d,private:c};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(u=>t?.(Dt.CHANNEL_ERROR,u)),this._onClose(()=>t?.(Dt.CLOSED)),this.updateJoinPayload(Object.assign({config:p},h)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",async({postgres_changes:u})=>{var y;if(this.socket.setAuth(),u===void 0){t?.(Dt.SUBSCRIBED);return}else{let m=this.bindings.postgres_changes,g=(y=m?.length)!==null&&y!==void 0?y:0,v=[];for(let C=0;C<g;C++){let M=m[C],{filter:{event:w,schema:E,table:ge,filter:X}}=M,ee=u&&u[C];if(ee&&ee.event===w&&ee.schema===E&&ee.table===ge&&ee.filter===X)v.push(Object.assign(Object.assign({},M),{id:ee.id}));else{this.unsubscribe(),this.state=ye.errored,t?.(Dt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,t&&t(Dt.SUBSCRIBED);return}}).receive("error",u=>{this.state=ye.errored,t?.(Dt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(u).join(", ")||"error")))}).receive("timeout",()=>{t?.(Dt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,e={}){return await this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,e,a){return this.state===ye.joined&&t===Cr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,e,a)}async httpSend(t,e,a={}){var r;let i=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(e==null)return Promise.reject("Payload is required for httpSend()");let o={method:"POST",headers:{Authorization:i,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:e,private:this.private}]})},s=await this._fetchWithTimeout(this.broadcastEndpointURL,o,(r=a.timeout)!==null&&r!==void 0?r:this.timeout);if(s.status===202)return{success:!0};let c=s.statusText;try{let d=await s.json();c=d.error||d.message||c}catch{}return Promise.reject(new Error(c))}async send(t,e={}){var a,r;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:i,payload:o}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{let d=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(a=e.timeout)!==null&&a!==void 0?a:this.timeout);return await((r=d.body)===null||r===void 0?void 0:r.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,s,c;let d=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(s=(o=this.params)===null||o===void 0?void 0:o.config)===null||s===void 0?void 0:s.broadcast)===null||c===void 0)&&c.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ye.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ve.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(r=>{a=new rn(this,Ve.leave,{},t),a.receive("ok",()=>{e(),r("ok")}).receive("timeout",()=>{e(),r("timed out")}).receive("error",()=>{r("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ye.closed,this.bindings={}}async _fetchWithTimeout(t,e,a){let r=new AbortController,i=setTimeout(()=>r.abort(),a),o=await this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:r.signal}));return clearTimeout(i),o}_push(t,e,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new rn(this,t,e,a);return this._canPush()?r.send():this._addToPushBuffer(r),r}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>qh){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(t,e,a){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,a){var r,i;let o=t.toLocaleLowerCase(),{close:s,error:c,leave:d,join:l}=Ve;if(a&&[s,c,d,l].indexOf(o)>=0&&a!==this._joinRef())return;let p=this._onMessage(o,e,a);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(u=>{var y,m,g;return((y=u.filter)===null||y===void 0?void 0:y.event)==="*"||((g=(m=u.filter)===null||m===void 0?void 0:m.event)===null||g===void 0?void 0:g.toLocaleLowerCase())===o}).map(u=>u.callback(p,a)):(i=this.bindings[o])===null||i===void 0||i.filter(u=>{var y,m,g,v,C,M;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in u){let w=u.id,E=(y=u.filter)===null||y===void 0?void 0:y.event;return w&&((m=e.ids)===null||m===void 0?void 0:m.includes(w))&&(E==="*"||E?.toLocaleLowerCase()===((g=e.data)===null||g===void 0?void 0:g.type.toLocaleLowerCase()))}else{let w=(C=(v=u?.filter)===null||v===void 0?void 0:v.event)===null||C===void 0?void 0:C.toLocaleLowerCase();return w==="*"||w===((M=e?.event)===null||M===void 0?void 0:M.toLocaleLowerCase())}else return u.type.toLocaleLowerCase()===o}).map(u=>{if(typeof p=="object"&&"ids"in p){let y=p.data,{schema:m,table:g,commit_timestamp:v,type:C,errors:M}=y;p=Object.assign(Object.assign({},{schema:m,table:g,commit_timestamp:v,eventType:C,new:{},old:{},errors:M}),this._getPayloadRecords(y))}u.callback(p,a)})}_isClosed(){return this.state===ye.closed}_isJoined(){return this.state===ye.joined}_isJoining(){return this.state===ye.joining}_isLeaving(){return this.state===ye.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,a){let r=t.toLocaleLowerCase(),i={type:r,filter:e,callback:a};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(t,e){let a=t.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===a&&n.isEqual(r.filter,e))})),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let a in t)if(t[a]!==e[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ve.close,{},t)}_onError(t){this._on(Ve.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ye.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=zc(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=zc(t.columns,t.old_record)),e}};var qc=()=>{},Xi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},lf=[1e3,2e3,5e3,1e4],hf=1e4,uf=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,br=class{constructor(t,e){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Mr,this.transport=null,this.heartbeatIntervalMs=Xi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=qc,this.ref=0,this.reconnectTimer=null,this.vsn=Oc,this.logger=qc,this.conn=null,this.sendBuffer=[],this.serializer=new Ki,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=r=>r?(...i)=>r(...i):(...i)=>fetch(...i),!(!((a=e?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=e.params.apikey,this.endPoint=`${t}/${jc.websocket}`,this.httpEndpoint=Zi(t),this._initializeOptions(e),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(e?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Fc.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;throw e.includes("Node.js")?new Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,e){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,e??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){let e=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),e}async removeAllChannels(){let t=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,e,a){this.logger(t,e,a)}connectionState(){switch(this.conn&&this.conn.readyState){case pa.connecting:return ya.Connecting;case pa.open:return ya.Open;case pa.closing:return ya.Closing;default:return ya.Closed}}isConnected(){return this.connectionState()===ya.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,e={config:{}}){let a=`realtime:${t}`,r=this.getChannels().find(i=>i.topic===a);if(r)return r;{let i=new _r(`realtime:${t}`,e,this);return this.channels.push(i),i}}push(t){let{topic:e,event:a,payload:r,ref:i}=t,o=()=>{this.encode(t,s=>{var c;(c=this.conn)===null||c===void 0||c.send(s)})};this.log("push",`${e} ${a} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(zh,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout()},Xi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(a=>a.topic===t&&(a._isJoined()||a._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,e=>{if(e.topic==="phoenix"&&e.event==="phx_reply")try{this.heartbeatCallback(e.payload.status==="ok"?"ok":"error")}catch(d){this.log("error","error in heartbeat callback",d)}e.ref&&e.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);let{topic:a,event:r,payload:i,ref:o}=e,s=o?`(${o})`:"",c=i.status||"";this.log("receive",`${c} ${a} ${r} ${s}`.trim(),i),this.channels.filter(d=>d._isMember(a)).forEach(d=>d._trigger(r,i,o)),this._triggerStateCallbacks("message",e)})}_clearTimer(t){var e;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((e=this.reconnectTimer)===null||e===void 0||e.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){if(this.conn){if(this.conn.readyState===pa.open||this.conn.readyState===pa.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var e;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(e=this.reconnectTimer)===null||e===void 0||e.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ve.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let a=t.match(/\?/)?"&":"?",r=new URLSearchParams(e);return`${t}${a}${r}`}_workerObjectUrl(t){let e;if(t)e=t;else{let a=new Blob([uf],{type:"application/javascript"});e=URL.createObjectURL(a)}return e}_setConnectionState(t,e=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=e)}async _performAuth(t=null){let e;t?e=t:this.accessToken?e=await this.accessToken():e=this.accessTokenValue,this.accessTokenValue!=e&&(this.accessTokenValue=e,this.channels.forEach(a=>{let r={access_token:e,version:jh};e&&a.updateJoinPayload(r),a.joinedOnce&&a._isJoined()&&a._push(Ve.access_token,{access_token:e})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(e=>{this.log("error",`error setting auth in ${t}`,e)})}_triggerStateCallbacks(t,e){try{this.stateChangeCallbacks[t].forEach(a=>{try{a(e)}catch(r){this.log("error",`error in ${t} callback`,r)}})}catch(a){this.log("error",`error triggering ${t} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new nn(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Xi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var e,a,r,i,o,s,c,d,l,h,p,u;switch(this.transport=(e=t?.transport)!==null&&e!==void 0?e:null,this.timeout=(a=t?.timeout)!==null&&a!==void 0?a:Mr,this.heartbeatIntervalMs=(r=t?.heartbeatIntervalMs)!==null&&r!==void 0?r:Xi.HEARTBEAT_INTERVAL,this.worker=(i=t?.worker)!==null&&i!==void 0?i:!1,this.accessToken=(o=t?.accessToken)!==null&&o!==void 0?o:null,this.heartbeatCallback=(s=t?.heartbeatCallback)!==null&&s!==void 0?s:qc,this.vsn=(c=t?.vsn)!==null&&c!==void 0?c:Oc,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(d=t?.reconnectAfterMs)!==null&&d!==void 0?d:y=>lf[y-1]||hf,this.vsn){case Pc:this.encode=(l=t?.encode)!==null&&l!==void 0?l:(y,m)=>m(JSON.stringify(y)),this.decode=(h=t?.decode)!==null&&h!==void 0?h:(y,m)=>m(JSON.parse(y));break;case Vh:this.encode=(p=t?.encode)!==null&&p!==void 0?p:this.serializer.encode.bind(this.serializer),this.decode=(u=t?.decode)!==null&&u!==void 0?u:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}};var on=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function W(n){return typeof n=="object"&&n!==null&&"__isStorageError"in n}var Ji=class extends on{constructor(t,e,a){super(t),this.name="StorageApiError",this.status=e,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},fa=class extends on{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var sn=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),Hh=()=>Response,Yi=n=>{if(Array.isArray(n))return n.map(e=>Yi(e));if(typeof n=="function"||n!==Object(n))return n;let t={};return Object.entries(n).forEach(([e,a])=>{let r=e.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));t[r]=Yi(a)}),t},Nh=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Bc=n=>{var t;return n.msg||n.message||n.error_description||(typeof n.error=="string"?n.error:(t=n.error)===null||t===void 0?void 0:t.message)||JSON.stringify(n)},pf=(n,t,e)=>b(void 0,void 0,void 0,function*(){let a=yield Hh();n instanceof a&&!e?.noResolveJson?n.json().then(r=>{let i=n.status||500,o=r?.statusCode||i+"";t(new Ji(Bc(r),i,o))}).catch(r=>{t(new fa(Bc(r),r))}):t(new fa(Bc(n),n))}),yf=(n,t,e,a)=>{let r={method:n,headers:t?.headers||{}};return n==="GET"||!a?r:(Nh(a)?(r.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r.body=JSON.stringify(a)):r.body=a,t?.duplex&&(r.duplex=t.duplex),Object.assign(Object.assign({},r),e))};function Sr(n,t,e,a,r,i){return b(this,void 0,void 0,function*(){return new Promise((o,s)=>{n(e,yf(t,a,r,i)).then(c=>{if(!c.ok)throw c;return a?.noResolveJson?c:c.json()}).then(c=>o(c)).catch(c=>pf(c,s,a))})})}function $t(n,t,e,a){return b(this,void 0,void 0,function*(){return Sr(n,"GET",t,e,a)})}function ze(n,t,e,a,r){return b(this,void 0,void 0,function*(){return Sr(n,"POST",t,a,r,e)})}function xr(n,t,e,a,r){return b(this,void 0,void 0,function*(){return Sr(n,"PUT",t,a,r,e)})}function Uh(n,t,e,a){return b(this,void 0,void 0,function*(){return Sr(n,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),a)})}function cn(n,t,e,a,r){return b(this,void 0,void 0,function*(){return Sr(n,"DELETE",t,a,r,e)})}var Qi=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}execute(){return b(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(W(t))return{data:null,error:t};throw t}})}};var $h,Hc=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[$h]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qi(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return b(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if(W(t))return{data:null,error:t};throw t}})}};$h=Symbol.toStringTag;var Gh=Hc;var ff={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Wh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},eo=class{constructor(t,e={},a,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=a,this.fetch=sn(r)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,e,a,r){return b(this,void 0,void 0,function*(){try{let i,o=Object.assign(Object.assign({},Wh),r),s=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)}),c=o.metadata;typeof Blob<"u"&&a instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),c&&i.append("metadata",this.encodeMetadata(c)),i.append("",a)):typeof FormData<"u"&&a instanceof FormData?(i=a,i.has("cacheControl")||i.append("cacheControl",o.cacheControl),c&&!i.has("metadata")&&i.append("metadata",this.encodeMetadata(c))):(i=a,s["cache-control"]=`max-age=${o.cacheControl}`,s["content-type"]=o.contentType,c&&(s["x-metadata"]=this.toBase64(this.encodeMetadata(c))),(typeof ReadableStream<"u"&&i instanceof ReadableStream||i&&typeof i=="object"&&"pipe"in i&&typeof i.pipe=="function")&&!o.duplex&&(o.duplex="half")),r?.headers&&(s=Object.assign(Object.assign({},s),r.headers));let d=this._removeEmptyFolders(e),l=this._getFinalPath(d),h=yield(t=="PUT"?xr:ze)(this.fetch,`${this.url}/object/${l}`,i,Object.assign({headers:s},o?.duplex?{duplex:o.duplex}:{}));return{data:{path:d,id:h.Id,fullPath:h.Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(W(i))return{data:null,error:i};throw i}})}upload(t,e,a){return b(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,a)})}uploadToSignedUrl(t,e,a,r){return b(this,void 0,void 0,function*(){let i=this._removeEmptyFolders(t),o=this._getFinalPath(i),s=new URL(this.url+`/object/upload/sign/${o}`);s.searchParams.set("token",e);try{let c,d=Object.assign({upsert:Wh.upsert},r),l=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&a instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),c.append("",a)):typeof FormData<"u"&&a instanceof FormData?(c=a,c.append("cacheControl",d.cacheControl)):(c=a,l["cache-control"]=`max-age=${d.cacheControl}`,l["content-type"]=d.contentType);let h=yield xr(this.fetch,s.toString(),c,{headers:l});return{data:{path:i,fullPath:h.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if(W(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,e){return b(this,void 0,void 0,function*(){try{let a=this._getFinalPath(t),r=Object.assign({},this.headers);e?.upsert&&(r["x-upsert"]="true");let i=yield ze(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:r}),o=new URL(this.url+i.url),s=o.searchParams.get("token");if(!s)throw new on("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:s},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(W(a))return{data:null,error:a};throw a}})}update(t,e,a){return b(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,a)})}move(t,e,a){return b(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}copy(t,e,a){return b(this,void 0,void 0,function*(){try{return{data:{path:(yield ze(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}createSignedUrl(t,e,a){return b(this,void 0,void 0,function*(){try{let r=this._getFinalPath(t),i=yield ze(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:e},a?.transform?{transform:a.transform}:{}),{headers:this.headers}),o=a?.download?`&download=${a.download===!0?"":a.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}createSignedUrls(t,e,a){return b(this,void 0,void 0,function*(){try{let r=yield ze(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),i=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}download(t,e){let r=typeof e?.transform<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString(e?.transform||{}),o=i?`?${i}`:"",s=this._getFinalPath(t),c=()=>$t(this.fetch,`${this.url}/${r}/${s}${o}`,{headers:this.headers,noResolveJson:!0});return new Gh(c,this.shouldThrowOnError)}info(t){return b(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let a=yield $t(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:Yi(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(W(a))return{data:null,error:a};throw a}})}exists(t){return b(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield Uh(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(W(a)&&a instanceof fa){let r=a.originalError;if([400,404].includes(r?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(t,e){let a=this._getFinalPath(t),r=[],i=e?.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);let s=typeof e?.transform<"u"?"render/image":"object",c=this.transformOptsToQueryString(e?.transform||{});c!==""&&r.push(c);let d=r.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${a}${d}`)}}}remove(t){return b(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}list(t,e,a){return b(this,void 0,void 0,function*(){try{let r=Object.assign(Object.assign(Object.assign({},ff),e),{prefix:t||""});return{data:yield ze(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},a),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}listV2(t,e){return b(this,void 0,void 0,function*(){try{let a=Object.assign({},t);return{data:yield ze(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},e),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(W(a))return{data:null,error:a};throw a}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var to="2.81.1";var ao={"X-Client-Info":`storage-js/${to}`};var no=class{constructor(t,e={},a,r){this.shouldThrowOnError=!1;let i=new URL(t);r?.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ao),e),this.fetch=sn(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(t){return b(this,void 0,void 0,function*(){try{let e=this.listBucketOptionsToQueryString(t);return{data:yield $t(this.fetch,`${this.url}/bucket${e}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}getBucket(t){return b(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}createBucket(t){return b(this,arguments,void 0,function*(e,a={public:!1}){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{id:e,name:e,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(W(r))return{data:null,error:r};throw r}})}updateBucket(t,e){return b(this,void 0,void 0,function*(){try{return{data:yield xr(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(W(a))return{data:null,error:a};throw a}})}emptyBucket(t){return b(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}deleteBucket(t){return b(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}listBucketOptionsToQueryString(t){let e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}};var ro=class{constructor(t,e={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ao),e),this.fetch=sn(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return b(this,void 0,void 0,function*(){try{return{data:yield ze(this.fetch,`${this.url}/bucket`,{name:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}listBuckets(t){return b(this,void 0,void 0,function*(){try{let e=new URLSearchParams;t?.limit!==void 0&&e.set("limit",t.limit.toString()),t?.offset!==void 0&&e.set("offset",t.offset.toString()),t?.sortColumn&&e.set("sortColumn",t.sortColumn),t?.sortOrder&&e.set("sortOrder",t.sortOrder),t?.search&&e.set("search",t.search);let a=e.toString(),r=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield $t(this.fetch,r,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}deleteBucket(t){return b(this,void 0,void 0,function*(){try{return{data:yield cn(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(W(e))return{data:null,error:e};throw e}})}};var dn={"X-Client-Info":`storage-js/${to}`,"Content-Type":"application/json"};var io=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function De(n){return typeof n=="object"&&n!==null&&"__isStorageVectorsError"in n}var ln=class extends io{constructor(t,e,a){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},oo=class extends io{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};var hn=n=>n?(...t)=>n(...t):(...t)=>fetch(...t);var Kh=n=>{if(typeof n!="object"||n===null)return!1;let t=Object.getPrototypeOf(n);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in n)&&!(Symbol.iterator in n)};var Zh=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),gf=(n,t,e)=>b(void 0,void 0,void 0,function*(){if(n&&typeof n=="object"&&"status"in n&&"ok"in n&&typeof n.status=="number"&&!e?.noResolveJson){let r=n.status||500,i=n;if(typeof i.json=="function")i.json().then(o=>{let s=o?.statusCode||o?.code||r+"";t(new ln(Zh(o),r,s))}).catch(()=>{let o=r+"",s=i.statusText||`HTTP ${r} error`;t(new ln(s,r,o))});else{let o=r+"",s=i.statusText||`HTTP ${r} error`;t(new ln(s,r,o))}}else t(new oo(Zh(n),n))}),mf=(n,t,e,a)=>{let r={method:n,headers:t?.headers||{}};return n==="GET"||!a?r:(Kh(a)?(r.headers=Object.assign({"Content-Type":"application/json"},t?.headers),r.body=JSON.stringify(a)):r.body=a,Object.assign(Object.assign({},r),e))};function kf(n,t,e,a,r,i){return b(this,void 0,void 0,function*(){return new Promise((o,s)=>{n(e,mf(t,a,r,i)).then(c=>{if(!c.ok)throw c;if(a?.noResolveJson)return c;let d=c.headers.get("content-type");return!d||!d.includes("application/json")?{}:c.json()}).then(c=>o(c)).catch(c=>gf(c,s,a))})})}function Ae(n,t,e,a,r){return b(this,void 0,void 0,function*(){return kf(n,"POST",t,a,r,e)})}var so=class{constructor(t,e={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dn),e),this.fetch=hn(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(t){return b(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateIndex`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}getIndex(t,e){return b(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}})}listIndexes(t){return b(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/ListIndexes`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}deleteIndex(t,e){return b(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(De(a))return{data:null,error:a};throw a}})}};var co=class{constructor(t,e={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dn),e),this.fetch=hn(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(t){return b(this,void 0,void 0,function*(){try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/PutVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}getVectors(t){return b(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}listVectors(t){return b(this,void 0,void 0,function*(){try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:yield Ae(this.fetch,`${this.url}/ListVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}queryVectors(t){return b(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/QueryVectors`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}deleteVectors(t){return b(this,void 0,void 0,function*(){try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectors`,t,{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}};var lo=class{constructor(t,e={},a){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},dn),e),this.fetch=hn(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(t){return b(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}getBucket(t){return b(this,void 0,void 0,function*(){try{return{data:yield Ae(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:t},{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}listBuckets(){return b(this,arguments,void 0,function*(t={}){try{return{data:yield Ae(this.fetch,`${this.url}/ListVectorBuckets`,t,{headers:this.headers}),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}deleteBucket(t){return b(this,void 0,void 0,function*(){try{return{data:(yield Ae(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:this.headers}))||{},error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(De(e))return{data:null,error:e};throw e}})}};var Ir=class extends lo{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new ho(this.url,this.headers,t,this.fetch)}},ho=class extends so{constructor(t,e,a,r){super(t,e,r),this.vectorBucketName=a}createIndex(t){let e=Object.create(null,{createIndex:{get:()=>super.createIndex}});return b(this,void 0,void 0,function*(){return e.createIndex.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){let t=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return b(this,arguments,void 0,function*(e={}){return t.listIndexes.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}getIndex(t){let e=Object.create(null,{getIndex:{get:()=>super.getIndex}});return b(this,void 0,void 0,function*(){return e.getIndex.call(this,this.vectorBucketName,t)})}deleteIndex(t){let e=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return b(this,void 0,void 0,function*(){return e.deleteIndex.call(this,this.vectorBucketName,t)})}index(t){return new uo(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},uo=class extends co{constructor(t,e,a,r,i){super(t,e,i),this.vectorBucketName=a,this.indexName=r}putVectors(t){let e=Object.create(null,{putVectors:{get:()=>super.putVectors}});return b(this,void 0,void 0,function*(){return e.putVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(t){let e=Object.create(null,{getVectors:{get:()=>super.getVectors}});return b(this,void 0,void 0,function*(){return e.getVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){let t=Object.create(null,{listVectors:{get:()=>super.listVectors}});return b(this,arguments,void 0,function*(e={}){return t.listVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(t){let e=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return b(this,void 0,void 0,function*(){return e.queryVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(t){let e=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return b(this,void 0,void 0,function*(){return e.deleteVectors.call(this,Object.assign(Object.assign({},t),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}};var Lr=class extends no{constructor(t,e={},a,r){super(t,e,a,r)}from(t){return new eo(this.url,this.headers,t,this.fetch)}get vectors(){return new Ir(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new ro(this.url+"/iceberg",this.headers,this.fetch)}};var Xh="2.81.1";var Dr="";typeof Deno<"u"?Dr="deno":typeof document<"u"?Dr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Dr="react-native":Dr="node";var vf={"X-Client-Info":`supabase-js-${Dr}/${Xh}`},Jh={headers:vf},Yh={schema:"public"},Qh={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},eu={};var Mf=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),wf=()=>Headers,tu=(n,t,e)=>{let a=Mf(e),r=wf();return async(i,o)=>{var s;let c=(s=await t())!==null&&s!==void 0?s:n,d=new r(o?.headers);return d.has("apikey")||d.set("apikey",n),d.has("Authorization")||d.set("Authorization",`Bearer ${c}`),a(i,Object.assign(Object.assign({},o),{headers:d}))}};function Cf(n){return n.endsWith("/")?n:n+"/"}function au(n,t){var e,a;let{db:r,auth:i,realtime:o,global:s}=n,{db:c,auth:d,realtime:l,global:h}=t,p={db:Object.assign(Object.assign({},c),r),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},l),o),storage:{},global:Object.assign(Object.assign(Object.assign({},h),s),{headers:Object.assign(Object.assign({},(e=h?.headers)!==null&&e!==void 0?e:{}),(a=s?.headers)!==null&&a!==void 0?a:{})}),accessToken:async()=>""};return n.accessToken?p.accessToken=n.accessToken:delete p.accessToken,p}function nu(n){let t=n?.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cf(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var po="2.81.1";var ga=30*1e3,yo=3,fo=yo*ga,ru="http://localhost:9999",iu="supabase.auth.token";var ou={"X-Client-Info":`gotrue-js/${po}`};var Ar="X-Supabase-Api-Version",Nc={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},su=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,cu=600*1e3;var Gt=class extends Error{constructor(t,e,a){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=a}};function S(n){return typeof n=="object"&&n!==null&&"__isAuthError"in n}var go=class extends Gt{constructor(t,e,a){super(t,e,a),this.name="AuthApiError",this.status=e,this.code=a}};function du(n){return S(n)&&n.name==="AuthApiError"}var Ze=class extends Gt{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},vt=class extends Gt{constructor(t,e,a,r){super(t,a,r),this.name=e,this.status=a}},Pe=class extends vt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function lu(n){return S(n)&&n.name==="AuthSessionMissingError"}var At=class extends vt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ma=class extends vt{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},ka=class extends vt{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function hu(n){return S(n)&&n.name==="AuthImplicitGrantRedirectError"}var Rr=class extends vt{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},un=class extends vt{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function mo(n){return S(n)&&n.name==="AuthRetryableFetchError"}var Er=class extends vt{constructor(t,e,a){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=a}};var va=class extends vt{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var ko="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),uu=` 	
\r=`.split(""),_f=(()=>{let n=new Array(128);for(let t=0;t<n.length;t+=1)n[t]=-1;for(let t=0;t<uu.length;t+=1)n[uu[t].charCodeAt(0)]=-2;for(let t=0;t<ko.length;t+=1)n[ko[t].charCodeAt(0)]=t;return n})();function pu(n,t,e){if(n!==null)for(t.queue=t.queue<<8|n,t.queuedBits+=8;t.queuedBits>=6;){let a=t.queue>>t.queuedBits-6&63;e(ko[a]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){let a=t.queue>>t.queuedBits-6&63;e(ko[a]),t.queuedBits-=6}}function yu(n,t,e){let a=_f[n];if(a>-1)for(t.queue=t.queue<<6|a,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(n)}"`)}}function Uc(n){let t=[],e=o=>{t.push(String.fromCodePoint(o))},a={utf8seq:0,codepoint:0},r={queue:0,queuedBits:0},i=o=>{xf(o,a,e)};for(let o=0;o<n.length;o+=1)yu(n.charCodeAt(o),r,i);return t.join("")}function bf(n,t){if(n<=127){t(n);return}else if(n<=2047){t(192|n>>6),t(128|n&63);return}else if(n<=65535){t(224|n>>12),t(128|n>>6&63),t(128|n&63);return}else if(n<=1114111){t(240|n>>18),t(128|n>>12&63),t(128|n>>6&63),t(128|n&63);return}throw new Error(`Unrecognized Unicode codepoint: ${n.toString(16)}`)}function Sf(n,t){for(let e=0;e<n.length;e+=1){let a=n.charCodeAt(e);if(a>55295&&a<=56319){let r=(a-55296)*1024&65535;a=(n.charCodeAt(e+1)-56320&65535|r)+65536,e+=1}bf(a,t)}}function xf(n,t,e){if(t.utf8seq===0){if(n<=127){e(n);return}for(let a=1;a<6;a+=1)if((n>>7-a&1)===0){t.utf8seq=a;break}if(t.utf8seq===2)t.codepoint=n&31;else if(t.utf8seq===3)t.codepoint=n&15;else if(t.utf8seq===4)t.codepoint=n&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(n<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|n&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function Wt(n){let t=[],e={queue:0,queuedBits:0},a=r=>{t.push(r)};for(let r=0;r<n.length;r+=1)yu(n.charCodeAt(r),e,a);return new Uint8Array(t)}function fu(n){let t=[];return Sf(n,e=>t.push(e)),new Uint8Array(t)}function Rt(n){let t=[],e={queue:0,queuedBits:0},a=r=>{t.push(r)};return n.forEach(r=>pu(r,e,a)),pu(null,e,a),t.join("")}function gu(n){return Math.round(Date.now()/1e3)+n}function mu(){return Symbol("auth-callback")}var fe=()=>typeof window<"u"&&typeof document<"u",Ma={tested:!1,writable:!1},vo=()=>{if(!fe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ma.tested)return Ma.writable;let n=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(n,n),globalThis.localStorage.removeItem(n),Ma.tested=!0,Ma.writable=!0}catch{Ma.tested=!0,Ma.writable=!1}return Ma.writable};function ku(n){let t={},e=new URL(n);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((r,i)=>{t[i]=r})}catch{}return e.searchParams.forEach((a,r)=>{t[r]=a}),t}var Mo=n=>n?(...t)=>n(...t):(...t)=>fetch(...t),vu=n=>typeof n=="object"&&n!==null&&"status"in n&&"ok"in n&&"json"in n&&typeof n.json=="function",wa=async(n,t,e)=>{await n.setItem(t,JSON.stringify(e))},Kt=async(n,t)=>{let e=await n.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}},Et=async(n,t)=>{await n.removeItem(t)},Tr=class n{constructor(){this.promise=new n.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};Tr.promiseConstructor=Promise;function wo(n){let t=n.split(".");if(t.length!==3)throw new va("Invalid JWT structure");for(let a=0;a<t.length;a++)if(!su.test(t[a]))throw new va("JWT not in base64url format");return{header:JSON.parse(Uc(t[0])),payload:JSON.parse(Uc(t[1])),signature:Wt(t[2]),raw:{header:t[0],payload:t[1]}}}async function Mu(n){return await new Promise(t=>{setTimeout(()=>t(null),n)})}function wu(n,t){return new Promise((a,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{let o=await n(i);if(!t(i,null,o)){a(o);return}}catch(o){if(!t(i,o)){r(o);return}}})()})}function If(n){return("0"+n.toString(16)).substr(-2)}function Lf(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=e.length,r="";for(let i=0;i<56;i++)r+=e.charAt(Math.floor(Math.random()*a));return r}return crypto.getRandomValues(t),Array.from(t,If).join("")}async function Df(n){let e=new TextEncoder().encode(n),a=await crypto.subtle.digest("SHA-256",e),r=new Uint8Array(a);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}async function Af(n){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),n;let e=await Df(n);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ca(n,t,e=!1){let a=Lf(),r=a;e&&(r+="/PASSWORD_RECOVERY"),await wa(n,`${t}-code-verifier`,r);let i=await Af(a);return[i,a===i?"plain":"s256"]}var Rf=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Cu(n){let t=n.headers.get(Ar);if(!t||!t.match(Rf))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function _u(n){if(!n)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(n<=t)throw new Error("JWT has expired")}function bu(n){switch(n){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ef=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function _a(n){if(!Ef.test(n))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Co(){let n={};return new Proxy(n,{get:(t,e)=>{if(e==="__isUserNotAvailableProxy")return!0;if(typeof e=="symbol"){let a=e.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${e}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,e)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${e}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Su(n,t){return new Proxy(n,{get:(e,a,r)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){let i=a.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)"||i==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(e,a,r)}return!t.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(e,a,r)}})}function $c(n){return JSON.parse(JSON.stringify(n))}var ba=n=>n.msg||n.message||n.error_description||n.error||JSON.stringify(n),Tf=[502,503,504];async function xu(n){var t;if(!vu(n))throw new un(ba(n),0);if(Tf.includes(n.status))throw new un(ba(n),n.status);let e;try{e=await n.json()}catch(i){throw new Ze(ba(i),i)}let a,r=Cu(n);if(r&&r.getTime()>=Nc["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?a=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(a=e.error_code),a){if(a==="weak_password")throw new Er(ba(e),n.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(a==="session_not_found")throw new Pe}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new Er(ba(e),n.status,e.weak_password.reasons);throw new go(ba(e),n.status||500,a)}var Ff=(n,t,e,a)=>{let r={method:n,headers:t?.headers||{}};return n==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),r.body=JSON.stringify(a),Object.assign(Object.assign({},r),e))};async function D(n,t,e,a){var r;let i=Object.assign({},a?.headers);i[Ar]||(i[Ar]=Nc["2024-01-01"].name),a?.jwt&&(i.Authorization=`Bearer ${a.jwt}`);let o=(r=a?.query)!==null&&r!==void 0?r:{};a?.redirectTo&&(o.redirect_to=a.redirectTo);let s=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",c=await Pf(n,t,e+s,{headers:i,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(c):{data:Object.assign({},c),error:null}}async function Pf(n,t,e,a,r,i){let o=Ff(t,a,r,i),s;try{s=await n(e,Object.assign({},o))}catch(c){throw console.error(c),new un(ba(c),0)}if(s.ok||await xu(s),a?.noResolveJson)return s;try{return await s.json()}catch(c){await xu(c)}}function Xe(n){var t;let e=null;Of(n)&&(e=Object.assign({},n),n.expires_at||(e.expires_at=gu(n.expires_in)));let a=(t=n.user)!==null&&t!==void 0?t:n;return{data:{session:e,user:a},error:null}}function Gc(n){let t=Xe(n);return!t.error&&n.weak_password&&typeof n.weak_password=="object"&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.message&&typeof n.weak_password.message=="string"&&n.weak_password.reasons.reduce((e,a)=>e&&typeof a=="string",!0)&&(t.data.weak_password=n.weak_password),t}function Mt(n){var t;return{data:{user:(t=n.user)!==null&&t!==void 0?t:n},error:null}}function Iu(n){return{data:n,error:null}}function Lu(n){let{action_link:t,email_otp:e,hashed_token:a,redirect_to:r,verification_type:i}=n,o=aa(n,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),s={action_link:t,email_otp:e,hashed_token:a,redirect_to:r,verification_type:i},c=Object.assign({},o);return{data:{properties:s,user:c},error:null}}function Wc(n){return n}function Of(n){return n.access_token&&n.refresh_token&&n.expires_in}var _o=["global","local","others"];var pn=class{constructor({url:t="",headers:e={},fetch:a}){this.url=t,this.headers=e,this.fetch=Mo(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,e=_o[0]){if(_o.indexOf(e)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${_o.join(", ")}`);try{return await D(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(a){if(S(a))return{data:null,error:a};throw a}}async inviteUserByEmail(t,e={}){try{return await D(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:Mt})}catch(a){if(S(a))return{data:{user:null},error:a};throw a}}async generateLink(t){try{let{options:e}=t,a=aa(t,["options"]),r=Object.assign(Object.assign({},a),e);return"newEmail"in a&&(r.new_email=a?.newEmail,delete r.newEmail),await D(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:Lu,redirectTo:e?.redirectTo})}catch(e){if(S(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(t){try{return await D(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Mt})}catch(e){if(S(e))return{data:{user:null},error:e};throw e}}async listUsers(t){var e,a,r,i,o,s,c;try{let d={nextPage:null,lastPage:0,total:0},l=await D(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Wc});if(l.error)throw l.error;let h=await l.json(),p=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,u=(c=(s=l.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return u.length>0&&(u.forEach(y=>{let m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);d[`${g}Page`]=m}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(S(d))return{data:{users:[]},error:d};throw d}}async getUserById(t){_a(t);try{return await D(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Mt})}catch(e){if(S(e))return{data:{user:null},error:e};throw e}}async updateUserById(t,e){_a(t);try{return await D(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:Mt})}catch(a){if(S(a))return{data:{user:null},error:a};throw a}}async deleteUser(t,e=!1){_a(t);try{return await D(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:Mt})}catch(a){if(S(a))return{data:{user:null},error:a};throw a}}async _listFactors(t){_a(t.userId);try{let{data:e,error:a}=await D(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:e,error:a}}catch(e){if(S(e))return{data:null,error:e};throw e}}async _deleteFactor(t){_a(t.userId),_a(t.id);try{return{data:await D(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(S(e))return{data:null,error:e};throw e}}async _listOAuthClients(t){var e,a,r,i,o,s,c;try{let d={nextPage:null,lastPage:0,total:0},l=await D(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&a!==void 0?a:"",per_page:(i=(r=t?.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:Wc});if(l.error)throw l.error;let h=await l.json(),p=(o=l.headers.get("x-total-count"))!==null&&o!==void 0?o:0,u=(c=(s=l.headers.get("link"))===null||s===void 0?void 0:s.split(","))!==null&&c!==void 0?c:[];return u.length>0&&(u.forEach(y=>{let m=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),g=JSON.parse(y.split(";")[1].split("=")[1]);d[`${g}Page`]=m}),d.total=parseInt(p)),{data:Object.assign(Object.assign({},h),d),error:null}}catch(d){if(S(d))return{data:{clients:[]},error:d};throw d}}async _createOAuthClient(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(S(e))return{data:null,error:e};throw e}}async _getOAuthClient(t){try{return await D(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(S(e))return{data:null,error:e};throw e}}async _updateOAuthClient(t,e){try{return await D(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:e,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(S(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(t){try{return await D(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(S(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(t){try{return await D(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(S(e))return{data:null,error:e};throw e}}};function Kc(n={}){return{getItem:t=>n[t]||null,setItem:(t,e)=>{n[t]=e},removeItem:t=>{delete n[t]}}}var Sa={debug:!!(globalThis&&vo()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},Fr=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},bo=class extends Fr{};async function Zc(n,t,e){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",n,t);let a=new globalThis.AbortController;return t>0&&setTimeout(()=>{a.abort(),Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",n)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(n,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async r=>{if(r){Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",n,r.name);try{return await e()}finally{Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",n,r.name)}}else{if(t===0)throw Sa.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",n),new bo(`Acquiring an exclusive Navigator LockManager lock "${n}" immediately failed`);if(Sa.debug)try{let i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await e()}}))}function Du(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Xc(n){if(!/^0x[a-fA-F0-9]{40}$/.test(n))throw new Error(`@supabase/auth-js: Address "${n}" is invalid.`);return n.toLowerCase()}function Au(n){return parseInt(n,16)}function Ru(n){let t=new TextEncoder().encode(n);return"0x"+Array.from(t,a=>a.toString(16).padStart(2,"0")).join("")}function Eu(n){var t;let{chainId:e,domain:a,expirationTime:r,issuedAt:i=new Date,nonce:o,notBefore:s,requestId:c,resources:d,scheme:l,uri:h,version:p}=n;{if(!Number.isInteger(e))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${e}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(p!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${p}`);if(!((t=n.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${n.statement}`)}let u=Xc(n.address),y=l?`${l}://${a}`:a,m=n.statement?`${n.statement}
`:"",g=`${y} wants you to sign in with your Ethereum account:
${u}

${m}`,v=`URI: ${h}
Version: ${p}
Chain ID: ${e}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(r&&(v+=`
Expiration Time: ${r.toISOString()}`),s&&(v+=`
Not Before: ${s.toISOString()}`),c&&(v+=`
Request ID: ${c}`),d){let C=`
Resources:`;for(let M of d){if(!M||typeof M!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${M}`);C+=`
- ${M}`}v+=C}return`${g}
${v}`}var se=class extends Error{constructor({message:t,code:e,cause:a,name:r}){var i;super(t,{cause:a}),this.__isWebAuthnError=!0,this.name=(i=r??(a instanceof Error?a.name:void 0))!==null&&i!==void 0?i:"Unknown Error",this.code=e}},xa=class extends se{constructor(t,e){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e,message:t}),this.name="WebAuthnUnknownError",this.originalError=e}};function Tu({error:n,options:t}){var e,a,r;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new se({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else if(n.name==="ConstraintError"){if(((e=i.authenticatorSelection)===null||e===void 0?void 0:e.requireResidentKey)===!0)return new se({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:n});if(t.mediation==="conditional"&&((a=i.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new se({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:n});if(((r=i.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new se({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:n})}else{if(n.name==="InvalidStateError")return new se({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:n});if(n.name==="NotAllowedError")return new se({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="NotSupportedError")return i.pubKeyCredParams.filter(s=>s.type==="public-key").length===0?new se({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:n}):new se({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:n});if(n.name==="SecurityError"){let o=window.location.hostname;if(Jc(o)){if(i.rp.id!==o)return new se({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="TypeError"){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new se({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:n})}else if(n.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}function Fu({error:n,options:t}){let{publicKey:e}=t;if(!e)throw Error("options was missing required publicKey property");if(n.name==="AbortError"){if(t.signal instanceof AbortSignal)return new se({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:n})}else{if(n.name==="NotAllowedError")return new se({message:n.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n});if(n.name==="SecurityError"){let a=window.location.hostname;if(Jc(a)){if(e.rpId!==a)return new se({message:`The RP ID "${e.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:n})}else return new se({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:n})}else if(n.name==="UnknownError")return new se({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:n})}return new se({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n})}var Yc=class{createNewAbortSignal(){if(this.controller){let e=new Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){let t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}},jf=new Yc;function Ou(n){if(!n)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(n);let{challenge:t,user:e,excludeCredentials:a}=n,r=aa(n,["challenge","user","excludeCredentials"]),i=Wt(t).buffer,o=Object.assign(Object.assign({},e),{id:Wt(e.id).buffer}),s=Object.assign(Object.assign({},r),{challenge:i,user:o});if(a&&a.length>0){s.excludeCredentials=new Array(a.length);for(let c=0;c<a.length;c++){let d=a[c];s.excludeCredentials[c]=Object.assign(Object.assign({},d),{id:Wt(d.id).buffer,type:d.type||"public-key",transports:d.transports})}}return s}function ju(n){if(!n)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(n);let{challenge:t,allowCredentials:e}=n,a=aa(n,["challenge","allowCredentials"]),r=Wt(t).buffer,i=Object.assign(Object.assign({},a),{challenge:r});if(e&&e.length>0){i.allowCredentials=new Array(e.length);for(let o=0;o<e.length;o++){let s=e[o];i.allowCredentials[o]=Object.assign(Object.assign({},s),{id:Wt(s.id).buffer,type:s.type||"public-key",transports:s.transports})}}return i}function Vu(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n;return{id:n.id,rawId:n.id,response:{attestationObject:Rt(new Uint8Array(n.response.attestationObject)),clientDataJSON:Rt(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function zu(n){var t;if("toJSON"in n&&typeof n.toJSON=="function")return n.toJSON();let e=n,a=n.getClientExtensionResults(),r=n.response;return{id:n.id,rawId:n.id,response:{authenticatorData:Rt(new Uint8Array(r.authenticatorData)),clientDataJSON:Rt(new Uint8Array(r.clientDataJSON)),signature:Rt(new Uint8Array(r.signature)),userHandle:r.userHandle?Rt(new Uint8Array(r.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(t=e.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function Jc(n){return n==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(n)}function Pu(){var n,t;return!!(fe()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((n=navigator?.credentials)===null||n===void 0?void 0:n.create)=="function"&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.get)=="function")}async function Vf(n){try{let t=await navigator.credentials.create(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",t)}:{data:null,error:new xa("Empty credential response",t)}}catch(t){return{data:null,error:Tu({error:t,options:n})}}}async function zf(n){try{let t=await navigator.credentials.get(n);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new xa("Browser returned unexpected credential type",t)}:{data:null,error:new xa("Empty credential response",t)}}catch(t){return{data:null,error:Fu({error:t,options:n})}}}var qf={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Bf={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function So(...n){let t=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),e=r=>r instanceof ArrayBuffer||ArrayBuffer.isView(r),a={};for(let r of n)if(r)for(let i in r){let o=r[i];if(o!==void 0)if(Array.isArray(o))a[i]=o;else if(e(o))a[i]=o;else if(t(o)){let s=a[i];t(s)?a[i]=So(s,o):a[i]=So(o)}else a[i]=o}return a}function Hf(n,t){return So(qf,n,t||{})}function Nf(n,t){return So(Bf,n,t||{})}var xo=class{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:e,friendlyName:a,signal:r},i){try{let{data:o,error:s}=await this.client.mfa.challenge({factorId:t,webauthn:e});if(!o)return{data:null,error:s};let c=r??jf.createNewAbortSignal();if(o.webauthn.type==="create"){let{user:d}=o.webauthn.credential_options.publicKey;d.name||(d.name=`${d.id}:${a}`),d.displayName||(d.displayName=d.name)}switch(o.webauthn.type){case"create":{let d=Hf(o.webauthn.credential_options.publicKey,i?.create),{data:l,error:h}=await Vf({publicKey:d,signal:c});return l?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:l}},error:null}:{data:null,error:h}}case"request":{let d=Nf(o.webauthn.credential_options.publicKey,i?.request),{data:l,error:h}=await zf(Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:d,signal:c}));return l?{data:{factorId:t,challengeId:o.id,webauthn:{type:o.webauthn.type,credential_response:l}},error:null}:{data:null,error:h}}}}catch(o){return S(o)?{data:null,error:o}:{data:null,error:new Ze("Unexpected error in challenge",o)}}}async _verify({challengeId:t,factorId:e,webauthn:a}){return this.client.mfa.verify({factorId:e,challengeId:t,webauthn:a})}async _authenticate({factorId:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!e)return{data:null,error:new Gt("rpId is required for WebAuthn authentication")};try{if(!Pu())return{data:null,error:new Ze("Browser does not support WebAuthn",null)};let{data:o,error:s}=await this.challenge({factorId:t,webauthn:{rpId:e,rpOrigins:a},signal:r},{request:i});if(!o)return{data:null,error:s};let{webauthn:c}=o;return this._verify({factorId:t,challengeId:o.challengeId,webauthn:{type:c.type,rpId:e,rpOrigins:a,credential_response:c.credential_response}})}catch(o){return S(o)?{data:null,error:o}:{data:null,error:new Ze("Unexpected error in authenticate",o)}}}async _register({friendlyName:t,webauthn:{rpId:e=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:r}={}},i){if(!e)return{data:null,error:new Gt("rpId is required for WebAuthn registration")};try{if(!Pu())return{data:null,error:new Ze("Browser does not support WebAuthn",null)};let{data:o,error:s}=await this._enroll({friendlyName:t});if(!o)return await this.client.mfa.listFactors().then(l=>{var h;return(h=l.data)===null||h===void 0?void 0:h.all.find(p=>p.factor_type==="webauthn"&&p.friendly_name===t&&p.status!=="unverified")}).then(l=>l?this.client.mfa.unenroll({factorId:l?.id}):void 0),{data:null,error:s};let{data:c,error:d}=await this._challenge({factorId:o.id,friendlyName:o.friendly_name,webauthn:{rpId:e,rpOrigins:a},signal:r},{create:i});return c?this._verify({factorId:o.id,challengeId:c.challengeId,webauthn:{rpId:e,rpOrigins:a,type:c.webauthn.type,credential_response:c.webauthn.credential_response}}):{data:null,error:d}}catch(o){return S(o)?{data:null,error:o}:{data:null,error:new Ze("Unexpected error in register",o)}}}};Du();var Uf={url:ru,storageKey:iu,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ou,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function qu(n,t,e){return await e()}var yn={},$f=(()=>{class n{get jwks(){var e,a;return(a=(e=yn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(e){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,a;return(a=(e=yn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){yn[this.storageKey]=Object.assign(Object.assign({},yn[this.storageKey]),{cachedAt:e})}constructor(e){var a,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;let o=Object.assign(Object.assign({},Uf),e);if(this.storageKey=o.storageKey,this.instanceID=(a=n.nextInstanceID[this.storageKey])!==null&&a!==void 0?a:0,n.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!o.debug,typeof o.debug=="function"&&(this.logger=o.debug),this.instanceID>0&&fe()){let s=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(s),this.logDebugMessages&&console.trace(s)}if(this.persistSession=o.persistSession,this.autoRefreshToken=o.autoRefreshToken,this.admin=new pn({url:o.url,headers:o.headers,fetch:o.fetch}),this.url=o.url,this.headers=o.headers,this.fetch=Mo(o.fetch),this.lock=o.lock||qu,this.detectSessionInUrl=o.detectSessionInUrl,this.flowType=o.flowType,this.hasCustomAuthorizationHeader=o.hasCustomAuthorizationHeader,this.throwOnError=o.throwOnError,o.lock?this.lock=o.lock:fe()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Zc:this.lock=qu,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new xo(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this)},this.persistSession?(o.storage?this.storage=o.storage:vo()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Kc(this.memoryStorage)),o.userStorage&&(this.userStorage=o.userStorage)):(this.memoryStorage={},this.storage=Kc(this.memoryStorage)),fe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${po}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let a={},r="none";if(fe()&&(a=ku(window.location.href),this._isImplicitGrantCallback(a)?r="implicit":await this._isPKCECallback(a)&&(r="pkce")),fe()&&this.detectSessionInUrl&&r!=="none"){let{data:i,error:o}=await this._getSessionFromURL(a,r);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),hu(o)){let d=(e=o.details)===null||e===void 0?void 0:e.code;if(d==="identity_already_exists"||d==="identity_not_found"||d==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}let{session:s,redirectType:c}=i;return this._debug("#_initialize()","detected session in URL",s,"redirect type",c),await this._saveSession(s),setTimeout(async()=>{c==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return S(a)?this._returnResult({error:a}):this._returnResult({error:new Ze("Unexpected error during initialization",a)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var a,r,i;try{let o=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(a=e?.options)===null||a===void 0?void 0:a.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e?.options)===null||i===void 0?void 0:i.captchaToken}},xform:Xe}),{data:s,error:c}=o;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});let d=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:l,session:d},error:null})}catch(o){if(S(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signUp(e){var a,r,i;try{let o;if("email"in e){let{email:h,password:p,options:u}=e,y=null,m=null;this.flowType==="pkce"&&([y,m]=await Ca(this.storage,this.storageKey)),o=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:u?.emailRedirectTo,body:{email:h,password:p,data:(a=u?.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:u?.captchaToken},code_challenge:y,code_challenge_method:m},xform:Xe})}else if("phone"in e){let{phone:h,password:p,options:u}=e;o=await D(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(r=u?.data)!==null&&r!==void 0?r:{},channel:(i=u?.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:Xe})}else throw new ma("You must provide either an email or phone number and a password");let{data:s,error:c}=o;if(c||!s)return this._returnResult({data:{user:null,session:null},error:c});let d=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",d)),this._returnResult({data:{user:l,session:d},error:null})}catch(o){if(S(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithPassword(e){try{let a;if("email"in e){let{email:o,password:s,options:c}=e;a=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Gc})}else if("phone"in e){let{phone:o,password:s,options:c}=e;a=await D(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:s,gotrue_meta_security:{captcha_token:c?.captchaToken}},xform:Gc})}else throw new ma("You must provide either an email or phone number and a password");let{data:r,error:i}=a;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){let o=new At;return this._returnResult({data:{user:null,session:null},error:o})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(a){if(S(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOAuth(e){var a,r,i,o;return await this._handleProviderSignIn(e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:a}=e;switch(a){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}}async signInWithEthereum(e){var a,r,i,o,s,c,d,l,h,p,u;let y,m;if("message"in e)y=e.message,m=e.signature;else{let{chain:g,wallet:v,statement:C,options:M}=e,w;if(fe())if(typeof v=="object")w=v;else{let wt=window;if("ethereum"in wt&&typeof wt.ethereum=="object"&&"request"in wt.ethereum&&typeof wt.ethereum.request=="function")w=wt.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!M?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=v}let E=new URL((a=M?.url)!==null&&a!==void 0?a:window.location.href),ge=await w.request({method:"eth_requestAccounts"}).then(wt=>wt).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ge||ge.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let X=Xc(ge[0]),ee=(r=M?.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!ee){let wt=await w.request({method:"eth_chainId"});ee=Au(wt)}let o2={domain:E.host,address:X,statement:C,uri:E.href,version:"1",chainId:ee,nonce:(i=M?.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(s=(o=M?.signInWithEthereum)===null||o===void 0?void 0:o.issuedAt)!==null&&s!==void 0?s:new Date,expirationTime:(c=M?.signInWithEthereum)===null||c===void 0?void 0:c.expirationTime,notBefore:(d=M?.signInWithEthereum)===null||d===void 0?void 0:d.notBefore,requestId:(l=M?.signInWithEthereum)===null||l===void 0?void 0:l.requestId,resources:(h=M?.signInWithEthereum)===null||h===void 0?void 0:h.resources};y=Eu(o2),m=await w.request({method:"personal_sign",params:[Ru(y),X]})}try{let{data:g,error:v}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:y,signature:m},!((p=e.options)===null||p===void 0)&&p.captchaToken?{gotrue_meta_security:{captcha_token:(u=e.options)===null||u===void 0?void 0:u.captchaToken}}:null),xform:Xe});if(v)throw v;if(!g||!g.session||!g.user){let C=new At;return this._returnResult({data:{user:null,session:null},error:C})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(S(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var a,r,i,o,s,c,d,l,h,p,u,y;let m,g;if("message"in e)m=e.message,g=e.signature;else{let{chain:v,wallet:C,statement:M,options:w}=e,E;if(fe())if(typeof C=="object")E=C;else{let X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))E=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof C!="object"||!w?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");E=C}let ge=new URL((a=w?.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in E&&E.signIn){let X=await E.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w?.signInWithSolana),{version:"1",domain:ge.host,uri:ge.href}),M?{statement:M}:null)),ee;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")ee=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)ee=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ee&&"signature"in ee&&(typeof ee.signedMessage=="string"||ee.signedMessage instanceof Uint8Array)&&ee.signature instanceof Uint8Array)m=typeof ee.signedMessage=="string"?ee.signedMessage:new TextDecoder().decode(ee.signedMessage),g=ee.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in E)||typeof E.signMessage!="function"||!("publicKey"in E)||typeof E!="object"||!E.publicKey||!("toBase58"in E.publicKey)||typeof E.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${ge.host} wants you to sign in with your Solana account:`,E.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${ge.href}`,`Issued At: ${(i=(r=w?.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((o=w?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((s=w?.signInWithSolana)===null||s===void 0)&&s.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((c=w?.signInWithSolana)===null||c===void 0)&&c.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((d=w?.signInWithSolana)===null||d===void 0)&&d.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((l=w?.signInWithSolana)===null||l===void 0)&&l.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((p=(h=w?.signInWithSolana)===null||h===void 0?void 0:h.resources)===null||p===void 0)&&p.length?["Resources",...w.signInWithSolana.resources.map(ee=>`- ${ee}`)]:[]].join(`
`);let X=await E.signMessage(new TextEncoder().encode(m),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=X}}try{let{data:v,error:C}=await D(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:Rt(g)},!((u=e.options)===null||u===void 0)&&u.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:Xe});if(C)throw C;if(!v||!v.session||!v.user){let M=new At;return this._returnResult({data:{user:null,session:null},error:M})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:C})}catch(v){if(S(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){let a=await Kt(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(a??"").split("/");try{let{data:o,error:s}=await D(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Xe});if(await Et(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!o||!o.session||!o.user){let c=new At;return this._returnResult({data:{user:null,session:null,redirectType:null},error:c})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:Object.assign(Object.assign({},o),{redirectType:i??null}),error:s})}catch(o){if(S(o))return this._returnResult({data:{user:null,session:null,redirectType:null},error:o});throw o}}async signInWithIdToken(e){try{let{options:a,provider:r,token:i,access_token:o,nonce:s}=e,c=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:o,nonce:s,gotrue_meta_security:{captcha_token:a?.captchaToken}},xform:Xe}),{data:d,error:l}=c;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!d||!d.session||!d.user){let h=new At;return this._returnResult({data:{user:null,session:null},error:h})}return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",d.session)),this._returnResult({data:d,error:l})}catch(a){if(S(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async signInWithOtp(e){var a,r,i,o,s;try{if("email"in e){let{email:c,options:d}=e,l=null,h=null;this.flowType==="pkce"&&([l,h]=await Ca(this.storage,this.storageKey));let{error:p}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:c,data:(a=d?.data)!==null&&a!==void 0?a:{},create_user:(r=d?.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},code_challenge:l,code_challenge_method:h},redirectTo:d?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:p})}if("phone"in e){let{phone:c,options:d}=e,{data:l,error:h}=await D(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:c,data:(i=d?.data)!==null&&i!==void 0?i:{},create_user:(o=d?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:d?.captchaToken},channel:(s=d?.channel)!==null&&s!==void 0?s:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:l?.message_id},error:h})}throw new ma("You must provide either an email or phone number.")}catch(c){if(S(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async verifyOtp(e){var a,r;try{let i,o;"options"in e&&(i=(a=e.options)===null||a===void 0?void 0:a.redirectTo,o=(r=e.options)===null||r===void 0?void 0:r.captchaToken);let{data:s,error:c}=await D(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:i,xform:Xe});if(c)throw c;if(!s)throw new Error("An error occurred on token verification.");let d=s.session,l=s.user;return d?.access_token&&(await this._saveSession(d),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",d)),this._returnResult({data:{user:l,session:d},error:null})}catch(i){if(S(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var a,r,i,o,s;try{let c=null,d=null;this.flowType==="pkce"&&([c,d]=await Ca(this.storage,this.storageKey));let l=await D(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(a=e.options)===null||a===void 0?void 0:a.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e?.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:c,code_challenge_method:d}),headers:this.headers,xform:Iu});return!((o=l.data)===null||o===void 0)&&o.url&&fe()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(c){if(S(c))return this._returnResult({data:null,error:c});throw c}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:a},error:r}=e;if(r)throw r;if(!a)throw new Pe;let{error:i}=await D(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(S(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let a=`${this.url}/resend`;if("email"in e){let{email:r,type:i,options:o}=e,{error:s}=await D(this.fetch,"POST",a,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:s})}else if("phone"in e){let{phone:r,type:i,options:o}=e,{data:s,error:c}=await D(this.fetch,"POST",a,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:s?.message_id},error:c})}throw new ma("You must provide either an email or phone number and a type")}catch(a){if(S(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(e,a){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await a()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let r=a();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){let i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let a=await this.__loadSession();return await e(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,a=await Kt(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?e=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};let r=e.expires_at?e.expires_at*1e3-Date.now()<fo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){let s=await Kt(this.userStorage,this.storageKey+"-user");s?.user?e.user=s.user:e.user=Co()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){let s={value:this.suppressGetSessionWarning};e.user=Su(e.user,s),s.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}let{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{session:null},error:o}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Mt}):await this._useSession(async a=>{var r,i,o;let{data:s,error:c}=a;if(c)throw c;return!(!((r=s.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Pe}:await D(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(i=s.session)===null||i===void 0?void 0:i.access_token)!==null&&o!==void 0?o:void 0,xform:Mt})})}catch(a){if(S(a))return lu(a)&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:a});throw a}}async updateUser(e,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,a))}async _updateUser(e,a={}){try{return await this._useSession(async r=>{let{data:i,error:o}=r;if(o)throw o;if(!i.session)throw new Pe;let s=i.session,c=null,d=null;this.flowType==="pkce"&&e.email!=null&&([c,d]=await Ca(this.storage,this.storageKey));let{data:l,error:h}=await D(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:c,code_challenge_method:d}),jwt:s.access_token,xform:Mt});if(h)throw h;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),this._returnResult({data:{user:s.user},error:null})})}catch(r){if(S(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Pe;let a=Date.now()/1e3,r=a,i=!0,o=null,{payload:s}=wo(e.access_token);if(s.exp&&(r=s.exp,i=r<=a),i){let{data:c,error:d}=await this._callRefreshToken(e.refresh_token);if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!c)return{data:{user:null,session:null},error:null};o=c}else{let{data:c,error:d}=await this._getUser(e.access_token);if(d)throw d;o={access_token:e.access_token,refresh_token:e.refresh_token,user:c.user,token_type:"bearer",expires_in:r-a,expires_at:r},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return this._returnResult({data:{user:o.user,session:o},error:null})}catch(a){if(S(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async a=>{var r;if(!e){let{data:s,error:c}=a;if(c)throw c;e=(r=s.session)!==null&&r!==void 0?r:void 0}if(!e?.refresh_token)throw new Pe;let{data:i,error:o}=await this._callRefreshToken(e.refresh_token);return o?this._returnResult({data:{user:null,session:null},error:o}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(a){if(S(a))return this._returnResult({data:{user:null,session:null},error:a});throw a}}async _getSessionFromURL(e,a){try{if(!fe())throw new ka("No browser detected.");if(e.error||e.error_description||e.error_code)throw new ka(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new Rr("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ka("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Rr("No code detected.");let{data:M,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;let E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:M.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:i,access_token:o,refresh_token:s,expires_in:c,expires_at:d,token_type:l}=e;if(!o||!c||!s||!l)throw new ka("No session defined in URL");let h=Math.round(Date.now()/1e3),p=parseInt(c),u=h+p;d&&(u=parseInt(d));let y=u-h;y*1e3<=ga&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${y}s, should have been closer to ${p}s`);let m=u-p;h-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,u,h):h-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,u,h);let{data:g,error:v}=await this._getUser(o);if(v)throw v;let C={provider_token:r,provider_refresh_token:i,access_token:o,expires_in:p,expires_at:u,refresh_token:s,token_type:l,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:C,redirectType:e.type},error:null})}catch(r){if(S(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){let a=await Kt(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&a)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async a=>{var r;let{data:i,error:o}=a;if(o)return this._returnResult({error:o});let s=(r=i.session)===null||r===void 0?void 0:r.access_token;if(s){let{error:c}=await this.admin.signOut(s,e);if(c&&!(du(c)&&(c.status===404||c.status===401||c.status===403)))return this._returnResult({error:c})}return e!=="others"&&(await this._removeSession(),await Et(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let a=mu(),r={id:a,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async a=>{var r,i;try{let{data:{session:o},error:s}=a;if(s)throw s;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}})}async resetPasswordForEmail(e,a={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Ca(this.storage,this.storageKey,!0));try{return await D(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(o){if(S(o))return this._returnResult({data:null,error:o});throw o}}async getUserIdentities(){var e;try{let{data:a,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=a.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(a){if(S(a))return this._returnResult({data:null,error:a});throw a}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var a;try{let{data:r,error:i}=await this._useSession(async o=>{var s,c,d,l,h;let{data:p,error:u}=o;if(u)throw u;let y=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(c=e.options)===null||c===void 0?void 0:c.scopes,queryParams:(d=e.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:!0});return await D(this.fetch,"GET",y,{headers:this.headers,jwt:(h=(l=p.session)===null||l===void 0?void 0:l.access_token)!==null&&h!==void 0?h:void 0})});if(i)throw i;return fe()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(r?.url),this._returnResult({data:{provider:e.provider,url:r?.url},error:null})}catch(r){if(S(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async a=>{var r;try{let{error:i,data:{session:o}}=a;if(i)throw i;let{options:s,provider:c,token:d,access_token:l,nonce:h}=e,p=await D(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=o?.access_token)!==null&&r!==void 0?r:void 0,body:{provider:c,id_token:d,access_token:l,nonce:h,link_identity:!0,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Xe}),{data:u,error:y}=p;return y?this._returnResult({data:{user:null,session:null},error:y}):!u||!u.session||!u.user?this._returnResult({data:{user:null,session:null},error:new At}):(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("USER_UPDATED",u.session)),this._returnResult({data:u,error:y}))}catch(i){if(S(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async a=>{var r,i;let{data:o,error:s}=a;if(s)throw s;return await D(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=o.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(a){if(S(a))return this._returnResult({data:null,error:a});throw a}}async _refreshAccessToken(e){let a=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(a,"begin");try{let r=Date.now();return await wu(async i=>(i>0&&await Mu(200*Math.pow(2,i-1)),this._debug(a,"refreshing attempt",i),await D(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Xe})),(i,o)=>{let s=200*Math.pow(2,i);return o&&mo(o)&&Date.now()+s-r<ga})}catch(r){if(this._debug(a,"error",r),S(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(a,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,a){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",a,"url",r),fe()&&!a.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,a;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let i=await Kt(this.storage,this.storageKey);if(i&&this.userStorage){let s=await Kt(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!s&&(s={user:i.user},await wa(this.userStorage,this.storageKey+"-user",s)),i.user=(e=s?.user)!==null&&e!==void 0?e:Co()}else if(i&&!i.user&&!i.user){let s=await Kt(this.storage,this.storageKey+"-user");s&&s?.user?(i.user=s.user,await Et(this.storage,this.storageKey+"-user"),await wa(this.storage,this.storageKey,i)):i.user=Co()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}let o=((a=i.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<fo;if(this._debug(r,`session has${o?"":" not"} expired with margin of ${fo}s`),o){if(this.autoRefreshToken&&i.refresh_token){let{error:s}=await this._callRefreshToken(i.refresh_token);s&&(console.error(s),mo(s)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",s),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{let{data:s,error:c}=await this._getUser(i.access_token);!c&&s?.user?(i.user=s.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(s){console.error("Error getting user data:",s),this._debug(r,"error getting user data, skipping SIGNED_IN notification",s)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var a,r;if(!e)throw new Pe;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new Tr;let{data:o,error:s}=await this._refreshAccessToken(e);if(s)throw s;if(!o.session)throw new Pe;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);let c={data:o.session,error:null};return this.refreshingDeferred.resolve(c),c}catch(o){if(this._debug(i,"error",o),S(o)){let s={data:null,error:o};return mo(o)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(s),s}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(o),o}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,a,r=!0){let i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",a,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:a});let o=[],s=Array.from(this.stateChangeEmitters.values()).map(async c=>{try{await c.callback(e,a)}catch(d){o.push(d)}});if(await Promise.all(s),o.length>0){for(let c=0;c<o.length;c+=1)console.error(o[c]);throw o[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;let a=Object.assign({},e),r=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&a.user&&await wa(this.userStorage,this.storageKey+"-user",{user:a.user});let i=Object.assign({},a);delete i.user;let o=$c(i);await wa(this.storage,this.storageKey,o)}else{let i=$c(a);await wa(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Et(this.storage,this.storageKey),await Et(this.storage,this.storageKey+"-code-verifier"),await Et(this.storage,this.storageKey+"-user"),this.userStorage&&await Et(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&fe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),ga);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async a=>{let{data:{session:r}}=a;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let i=Math.floor((r.expires_at*1e3-e)/ga);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${ga}ms, refresh threshold is ${yo} ticks`),i<=yo&&await this._callRefreshToken(r.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Fr)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!fe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let a=`#_onVisibilityChanged(${e})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,a,r){let i=[`provider=${encodeURIComponent(a)}`];if(r?.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r?.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){let[o,s]=await Ca(this.storage,this.storageKey),c=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(s)}`});i.push(c.toString())}if(r?.queryParams){let o=new URLSearchParams(r.queryParams);i.push(o.toString())}return r?.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async a=>{var r;let{data:i,error:o}=a;return o?this._returnResult({data:null,error:o}):await D(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token})})}catch(a){if(S(a))return this._returnResult({data:null,error:a});throw a}}async _enroll(e){try{return await this._useSession(async a=>{var r,i;let{data:o,error:s}=a;if(s)return this._returnResult({data:null,error:s});let c=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:d,error:l}=await D(this.fetch,"POST",`${this.url}/factors`,{body:c,headers:this.headers,jwt:(r=o?.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(e.factorType==="totp"&&d.type==="totp"&&(!((i=d?.totp)===null||i===void 0)&&i.qr_code)&&(d.totp.qr_code=`data:image/svg+xml;utf-8,${d.totp.qr_code}`),this._returnResult({data:d,error:null}))})}catch(a){if(S(a))return this._returnResult({data:null,error:a});throw a}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;let{data:i,error:o}=a;if(o)return this._returnResult({data:null,error:o});let s=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Vu(e.webauthn.credential_response):zu(e.webauthn.credential_response)})}:{code:e.code}),{data:c,error:d}=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:s,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});return d?this._returnResult({data:null,error:d}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+c.expires_in},c)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",c),this._returnResult({data:c,error:d}))})}catch(a){if(S(a))return this._returnResult({data:null,error:a});throw a}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var r;let{data:i,error:o}=a;if(o)return this._returnResult({data:null,error:o});let s=await D(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i?.session)===null||r===void 0?void 0:r.access_token});if(s.error)return s;let{data:c}=s;if(c.type!=="webauthn")return{data:c,error:null};switch(c.webauthn.type){case"create":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:Ou(c.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},c),{webauthn:Object.assign(Object.assign({},c.webauthn),{credential_options:Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:ju(c.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(a){if(S(a))return this._returnResult({data:null,error:a});throw a}})}async _challengeAndVerify(e){let{data:a,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:a.id,code:e.code})}async _listFactors(){var e;let{data:{user:a},error:r}=await this.getUser();if(r)return{data:null,error:r};let i={all:[],phone:[],totp:[],webauthn:[]};for(let o of(e=a?.factors)!==null&&e!==void 0?e:[])i.all.push(o),o.status==="verified"&&i[o.factor_type].push(o);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,a;let{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:o}=wo(r.access_token),s=null;o.aal&&(s=o.aal);let c=s;((a=(e=r.user.factors)===null||e===void 0?void 0:e.filter(h=>h.status==="verified"))!==null&&a!==void 0?a:[]).length>0&&(c="aal2");let l=o.amr||[];return{data:{currentLevel:s,nextLevel:c,currentAuthenticationMethods:l},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async a=>{let{data:{session:r},error:i}=a;return i?this._returnResult({data:null,error:i}):r?await D(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Pe})})}catch(a){if(S(a))return this._returnResult({data:null,error:a});throw a}}async _approveAuthorization(e,a){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Pe});let s=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&fe()&&!a?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,a){try{return await this._useSession(async r=>{let{data:{session:i},error:o}=r;if(o)return this._returnResult({data:null,error:o});if(!i)return this._returnResult({data:null,error:new Pe});let s=await D(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:c=>({data:c,error:null})});return s.data&&s.data.redirect_url&&fe()&&!a?.skipBrowserRedirect&&window.location.assign(s.data.redirect_url),s})}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,a={keys:[]}){let r=a.keys.find(c=>c.kid===e);if(r)return r;let i=Date.now();if(r=this.jwks.keys.find(c=>c.kid===e),r&&this.jwks_cached_at+cu>i)return r;let{data:o,error:s}=await D(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(s)throw s;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=i,r=o.keys.find(c=>c.kid===e),!r)?null:r}async getClaims(e,a={}){try{let r=e;if(!r){let{data:y,error:m}=await this.getSession();if(m||!y.session)return this._returnResult({data:null,error:m});r=y.session.access_token}let{header:i,payload:o,signature:s,raw:{header:c,payload:d}}=wo(r);a?.allowExpired||_u(o.exp);let l=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,a?.keys?{keys:a.keys}:a?.jwks);if(!l){let{error:y}=await this.getUser(r);if(y)throw y;return{data:{claims:o,header:i,signature:s},error:null}}let h=bu(i.alg),p=await crypto.subtle.importKey("jwk",l,h,!0,["verify"]);if(!await crypto.subtle.verify(h,p,s,fu(`${c}.${d}`)))throw new va("Invalid JWT signature");return{data:{claims:o,header:i,signature:s},error:null}}catch(r){if(S(r))return this._returnResult({data:null,error:r});throw r}}}return n.nextInstanceID={},n})(),Qc=$f;var Gf=Qc,e1=Gf;var Io=class extends e1{constructor(t){super(t)}};var Lo=class{constructor(t,e,a){var r,i,o;this.supabaseUrl=t,this.supabaseKey=e;let s=nu(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);let c=`sb-${s.hostname.split(".")[0]}-auth-token`,d={db:Yh,realtime:eu,auth:Object.assign(Object.assign({},Qh),{storageKey:c}),global:Jh},l=au(a??{},d);this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=l.auth)!==null&&o!==void 0?o:{},this.headers,l.global.fetch),this.fetch=tu(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new Ph(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new Lr(this.storageUrl.href,this.headers,this.fetch,a?.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new kr(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},a={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,a)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t,e;if(this.accessToken)return await this.accessToken();let{data:a}=await this.auth.getSession();return(e=(t=a.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:a,storage:r,userStorage:i,storageKey:o,flowType:s,lock:c,debug:d,throwOnError:l},h,p){let u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Io({url:this.authUrl.href,headers:Object.assign(Object.assign({},u),h),storageKey:o,autoRefreshToken:t,persistSession:e,detectSessionInUrl:a,storage:r,userStorage:i,flowType:s,lock:c,debug:d,throwOnError:l,fetch:p,hasCustomAuthorizationHeader:Object.keys(this.headers).some(y=>y.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new br(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,a)=>{this._handleTokenChanged(e,"CLIENT",a?.access_token)})}_handleTokenChanged(t,e,a){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==a?(this.changedAccessToken=a,this.realtime.setAuth(a)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Bu=(n,t,e)=>new Lo(n,t,e);function Wf(){if(typeof window<"u"||typeof process>"u")return!1;let n=process.version;if(n==null)return!1;let t=n.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Wf()&&console.warn("\u26A0\uFE0F  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");var t1={supabaseUrl:"https://wxltfyevnqrmqrtszpkp.supabase.co",supabaseKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4bHRmeWV2bnFybXFydHN6cGtwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI5NDI2MDIsImV4cCI6MjA3ODUxODYwMn0.lvBJos0aR01yUQePUCv53NFYjUJS64IV7OUzZ4uU1Mo"};var Do=Bu(t1.supabaseUrl,t1.supabaseKey);var cw={All:"Alle",Quarterly:"Quartal"};var fn=class n{getUser(){return pe(Do.auth.getUser()).pipe(F(({data:t})=>t.user??null),Qe(1))}login(t,e){return pe(Do.auth.signInWithPassword({email:t,password:e})).pipe(Qe(1),F(a=>{if(a.error)throw a.error;return a}))}logout(){return pe(Do.auth.signOut())}static \u0275fac=function(e){return new(e||n)};static \u0275prov=_({token:n,factory:n.\u0275fac})};function Ao(n){return t=>t.pipe(F(e=>n.next(e)),Ct(e=>I(n.error(e))))}function Hu(){let n=f(lc),t=f(fn),e=f(Ut);return{getUser$:n.on(ne.getUser).pipe(me(()=>t.getUser().pipe(Ao({next:a=>ne.getUserSuccess(a),error:a=>ne.getUserFailure(a)})))),login$:n.on(ne.login).pipe(me(({payload:{email:a,password:r}})=>t.login(a,r).pipe(Ao({next:()=>ne.loginSuccess(),error(i){return ne.loginFailure(i.message)}})))),getUserOnLoginSuccess$:n.on(ne.loginSuccess).pipe(F(()=>ne.getUser())),navigateOnLoginSuccess$:n.on(ne.loginSuccess).pipe(te(()=>e.navigate(["/base"]))),logout$:n.on(ne.logout).pipe(me(()=>t.logout().pipe(Ao({next:()=>ne.logoutSuccess(),error:a=>ne.logoutFailure(a)})))),navigateOnLogoutSuccess$:n.on(ne.logoutSuccess).pipe(te(()=>e.navigate(["/login"])))}}var Ro=Bl(Xl("users"),qi({user:null,loadProcessStatus:"init",isLoggedIn:!1,loginError:null}),Gl(()=>Hu()),Wl(en(ne.getUserSuccess,({payload:n})=>({user:n??null,loadProcessStatus:"success",isLoggedIn:n!==null})),en(ne.getUserFailure,()=>({loadProcessStatus:"error"})),en(ne.loginSuccess,()=>({isLoggedIn:!0})),en(ne.loginFailure,({payload:n})=>({loginError:n})),en(ne.logoutSuccess,()=>({isLoggedIn:!1,user:null}))));var gn=class n{dispatcher=f(hc);store=f(Ro);user=this.store.user;isLoggedIn=this.store.isLoggedIn;loginError=this.store.loginError;loadProcessStatus$=Vl(this.store.loadProcessStatus);getUser(){this.dispatcher.dispatch(ne.getUser())}login(t,e){this.dispatcher.dispatch(ne.login({email:t,password:e}))}logout(){this.dispatcher.dispatch(ne.logout())}static \u0275fac=function(e){return new(e||n)};static \u0275prov=_({token:n,factory:n.\u0275fac})};function Ww(){return[fn,gn,Ro]}var Xu=(()=>{class n{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,a){this._renderer=e,this._elementRef=a}setProperty(e,a){this._renderer.setProperty(this._elementRef.nativeElement,e,a)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(a){return new(a||n)(A(at),A(Z))};static \u0275dir=x({type:n})}return n})(),Kf=(()=>{class n extends Xu{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275dir=x({type:n,features:[$]})}return n})(),i1=new L("");var Zf={provide:i1,useExisting:Pt(()=>Uo),multi:!0};function Xf(){let n=Ke()?Ke().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var Jf=new L(""),Uo=(()=>{class n extends Xu{_compositionMode;_composing=!1;constructor(e,a,r){super(e,a),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!Xf())}writeValue(e){let a=e??"";this.setProperty("value",a)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(a){return new(a||n)(A(at),A(Z),A(Jf,8))};static \u0275dir=x({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(a,r){a&1&&Se("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},standalone:!1,features:[J([Zf]),$]})}return n})();function o1(n){return n==null||s1(n)===0}function s1(n){return n==null?null:Array.isArray(n)||typeof n=="string"?n.length:n instanceof Set?n.size:null}var Br=new L(""),$o=new L(""),Yf=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Nu=class{static min(t){return Qf(t)}static max(t){return eg(t)}static required(t){return Ju(t)}static requiredTrue(t){return tg(t)}static email(t){return ag(t)}static minLength(t){return ng(t)}static maxLength(t){return rg(t)}static pattern(t){return ig(t)}static nullValidator(t){return Fo()}static compose(t){return n0(t)}static composeAsync(t){return r0(t)}};function Qf(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<n?{min:{min:n,actual:t.value}}:null}}function eg(n){return t=>{if(t.value==null||n==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>n?{max:{max:n,actual:t.value}}:null}}function Ju(n){return o1(n.value)?{required:!0}:null}function tg(n){return n.value===!0?null:{required:!0}}function ag(n){return o1(n.value)||Yf.test(n.value)?null:{email:!0}}function ng(n){return t=>{let e=t.value?.length??s1(t.value);return e===null||e===0?null:e<n?{minlength:{requiredLength:n,actualLength:e}}:null}}function rg(n){return t=>{let e=t.value?.length??s1(t.value);return e!==null&&e>n?{maxlength:{requiredLength:n,actualLength:e}}:null}}function ig(n){if(!n)return Fo;let t,e;return typeof n=="string"?(e="",n.charAt(0)!=="^"&&(e+="^"),e+=n,n.charAt(n.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=n.toString(),t=n),a=>{if(o1(a.value))return null;let r=a.value;return t.test(r)?null:{pattern:{requiredPattern:e,actualValue:r}}}}function Fo(n){return null}function Yu(n){return n!=null}function Qu(n){return On(n)?pe(n):n}function e0(n){let t={};return n.forEach(e=>{t=e!=null?k(k({},t),e):t}),Object.keys(t).length===0?null:t}function t0(n,t){return t.map(e=>e(n))}function og(n){return!n.validate}function a0(n){return n.map(t=>og(t)?t:e=>t.validate(e))}function n0(n){if(!n)return null;let t=n.filter(Yu);return t.length==0?null:function(e){return e0(t0(e,t))}}function c1(n){return n!=null?n0(a0(n)):null}function r0(n){if(!n)return null;let t=n.filter(Yu);return t.length==0?null:function(e){let a=t0(e,t).map(Qu);return Q1(a).pipe(F(e0))}}function d1(n){return n!=null?r0(a0(n)):null}function Uu(n,t){return n===null?[t]:Array.isArray(n)?[...n,t]:[n,t]}function i0(n){return n._rawValidators}function o0(n){return n._rawAsyncValidators}function a1(n){return n?Array.isArray(n)?n:[n]:[]}function Po(n,t){return Array.isArray(n)?n.includes(t):n===t}function $u(n,t){let e=a1(t);return a1(n).forEach(r=>{Po(e,r)||e.push(r)}),e}function Gu(n,t){return a1(t).filter(e=>!Po(n,e))}var Oo=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=c1(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=d1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},Zt=class extends Oo{name;get formDirective(){return null}get path(){return null}},Ia=class extends Oo{_parent=null;name=null;valueAccessor=null},jo=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},sg={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},h7=j(k({},sg),{"[class.ng-submitted]":"isSubmitted"}),s0=(()=>{class n extends jo{constructor(e){super(e)}static \u0275fac=function(a){return new(a||n)(A(Ia,2))};static \u0275dir=x({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(a,r){a&2&&Ge("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[$]})}return n})(),c0=(()=>{class n extends jo{constructor(e){super(e)}static \u0275fac=function(a){return new(a||n)(A(Zt,10))};static \u0275dir=x({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(a,r){a&2&&Ge("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[$]})}return n})();var Pr="VALID",Eo="INVALID",mn="PENDING",Or="DISABLED",Xt=class{},Vo=class extends Xt{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Vr=class extends Xt{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},zr=class extends Xt{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},kn=class extends Xt{status;source;constructor(t,e){super(),this.status=t,this.source=e}},zo=class extends Xt{source;constructor(t){super(),this.source=t}},qr=class extends Xt{source;constructor(t){super(),this.source=t}};function l1(n){return(Go(n)?n.validators:n)||null}function cg(n){return Array.isArray(n)?c1(n):n||null}function h1(n,t){return(Go(t)?t.asyncValidators:n)||null}function dg(n){return Array.isArray(n)?d1(n):n||null}function Go(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function d0(n,t,e){let a=n.controls;if(!(t?Object.keys(a):a).length)throw new z(1e3,"");if(!a[e])throw new z(1001,"")}function l0(n,t,e){n._forEachChild((a,r)=>{if(e[r]===void 0)throw new z(1002,"")})}var vn=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return B(this.statusReactive)}set status(t){B(()=>this.statusReactive.set(t))}_status=Ce(()=>this.statusReactive());statusReactive=ie(void 0);get valid(){return this.status===Pr}get invalid(){return this.status===Eo}get pending(){return this.status==mn}get disabled(){return this.status===Or}get enabled(){return this.status!==Or}errors;get pristine(){return B(this.pristineReactive)}set pristine(t){B(()=>this.pristineReactive.set(t))}_pristine=Ce(()=>this.pristineReactive());pristineReactive=ie(!0);get dirty(){return!this.pristine}get touched(){return B(this.touchedReactive)}set touched(t){B(()=>this.touchedReactive.set(t))}_touched=Ce(()=>this.touchedReactive());touchedReactive=ie(!1);get untouched(){return!this.touched}_events=new K;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators($u(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators($u(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Gu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Gu(t,this._rawAsyncValidators))}hasValidator(t){return Po(this._rawValidators,t)}hasAsyncValidator(t){return Po(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let a=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(j(k({},t),{sourceControl:a})),e&&t.emitEvent!==!1&&this._events.next(new zr(!0,a))}markAllAsDirty(t={}){this.markAsDirty({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsDirty(t))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let a=t.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:a})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,a),e&&t.emitEvent!==!1&&this._events.next(new zr(!1,a))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let a=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(j(k({},t),{sourceControl:a})),e&&t.emitEvent!==!1&&this._events.next(new Vr(!1,a))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let a=t.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,a),e&&t.emitEvent!==!1&&this._events.next(new Vr(!0,a))}markAsPending(t={}){this.status=mn;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new kn(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(j(k({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Or,this.errors=null,this._forEachChild(r=>{r.disable(j(k({},t),{onlySelf:!0}))}),this._updateValue();let a=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Vo(this.value,a)),this._events.next(new kn(this.status,a)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(j(k({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=Pr,this._forEachChild(a=>{a.enable(j(k({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(j(k({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(a=>a(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let a=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Pr||this.status===mn)&&this._runAsyncValidator(a,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Vo(this.value,e)),this._events.next(new kn(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(j(k({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Or:Pr}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=mn,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1,shouldHaveEmitted:t!==!1};let a=Qu(this.asyncValidator(this));this._asyncValidationSubscription=a.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((a,r)=>a&&a._find(r),this)}getError(t,e){let a=e?this.get(e):this;return a&&a.errors?a.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,a){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||a)&&this._events.next(new kn(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,a)}_initObservables(){this.valueChanges=new ae,this.statusChanges=new ae}_calculateStatus(){return this._allControlsDisabled()?Or:this.errors?Eo:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(mn)?mn:this._anyControlsHaveStatus(Eo)?Eo:Pr}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let a=!this._anyControlsDirty(),r=this.pristine!==a;this.pristine=a,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),r&&this._events.next(new Vr(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new zr(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Go(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=cg(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=dg(this._rawAsyncValidators)}},Mn=class extends vn{constructor(t,e,a){super(l1(e),h1(a,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,a={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,a={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){l0(this,!0,t),Object.keys(t).forEach(a=>{d0(this,!0,a),this.controls[a].setValue(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(a=>{let r=this.controls[a];r&&r.patchValue(t[a],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((a,r)=>{a.reset(t?t[r]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new qr(this))}getRawValue(){return this._reduceChildren({},(t,e,a)=>(t[a]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,a)=>a._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let a=this.controls[e];a&&t(a,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,a]of Object.entries(this.controls))if(this.contains(e)&&t(a))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,a,r)=>((a.enabled||this.disabled)&&(e[r]=a.value),e))}_reduceChildren(t,e){let a=t;return this._forEachChild((r,i)=>{a=e(a,r,i)}),a}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var n1=class extends Mn{};var Wo=new L("",{providedIn:"root",factory:()=>u1}),u1="always";function lg(n,t){return[...t.path,n]}function qo(n,t,e=u1){p1(n,t),t.valueAccessor.writeValue(n.value),(n.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(n.disabled),ug(n,t),yg(n,t),pg(n,t),hg(n,t)}function Bo(n,t,e=!0){let a=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(a),t.valueAccessor.registerOnTouched(a)),No(n,t),n&&(t._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Ho(n,t){n.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function hg(n,t){if(t.valueAccessor.setDisabledState){let e=a=>{t.valueAccessor.setDisabledState(a)};n.registerOnDisabledChange(e),t._registerOnDestroy(()=>{n._unregisterOnDisabledChange(e)})}}function p1(n,t){let e=i0(n);t.validator!==null?n.setValidators(Uu(e,t.validator)):typeof e=="function"&&n.setValidators([e]);let a=o0(n);t.asyncValidator!==null?n.setAsyncValidators(Uu(a,t.asyncValidator)):typeof a=="function"&&n.setAsyncValidators([a]);let r=()=>n.updateValueAndValidity();Ho(t._rawValidators,r),Ho(t._rawAsyncValidators,r)}function No(n,t){let e=!1;if(n!==null){if(t.validator!==null){let r=i0(n);if(Array.isArray(r)&&r.length>0){let i=r.filter(o=>o!==t.validator);i.length!==r.length&&(e=!0,n.setValidators(i))}}if(t.asyncValidator!==null){let r=o0(n);if(Array.isArray(r)&&r.length>0){let i=r.filter(o=>o!==t.asyncValidator);i.length!==r.length&&(e=!0,n.setAsyncValidators(i))}}}let a=()=>{};return Ho(t._rawValidators,a),Ho(t._rawAsyncValidators,a),e}function ug(n,t){t.valueAccessor.registerOnChange(e=>{n._pendingValue=e,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&h0(n,t)})}function pg(n,t){t.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&h0(n,t),n.updateOn!=="submit"&&n.markAsTouched()})}function h0(n,t){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function yg(n,t){let e=(a,r)=>{t.valueAccessor.writeValue(a),r&&t.viewToModelUpdate(a)};n.registerOnChange(e),t._registerOnDestroy(()=>{n._unregisterOnChange(e)})}function u0(n,t){n==null,p1(n,t)}function fg(n,t){return No(n,t)}function p0(n,t){if(!n.hasOwnProperty("model"))return!1;let e=n.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function gg(n){return Object.getPrototypeOf(n.constructor)===Kf}function y0(n,t){n._syncPendingControls(),t.forEach(e=>{let a=e.control;a.updateOn==="submit"&&a._pendingChange&&(e.viewToModelUpdate(a._pendingValue),a._pendingChange=!1)})}function f0(n,t){if(!t)return null;Array.isArray(t);let e,a,r;return t.forEach(i=>{i.constructor===Uo?e=i:gg(i)?a=i:r=i}),r||a||e||null}function mg(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}var kg={provide:Zt,useExisting:Pt(()=>vg)},jr=Promise.resolve(),vg=(()=>{class n extends Zt{callSetDisabledState;get submitted(){return B(this.submittedReactive)}_submitted=Ce(()=>this.submittedReactive());submittedReactive=ie(!1);_directives=new Set;form;ngSubmit=new ae;options;constructor(e,a,r){super(),this.callSetDisabledState=r,this.form=new Mn({},c1(e),d1(a))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){jr.then(()=>{let a=this._findContainer(e.path);e.control=a.registerControl(e.name,e.control),qo(e.control,e,this.callSetDisabledState),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){jr.then(()=>{let a=this._findContainer(e.path);a&&a.removeControl(e.name),this._directives.delete(e)})}addFormGroup(e){jr.then(()=>{let a=this._findContainer(e.path),r=new Mn({});u0(r,e),a.registerControl(e.name,r),r.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){jr.then(()=>{let a=this._findContainer(e.path);a&&a.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,a){jr.then(()=>{this.form.get(e.path).setValue(a)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submittedReactive.set(!0),y0(this.form,this._directives),this.ngSubmit.emit(e),this.form._events.next(new zo(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}static \u0275fac=function(a){return new(a||n)(A(Br,10),A($o,10),A(Wo,8))};static \u0275dir=x({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(a,r){a&1&&Se("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[J([kg]),$]})}return n})();function Wu(n,t){let e=n.indexOf(t);e>-1&&n.splice(e,1)}function Ku(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var To=class extends vn{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,a){super(l1(e),h1(a,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Go(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Ku(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(a=>a(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1,e?.emitEvent!==!1&&this._events.next(new qr(this))}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Wu(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Wu(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Ku(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var Mg=n=>n instanceof To;var p7=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return n})();var y1=new L(""),wg={provide:Ia,useExisting:Pt(()=>Cg)},Cg=(()=>{class n extends Ia{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(e){}model;update=new ae;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,a,r,i,o){super(),this._ngModelWarningConfig=i,this.callSetDisabledState=o,this._setValidators(e),this._setAsyncValidators(a),this.valueAccessor=f0(this,r)}ngOnChanges(e){if(this._isControlChanged(e)){let a=e.form.previousValue;a&&Bo(a,this,!1),qo(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}p0(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&Bo(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}static \u0275fac=function(a){return new(a||n)(A(Br,10),A($o,10),A(i1,10),A(y1,8),A(Wo,8))};static \u0275dir=x({type:n,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[J([wg]),$,ce]})}return n})(),_g={provide:Zt,useExisting:Pt(()=>f1)},f1=(()=>{class n extends Zt{callSetDisabledState;get submitted(){return B(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=Ce(()=>this._submittedReactive());_submittedReactive=ie(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new ae;constructor(e,a,r){super(),this.callSetDisabledState=r,this._setValidators(e),this._setAsyncValidators(a)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(No(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let a=this.form.get(e.path);return qo(a,e,this.callSetDisabledState),a.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),a}getControl(e){return this.form.get(e.path)}removeControl(e){Bo(e.control||null,e,!1),mg(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,a){this.form.get(e.path).setValue(a)}onSubmit(e){return this._submittedReactive.set(!0),y0(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new zo(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0,a={}){this.form.reset(e,a),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(e=>{let a=e.control,r=this.form.get(e.path);a!==r&&(Bo(a||null,e),Mg(r)&&(qo(r,e,this.callSetDisabledState),e.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let a=this.form.get(e.path);u0(a,e),a.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let a=this.form.get(e.path);a&&fg(a,e)&&a.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){p1(this.form,this),this._oldForm&&No(this._oldForm,this)}static \u0275fac=function(a){return new(a||n)(A(Br,10),A($o,10),A(Wo,8))};static \u0275dir=x({type:n,selectors:[["","formGroup",""]],hostBindings:function(a,r){a&1&&Se("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[J([_g]),$,ce]})}return n})();var bg={provide:Ia,useExisting:Pt(()=>g1)},g1=(()=>{class n extends Ia{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new ae;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,a,r,i,o){super(),this._ngModelWarningConfig=o,this._parent=e,this._setValidators(a),this._setAsyncValidators(r),this.valueAccessor=f0(this,i)}ngOnChanges(e){this._added||this._setUpControl(),p0(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return lg(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(a){return new(a||n)(A(Zt,13),A(Br,10),A($o,10),A(i1,10),A(y1,8))};static \u0275dir=x({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[J([bg]),$,ce]})}return n})();var Sg=(()=>{class n{_validator=Fo;_onChange;_enabled;ngOnChanges(e){if(this.inputName in e){let a=this.normalizeInput(e[this.inputName].currentValue);this._enabled=this.enabled(a),this._validator=this._enabled?this.createValidator(a):Fo,this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}enabled(e){return e!=null}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,features:[ce]})}return n})();var xg={provide:Br,useExisting:Pt(()=>Ig),multi:!0};var Ig=(()=>{class n extends Sg{required;inputName="required";normalizeInput=de;createValidator=e=>Ju;enabled(e){return e}static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275dir=x({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(a,r){a&2&&it("required",r._enabled?"":null)},inputs:{required:"required"},standalone:!1,features:[J([xg]),$]})}return n})();var Lg=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=oe({type:n});static \u0275inj=re({})}return n})(),r1=class extends vn{constructor(t,e,a){super(l1(e),h1(a,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){Array.isArray(t)?t.forEach(a=>{this.controls.push(a),this._registerControl(a)}):(this.controls.push(t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,a={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:a.emitEvent})}removeAt(t,e={}){let a=this._adjustIndex(t);a<0&&(a=0),this.controls[a]&&this.controls[a]._registerOnCollectionChange(()=>{}),this.controls.splice(a,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,a={}){let r=this._adjustIndex(t);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),e&&(this.controls.splice(r,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:a.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){l0(this,!1,t),t.forEach((a,r)=>{d0(this,!1,r),this.at(r).setValue(a,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((a,r)=>{this.at(r)&&this.at(r).patchValue(a,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((a,r)=>{a.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e),e?.emitEvent!==!1&&this._events.next(new qr(this))}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,a)=>a._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,a)=>{t(e,a)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Zu(n){return!!n&&(n.asyncValidators!==void 0||n.validators!==void 0||n.updateOn!==void 0)}var Dg=(()=>{class n{useNonNullable=!1;get nonNullable(){let e=new n;return e.useNonNullable=!0,e}group(e,a=null){let r=this._reduceControls(e),i={};return Zu(a)?i=a:a!==null&&(i.validators=a.validator,i.asyncValidators=a.asyncValidator),new Mn(r,i)}record(e,a=null){let r=this._reduceControls(e);return new n1(r,a)}control(e,a,r){let i={};return this.useNonNullable?(Zu(a)?i=a:(i.validators=a,i.asyncValidators=r),new To(e,j(k({},i),{nonNullable:!0}))):new To(e,a,r)}array(e,a,r){let i=e.map(o=>this._createControl(o));return new r1(i,a,r)}_reduceControls(e){let a={};return Object.keys(e).forEach(r=>{a[r]=this._createControl(e[r])}),a}_createControl(e){if(e instanceof To)return e;if(e instanceof vn)return e;if(Array.isArray(e)){let a=e[0],r=e.length>1?e[1]:null,i=e.length>2?e[2]:null;return this.control(a,r,i)}else return this.control(e)}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),g0=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:()=>f(Dg).nonNullable,providedIn:"root"})}return n})();var m0=(()=>{class n{static withConfig(e){return{ngModule:n,providers:[{provide:y1,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Wo,useValue:e.callSetDisabledState??u1}]}}static \u0275fac=function(a){return new(a||n)};static \u0275mod=oe({type:n});static \u0275inj=re({imports:[Lg]})}return n})();var Rg=["*"];var w7=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]];var C7=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["line",{x1:"12",x2:"12",y1:"8",y2:"16",key:"10p56q"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]];var _7=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]];var b7=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]];var S7=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]];var x7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]];var I7=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]];var L7=[["path",{d:"m15 18-.722-3.25",key:"1j64jw"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0",key:"1e7gxb"}],["path",{d:"m20 15-1.726-2.05",key:"1cnuld"}],["path",{d:"m4 15 1.726-2.05",key:"1dsqqd"}],["path",{d:"m9 18 .722-3.25",key:"ypw2yx"}]],D7=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]];var A7=[["path",{d:"M11 15h2a2 2 0 1 0 0-4h-3c-.6 0-1.1.2-1.4.6L3 17",key:"geh8rc"}],["path",{d:"m7 21 1.6-1.4c.3-.4.8-.6 1.4-.6h4c1.1 0 2.1-.4 2.8-1.2l4.6-4.4a2 2 0 0 0-2.75-2.91l-4.2 3.9",key:"1fto5m"}],["path",{d:"m2 16 6 6",key:"1pfhp9"}],["circle",{cx:"16",cy:"9",r:"2.9",key:"1n0dlu"}],["circle",{cx:"6",cy:"5",r:"3",key:"151irh"}]];var R7=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]];var E7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M8 12h5",key:"1g6qi8"}],["path",{d:"M16 9.5a4 4 0 1 0 0 5.2",key:"b2px4r"}]];var T7=[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]];var Hr={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"},m1=new L("LucideIcons",{factory:()=>new Nr({})}),Nr=class{constructor(t){this.icons=t}getIcon(t){return this.hasIcon(t)?this.icons[t]:null}hasIcon(t){return typeof this.icons=="object"&&t in this.icons}},Eg=(()=>{class n{constructor(){this.color=Hr.stroke,this.size=Hr.width,this.strokeWidth=Hr["stroke-width"],this.absoluteStrokeWidth=!1}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tg(n,t=3){return parseFloat(n.toFixed(t)).toString(10)}var Ko=(()=>{class n{constructor(e,a,r,i,o){this.elem=e,this.renderer=a,this.changeDetector=r,this.iconProviders=i,this.iconConfig=o,this.absoluteStrokeWidth=!1,this.defaultSize=Hr.height}get size(){return this._size??this.iconConfig.size}set size(e){e?this._size=this.parseNumber(e):delete this._size}get strokeWidth(){return this._strokeWidth??this.iconConfig.strokeWidth}set strokeWidth(e){e?this._strokeWidth=this.parseNumber(e):delete this._strokeWidth}ngOnChanges(e){if(e.name||e.img||e.color||e.size||e.absoluteStrokeWidth||e.strokeWidth||e.class){this.color=this.color??this.iconConfig.color,this.size=this.parseNumber(this.size??this.iconConfig.size),this.strokeWidth=this.parseNumber(this.strokeWidth??this.iconConfig.strokeWidth),this.absoluteStrokeWidth=this.absoluteStrokeWidth??this.iconConfig.absoluteStrokeWidth;let a=this.img??this.name;if(typeof a=="string"){let r=this.getIcon(this.toPascalCase(a));if(r)this.replaceElement(r);else throw new Error(`The "${a}" icon has not been provided by any available icon providers.`)}else if(Array.isArray(a))this.replaceElement(a);else throw new Error("No icon name or image has been provided.")}this.changeDetector.markForCheck()}replaceElement(e){let a=j(k({},Hr),{width:this.size,height:this.size,stroke:this.color??this.iconConfig.color,"stroke-width":this.absoluteStrokeWidth?Tg(this.strokeWidth/(this.size/this.defaultSize)):this.strokeWidth.toString(10)}),r=this.createElement(["svg",a,e]);r.classList.add("lucide"),typeof this.name=="string"&&r.classList.add(`lucide-${this.name.replace("_","-")}`),this.class&&r.classList.add(...this.class.split(/ /).map(o=>o.trim()).filter(o=>o.length>0));let i=this.elem.nativeElement.childNodes;for(let o of i)this.renderer.removeChild(this.elem.nativeElement,o);this.renderer.appendChild(this.elem.nativeElement,r)}toPascalCase(e){return e.replace(/(\w)([a-z0-9]*)(_|-|\s*)/g,(a,r,i)=>r.toUpperCase()+i.toLowerCase())}parseNumber(e){if(typeof e=="string"){let a=parseInt(e,10);if(isNaN(a))throw new Error(`${e} is not numeric.`);return a}return e}getIcon(e){for(let a of Array.isArray(this.iconProviders)?this.iconProviders:[this.iconProviders])if(a.hasIcon(e))return a.getIcon(e);return null}createElement([e,a,r=[]]){let i=this.renderer.createElement(e,"http://www.w3.org/2000/svg");return Object.keys(a).forEach(o=>{let s=typeof a[o]=="string"?a[o]:a[o].toString(10);this.renderer.setAttribute(i,o,s)}),r.length&&r.forEach(o=>{let s=this.createElement(o);this.renderer.appendChild(i,s)}),i}}return n.\u0275fac=function(e){return new(e||n)(A(Z),A(at),A(je),A(m1),A(Eg))},n.\u0275cmp=Y({type:n,selectors:[["lucide-angular"],["lucide-icon"],["i-lucide"],["span-lucide"]],inputs:{class:"class",name:"name",img:"img",color:"color",absoluteStrokeWidth:"absoluteStrokeWidth",size:"size",strokeWidth:"strokeWidth"},standalone:!1,features:[ce],ngContentSelectors:Rg,decls:1,vars:0,template:function(e,a){e&1&&(ot(),xe(0))},encapsulation:2}),n})(),k1=class{constructor(t){this.icons=t}},Fg=n=>new Nr(n??{}),Zo=(()=>{class n{static pick(e){return{ngModule:n,providers:[{provide:m1,multi:!0,useValue:new Nr(e)},{provide:m1,multi:!0,useFactory:Fg,deps:[[new fs,k1]]}]}}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=oe({type:n}),n.\u0275inj=re({imports:[[]]}),n})();var Pg=["noContentFallback"],Og=["maffiButton",""],jg=["*"];function Vg(n,t){if(n&1&&le(0,"i-lucide",1),n&2){let e=G();Me("name",t)("size",e._size())}}function zg(n,t){n&1&&(T(0,"div",2),En(),T(1,"svg",4),le(2,"path",5)(3,"path",6),O()())}function qg(n,t){n&1&&le(0,"span",7,0)}var Jt=class n{icon=ue();theme=ue("primary");isLoading=ue(!1);disabled=ue(!1);size=ue("small");noContentFallback=zn("noContentFallback");buttonType=Ce(()=>this.icon()&&this.noContentFallback()?"fab":"button");_size=Ce(()=>{switch(this.size()){case"mini":return 12;case"small":return 16;case"medium":return 24;case"large":return 32}});isDisabled=Ce(()=>this.isLoading()||this.disabled());classes=Ce(()=>{let t=`
      relative
      inline-flex
      gap-2
      items-center
      min-h-8
      text-xs
    `,e=`
      hover:cursor-pointer
      disabled:hover:cursor-auto

      focus-visible:outline-dotted
      focus-visible:outline-1
      focus-visible:outline-blue-700
      focus-visible:outline-offset-2

      disabled:text-black
      disabled:bg-gray-200

      transition-colors
    `,a=this.getTypeClasses(this.buttonType()),r=this.getThemeClasses();return`${t} ${e} ${a} ${r}`});getThemeClasses(){switch(this.theme()){case"primary":return`
          text-white
          bg-blue-900
          hover:bg-blue-800
          active:bg-blue-800
        `;case"secondary":return`
        text-gray-100
        hover:bg-gray-700
        active:bg-gray-700
        `;case"plain":return`
          text-gray-100
        `;case"inactive":return`
          text-neutral-400
          hover:text-gray-100
        `;default:throw new Error(`Theme ${this.theme()} is not supported for Button2Component`)}}getTypeClasses(t){switch(t){case"fab":return"rounded-full aspect-square justify-center";case"button":return"px-4 py-2 w-fit rounded-lg justify-start"}}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Y({type:n,selectors:[["button","maffiButton",""]],viewQuery:function(e,a){e&1&&Vn(a.noContentFallback,Pg,5),e&2&&ai()},hostVars:3,hostBindings:function(e,a){e&2&&(Md("disabled",a.isDisabled()),Pa(a.classes()))},inputs:{icon:[1,"icon"],theme:[1,"theme"],isLoading:[1,"isLoading"],disabled:[1,"disabled"],size:[1,"size"]},attrs:Og,ngContentSelectors:jg,decls:5,vars:2,consts:[["noContentFallback",""],[3,"name","size"],["role","status",1,"absolute","top-1/2","left-1/2","-translate-x-1/2","-translate-y-1/2","opacity-30"],["aria-hidden","true",1,"absolute","inset-0","-m-2"],["aria-hidden","true","viewBox","0 0 100 101","xmlns","http://www.w3.org/2000/svg",1,"fill-primary","h-6","w-6","animate-spin"],["d","M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z","fill","currentColor"],["d","M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z","fill","currentFill"],[1,"hidden"]],template:function(e,a){if(e&1&&(ot(),ke(0,Vg,1,2,"i-lucide",1),ke(1,zg,4,0,"div",2),xe(2,0,null,qg,2,0),le(4,"span",3)),e&2){let r;ve((r=a.icon())?0:-1,r),P(),ve(a.isLoading()?1:-1)}},dependencies:[Zo,Ko],encapsulation:2,changeDetection:0})};var M1;try{M1=typeof Intl<"u"&&Intl.v8BreakIterator}catch{M1=!1}var qe=(()=>{class n{_platformId=f(_t);isBrowser=this._platformId?di(this._platformId):typeof document=="object"&&!!document;EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent);TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent);BLINK=this.isBrowser&&!!(window.chrome||M1)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT;WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT;IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window);FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent);ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT;SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT;constructor(){}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ur;function v0(){if(Ur==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Ur=!0}))}finally{Ur=Ur||!1}return Ur}function w1(n){return v0()?n:!!n.capture}var C1;function M0(){if(C1==null){let n=typeof document<"u"?document.head:null;C1=!!(n&&(n.createShadowRoot||n.attachShadow))}return C1}function _1(n){if(M0()){let t=n.getRootNode?n.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function La(n){return n.composedPath?n.composedPath()[0]:n.target}var wn,w0=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function W7(){if(wn)return wn;if(typeof document!="object"||!document)return wn=new Set(w0),wn;let n=document.createElement("input");return wn=new Set(w0.filter(t=>(n.setAttribute("type",t),n.type===t))),wn}function b1(n){return n.buttons===0||n.detail===0}function S1(n){let t=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!t&&t.identifier===-1&&(t.radiusX==null||t.radiusX===1)&&(t.radiusY==null||t.radiusY===1)}function $r(n){return n instanceof Z?n.nativeElement:n}var C0=new L("cdk-input-modality-detector-options"),_0={ignoreKeys:[18,17,224,91,16]},b0=650,x1={passive:!0,capture:!0},S0=(()=>{class n{_platform=f(qe);_listenerCleanups;modalityDetected;modalityChanged;get mostRecentModality(){return this._modality.value}_mostRecentTarget=null;_modality=new be(null);_options;_lastTouchMs=0;_onKeydown=e=>{this._options?.ignoreKeys?.some(a=>a===e.keyCode)||(this._modality.next("keyboard"),this._mostRecentTarget=La(e))};_onMousedown=e=>{Date.now()-this._lastTouchMs<b0||(this._modality.next(b1(e)?"keyboard":"mouse"),this._mostRecentTarget=La(e))};_onTouchstart=e=>{if(S1(e)){this._modality.next("keyboard");return}this._lastTouchMs=Date.now(),this._modality.next("touch"),this._mostRecentTarget=La(e)};constructor(){let e=f(Ee),a=f(N),r=f(C0,{optional:!0});if(this._options=k(k({},_0),r),this.modalityDetected=this._modality.pipe(Jr(1)),this.modalityChanged=this.modalityDetected.pipe(us()),this._platform.isBrowser){let i=f(Ta).createRenderer(null,null);this._listenerCleanups=e.runOutsideAngular(()=>[i.listen(a,"keydown",this._onKeydown,x1),i.listen(a,"mousedown",this._onMousedown,x1),i.listen(a,"touchstart",this._onTouchstart,x1)])}}ngOnDestroy(){this._modality.complete(),this._listenerCleanups?.forEach(e=>e())}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Gr=(function(n){return n[n.IMMEDIATE=0]="IMMEDIATE",n[n.EVENTUAL=1]="EVENTUAL",n})(Gr||{}),x0=new L("cdk-focus-monitor-default-options"),Xo=w1({passive:!0,capture:!0}),Bg=(()=>{class n{_ngZone=f(Ee);_platform=f(qe);_inputModalityDetector=f(S0);_origin=null;_lastFocusOrigin;_windowFocused=!1;_windowFocusTimeoutId;_originTimeoutId;_originFromTouchInteraction=!1;_elementInfo=new Map;_monitoredElementCount=0;_rootNodeFocusListenerCount=new Map;_detectionMode;_windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)};_document=f(N);_stopInputModalityDetector=new K;constructor(){let e=f(x0,{optional:!0});this._detectionMode=e?.detectionMode||Gr.IMMEDIATE}_rootNodeFocusAndBlurListener=e=>{let a=La(e);for(let r=a;r;r=r.parentElement)e.type==="focus"?this._onFocus(e,r):this._onBlur(e,r)};monitor(e,a=!1){let r=$r(e);if(!this._platform.isBrowser||r.nodeType!==1)return I();let i=_1(r)||this._document,o=this._elementInfo.get(r);if(o)return a&&(o.checkChildren=!0),o.subject;let s={checkChildren:a,subject:new K,rootNode:i};return this._elementInfo.set(r,s),this._registerGlobalListeners(s),s.subject}stopMonitoring(e){let a=$r(e),r=this._elementInfo.get(a);r&&(r.subject.complete(),this._setClasses(a),this._elementInfo.delete(a),this._removeGlobalListeners(r))}focusVia(e,a,r){let i=$r(e),o=this._document.activeElement;i===o?this._getClosestElementsInfo(i).forEach(([s,c])=>this._originChanged(s,a,c)):(this._setOrigin(a),typeof i.focus=="function"&&i.focus(r))}ngOnDestroy(){this._elementInfo.forEach((e,a)=>this.stopMonitoring(a))}_getWindow(){return this._document.defaultView||window}_getFocusOrigin(e){return this._origin?this._originFromTouchInteraction?this._shouldBeAttributedToTouch(e)?"touch":"program":this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:e&&this._isLastInteractionFromInputLabel(e)?"mouse":"program"}_shouldBeAttributedToTouch(e){return this._detectionMode===Gr.EVENTUAL||!!e?.contains(this._inputModalityDetector._mostRecentTarget)}_setClasses(e,a){e.classList.toggle("cdk-focused",!!a),e.classList.toggle("cdk-touch-focused",a==="touch"),e.classList.toggle("cdk-keyboard-focused",a==="keyboard"),e.classList.toggle("cdk-mouse-focused",a==="mouse"),e.classList.toggle("cdk-program-focused",a==="program")}_setOrigin(e,a=!1){this._ngZone.runOutsideAngular(()=>{if(this._origin=e,this._originFromTouchInteraction=e==="touch"&&a,this._detectionMode===Gr.IMMEDIATE){clearTimeout(this._originTimeoutId);let r=this._originFromTouchInteraction?b0:1;this._originTimeoutId=setTimeout(()=>this._origin=null,r)}})}_onFocus(e,a){let r=this._elementInfo.get(a),i=La(e);!r||!r.checkChildren&&a!==i||this._originChanged(a,this._getFocusOrigin(i),r)}_onBlur(e,a){let r=this._elementInfo.get(a);!r||r.checkChildren&&e.relatedTarget instanceof Node&&a.contains(e.relatedTarget)||(this._setClasses(a),this._emitOrigin(r,null))}_emitOrigin(e,a){e.subject.observers.length&&this._ngZone.run(()=>e.subject.next(a))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;let a=e.rootNode,r=this._rootNodeFocusListenerCount.get(a)||0;r||this._ngZone.runOutsideAngular(()=>{a.addEventListener("focus",this._rootNodeFocusAndBlurListener,Xo),a.addEventListener("blur",this._rootNodeFocusAndBlurListener,Xo)}),this._rootNodeFocusListenerCount.set(a,r+1),++this._monitoredElementCount===1&&(this._ngZone.runOutsideAngular(()=>{this._getWindow().addEventListener("focus",this._windowFocusListener)}),this._inputModalityDetector.modalityDetected.pipe(Oe(this._stopInputModalityDetector)).subscribe(i=>{this._setOrigin(i,!0)}))}_removeGlobalListeners(e){let a=e.rootNode;if(this._rootNodeFocusListenerCount.has(a)){let r=this._rootNodeFocusListenerCount.get(a);r>1?this._rootNodeFocusListenerCount.set(a,r-1):(a.removeEventListener("focus",this._rootNodeFocusAndBlurListener,Xo),a.removeEventListener("blur",this._rootNodeFocusAndBlurListener,Xo),this._rootNodeFocusListenerCount.delete(a))}--this._monitoredElementCount||(this._getWindow().removeEventListener("focus",this._windowFocusListener),this._stopInputModalityDetector.next(),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._originTimeoutId))}_originChanged(e,a,r){this._setClasses(e,a),this._emitOrigin(r,a),this._lastFocusOrigin=a}_getClosestElementsInfo(e){let a=[];return this._elementInfo.forEach((r,i)=>{(i===e||r.checkChildren&&i.contains(e))&&a.push([i,r])}),a}_isLastInteractionFromInputLabel(e){let{_mostRecentTarget:a,mostRecentModality:r}=this._inputModalityDetector;if(r!=="mouse"||!a||a===e||e.nodeName!=="INPUT"&&e.nodeName!=="TEXTAREA"||e.disabled)return!1;let i=e.labels;if(i){for(let o=0;o<i.length;o++)if(i[o].contains(a))return!0}return!1}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Jo=new WeakMap,Hg=(()=>{class n{_appRef;_injector=f(Re);_environmentInjector=f(Ot);load(e){let a=this._appRef=this._appRef||this._injector.get(Fa),r=Jo.get(a);r||(r={loaders:new Set,refs:[]},Jo.set(a,r),a.onDestroy(()=>{Jo.get(a)?.refs.forEach(i=>i.destroy()),Jo.delete(a)})),r.loaders.has(e)||(r.loaders.add(e),r.refs.push(Ld(e,{environmentInjector:this._environmentInjector})))}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function I1(n){return Array.isArray(n)?n:[n]}var I0=new Set,Da,Yo=(()=>{class n{_platform=f(qe);_nonce=f(Pn,{optional:!0});_matchMedia;constructor(){this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Ug}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&Ng(e,this._nonce),this._matchMedia(e)}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ng(n,t){if(!I0.has(n))try{Da||(Da=document.createElement("style"),t&&Da.setAttribute("nonce",t),Da.setAttribute("type","text/css"),document.head.appendChild(Da)),Da.sheet&&(Da.sheet.insertRule(`@media ${n} {body{ }}`,0),I0.add(n))}catch(e){console.error(e)}}function Ug(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var L1=(()=>{class n{_mediaMatcher=f(Yo);_zone=f(Ee);_queries=new Map;_destroySubject=new K;constructor(){}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return L0(I1(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let r=L0(I1(e)).map(o=>this._registerQuery(o).observable),i=Dn(r);return i=Kr(i.pipe(Qe(1)),i.pipe(Jr(1),ed(0))),i.pipe(F(o=>{let s={matches:!1,breakpoints:{}};return o.forEach(({matches:c,query:d})=>{s.matches=s.matches||c,s.breakpoints[d]=c}),s}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);let a=this._mediaMatcher.matchMedia(e),i={observable:new ta(o=>{let s=c=>this._zone.run(()=>o.next(c));return a.addListener(s),()=>{a.removeListener(s)}}).pipe(Rn(a),F(({matches:o})=>({query:e,matches:o})),Oe(this._destroySubject)),mql:a};return this._queries.set(e,i),i}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function L0(n){return n.map(t=>t.split(",")).reduce((t,e)=>t.concat(e)).map(t=>t.trim())}var $g=(()=>{class n{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var E9=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=oe({type:n});static \u0275inj=re({providers:[$g]})}return n})();var Yt=(function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n})(Yt||{}),D0="cdk-high-contrast-black-on-white",A0="cdk-high-contrast-white-on-black",D1="cdk-high-contrast-active",A1=(()=>{class n{_platform=f(qe);_hasCheckedHighContrastMode;_document=f(N);_breakpointSubscription;constructor(){this._breakpointSubscription=f(L1).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Yt.NONE;let e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);let a=this._document.defaultView||window,r=a&&a.getComputedStyle?a.getComputedStyle(e):null,i=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),i){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Yt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Yt.BLACK_ON_WHITE}return Yt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let e=this._document.body.classList;e.remove(D1,D0,A0),this._hasCheckedHighContrastMode=!0;let a=this.getHighContrastMode();a===Yt.BLACK_ON_WHITE?e.add(D1,D0):a===Yt.WHITE_ON_BLACK&&e.add(D1,A0)}}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var R1={},Qo=(()=>{class n{_appId=f(Fn);getId(e){return this._appId!=="ng"&&(e+=this._appId),R1.hasOwnProperty(e)||(R1[e]=0),`${e}${R1[e]++}`}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Gg=new L("cdk-dir-doc",{providedIn:"root",factory:Wg});function Wg(){return f(N)}var Kg=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;function R0(n){let t=n?.toLowerCase()||"";return t==="auto"&&typeof navigator<"u"&&navigator?.language?Kg.test(navigator.language)?"rtl":"ltr":t==="rtl"?"rtl":"ltr"}var E1=(()=>{class n{get value(){return this.valueSignal()}valueSignal=ie("ltr");change=new ae;constructor(){let e=f(Gg,{optional:!0});if(e){let a=e.body?e.body.dir:null,r=e.documentElement?e.documentElement.dir:null;this.valueSignal.set(R0(a||r||"ltr"))}}ngOnDestroy(){this.change.complete()}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var T1=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=oe({type:n});static \u0275inj=re({})}return n})();var E0=(()=>{class n{constructor(){f(A1)._applyBodyHighContrastModeCssClasses()}static \u0275fac=function(a){return new(a||n)};static \u0275mod=oe({type:n});static \u0275inj=re({imports:[T1,T1]})}return n})();var Zg=["*",[["mat-toolbar-row"]]],Xg=["*","mat-toolbar-row"],Jg=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]})}return n})(),es=(()=>{class n{_elementRef=f(Z);_platform=f(qe);_document=f(N);color;_toolbarRows;constructor(){}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length}static \u0275fac=function(a){return new(a||n)};static \u0275cmp=Y({type:n,selectors:[["mat-toolbar"]],contentQueries:function(a,r,i){if(a&1&&He(i,Jg,5),a&2){let o;Ie(o=Le())&&(r._toolbarRows=o)}},hostAttrs:[1,"mat-toolbar"],hostVars:6,hostBindings:function(a,r){a&2&&(Pa(r.color?"mat-"+r.color:""),Ge("mat-toolbar-multiple-rows",r._toolbarRows.length>0)("mat-toolbar-single-row",r._toolbarRows.length===0))},inputs:{color:"color"},exportAs:["matToolbar"],ngContentSelectors:Xg,decls:2,vars:0,template:function(a,r){a&1&&(ot(Zg),xe(0),xe(1,1))},styles:[`.mat-toolbar{background:var(--mat-toolbar-container-background-color, var(--mat-sys-surface));color:var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar,.mat-toolbar h1,.mat-toolbar h2,.mat-toolbar h3,.mat-toolbar h4,.mat-toolbar h5,.mat-toolbar h6{font-family:var(--mat-toolbar-title-text-font, var(--mat-sys-title-large-font));font-size:var(--mat-toolbar-title-text-size, var(--mat-sys-title-large-size));line-height:var(--mat-toolbar-title-text-line-height, var(--mat-sys-title-large-line-height));font-weight:var(--mat-toolbar-title-text-weight, var(--mat-sys-title-large-weight));letter-spacing:var(--mat-toolbar-title-text-tracking, var(--mat-sys-title-large-tracking));margin:0}@media(forced-colors: active){.mat-toolbar{outline:solid 1px}}.mat-toolbar .mat-form-field-underline,.mat-toolbar .mat-form-field-ripple,.mat-toolbar .mat-focused .mat-form-field-ripple{background-color:currentColor}.mat-toolbar .mat-form-field-label,.mat-toolbar .mat-focused .mat-form-field-label,.mat-toolbar .mat-select-value,.mat-toolbar .mat-select-arrow,.mat-toolbar .mat-form-field.mat-focused .mat-select-arrow{color:inherit}.mat-toolbar .mat-input-element{caret-color:currentColor}.mat-toolbar .mat-mdc-button-base.mat-mdc-button-base.mat-unthemed{--mat-button-text-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface));--mat-button-outlined-label-text-color: var(--mat-toolbar-container-text-color, var(--mat-sys-on-surface))}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap;height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-row,.mat-toolbar-single-row{height:var(--mat-toolbar-mobile-height, 56px)}}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%;min-height:var(--mat-toolbar-standard-height, 64px)}@media(max-width: 599px){.mat-toolbar-multiple-rows{min-height:var(--mat-toolbar-mobile-height, 56px)}}
`],encapsulation:2,changeDetection:0})}return n})();var F1=()=>({exact:!0}),T0=class n{static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Y({type:n,selectors:[["app-bottom-nav"]],hostAttrs:[1,"sticky","bottom-0","z-10","w-full"],decls:8,vars:9,consts:[["base","routerLinkActive"],["weeklyCheck","routerLinkActive"],["monthlyCheck","routerLinkActive"],[1,"flex","w-full!","items-center","justify-center","border-t-1","border-gray-100","bg-gray-800!"],[1,"flex","items-center","justify-center","gap-3"],["maffiButton","","icon","HandCoins","routerLink","base","routerLinkActive","",3,"routerLinkActiveOptions","theme"],["maffiButton","","icon","ReceiptEuro","routerLink","weekly-check","routerLinkActive","",3,"routerLinkActiveOptions","theme"],["maffiButton","","icon","Calendar","routerLink","monthly-check","routerLinkActive","",3,"routerLinkActiveOptions","theme"]],template:function(e,a){if(e&1&&(T(0,"mat-toolbar",3)(1,"div",4),le(2,"button",5,0)(4,"button",6,1)(6,"button",7,2),O()()),e&2){let r=yt(3),i=yt(5),o=yt(7);P(2),Me("routerLinkActiveOptions",ni(6,F1))("theme",r.isActive?"plain":"inactive"),P(2),Me("routerLinkActiveOptions",ni(7,F1))("theme",i.isActive?"plain":"inactive"),P(2),Me("routerLinkActiveOptions",ni(8,F1))("theme",o.isActive?"plain":"inactive")}},dependencies:[Jt,Ja,sc,es],encapsulation:2})};var F0=class n{usersFacade=f(gn);title=ue.required();logout(){this.usersFacade.logout()}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Y({type:n,selectors:[["app-header"]],inputs:{title:[1,"title"]},decls:4,vars:1,consts:[[1,"sticky","top-0","z-10","flex","justify-between","border-b-1","bg-gray-800!","text-gray-100!"],[1,"text-2xl!"],["maffiButton","","icon","LogOut",3,"click"]],template:function(e,a){e&1&&(T(0,"mat-toolbar",0)(1,"h1",1),We(2),O(),T(3,"button",2),Se("click",function(){return a.logout()}),O()()),e&2&&(P(2),Cd(a.title()))},dependencies:[es,Jt],encapsulation:2})};var P0=(()=>{class n{_listeners=[];notify(e,a){for(let r of this._listeners)r(e,a)}listen(e){return this._listeners.push(e),()=>{this._listeners=this._listeners.filter(a=>e!==a)}}ngOnDestroy(){this._listeners=[]}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var P1=new L("CdkAccordion"),$C=(()=>{class n{_stateChanges=new K;_openCloseAllActions=new K;id=f(Qo).getId("cdk-accordion-");multi=!1;openAll(){this.multi&&this._openCloseAllActions.next(!0)}closeAll(){this._openCloseAllActions.next(!1)}ngOnChanges(e){this._stateChanges.next(e)}ngOnDestroy(){this._stateChanges.complete(),this._openCloseAllActions.complete()}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["cdk-accordion"],["","cdkAccordion",""]],inputs:{multi:[2,"multi","multi",de]},exportAs:["cdkAccordion"],features:[J([{provide:P1,useExisting:n}]),ce]})}return n})(),O0=(()=>{class n{accordion=f(P1,{optional:!0,skipSelf:!0});_changeDetectorRef=f(je);_expansionDispatcher=f(P0);_openCloseAllSubscription=Sn.EMPTY;closed=new ae;opened=new ae;destroyed=new ae;expandedChange=new ae;id=f(Qo).getId("cdk-accordion-child-");get expanded(){return this._expanded}set expanded(e){if(this._expanded!==e){if(this._expanded=e,this.expandedChange.emit(e),e){this.opened.emit();let a=this.accordion?this.accordion.id:this.id;this._expansionDispatcher.notify(this.id,a)}else this.closed.emit();this._changeDetectorRef.markForCheck()}}_expanded=!1;get disabled(){return this._disabled()}set disabled(e){this._disabled.set(e)}_disabled=ie(!1);_removeUniqueSelectionListener=()=>{};constructor(){}ngOnInit(){this._removeUniqueSelectionListener=this._expansionDispatcher.listen((e,a)=>{this.accordion&&!this.accordion.multi&&this.accordion.id===a&&this.id!==e&&(this.expanded=!1)}),this.accordion&&(this._openCloseAllSubscription=this._subscribeToOpenCloseAllActions())}ngOnDestroy(){this.opened.complete(),this.closed.complete(),this.destroyed.emit(),this.destroyed.complete(),this._removeUniqueSelectionListener(),this._openCloseAllSubscription.unsubscribe()}toggle(){this.disabled||(this.expanded=!this.expanded)}close(){this.disabled||(this.expanded=!1)}open(){this.disabled||(this.expanded=!0)}_subscribeToOpenCloseAllActions(){return this.accordion._openCloseAllActions.subscribe(e=>{this.disabled||(this.expanded=e)})}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["cdk-accordion-item"],["","cdkAccordionItem",""]],inputs:{expanded:[2,"expanded","expanded",de],disabled:[2,"disabled","disabled",de]},outputs:{closed:"closed",opened:"opened",destroyed:"destroyed",expandedChange:"expandedChange"},exportAs:["cdkAccordionItem"],features:[J([{provide:P1,useValue:void 0}])]})}return n})();function ts(n){return n&&typeof n.connect=="function"&&!(n instanceof xn)}var Qt=(function(n){return n[n.REPLACED=0]="REPLACED",n[n.INSERTED=1]="INSERTED",n[n.MOVED=2]="MOVED",n[n.REMOVED=3]="REMOVED",n})(Qt||{}),Cn=new L("_ViewRepeater");var Aa=class{applyChanges(t,e,a,r,i){t.forEachOperation((o,s,c)=>{let d,l;if(o.previousIndex==null){let h=a(o,s,c);d=e.createEmbeddedView(h.templateRef,h.context,h.index),l=Qt.INSERTED}else c==null?(e.remove(s),l=Qt.REMOVED):(d=e.get(s),e.move(d,c),l=Qt.MOVED);i&&i({context:d?.context,operation:l,record:o})})}detach(){}};var Yg=20,j0=(()=>{class n{_platform=f(qe);_listeners;_viewportSize;_change=new K;_document=f(N);constructor(){let e=f(Ee),a=f(Ta).createRenderer(null,null);e.runOutsideAngular(()=>{if(this._platform.isBrowser){let r=i=>this._change.next(i);this._listeners=[a.listen("window","resize",r),a.listen("window","orientationchange",r)]}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){this._listeners?.forEach(e=>e()),this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();let e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){let e=this.getViewportScrollPosition(),{width:a,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+a,height:r,width:a}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};let e=this._document,a=this._getWindow(),r=e.documentElement,i=r.getBoundingClientRect(),o=-i.top||e.body.scrollTop||a.scrollY||r.scrollTop||0,s=-i.left||e.body.scrollLeft||a.scrollX||r.scrollLeft||0;return{top:o,left:s}}change(e=Yg){return e>0?this._change.pipe(Xr(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){let e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static \u0275fac=function(a){return new(a||n)};static \u0275prov=_({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Qg=[[["caption"]],[["colgroup"],["col"]],"*"],em=["caption","colgroup, col","*"];function tm(n,t){n&1&&xe(0,2)}function am(n,t){n&1&&(T(0,"thead",0),we(1,1),O(),T(2,"tbody",0),we(3,2)(4,3),O(),T(5,"tfoot",0),we(6,4),O())}function nm(n,t){n&1&&we(0,1)(1,2)(2,3)(3,4)}var dt=new L("CDK_TABLE");var is=(()=>{class n{template=f(tt);constructor(){}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","cdkCellDef",""]]})}return n})(),B0=(()=>{class n{template=f(tt);constructor(){}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","cdkHeaderCellDef",""]]})}return n})(),os=(()=>{class n{template=f(tt);constructor(){}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","cdkFooterCellDef",""]]})}return n})(),_n=(()=>{class n{_table=f(dt,{optional:!0});_hasStickyChanged=!1;get name(){return this._name}set name(e){this._setNameInput(e)}_name;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;get stickyEnd(){return this._stickyEnd}set stickyEnd(e){e!==this._stickyEnd&&(this._stickyEnd=e,this._hasStickyChanged=!0)}_stickyEnd=!1;cell;headerCell;footerCell;cssClassFriendlyName;_columnCssClassName;constructor(){}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}_updateColumnCssClassName(){this._columnCssClassName=[`cdk-column-${this.cssClassFriendlyName}`]}_setNameInput(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","cdkColumnDef",""]],contentQueries:function(a,r,i){if(a&1&&(He(i,is,5),He(i,B0,5),He(i,os,5)),a&2){let o;Ie(o=Le())&&(r.cell=o.first),Ie(o=Le())&&(r.headerCell=o.first),Ie(o=Le())&&(r.footerCell=o.first)}},inputs:{name:[0,"cdkColumnDef","name"],sticky:[2,"sticky","sticky",de],stickyEnd:[2,"stickyEnd","stickyEnd",de]},features:[J([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}])]})}return n})(),ns=class{constructor(t,e){e.nativeElement.classList.add(...t._columnCssClassName)}};var H0=(()=>{class n extends ns{constructor(){let e=f(_n),a=f(Z);super(e,a);let r=e._table?._getCellRole();r&&a.nativeElement.setAttribute("role",r)}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["cdk-footer-cell"],["td","cdk-footer-cell",""]],hostAttrs:[1,"cdk-footer-cell"],features:[$]})}return n})(),N0=(()=>{class n extends ns{constructor(){let e=f(_n),a=f(Z);super(e,a);let r=e._table?._getCellRole();r&&a.nativeElement.setAttribute("role",r)}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:[1,"cdk-cell"],features:[$]})}return n})();var j1=(()=>{class n{template=f(tt);_differs=f(qt);columns;_columnsDiffer;constructor(){}ngOnChanges(e){if(!this._columnsDiffer){let a=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(a).create(),this._columnsDiffer.diff(a)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof V1?e.headerCell.template:this instanceof Wr?e.footerCell.template:e.cell.template}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,features:[ce]})}return n})(),V1=(()=>{class n extends j1{_table=f(dt,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(f(tt),f(qt))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:[0,"cdkHeaderRowDef","columns"],sticky:[2,"cdkHeaderRowDefSticky","sticky",de]},features:[$,ce]})}return n})(),Wr=(()=>{class n extends j1{_table=f(dt,{optional:!0});_hasStickyChanged=!1;get sticky(){return this._sticky}set sticky(e){e!==this._sticky&&(this._sticky=e,this._hasStickyChanged=!0)}_sticky=!1;constructor(){super(f(tt),f(qt))}ngOnChanges(e){super.ngOnChanges(e)}hasStickyChanged(){let e=this._hasStickyChanged;return this.resetStickyChanged(),e}resetStickyChanged(){this._hasStickyChanged=!1}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:[0,"cdkFooterRowDef","columns"],sticky:[2,"cdkFooterRowDefSticky","sticky",de]},features:[$,ce]})}return n})(),ss=(()=>{class n extends j1{_table=f(dt,{optional:!0});when;constructor(){super(f(tt),f(qt))}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","cdkRowDef",""]],inputs:{columns:[0,"cdkRowDefColumns","columns"],when:[0,"cdkRowDefWhen","when"]},features:[$]})}return n})(),Ra=(()=>{class n{_viewContainer=f(nt);cells;context;static mostRecentCellOutlet=null;constructor(){n.mostRecentCellOutlet=this}ngOnDestroy(){n.mostRecentCellOutlet===this&&(n.mostRecentCellOutlet=null)}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","cdkCellOutlet",""]]})}return n})();var z1=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275cmp=Y({type:n,selectors:[["cdk-footer-row"],["tr","cdk-footer-row",""]],hostAttrs:["role","row",1,"cdk-footer-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(a,r){a&1&&we(0,0)},dependencies:[Ra],encapsulation:2})}return n})(),q1=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275cmp=Y({type:n,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(a,r){a&1&&we(0,0)},dependencies:[Ra],encapsulation:2})}return n})(),U0=(()=>{class n{templateRef=f(tt);_contentClassNames=["cdk-no-data-row","cdk-row"];_cellClassNames=["cdk-cell","cdk-no-data-cell"];_cellSelector="td, cdk-cell, [cdk-cell], .cdk-cell";constructor(){}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["ng-template","cdkNoDataRow",""]]})}return n})(),V0=["top","bottom","left","right"],O1=class{_isNativeHtmlTable;_stickCellCss;_isBrowser;_needsPositionStickyOnElement;direction;_positionListener;_tableInjector;_elemSizeCache=new WeakMap;_resizeObserver=globalThis?.ResizeObserver?new globalThis.ResizeObserver(t=>this._updateCachedSizes(t)):null;_updatedStickyColumnsParamsToReplay=[];_stickyColumnsReplayTimeout=null;_cachedCellWidths=[];_borderCellCss;_destroyed=!1;constructor(t,e,a=!0,r=!0,i,o,s){this._isNativeHtmlTable=t,this._stickCellCss=e,this._isBrowser=a,this._needsPositionStickyOnElement=r,this.direction=i,this._positionListener=o,this._tableInjector=s,this._borderCellCss={top:`${e}-border-elem-top`,bottom:`${e}-border-elem-bottom`,left:`${e}-border-elem-left`,right:`${e}-border-elem-right`}}clearStickyPositioning(t,e){(e.includes("left")||e.includes("right"))&&this._removeFromStickyColumnReplayQueue(t);let a=[];for(let r of t)r.nodeType===r.ELEMENT_NODE&&a.push(r,...Array.from(r.children));bt({write:()=>{for(let r of a)this._removeStickyStyle(r,e)}},{injector:this._tableInjector})}updateStickyColumns(t,e,a,r=!0,i=!0){if(!t.length||!this._isBrowser||!(e.some(g=>g)||a.some(g=>g))){this._positionListener?.stickyColumnsUpdated({sizes:[]}),this._positionListener?.stickyEndColumnsUpdated({sizes:[]});return}let o=t[0],s=o.children.length,c=this.direction==="rtl",d=c?"right":"left",l=c?"left":"right",h=e.lastIndexOf(!0),p=a.indexOf(!0),u,y,m;i&&this._updateStickyColumnReplayQueue({rows:[...t],stickyStartStates:[...e],stickyEndStates:[...a]}),bt({earlyRead:()=>{u=this._getCellWidths(o,r),y=this._getStickyStartColumnPositions(u,e),m=this._getStickyEndColumnPositions(u,a)},write:()=>{for(let g of t)for(let v=0;v<s;v++){let C=g.children[v];e[v]&&this._addStickyStyle(C,d,y[v],v===h),a[v]&&this._addStickyStyle(C,l,m[v],v===p)}this._positionListener&&u.some(g=>!!g)&&(this._positionListener.stickyColumnsUpdated({sizes:h===-1?[]:u.slice(0,h+1).map((g,v)=>e[v]?g:null)}),this._positionListener.stickyEndColumnsUpdated({sizes:p===-1?[]:u.slice(p).map((g,v)=>a[v+p]?g:null).reverse()}))}},{injector:this._tableInjector})}stickRows(t,e,a){if(!this._isBrowser)return;let r=a==="bottom"?t.slice().reverse():t,i=a==="bottom"?e.slice().reverse():e,o=[],s=[],c=[];bt({earlyRead:()=>{for(let d=0,l=0;d<r.length;d++){if(!i[d])continue;o[d]=l;let h=r[d];c[d]=this._isNativeHtmlTable?Array.from(h.children):[h];let p=this._retrieveElementSize(h).height;l+=p,s[d]=p}},write:()=>{let d=i.lastIndexOf(!0);for(let l=0;l<r.length;l++){if(!i[l])continue;let h=o[l],p=l===d;for(let u of c[l])this._addStickyStyle(u,a,h,p)}a==="top"?this._positionListener?.stickyHeaderRowsUpdated({sizes:s,offsets:o,elements:c}):this._positionListener?.stickyFooterRowsUpdated({sizes:s,offsets:o,elements:c})}},{injector:this._tableInjector})}updateStickyFooterContainer(t,e){this._isNativeHtmlTable&&bt({write:()=>{let a=t.querySelector("tfoot");a&&(e.some(r=>!r)?this._removeStickyStyle(a,["bottom"]):this._addStickyStyle(a,"bottom",0,!1))}},{injector:this._tableInjector})}destroy(){this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._resizeObserver?.disconnect(),this._destroyed=!0}_removeStickyStyle(t,e){if(!t.classList.contains(this._stickCellCss))return;for(let r of e)t.style[r]="",t.classList.remove(this._borderCellCss[r]);V0.some(r=>e.indexOf(r)===-1&&t.style[r])?t.style.zIndex=this._getCalculatedZIndex(t):(t.style.zIndex="",this._needsPositionStickyOnElement&&(t.style.position=""),t.classList.remove(this._stickCellCss))}_addStickyStyle(t,e,a,r){t.classList.add(this._stickCellCss),r&&t.classList.add(this._borderCellCss[e]),t.style[e]=`${a}px`,t.style.zIndex=this._getCalculatedZIndex(t),this._needsPositionStickyOnElement&&(t.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(t){let e={top:100,bottom:10,left:1,right:1},a=0;for(let r of V0)t.style[r]&&(a+=e[r]);return a?`${a}`:""}_getCellWidths(t,e=!0){if(!e&&this._cachedCellWidths.length)return this._cachedCellWidths;let a=[],r=t.children;for(let i=0;i<r.length;i++){let o=r[i];a.push(this._retrieveElementSize(o).width)}return this._cachedCellWidths=a,a}_getStickyStartColumnPositions(t,e){let a=[],r=0;for(let i=0;i<t.length;i++)e[i]&&(a[i]=r,r+=t[i]);return a}_getStickyEndColumnPositions(t,e){let a=[],r=0;for(let i=t.length;i>0;i--)e[i]&&(a[i]=r,r+=t[i]);return a}_retrieveElementSize(t){let e=this._elemSizeCache.get(t);if(e)return e;let a=t.getBoundingClientRect(),r={width:a.width,height:a.height};return this._resizeObserver&&(this._elemSizeCache.set(t,r),this._resizeObserver.observe(t,{box:"border-box"})),r}_updateStickyColumnReplayQueue(t){this._removeFromStickyColumnReplayQueue(t.rows),this._stickyColumnsReplayTimeout||this._updatedStickyColumnsParamsToReplay.push(t)}_removeFromStickyColumnReplayQueue(t){let e=new Set(t);for(let a of this._updatedStickyColumnsParamsToReplay)a.rows=a.rows.filter(r=>!e.has(r));this._updatedStickyColumnsParamsToReplay=this._updatedStickyColumnsParamsToReplay.filter(a=>!!a.rows.length)}_updateCachedSizes(t){let e=!1;for(let a of t){let r=a.borderBoxSize?.length?{width:a.borderBoxSize[0].inlineSize,height:a.borderBoxSize[0].blockSize}:{width:a.contentRect.width,height:a.contentRect.height};r.width!==this._elemSizeCache.get(a.target)?.width&&rm(a.target)&&(e=!0),this._elemSizeCache.set(a.target,r)}e&&this._updatedStickyColumnsParamsToReplay.length&&(this._stickyColumnsReplayTimeout&&clearTimeout(this._stickyColumnsReplayTimeout),this._stickyColumnsReplayTimeout=setTimeout(()=>{if(!this._destroyed){for(let a of this._updatedStickyColumnsParamsToReplay)this.updateStickyColumns(a.rows,a.stickyStartStates,a.stickyEndStates,!0,!1);this._updatedStickyColumnsParamsToReplay=[],this._stickyColumnsReplayTimeout=null}},0))}};function rm(n){return["cdk-cell","cdk-header-cell","cdk-footer-cell"].some(t=>n.classList.contains(t))}var rs=new L("CDK_SPL");var B1=(()=>{class n{viewContainer=f(nt);elementRef=f(Z);constructor(){let e=f(dt);e._rowOutlet=this,e._outletAssigned()}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","rowOutlet",""]]})}return n})(),H1=(()=>{class n{viewContainer=f(nt);elementRef=f(Z);constructor(){let e=f(dt);e._headerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","headerRowOutlet",""]]})}return n})(),N1=(()=>{class n{viewContainer=f(nt);elementRef=f(Z);constructor(){let e=f(dt);e._footerRowOutlet=this,e._outletAssigned()}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","footerRowOutlet",""]]})}return n})(),U1=(()=>{class n{viewContainer=f(nt);elementRef=f(Z);constructor(){let e=f(dt);e._noDataRowOutlet=this,e._outletAssigned()}static \u0275fac=function(a){return new(a||n)};static \u0275dir=x({type:n,selectors:[["","noDataRowOutlet",""]]})}return n})(),$1=(()=>{class n{_differs=f(qt);_changeDetectorRef=f(je);_elementRef=f(Z);_dir=f(E1,{optional:!0});_platform=f(qe);_viewRepeater=f(Cn);_viewportRuler=f(j0);_stickyPositioningListener=f(rs,{optional:!0,skipSelf:!0});_document=f(N);_data;_onDestroy=new K;_renderRows;_renderChangeSubscription;_columnDefsByName=new Map;_rowDefs;_headerRowDefs;_footerRowDefs;_dataDiffer;_defaultRowDef;_customColumnDefs=new Set;_customRowDefs=new Set;_customHeaderRowDefs=new Set;_customFooterRowDefs=new Set;_customNoDataRow;_headerRowDefChanged=!0;_footerRowDefChanged=!0;_stickyColumnStylesNeedReset=!0;_forceRecalculateCellWidths=!0;_cachedRenderRowsMap=new Map;_isNativeHtmlTable;_stickyStyler;stickyCssClass="cdk-table-sticky";needsPositionStickyOnElement=!0;_isServer;_isShowingNoDataRow=!1;_hasAllOutlets=!1;_hasInitialized=!1;_getCellRole(){if(this._cellRoleInternal===void 0){let e=this._elementRef.nativeElement.getAttribute("role");return e==="grid"||e==="treegrid"?"gridcell":"cell"}return this._cellRoleInternal}_cellRoleInternal=void 0;get trackBy(){return this._trackByFn}set trackBy(e){this._trackByFn=e}_trackByFn;get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}_dataSource;get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=e,this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}_multiTemplateDataRows=!1;get fixedLayout(){return this._fixedLayout}set fixedLayout(e){this._fixedLayout=e,this._forceRecalculateCellWidths=!0,this._stickyColumnStylesNeedReset=!0}_fixedLayout=!1;contentChanged=new ae;viewChange=new be({start:0,end:Number.MAX_VALUE});_rowOutlet;_headerRowOutlet;_footerRowOutlet;_noDataRowOutlet;_contentColumnDefs;_contentRowDefs;_contentHeaderRowDefs;_contentFooterRowDefs;_noDataRow;_injector=f(Re);constructor(){f(new oi("role"),{optional:!0})||this._elementRef.nativeElement.setAttribute("role","table"),this._isServer=!this._platform.isBrowser,this._isNativeHtmlTable=this._elementRef.nativeElement.nodeName==="TABLE",this._dataDiffer=this._differs.find([]).create((a,r)=>this.trackBy?this.trackBy(r.dataIndex,r.data):r)}ngOnInit(){this._setupStickyStyler(),this._viewportRuler.change().pipe(Oe(this._onDestroy)).subscribe(()=>{this._forceRecalculateCellWidths=!0})}ngAfterContentInit(){this._hasInitialized=!0}ngAfterContentChecked(){this._canRender()&&this._render()}ngOnDestroy(){this._stickyStyler?.destroy(),[this._rowOutlet?.viewContainer,this._headerRowOutlet?.viewContainer,this._footerRowOutlet?.viewContainer,this._cachedRenderRowsMap,this._customColumnDefs,this._customRowDefs,this._customHeaderRowDefs,this._customFooterRowDefs,this._columnDefsByName].forEach(e=>{e?.clear()}),this._headerRowDefs=[],this._footerRowDefs=[],this._defaultRowDef=null,this._onDestroy.next(),this._onDestroy.complete(),ts(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();let e=this._dataDiffer.diff(this._renderRows);if(!e){this._updateNoDataRow(),this.contentChanged.next();return}let a=this._rowOutlet.viewContainer;this._viewRepeater.applyChanges(e,a,(r,i,o)=>this._getEmbeddedViewArgs(r.item,o),r=>r.item.data,r=>{r.operation===Qt.INSERTED&&r.context&&this._renderCellTemplateForItem(r.record.item.rowDef,r.context)}),this._updateRowIndexContext(),e.forEachIdentityChange(r=>{let i=a.get(r.currentIndex);i.context.$implicit=r.item.data}),this._updateNoDataRow(),this.contentChanged.next(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}setNoDataRow(e){this._customNoDataRow=e}updateStickyHeaderRowStyles(){let e=this._getRenderedRows(this._headerRowOutlet);if(this._isNativeHtmlTable){let r=z0(this._headerRowOutlet,"thead");r&&(r.style.display=e.length?"":"none")}let a=this._headerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,a,"top"),this._headerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyFooterRowStyles(){let e=this._getRenderedRows(this._footerRowOutlet);if(this._isNativeHtmlTable){let r=z0(this._footerRowOutlet,"tfoot");r&&(r.style.display=e.length?"":"none")}let a=this._footerRowDefs.map(r=>r.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,a,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,a),this._footerRowDefs.forEach(r=>r.resetStickyChanged())}updateStickyColumnStyles(){let e=this._getRenderedRows(this._headerRowOutlet),a=this._getRenderedRows(this._rowOutlet),r=this._getRenderedRows(this._footerRowOutlet);(this._isNativeHtmlTable&&!this._fixedLayout||this._stickyColumnStylesNeedReset)&&(this._stickyStyler.clearStickyPositioning([...e,...a,...r],["left","right"]),this._stickyColumnStylesNeedReset=!1),e.forEach((i,o)=>{this._addStickyColumnStyles([i],this._headerRowDefs[o])}),this._rowDefs.forEach(i=>{let o=[];for(let s=0;s<a.length;s++)this._renderRows[s].rowDef===i&&o.push(a[s]);this._addStickyColumnStyles(o,i)}),r.forEach((i,o)=>{this._addStickyColumnStyles([i],this._footerRowDefs[o])}),Array.from(this._columnDefsByName.values()).forEach(i=>i.resetStickyChanged())}_outletAssigned(){!this._hasAllOutlets&&this._rowOutlet&&this._headerRowOutlet&&this._footerRowOutlet&&this._noDataRowOutlet&&(this._hasAllOutlets=!0,this._canRender()&&this._render())}_canRender(){return this._hasAllOutlets&&this._hasInitialized}_render(){this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&this._rowDefs.length;let a=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._stickyColumnStylesNeedReset=this._stickyColumnStylesNeedReset||a,this._forceRecalculateCellWidths=a,this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():this._stickyColumnStylesNeedReset&&this.updateStickyColumnStyles(),this._checkStickyStates()}_getAllRenderRows(){let e=[],a=this._cachedRenderRowsMap;if(this._cachedRenderRowsMap=new Map,!this._data)return e;for(let r=0;r<this._data.length;r++){let i=this._data[r],o=this._getRenderRowsForData(i,r,a.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let s=0;s<o.length;s++){let c=o[s],d=this._cachedRenderRowsMap.get(c.data);d.has(c.rowDef)?d.get(c.rowDef).push(c):d.set(c.rowDef,[c]),e.push(c)}}return e}_getRenderRowsForData(e,a,r){return this._getRowDefs(e,a).map(o=>{let s=r&&r.has(o)?r.get(o):[];if(s.length){let c=s.shift();return c.dataIndex=a,c}else return{data:e,rowDef:o,dataIndex:a}})}_cacheColumnDefs(){this._columnDefsByName.clear(),as(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(a=>{this._columnDefsByName.has(a.name),this._columnDefsByName.set(a.name,a)})}_cacheRowDefs(){this._headerRowDefs=as(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=as(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=as(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);let e=this._rowDefs.filter(a=>!a.when);!this.multiTemplateDataRows&&e.length>1,this._defaultRowDef=e[0]}_renderUpdatedColumns(){let e=(o,s)=>{let c=!!s.getColumnsDiff();return o||c},a=this._rowDefs.reduce(e,!1);a&&this._forceRenderDataRows();let r=this._headerRowDefs.reduce(e,!1);r&&this._forceRenderHeaderRows();let i=this._footerRowDefs.reduce(e,!1);return i&&this._forceRenderFooterRows(),a||r||i}_switchDataSource(e){this._data=[],ts(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet&&this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;ts(this.dataSource)?e=this.dataSource.connect(this):Ln(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=I(this.dataSource)),this._renderChangeSubscription=e.pipe(Oe(this._onDestroy)).subscribe(a=>{this._data=a||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,a)=>this._renderRow(this._headerRowOutlet,e,a)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,a)=>this._renderRow(this._footerRowOutlet,e,a)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,a){let r=Array.from(a?.columns||[]).map(s=>{let c=this._columnDefsByName.get(s);return c}),i=r.map(s=>s.sticky),o=r.map(s=>s.stickyEnd);this._stickyStyler.updateStickyColumns(e,i,o,!this._fixedLayout||this._forceRecalculateCellWidths)}_getRenderedRows(e){let a=[];for(let r=0;r<e.viewContainer.length;r++){let i=e.viewContainer.get(r);a.push(i.rootNodes[0])}return a}_getRowDefs(e,a){if(this._rowDefs.length==1)return[this._rowDefs[0]];let r=[];if(this.multiTemplateDataRows)r=this._rowDefs.filter(i=>!i.when||i.when(a,e));else{let i=this._rowDefs.find(o=>o.when&&o.when(a,e))||this._defaultRowDef;i&&r.push(i)}return r.length,r}_getEmbeddedViewArgs(e,a){let r=e.rowDef,i={$implicit:e.data};return{templateRef:r.template,context:i,index:a}}_renderRow(e,a,r,i={}){let o=e.viewContainer.createEmbeddedView(a.template,i,r);return this._renderCellTemplateForItem(a,i),o}_renderCellTemplateForItem(e,a){for(let r of this._getCellTemplates(e))Ra.mostRecentCellOutlet&&Ra.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,a);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){let e=this._rowOutlet.viewContainer;for(let a=0,r=e.length;a<r;a++){let o=e.get(a).context;o.count=r,o.first=a===0,o.last=a===r-1,o.even=a%2===0,o.odd=!o.even,this.multiTemplateDataRows?(o.dataIndex=this._renderRows[a].dataIndex,o.renderIndex=a):o.index=this._renderRows[a].dataIndex}}_getCellTemplates(e){return!e||!e.columns?[]:Array.from(e.columns,a=>{let r=this._columnDefsByName.get(a);return e.extractCellTemplate(r)})}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){let e=(a,r)=>a||r.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&(this._stickyColumnStylesNeedReset=!0,this.updateStickyColumnStyles())}_setupStickyStyler(){let e=this._dir?this._dir.value:"ltr";this._stickyStyler=new O1(this._isNativeHtmlTable,this.stickyCssClass,this._platform.isBrowser,this.needsPositionStickyOnElement,e,this._stickyPositioningListener,this._injector),(this._dir?this._dir.change:I()).pipe(Oe(this._onDestroy)).subscribe(a=>{this._stickyStyler.direction=a,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(a=>!a._table||a._table===this)}_updateNoDataRow(){let e=this._customNoDataRow||this._noDataRow;if(!e)return;let a=this._rowOutlet.viewContainer.length===0;if(a===this._isShowingNoDataRow)return;let r=this._noDataRowOutlet.viewContainer;if(a){let i=r.createEmbeddedView(e.templateRef),o=i.rootNodes[0];if(i.rootNodes.length===1&&o?.nodeType===this._document.ELEMENT_NODE){o.setAttribute("role","row"),o.classList.add(...e._contentClassNames);let s=o.querySelectorAll(e._cellSelector);for(let c=0;c<s.length;c++)s[c].classList.add(...e._cellClassNames)}}else r.clear();this._isShowingNoDataRow=a,this._changeDetectorRef.markForCheck()}static \u0275fac=function(a){return new(a||n)};static \u0275cmp=Y({type:n,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(a,r,i){if(a&1&&(He(i,U0,5),He(i,_n,5),He(i,ss,5),He(i,V1,5),He(i,Wr,5)),a&2){let o;Ie(o=Le())&&(r._noDataRow=o.first),Ie(o=Le())&&(r._contentColumnDefs=o),Ie(o=Le())&&(r._contentRowDefs=o),Ie(o=Le())&&(r._contentHeaderRowDefs=o),Ie(o=Le())&&(r._contentFooterRowDefs=o)}},hostAttrs:[1,"cdk-table"],hostVars:2,hostBindings:function(a,r){a&2&&Ge("cdk-table-fixed-layout",r.fixedLayout)},inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:[2,"multiTemplateDataRows","multiTemplateDataRows",de],fixedLayout:[2,"fixedLayout","fixedLayout",de]},outputs:{contentChanged:"contentChanged"},exportAs:["cdkTable"],features:[J([{provide:dt,useExisting:n},{provide:Cn,useClass:Aa},{provide:rs,useValue:null}])],ngContentSelectors:em,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(a,r){a&1&&(ot(Qg),xe(0),xe(1,1),ke(2,tm,1,0),ke(3,am,7,0)(4,nm,4,0)),a&2&&(P(2),ve(r._isServer?2:-1),P(),ve(r._isNativeHtmlTable?3:4))},dependencies:[H1,B1,U1,N1],styles:[`.cdk-table-fixed-layout{table-layout:fixed}
`],encapsulation:2})}return n})();function as(n,t){return n.concat(Array.from(t))}function z0(n,t){let e=t.toUpperCase(),a=n.viewContainer.element.nativeElement;for(;a;){let r=a.nodeType===1?a.nodeName:null;if(r===e)return a;if(r==="TABLE")break;a=a.parentNode}return null}function K_(n){return n!=null&&`${n}`!="false"}var im=[[["caption"]],[["colgroup"],["col"]],"*"],om=["caption","colgroup, col","*"];function sm(n,t){n&1&&xe(0,2)}function cm(n,t){n&1&&(T(0,"thead",0),we(1,1),O(),T(2,"tbody",2),we(3,3)(4,4),O(),T(5,"tfoot",0),we(6,5),O())}function dm(n,t){n&1&&we(0,1)(1,3)(2,4)(3,5)}var $0=(()=>{class n extends $1{stickyCssClass="mat-mdc-table-sticky";needsPositionStickyOnElement=!1;static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275cmp=Y({type:n,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-mdc-table","mdc-data-table__table"],hostVars:2,hostBindings:function(a,r){a&2&&Ge("mdc-table-fixed-layout",r.fixedLayout)},exportAs:["matTable"],features:[J([{provide:$1,useExisting:n},{provide:dt,useExisting:n},{provide:Cn,useClass:Aa},{provide:rs,useValue:null}]),$],ngContentSelectors:om,decls:5,vars:2,consts:[["role","rowgroup"],["headerRowOutlet",""],["role","rowgroup",1,"mdc-data-table__content"],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(a,r){a&1&&(ot(im),xe(0),xe(1,1),ke(2,sm,1,0),ke(3,cm,7,0)(4,dm,4,0)),a&2&&(P(2),ve(r._isServer?2:-1),P(),ve(r._isNativeHtmlTable?3:4))},dependencies:[H1,B1,U1,N1],styles:[`.mat-mdc-table-sticky{position:sticky !important}mat-table{display:block}mat-header-row{min-height:var(--mat-table-header-container-height, 56px)}mat-row{min-height:var(--mat-table-row-item-container-height, 52px)}mat-footer-row{min-height:var(--mat-table-footer-container-height, 52px)}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:first-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:first-of-type:not(:only-of-type){padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-header-cell:last-of-type:not(:only-of-type),[dir=rtl] mat-footer-cell:last-of-type:not(:only-of-type){padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}.mat-mdc-table{min-width:100%;border:0;border-spacing:0;table-layout:auto;white-space:normal;background-color:var(--mat-table-background-color, var(--mat-sys-surface))}.mdc-data-table__cell{box-sizing:border-box;overflow:hidden;text-align:left;text-overflow:ellipsis}[dir=rtl] .mdc-data-table__cell{text-align:right}.mdc-data-table__cell,.mdc-data-table__header-cell{padding:0 16px}.mat-mdc-header-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-header-container-height, 56px);color:var(--mat-table-header-headline-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-header-headline-font, var(--mat-sys-title-small-font, Roboto, sans-serif));line-height:var(--mat-table-header-headline-line-height, var(--mat-sys-title-small-line-height));font-size:var(--mat-table-header-headline-size, var(--mat-sys-title-small-size, 14px));font-weight:var(--mat-table-header-headline-weight, var(--mat-sys-title-small-weight, 500))}.mat-mdc-row{height:var(--mat-table-row-item-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)))}.mat-mdc-row,.mdc-data-table__content{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-family:var(--mat-table-row-item-label-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-row-item-label-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-row-item-label-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-row-item-label-text-weight, var(--mat-sys-body-medium-weight))}.mat-mdc-footer-row{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;height:var(--mat-table-footer-container-height, 52px);color:var(--mat-table-row-item-label-text-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-table-footer-supporting-text-font, var(--mat-sys-body-medium-font, Roboto, sans-serif));line-height:var(--mat-table-footer-supporting-text-line-height, var(--mat-sys-body-medium-line-height));font-size:var(--mat-table-footer-supporting-text-size, var(--mat-sys-body-medium-size, 14px));font-weight:var(--mat-table-footer-supporting-text-weight, var(--mat-sys-body-medium-weight));letter-spacing:var(--mat-table-footer-supporting-text-tracking, var(--mat-sys-body-medium-tracking))}.mat-mdc-header-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-header-headline-tracking, var(--mat-sys-title-small-tracking));font-weight:inherit;line-height:inherit;box-sizing:border-box;text-overflow:ellipsis;overflow:hidden;outline:none;text-align:left}[dir=rtl] .mat-mdc-header-cell{text-align:right}.mdc-data-table__row:last-child>.mat-mdc-header-cell{border-bottom:none}.mat-mdc-cell{border-bottom-color:var(--mat-table-row-item-outline-color, var(--mat-sys-outline, rgba(0, 0, 0, 0.12)));border-bottom-width:var(--mat-table-row-item-outline-width, 1px);border-bottom-style:solid;letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking));line-height:inherit}.mdc-data-table__row:last-child>.mat-mdc-cell{border-bottom:none}.mat-mdc-footer-cell{letter-spacing:var(--mat-table-row-item-label-text-tracking, var(--mat-sys-body-medium-tracking))}mat-row.mat-mdc-row,mat-header-row.mat-mdc-header-row,mat-footer-row.mat-mdc-footer-row{border-bottom:none}.mat-mdc-table tbody,.mat-mdc-table tfoot,.mat-mdc-table thead,.mat-mdc-cell,.mat-mdc-footer-cell,.mat-mdc-header-row,.mat-mdc-row,.mat-mdc-footer-row,.mat-mdc-table .mat-mdc-header-cell{background:inherit}.mat-mdc-table mat-header-row.mat-mdc-header-row,.mat-mdc-table mat-row.mat-mdc-row,.mat-mdc-table mat-footer-row.mat-mdc-footer-cell{height:unset}mat-header-cell.mat-mdc-header-cell,mat-cell.mat-mdc-cell,mat-footer-cell.mat-mdc-footer-cell{align-self:stretch}
`],encapsulation:2})}return n})(),G0=(()=>{class n extends is{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275dir=x({type:n,selectors:[["","matCellDef",""]],features:[J([{provide:is,useExisting:n}]),$]})}return n})();var W0=(()=>{class n extends os{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275dir=x({type:n,selectors:[["","matFooterCellDef",""]],features:[J([{provide:os,useExisting:n}]),$]})}return n})(),K0=(()=>{class n extends _n{get name(){return this._name}set name(e){this._setNameInput(e)}_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push(`mat-column-${this.cssClassFriendlyName}`)}static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275dir=x({type:n,selectors:[["","matColumnDef",""]],inputs:{name:[0,"matColumnDef","name"]},features:[J([{provide:_n,useExisting:n},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:n}]),$]})}return n})();var Z0=(()=>{class n extends H0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275dir=x({type:n,selectors:[["mat-footer-cell"],["td","mat-footer-cell",""]],hostAttrs:[1,"mat-mdc-footer-cell","mdc-data-table__cell"],features:[$]})}return n})(),X0=(()=>{class n extends N0{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275dir=x({type:n,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:[1,"mat-mdc-cell","mdc-data-table__cell"],features:[$]})}return n})();var J0=(()=>{class n extends Wr{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275dir=x({type:n,selectors:[["","matFooterRowDef",""]],inputs:{columns:[0,"matFooterRowDef","columns"],sticky:[2,"matFooterRowDefSticky","sticky",de]},features:[J([{provide:Wr,useExisting:n}]),$]})}return n})(),Y0=(()=>{class n extends ss{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275dir=x({type:n,selectors:[["","matRowDef",""]],inputs:{columns:[0,"matRowDefColumns","columns"],when:[0,"matRowDefWhen","when"]},features:[J([{provide:ss,useExisting:n}]),$]})}return n})();var Q0=(()=>{class n extends z1{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275cmp=Y({type:n,selectors:[["mat-footer-row"],["tr","mat-footer-row",""]],hostAttrs:["role","row",1,"mat-mdc-footer-row","mdc-data-table__row"],exportAs:["matFooterRow"],features:[J([{provide:z1,useExisting:n}]),$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(a,r){a&1&&we(0,0)},dependencies:[Ra],encapsulation:2})}return n})(),e2=(()=>{class n extends q1{static \u0275fac=(()=>{let e;return function(r){return(e||(e=he(n)))(r||n)}})();static \u0275cmp=Y({type:n,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-mdc-row","mdc-data-table__row"],exportAs:["matRow"],features:[J([{provide:q1,useExisting:n}]),$],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(a,r){a&1&&we(0,0)},dependencies:[Ra],encapsulation:2})}return n})();var lm=new L("MATERIAL_ANIMATIONS");var t2=null;function G1(){return f(lm,{optional:!0})?.animationsDisabled||f(ld,{optional:!0})==="NoopAnimations"?"di-disabled":(t2??=f(Yo).matchMedia("(prefers-reduced-motion)").matches,t2?"reduced-motion":"enabled")}function gb(){return G1()!=="enabled"}var hm=["determinateSpinner"];function um(n,t){if(n&1&&(En(),T(0,"svg",11),le(1,"circle",12),O()),n&2){let e=G();it("viewBox",e._viewBox()),P(),oa("stroke-dasharray",e._strokeCircumference(),"px")("stroke-dashoffset",e._strokeCircumference()/2,"px")("stroke-width",e._circleStrokeWidth(),"%"),it("r",e._circleRadius())}}var pm=new L("mat-progress-spinner-default-options",{providedIn:"root",factory:ym});function ym(){return{diameter:a2}}var a2=100,fm=10,n2=(()=>{class n{_elementRef=f(Z);_noopAnimations;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;_defaultColor="primary";_determinateCircle;constructor(){let e=f(pm),a=G1(),r=this._elementRef.nativeElement;this._noopAnimations=a==="di-disabled"&&!!e&&!e._forceAnimations,this.mode=r.nodeName.toLowerCase()==="mat-spinner"?"indeterminate":"determinate",!this._noopAnimations&&a==="reduced-motion"&&r.classList.add("mat-progress-spinner-reduced-motion"),e&&(e.color&&(this.color=this._defaultColor=e.color),e.diameter&&(this.diameter=e.diameter),e.strokeWidth&&(this.strokeWidth=e.strokeWidth))}mode;get value(){return this.mode==="determinate"?this._value:0}set value(e){this._value=Math.max(0,Math.min(100,e||0))}_value=0;get diameter(){return this._diameter}set diameter(e){this._diameter=e||0}_diameter=a2;get strokeWidth(){return this._strokeWidth??this.diameter/10}set strokeWidth(e){this._strokeWidth=e||0}_strokeWidth;_circleRadius(){return(this.diameter-fm)/2}_viewBox(){let e=this._circleRadius()*2+this.strokeWidth;return`0 0 ${e} ${e}`}_strokeCircumference(){return 2*Math.PI*this._circleRadius()}_strokeDashOffset(){return this.mode==="determinate"?this._strokeCircumference()*(100-this._value)/100:null}_circleStrokeWidth(){return this.strokeWidth/this.diameter*100}static \u0275fac=function(a){return new(a||n)};static \u0275cmp=Y({type:n,selectors:[["mat-progress-spinner"],["mat-spinner"]],viewQuery:function(a,r){if(a&1&&ti(hm,5),a&2){let i;Ie(i=Le())&&(r._determinateCircle=i.first)}},hostAttrs:["role","progressbar","tabindex","-1",1,"mat-mdc-progress-spinner","mdc-circular-progress"],hostVars:18,hostBindings:function(a,r){a&2&&(it("aria-valuemin",0)("aria-valuemax",100)("aria-valuenow",r.mode==="determinate"?r.value:null)("mode",r.mode),Pa("mat-"+r.color),oa("width",r.diameter,"px")("height",r.diameter,"px")("--mat-progress-spinner-size",r.diameter+"px")("--mat-progress-spinner-active-indicator-width",r.diameter+"px"),Ge("_mat-animation-noopable",r._noopAnimations)("mdc-circular-progress--indeterminate",r.mode==="indeterminate"))},inputs:{color:"color",mode:"mode",value:[2,"value","value",qn],diameter:[2,"diameter","diameter",qn],strokeWidth:[2,"strokeWidth","strokeWidth",qn]},exportAs:["matProgressSpinner"],decls:14,vars:11,consts:[["circle",""],["determinateSpinner",""],["aria-hidden","true",1,"mdc-circular-progress__determinate-container"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__determinate-circle-graphic"],["cx","50%","cy","50%",1,"mdc-circular-progress__determinate-circle"],["aria-hidden","true",1,"mdc-circular-progress__indeterminate-container"],[1,"mdc-circular-progress__spinner-layer"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-left"],[3,"ngTemplateOutlet"],[1,"mdc-circular-progress__gap-patch"],[1,"mdc-circular-progress__circle-clipper","mdc-circular-progress__circle-right"],["xmlns","http://www.w3.org/2000/svg","focusable","false",1,"mdc-circular-progress__indeterminate-circle-graphic"],["cx","50%","cy","50%"]],template:function(a,r){if(a&1&&(rt(0,um,2,8,"ng-template",null,0,bd),T(2,"div",2,1),En(),T(4,"svg",3),le(5,"circle",4),O()(),od(),T(6,"div",5)(7,"div",6)(8,"div",7),we(9,8),O(),T(10,"div",9),we(11,8),O(),T(12,"div",10),we(13,8),O()()()),a&2){let i=yt(1);P(4),it("viewBox",r._viewBox()),P(),oa("stroke-dasharray",r._strokeCircumference(),"px")("stroke-dashoffset",r._strokeDashOffset(),"px")("stroke-width",r._circleStrokeWidth(),"%"),it("r",r._circleRadius()),P(4),Me("ngTemplateOutlet",i),P(2),Me("ngTemplateOutlet",i),P(2),Me("ngTemplateOutlet",i)}},dependencies:[Nn],styles:[`.mat-mdc-progress-spinner{--mat-progress-spinner-animation-multiplier: 1;display:block;overflow:hidden;line-height:0;position:relative;direction:ltr;transition:opacity 250ms cubic-bezier(0.4, 0, 0.6, 1)}.mat-mdc-progress-spinner circle{stroke-width:var(--mat-progress-spinner-active-indicator-width, 4px)}.mat-mdc-progress-spinner._mat-animation-noopable,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__determinate-circle{transition:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__spinner-layer,.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container{animation:none !important}.mat-mdc-progress-spinner._mat-animation-noopable .mdc-circular-progress__indeterminate-container circle{stroke-dasharray:0 !important}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic,.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle{stroke:currentColor;stroke:CanvasText}}.mat-progress-spinner-reduced-motion{--mat-progress-spinner-animation-multiplier: 1.25}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1;animation:mdc-circular-progress-container-rotate calc(1568.2352941176ms*var(--mat-progress-spinner-animation-multiplier)) linear infinite}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:rgba(0,0,0,0)}.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:var(--mat-progress-spinner-active-indicator-color, var(--mat-sys-primary))}@media(forced-colors: active){.mat-mdc-progress-spinner .mdc-circular-progress__determinate-circle,.mat-mdc-progress-spinner .mdc-circular-progress__indeterminate-circle-graphic{stroke:CanvasText}}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset 500ms cubic-bezier(0, 0, 0.2, 1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin calc(1333ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate calc(5332ms*var(--mat-progress-spinner-animation-multiplier)) cubic-bezier(0.4, 0, 0.2, 1) infinite both}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}
`],encapsulation:2,changeDetection:0})}return n})();var r2=(()=>{class n{static \u0275fac=function(a){return new(a||n)};static \u0275mod=oe({type:n});static \u0275inj=re({imports:[E0]})}return n})();var bn=class n{decimalPipe=f(Un);transform(t){return Number.isFinite(+t)?this.decimalPipe.transform(t):t.toString()}static \u0275fac=function(e){return new(e||n)};static \u0275pipe=ei({name:"safeNumber",type:n,pure:!0})};var mm=["category"],km=["value"],vm=n=>({$implicit:n});function Mm(n,t){if(n&1&&le(0,"i-lucide",7),n&2){let e=G(2);Me("name",e.headerIcon())}}function wm(n,t){n&1&&le(0,"mat-spinner",11)}function Cm(n,t){if(n&1){let e=jt();T(0,"button",13),Ms("animate-fade-out"),vs("animate-fade-in"),Se("click",function(){ht(e);let r=G(2);return ut(r.addRow.emit())}),We(1," Hinzuf\xFCgen "),O()}}function _m(n,t){if(n&1){let e=jt();T(0,"header",4),Se("click",function(){ht(e),G();let r=yt(1);return ut(r.toggle())}),T(1,"div",5)(2,"div",6),ke(3,Mm,1,1,"i-lucide",7),T(4,"h2",8),We(5),O()(),T(6,"div",9)(7,"h1",10),We(8),ri(9,"safeNumber"),O(),le(10,"i-lucide",7),O(),ke(11,wm,1,0,"mat-spinner",11),O(),ke(12,Cm,2,0,"button",12),O()}if(n&2){let e=G(),a=yt(1);P(3),ve(e.headerIcon()?3:-1),P(2),Vt(" ",e.headerTitle()," "),P(3),Vt(" ",ii(9,6,e.total()),"\u20AC "),P(2),Me("name",a.expanded?"chevron-up":"chevron-down"),P(),ve(e.isSaving()?11:-1),P(),ve(e.showAddButton()&&a.expanded?12:-1)}}function bm(n,t){n&1&&le(0,"mat-spinner",14)}function Sm(n,t){if(n&1){let e=jt();T(0,"input",32,1),Se("blur",function(){ht(e);let r=G(4);return ut(r.resetForm())})("keyup.enter",function(){ht(e);let r=G(4);return ut(r.onCategoryEnterPressed())}),O()}}function xm(n,t){if(n&1){let e=jt();T(0,"span",33),Se("click",function(){ht(e);let r=G().$implicit,i=G(3);return ut(i.editCategory(r))}),We(1),O()}if(n&2){let e=G().$implicit;P(),Vt(" ",e.category," ")}}function Im(n,t){if(n&1&&(T(0,"td",29),ke(1,Sm,2,0,"input",30)(2,xm,2,1,"span",31),O()),n&2){let e=t.$implicit,a=G(3);P(),ve(a.selectedRow()===e.id&&a.selectedField()==="category"?1:2)}}function Lm(n,t){n&1&&(T(0,"td",34),We(1," Summe "),O())}function Dm(n,t){if(n&1){let e=jt();T(0,"input",37,2),Se("blur",function(){ht(e);let r=G(4);return ut(r.resetForm())})("keyup.enter",function(){ht(e);let r=G(4);return ut(r.selectedRow.set(null))}),O()}}function Am(n,t){if(n&1){let e=jt();T(0,"span",33),Se("click",function(){ht(e);let r=G().$implicit,i=G(3);return ut(i.editValue(r))}),We(1),ri(2,"safeNumber"),O()}if(n&2){let e=G().$implicit;P(),Vt(" ",ii(2,1,e.value)," ")}}function Rm(n,t){if(n&1&&(T(0,"td",35),ke(1,Dm,2,0,"input",36)(2,Am,3,3,"span",31),O()),n&2){let e=t.$implicit,a=G(3);P(),ve(a.selectedRow()===e.id&&a.selectedField()==="value"?1:2)}}function Em(n,t){if(n&1&&(T(0,"td",38),We(1),ri(2,"safeNumber"),O()),n&2){let e=G(3);P(),Vt(" ",ii(2,1,e.total())," ")}}function Tm(n,t){if(n&1){let e=jt();T(0,"td",39)(1,"button",40),Se("click",function(){let r=ht(e).$implicit,i=G(3);return ut(i.deleteRow.emit(r.id))}),O()()}}function Fm(n,t){n&1&&le(0,"td",41)}function Pm(n,t){}function Om(n,t){if(n&1&&(T(0,"td",43),rt(1,Pm,0,0,"ng-template",44),O()),n&2){let e=t.$implicit,a=G().$implicit;P(),Me("ngTemplateOutlet",a.template)("ngTemplateOutletContext",_d(2,vm,e))}}function jm(n,t){n&1&&le(0,"td",41)}function Vm(n,t){if(n&1&&(ra(0,26),rt(1,Om,2,4,"td",42)(2,jm,1,0,"td",25),ia()),n&2){let e=t.$implicit;Me("matColumnDef",e.name)}}function zm(n,t){n&1&&le(0,"tr",45)}function qm(n,t){n&1&&le(0,"tr",46)}function Bm(n,t){if(n&1&&(T(0,"div",15),Ms("animate-fade-out"),vs("animate-fade-in"),T(1,"table",16),ra(2,17),rt(3,Im,3,1,"td",18)(4,Lm,2,0,"td",19),ia(),ra(5,20),rt(6,Rm,3,1,"td",21)(7,Em,3,3,"td",22),ia(),ra(8,23),rt(9,Tm,2,0,"td",24)(10,Fm,1,0,"td",25),ia(),kd(11,Vm,3,1,"ng-container",26,md),rt(13,zm,1,0,"tr",27)(14,qm,1,0,"tr",28),O()()),n&2){let e=G(2);P(),Me("dataSource",e.data())("trackBy",e.trackByFn)("formGroup",e.form),P(10),vd(e.customColumns()),P(2),Me("matRowDefColumns",e.displayedColumns()),P(),Me("matFooterRowDef",e.displayedColumns())}}function Hm(n,t){if(n&1&&ke(0,bm,1,0,"mat-spinner",14)(1,Bm,15,5,"div",15),n&2){let e=G();ve(e.isLoading()?0:1)}}var i2=class n{fb=f(g0);safeNumberPipe=f(bn);data=ue.required();isLoading=ue.required();isSaving=ue.required();isAdded=ue.required();scrollOnAdd=ue.required();customColumns=ue([]);headerIcon=ue();headerTitle=ue();showAddButton=ue(!0);updateRow=si();deleteRow=si();addRow=si();category=zn("category");value=zn("value");selectedRow=ie(null);selectedField=ie(null);total=Ce(()=>this.data().reduce((t,e)=>{let a=Number(e.value),r=Number.isFinite(a);return t+(r?a:0)},0));displayedColumns=Ce(()=>["category","value"].concat(this.customColumns().map(t=>t.name)).concat("delete_button"));focusCategoryOnAdd=zt(()=>{this.isAdded()&&this.scrollOnAdd()&&B(()=>{let t=this.data().at(-1);this.editCategory(t),setTimeout(()=>this.category()?.nativeElement.scrollIntoView({behavior:"smooth"}))})});form=this.initForm();trackByFn(t,e){return e?.id}setForm(t){this.form=this.fb.group({id:this.fb.control(t.id),category:this.fb.control(t.category),value:this.fb.control(this.safeNumberPipe.transform(t.value))}),this.form.valueChanges.pipe(Xr(500)).subscribe(()=>{this.updateRow.emit(this.form.getRawValue())})}editCategory(t){this.setForm(t),this.selectedRow.set(t.id),this.selectedField.set("category"),setTimeout(()=>this.category()?.nativeElement.select())}editValue(t){this.setForm(t),this.selectedRow.set(t.id),this.selectedField.set("value"),setTimeout(()=>this.value()?.nativeElement.select())}resetForm(){this.selectedRow.set(null),this.selectedField.set(null),this.form=this.initForm()}onCategoryEnterPressed(){this.selectedField.set("value"),setTimeout(()=>this.value()?.nativeElement.select())}initForm(){return this.fb.group({id:this.fb.control(null),category:this.fb.control(""),value:this.fb.control("")})}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=Y({type:n,selectors:[["app-money-table"]],viewQuery:function(e,a){e&1&&(Vn(a.category,mm,5),Vn(a.value,km,5)),e&2&&ai(2)},hostAttrs:[1,"md:self-center","md:w-2/3"],inputs:{data:[1,"data"],isLoading:[1,"isLoading"],isSaving:[1,"isSaving"],isAdded:[1,"isAdded"],scrollOnAdd:[1,"scrollOnAdd"],customColumns:[1,"customColumns"],headerIcon:[1,"headerIcon"],headerTitle:[1,"headerTitle"],showAddButton:[1,"showAddButton"]},outputs:{updateRow:"updateRow",deleteRow:"deleteRow",addRow:"addRow"},features:[J([Un,bn])],decls:4,vars:2,consts:[["accItem","cdkAccordionItem"],["category",""],["value",""],[1,"sticky","top-14","z-10","mb-2","flex","items-center","justify-between","bg-gray-900/80","px-3","py-2","backdrop-blur","md:top-16"],[1,"sticky","top-14","z-10","mb-2","flex","items-center","justify-between","bg-gray-900/80","px-3","py-2","backdrop-blur","md:top-16",3,"click"],[1,"grid","grid-cols-[127px_1fr]","items-center","gap-4"],[1,"flex","items-center","gap-1"],[3,"name"],[1,"text-sm","font-semibold","text-gray-100"],[1,"flex","items-center"],[1,"text-(length:--text-xs)","leading-(--text-sm--line-height)","font-medium"],["diameter","18",1,"self-center"],["maffiButton","","icon","CirclePlus","size","small"],["maffiButton","","icon","CirclePlus","size","small",3,"click"],[1,"self-center"],[1,"flex","w-full","items-center","justify-center","rounded-lg","bg-gray-800","p-1"],["mat-table","",1,"!min-w-[95%]","!bg-transparent","!p-4",3,"dataSource","trackBy","formGroup"],["matColumnDef","category"],["mat-cell","","class","!h-1 !w-24 !p-0.5 !text-xs !text-gray-100",4,"matCellDef"],["mat-footer-cell","","class","!h-1 !p-0 !pt-2 font-semibold !text-gray-100",4,"matFooterCellDef"],["matColumnDef","value"],["mat-cell","","class","!h-1 !w-12 !p-0 !text-right !text-xs !text-gray-100",4,"matCellDef"],["mat-footer-cell","","class","!p-0 !pt-2 !text-right font-semibold !text-gray-100",4,"matFooterCellDef"],["matColumnDef","delete_button"],["mat-cell","","class","self-right w-1 !p-0 !text-right",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],[3,"matColumnDef"],["mat-row","","class","!h-1",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","class","!h-1",4,"matFooterRowDef"],["mat-cell","",1,"!h-1","!w-24","!p-0.5","!text-xs","!text-gray-100"],["formControlName","category",1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none"],[1,"block","h-5","w-full"],["formControlName","category",1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"blur","keyup.enter"],[1,"block","h-5","w-full",3,"click"],["mat-footer-cell","",1,"!h-1","!p-0","!pt-2","font-semibold","!text-gray-100"],["mat-cell","",1,"!h-1","!w-12","!p-0","!text-right","!text-xs","!text-gray-100"],["formControlName","value",1,"w-12","rounded","border-1","border-blue-400","bg-gray-600","p-1","text-right","outline-none"],["formControlName","value",1,"w-12","rounded","border-1","border-blue-400","bg-gray-600","p-1","text-right","outline-none",3,"blur","keyup.enter"],["mat-footer-cell","",1,"!p-0","!pt-2","!text-right","font-semibold","!text-gray-100"],["mat-cell","",1,"self-right","w-1","!p-0","!text-right"],["maffiButton","","icon","Trash","size","mini","theme","secondary",3,"click"],["mat-footer-cell",""],["mat-cell","","class","!overflow-visible !p-0 !text-xs !text-gray-100",4,"matCellDef"],["mat-cell","",1,"!overflow-visible","!p-0","!text-xs","!text-gray-100"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["mat-row","",1,"!h-1"],["mat-footer-row","",1,"!h-1"]],template:function(e,a){if(e&1&&(T(0,"cdk-accordion-item",null,0),ke(2,_m,13,8,"header",3),ke(3,Hm,2,1),O()),e&2){let r=yt(1);P(2),ve(a.headerTitle()||a.showAddButton()?2:-1),P(),ve(r.expanded?3:-1)}},dependencies:[Jt,X0,G0,K0,Z0,Q0,J0,r2,n2,e2,Y0,$0,m0,Uo,s0,c0,f1,g1,W0,Nn,O0,Zo,Ko,bn],encapsulation:2,changeDetection:0})};export{Nn as a,x4 as b,q2 as c,ac as d,$a as e,Ut as f,by as g,cc as h,Bl as i,qi as j,en as k,lc as l,hc as m,$l as n,Gl as o,Wl as p,Xl as q,Do as r,cw as s,Ao as t,gn as u,Ww as v,b1 as w,S1 as x,La as y,qe as z,w1 as A,$r as B,Bg as C,Hg as D,E9 as E,Qo as F,E1 as G,E0 as H,i1 as I,Uo as J,Nu as K,Ia as L,s0 as M,c0 as N,vg as O,To as P,p7 as Q,Cg as R,f1 as S,g1 as T,Ig as U,g0 as V,m0 as W,K_ as X,W7 as Y,gb as Z,w7 as _,C7 as $,_7 as aa,b7 as ba,S7 as ca,x7 as da,I7 as ea,L7 as fa,D7 as ga,A7 as ha,R7 as ia,E7 as ja,T7 as ka,Ko as la,Zo as ma,Jt as na,T0 as oa,F0 as pa,r2 as qa,$C as ra,i2 as sa};
