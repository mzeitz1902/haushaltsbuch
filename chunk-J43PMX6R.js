import{f as gt,g as pt,h as ft}from"./chunk-Z74UMFYD.js";import"./chunk-SSK5MFVN.js";import"./chunk-Z4NMBXY4.js";import{c as se}from"./chunk-MOHJNMWV.js";import{$ as Ge,A as I,Aa as E,Ab as at,Ad as Ct,B as He,Ca as Qe,Cb as we,D as We,Da as Ze,Ea as et,Ed as ae,F as ze,Fa as h,Fd as re,Ga as l,Ha as d,I as q,Ia as R,Id as bt,Jb as rt,Jd as yt,K as T,Kd as Mt,M as F,Md as Dt,N as j,Nb as st,O as s,Oc as ht,Od as It,Pa as ie,Pb as lt,Pc as Se,Pd as xt,Q as K,Qa as De,Qd as wt,R as J,Ra as u,S as Ce,T as X,Ta as p,Tb as dt,Td as w,Ua as tt,Ub as ct,Ud as St,V as Ue,Va as it,X as Q,Z as $e,Zc as V,_ as be,a as N,ad as Te,b as G,ba as ye,bd as ut,ca as Z,cd as Fe,d as Ne,da as L,db as ne,e as Oe,fa as g,fb as H,gb as f,h as _e,hb as Ie,i as ve,ib as xe,la as m,lb as nt,n as D,na as ee,o as Le,oa as qe,p as Be,pa as Ke,qa as Me,r as O,ra as Je,rb as b,rc as mt,s as Pe,sb as y,sc as _,t as Ve,ua as te,v as Ye,va as Xe,vd as _t,w as Y,wd as oe,xa as B,y as je,ya as P,yb as x,za as A,zb as ot,zd as vt}from"./chunk-ES6AJNRY.js";var fe=Ne(mt());var le=class n{facade=s(_);revenue=this.facade.revenue;total=this.facade.totalRevenue;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingRevenue;isAdded=this.facade.isRevenueAdded;addRevenue(){this.facade.addRevenue()}updateRevenue(o){this.facade.updateRevenue(o)}deleteRevenue(o){this.facade.deleteRevenue(o)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-revenue-month-table"]],decls:1,vars:5,consts:[["headerTitle","Einnahmen","headerIcon","BanknoteArrowUp",3,"addRow","updateRow","deleteRow","data","total","isLoading","isSaving","isAdded"]],template:function(e,t){e&1&&(l(0,"app-money-table-v2",0),u("addRow",function(){return t.addRevenue()})("updateRow",function(a){return t.updateRevenue(a)})("deleteRow",function(a){return t.deleteRevenue(a)}),d()),e&2&&h("data",t.revenue())("total",t.total())("isLoading",t.isLoading())("isSaving",t.isSaving())("isAdded",t.isAdded())},dependencies:[w],encapsulation:2})};var de=class n{facade=s(_);fixedCosts=this.facade.fixedCosts;total=this.facade.totalFixedCosts;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingFixedCost;isAdded=this.facade.isFixedCostAdded;addFixedCost(){this.facade.addFixedCost()}updateFixedCost(o){this.facade.updateFixedCost(o)}deleteFixedCost(o){this.facade.deleteFixedCost(o)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-fixed-costs-month-table"]],decls:1,vars:5,consts:[["headerTitle","Fixkosten","headerIcon","BanknoteArrowDown",3,"addRow","updateRow","deleteRow","data","total","isLoading","isSaving","isAdded"]],template:function(e,t){e&1&&(l(0,"app-money-table-v2",0),u("addRow",function(){return t.addFixedCost()})("updateRow",function(a){return t.updateFixedCost(a)})("deleteRow",function(a){return t.deleteFixedCost(a)}),d()),e&2&&h("data",t.fixedCosts())("total",t.total())("isLoading",t.isLoading())("isSaving",t.isSaving())("isAdded",t.isAdded())},dependencies:[w],encapsulation:2})};var ce=class n{facade=s(_);data=this.facade.variableCosts;total=this.facade.totalVariableCosts;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingVariableCost;isAdded=this.facade.isVariableCostAdded;add(){this.facade.addVariableCost()}delete(o){this.facade.deleteVariableCost(o)}update(o){this.facade.updateVariableCost(o)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-variable-costs-table"]],features:[nt([lt])],decls:1,vars:6,consts:[["headerTitle","Variabel","headerIcon","BanknoteArrowUp","useDataTemplate","valuesWithHistory","valuesWithHistoryKind","variableCosts",3,"addRow","deleteRow","updateRow","data","isAdded","isLoading","isSaving","total","hasSum"]],template:function(e,t){e&1&&(l(0,"app-money-table-v2",0),u("addRow",function(){return t.add()})("deleteRow",function(a){return t.delete(a)})("updateRow",function(a){return t.update(a)}),d()),e&2&&h("data",t.data())("isAdded",t.isAdded())("isLoading",t.isLoading())("isSaving",t.isSaving())("total",t.total())("hasSum",!1)},dependencies:[_t,w],encapsulation:2})};function Gt(n,o){}var he=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},Ae="mdc-dialog--open",Tt="mdc-dialog--opening",Ft="mdc-dialog--closing",qt=150,Kt=75,Jt=(()=>{class n extends xt{_animationStateChanged=new Ue;_animationsEnabled=!Fe();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Et(this._config.enterAnimationDuration)??qt:0;_exitAnimationDuration=this._animationsEnabled?Et(this._config.exitAnimationDuration)??Kt:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(At,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Tt,Ae)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Ae),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Ae),this._animationsEnabled?(this._hostElement.style.setProperty(At,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Ft)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Tt,Ft)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ye(n)))(i||n)}})();static \u0275cmp=m({type:n,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,i){t&2&&(De("id",i._config.id),te("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),ne("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[Me],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1),Je(2,Gt,0,0,"ng-template",2),d()())},dependencies:[bt],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return n})(),At="--mat-dialog-transition-duration";function Et(n){return n==null?null:typeof n=="number"?n:n.endsWith("ms")?Se(n.substring(0,n.length-2)):n.endsWith("s")?Se(n.substring(0,n.length-1))*1e3:n==="0"?0:null}var me=(function(n){return n[n.OPEN=0]="OPEN",n[n.CLOSING=1]="CLOSING",n[n.CLOSED=2]="CLOSED",n})(me||{}),S=class{_ref;_config;_containerInstance;componentInstance;componentRef=null;disableClose;id;_afterOpened=new ve(1);_beforeClosed=new ve(1);_result;_closeFallbackTimeout;_state=me.OPEN;_closeInteractionType;constructor(o,e,t){this._ref=o,this._config=e,this._containerInstance=t,this.disableClose=e.disableClose,this.id=o.id,o.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(Y(i=>i.state==="opened"),I(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Y(i=>i.state==="closed"),I(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),o.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Ye(this.backdropClick(),this.keydownEvents().pipe(Y(i=>i.keyCode===27&&!this.disableClose&&!ut(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),Xt(this,i.type==="keydown"?"keyboard":"mouse"))})}close(o){let e=this._config.closePredicate;e&&!e(o,this._config,this.componentInstance)||(this._result=o,this._containerInstance._animationStateChanged.pipe(Y(t=>t.state==="closing"),I(1)).subscribe(t=>{this._beforeClosed.next(o),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=me.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(o){let e=this._ref.config.positionStrategy;return o&&(o.left||o.right)?o.left?e.left(o.left):e.right(o.right):e.centerHorizontally(),o&&(o.top||o.bottom)?o.top?e.top(o.top):e.bottom(o.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(o="",e=""){return this._ref.updateSize(o,e),this}addPanelClass(o){return this._ref.addPanelClass(o),this}removePanelClass(o){return this._ref.removePanelClass(o),this}getState(){return this._state}_finishDialogClose(){this._state=me.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function Xt(n,o,e){return n._closeInteractionType=o,n.close(e)}var z=new F("MatMdcDialogData"),Qt=new F("mat-mdc-dialog-default-options"),Zt=new F("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let n=s(Ce);return()=>Mt(n)}}),ke=(()=>{class n{_defaultOptions=s(Qt,{optional:!0});_scrollStrategy=s(Zt);_parentDialog=s(n,{optional:!0,skipSelf:!0});_idGenerator=s(Te);_injector=s(Ce);_dialog=s(wt);_animationsDisabled=Fe();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new _e;_afterOpenedAtThisLevel=new _e;dialogConfigClass=he;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Pe(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ze(void 0)));constructor(){this._dialogRefConstructor=S,this._dialogContainerType=Jt,this._dialogDataToken=z}open(e,t){let i;t=N(N({},this._defaultOptions||new he),t),t.id=t.id||this._idGenerator.getId("mat-mdc-dialog-"),t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let a=this._dialog.open(e,G(N({},t),{positionStrategy:Dt(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||t.enterAnimationDuration?.toLocaleString()==="0"||t.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:It,useValue:t}]},templateContext:()=>({dialogRef:i}),providers:(r,c,C)=>(i=new this._dialogRefConstructor(r,t,C),i.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:C},{provide:this._dialogDataToken,useValue:c.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=a.componentRef,i.componentInstance=a.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let r=this.openDialogs.indexOf(i);r>-1&&(this.openDialogs.splice(r,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static \u0275fac=function(t){return new(t||n)};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ei=(()=>{class n{_dialogRef=s(S,{optional:!0});_elementRef=s(Z);_dialog=s(ke);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=ti(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(t){return new(t||n)};static \u0275dir=ee({type:n})}return n})(),Rt=(()=>{class n extends ei{id=s(Te).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ye(n)))(i||n)}})();static \u0275dir=ee({type:n,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,i){t&2&&De("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[Me]})}return n})(),kt=(()=>{class n{static \u0275fac=function(t){return new(t||n)};static \u0275dir=ee({type:n,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Ke([yt])]})}return n})();function ti(n,o){let e=n.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?o.find(t=>t.id===e.id):null}var U=Ne(mt());var ue=class n{dialogRef=s(S);data=s(z);formModel=$e({month:(0,U.default)().add(1,"month").format("MM"),year:(0,U.default)().year()});form=ae(this.formModel);selectedYear=x(()=>this.formModel().year);months=x(()=>{let o=this.createdSnapshots.filter(e=>e.year()===this.selectedYear());return this.allMonths.filter(e=>!o.some(t=>t.month()===e.date.month()))});submitForm(){this.dialogRef.close(this.formModel())}allMonths=Array.from({length:12},(o,e)=>{let t=(0,U.default)().month(e);return{label:t.format("MMMM"),value:t.format("MM"),date:t}});years=[2025,2026];createdSnapshots=this.data.createdMonths.map(o=>(0,U.default)(o.month));static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-create-month-dialog"]],decls:9,vars:8,consts:[[1,"flex","flex-col","items-center","justify-center","p-4","**:text-white!"],["mat-dialog-title",""],["mat-dialog-content","",1,"flex!","w-full","flex-col","gap-2"],[1,"grid","w-full","grid-cols-2","gap-2"],["placeholder","Jahr ausw\xE4hlen","appendTo",".mat-mdc-dialog-title",3,"items","clearable","formField"],["bindLabel","label","bindValue","value","placeholder","Monat ausw\xE4hlen","appendTo",".mat-mdc-dialog-title",3,"items","clearable","formField"],["maffiButton","","icon","CirclePlus",1,"w-full","!justify-center",3,"click"]],template:function(e,t){e&1&&(l(0,"div",0)(1,"h1",1),f(2,"Monat anlegen"),d(),l(3,"div",2)(4,"div",3),R(5,"ng-select",4),B(),R(6,"ng-select",5),B(),d(),l(7,"button",6),u("click",function(){return t.submitForm()}),f(8," Anlegen "),d()()()),e&2&&(g(5),h("items",t.years)("clearable",!1),P(t.form.year,"formField"),g(),h("items",t.months())("clearable",!1),P(t.form.month,"formField"))},dependencies:[Rt,kt,se,oe,re],encapsulation:2})};function Nt(n){return Error(`Unable to find icon with the name "${n}"`)}function ii(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function Ot(n){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${n}".`)}function Lt(n){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${n}".`)}var M=class{url;svgText;options;svgElement=null;constructor(o,e,t){this.url=o,this.svgText=e,this.options=t}},Pt=(()=>{class n{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,t,i,a){this._httpClient=e,this._sanitizer=t,this._errorHandler=a,this._document=i}addSvgIcon(e,t,i){return this.addSvgIconInNamespace("",e,t,i)}addSvgIconLiteral(e,t,i){return this.addSvgIconLiteralInNamespace("",e,t,i)}addSvgIconInNamespace(e,t,i,a){return this._addSvgIconConfig(e,t,new M(i,null,a))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,i,a){let r=this._sanitizer.sanitize(L.HTML,i);if(!r)throw Lt(i);let c=V(r);return this._addSvgIconConfig(e,t,new M("",c,a))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,i){return this._addSvgIconSetConfig(e,new M(t,null,i))}addSvgIconSetLiteralInNamespace(e,t,i){let a=this._sanitizer.sanitize(L.HTML,t);if(!a)throw Lt(t);let r=V(a);return this._addSvgIconSetConfig(e,new M("",r,i))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(L.RESOURCE_URL,e);if(!t)throw Ot(e);let i=this._cachedIconsByUrl.get(t);return i?D(ge(i)):this._loadSvgIconFromConfig(new M(e,null)).pipe(q(a=>this._cachedIconsByUrl.set(t,a)),O(a=>ge(a)))}getNamedSvgIcon(e,t=""){let i=Bt(t,e),a=this._svgIconConfigs.get(i);if(a)return this._getSvgFromConfig(a);if(a=this._getIconConfigFromResolvers(t,e),a)return this._svgIconConfigs.set(i,a),this._getSvgFromConfig(a);let r=this._iconSetConfigs.get(t);return r?this._getSvgFromIconSetConfigs(e,r):Le(Nt(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?D(ge(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(O(t=>ge(t)))}_getSvgFromIconSetConfigs(e,t){let i=this._extractIconWithNameFromAnySet(e,t);if(i)return D(i);let a=t.filter(r=>!r.svgText).map(r=>this._loadSvgIconSetFromConfig(r).pipe(je(c=>{let k=`Loading icon set URL: ${this._sanitizer.sanitize(L.RESOURCE_URL,r.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(k)),D(null)})));return Ve(a).pipe(O(()=>{let r=this._extractIconWithNameFromAnySet(e,t);if(!r)throw Nt(e);return r}))}_extractIconWithNameFromAnySet(e,t){for(let i=t.length-1;i>=0;i--){let a=t[i];if(a.svgText&&a.svgText.toString().indexOf(e)>-1){let r=this._svgElementFromConfig(a),c=this._extractSvgIconFromSet(r,e,a.options);if(c)return c}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(q(t=>e.svgText=t),O(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?D(null):this._fetchIcon(e).pipe(q(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,i){let a=e.querySelector(`[id="${t}"]`);if(!a)return null;let r=a.cloneNode(!0);if(r.removeAttribute("id"),r.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(r,i);if(r.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(r),i);let c=this._svgElementFromString(V("<svg></svg>"));return c.appendChild(r),this._setSvgAttributes(c,i)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let i=t.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let t=this._svgElementFromString(V("<svg></svg>")),i=e.attributes;for(let a=0;a<i.length;a++){let{name:r,value:c}=i[a];r!=="id"&&t.setAttribute(r,c)}for(let a=0;a<e.childNodes.length;a++)e.childNodes[a].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[a].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:i}=e,a=i?.withCredentials??!1;if(!this._httpClient)throw ii();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let r=this._sanitizer.sanitize(L.RESOURCE_URL,t);if(!r)throw Ot(t);let c=this._inProgressUrlFetches.get(r);if(c)return c;let C=this._httpClient.get(r,{responseType:"text",withCredentials:a}).pipe(O(k=>V(k)),He(()=>this._inProgressUrlFetches.delete(r)),We());return this._inProgressUrlFetches.set(r,C),C}_addSvgIconConfig(e,t,i){return this._svgIconConfigs.set(Bt(e,t),i),this}_addSvgIconSetConfig(e,t){let i=this._iconSetConfigs.get(e);return i?i.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let i=0;i<this._resolvers.length;i++){let a=this._resolvers[i](t,e);if(a)return ni(a)?new M(a.url,null,a.options):new M(a,null)}}static \u0275fac=function(t){return new(t||n)(j(dt,8),j(ct),j(X,8),j(Q))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function ge(n){return n.cloneNode(!0)}function Bt(n,o){return n+":"+o}function ni(n){return!!(n.url&&n.options)}var oi=["*"],ai=new F("MAT_ICON_DEFAULT_OPTIONS"),ri=new F("mat-icon-location",{providedIn:"root",factory:()=>{let n=s(X),o=n?n.location:null;return{getPathname:()=>o?o.pathname+o.search:""}}}),Vt=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],si=Vt.map(n=>`[${n}]`).join(", "),li=/^url\(['"]?#(.*?)['"]?\)$/,Yt=(()=>{class n{_elementRef=s(Z);_iconRegistry=s(Pt);_location=s(ri);_errorHandler=s(Q);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName=null;_svgNamespace=null;_previousPath;_elementsWithExternalReferences;_currentIconFetch=Oe.EMPTY;constructor(){let e=s(new at("aria-hidden"),{optional:!0}),t=s(ai,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let i=e.childNodes[t];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),t.forEach(i=>e.classList.add(i)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((i,a)=>{i.forEach(r=>{a.setAttribute(r.name,`url('${e}#${r.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(si),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let a=0;a<t.length;a++)Vt.forEach(r=>{let c=t[a],C=c.getAttribute(r),k=C?C.match(li):null;if(k){let $=i.get(c);$||($=[],i.set(c,$)),$.push({name:r,value:k[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,i]=this._splitIconName(e);t&&(this._svgNamespace=t),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,t).pipe(I(1)).subscribe(a=>this._setSvgElement(a),a=>{let r=`Error retrieving icon ${t}:${i}! ${a.message}`;this._errorHandler.handleError(new Error(r))})}}static \u0275fac=function(t){return new(t||n)};static \u0275cmp=m({type:n,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,i){t&2&&(te("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),H(i.color?"mat-"+i.color:""),ne("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",rt],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:oi,decls:1,vars:0,template:function(t,i){t&1&&(tt(),it(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return n})();var Nn=jt(24,n=>String(n)),On=jt(60,n=>String(n));function jt(n,o){let e=Array(n);for(let t=0;t<n;t++)e[t]=o(t);return e}var Ht=(()=>{class n{transform(e){return Be(e)?e:D(e)}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275pipe=qe({name:"toObservable",type:n,pure:!0})}}return n})();function di(n,o){if(n&1){let e=ie();l(0,"button",4),u("click",function(){K(e);let i=p(2);return J(i._onClose())}),l(1,"mat-icon"),f(2,"close"),d()()}}function ci(n,o){if(n&1&&(l(0,"h1",0)(1,"span"),f(2),b(3,"toObservable"),b(4,"async"),d(),A(5,di,3,0,"button",3),d()),n&2){let e=p();g(2),Ie(y(4,4,y(3,2,e.data.title))),g(3),E(e.data.showCloseIcon?5:-1)}}function mi(n,o){if(n&1&&(l(0,"div",1)(1,"p"),f(2),b(3,"toObservable"),b(4,"async"),d()()),n&2){let e=p();g(2),Ie(y(4,3,y(3,1,e.data.description)))}}function hi(n,o){if(n&1){let e=ie();l(0,"button",7),u("click",function(){K(e);let i=p().$implicit,a=p();return J(a._onClick(i.onClick))}),f(1),b(2,"toObservable"),b(3,"async"),d()}if(n&2){let e=p().$implicit;H(e.class),h("matButton",e.type||"text")("color",e.color),g(),xe(" ",y(3,7,y(2,5,e.text))," ")}}function ui(n,o){if(n&1){let e=ie();l(0,"button",8),u("click",function(){K(e);let i=p().$implicit,a=p();return J(a._onClick(i.onClick))}),f(1),b(2,"toObservable"),b(3,"async"),d()}if(n&2){let e=p().$implicit;H(e.class),h("matButton",e.type||"text")("color",e.color),g(),xe(" ",y(3,7,y(2,5,e.text))," ")}}function gi(n,o){if(n&1&&A(0,hi,4,9,"button",5)(1,ui,4,9,"button",6),n&2){let e=o.$implicit;E(e.focusInitial?0:1)}}var Wt=(()=>{class n{constructor(){this.dialogRef=s(S),this.data=s(z)}_onClick(e){e&&e.call(this),this._onClose()}_onClose(){this.dialogRef.close()}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275cmp=m({type:n,selectors:[["mtx-dialog-container"]],hostAttrs:[1,"mtx-dialog-container"],exportAs:["mtxDialogContainer"],decls:5,vars:2,consts:[[1,"mtx-dialog-title"],[1,"mtx-dialog-content"],[1,"mtx-dialog-actions"],["matIconButton",""],["matIconButton","",3,"click"],["cdkFocusInitial","",3,"matButton","color","class"],[3,"matButton","color","class"],["cdkFocusInitial","",3,"click","matButton","color"],[3,"click","matButton","color"]],template:function(t,i){t&1&&(A(0,ci,6,6,"h1",0),A(1,mi,5,5,"div",1),l(2,"div",2),Ze(3,gi,2,1,null,null,Qe),d()),t&2&&(E(i.data.title?0:-1),g(),E(i.data.description?1:-1),g(2),et(i.data.buttons))},dependencies:[ft,pt,Yt,st,Ht],styles:[`.mtx-dialog-title{display:flex;justify-content:space-between;align-items:center;padding:8px 24px;margin:0;line-height:48px;font-weight:500;font-size:20px}.mtx-dialog-title .mat-mdc-button-base{margin-right:-16px}[dir=rtl] .mtx-dialog-title .mat-mdc-button-base{margin-right:0;margin-left:-16px}.mtx-dialog-content{display:block;max-height:65vh;padding:0 24px;overflow:auto;-webkit-overflow-scrolling:touch}.mtx-dialog-content p{margin-top:0}.mtx-dialog-actions{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:8px}.mtx-dialog-actions .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mtx-dialog-actions .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}}return n})(),pi={title:"",description:"",buttons:[{text:"Cancel",onClick:()=>{}},{color:"warn",text:"OK",focusInitial:!0,onClick:()=>{}}],showCloseIcon:!1,disableClose:!0,width:"300px"},zt=(()=>{class n{constructor(){this.dialog=s(ke)}originalOpen(e=Wt,t){return this.dialog.open(e,t)}open(e,t=Wt){let i=Object.assign({},pi,e);return this.dialog.open(t,G(N({},i),{data:i}))}alert(e,t="",i=()=>{}){this.open({title:e,description:t,buttons:[{color:"warn",text:"OK",onClick:()=>i()}]})}confirm(e,t="",i=()=>{},a=()=>{}){this.open({title:e,description:t,buttons:[{text:"Cancel",onClick:()=>a()},{color:"warn",text:"OK",focusInitial:!0,onClick:()=>i()}]})}static{this.\u0275fac=function(t){return new(t||n)}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var pe=class n{facade=s(_);data=this.facade.budgets;total=this.facade.totalBudgets;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingFixedCost;isAdded=this.facade.isBudgetAdded;add(){this.facade.addBudget()}delete(o){this.facade.deleteBudget(o)}update(o){this.facade.updateBudget(o)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-monthly-budgets-table"]],decls:1,vars:6,consts:[["headerTitle","Budgets","headerIcon","BanknoteArrowUp","useDataTemplate","valuesWithHistory","valuesWithHistoryKind","budgets",3,"addRow","deleteRow","updateRow","data","isAdded","isLoading","isSaving","total","hasSum"]],template:function(e,t){e&1&&(l(0,"app-money-table-v2",0),u("addRow",function(){return t.add()})("deleteRow",function(a){return t.delete(a)})("updateRow",function(a){return t.update(a)}),d()),e&2&&h("data",t.data())("isAdded",t.isAdded())("isLoading",t.isLoading())("isSaving",t.isSaving())("total",t.total())("hasSum",!1)},dependencies:[w],encapsulation:2})};function fi(n,o){if(n&1&&R(0,"app-revenue-month-table")(1,"app-fixed-costs-month-table")(2,"app-monthly-budgets-table")(3,"app-variable-costs-table")(4,"app-balance",7),n&2){let e=p();g(4),h("balance",e.balance())}}var Ut=class n{facade=s(_);mtxDialog=s(zt);year=we();month=we();snapshots=this.facade.snapshots;createdYears=this.facade.createdYears;formModel=ot(()=>{let o=(0,fe.default)().format("YYYY-MM-DD"),e=this.year();return this.year()&&this.month()&&(o=`${this.year()}-${this.month()}`),e&&!this.isYearValid(e)&&(e=null),{snapshot:o,year:e}});form=ae(this.formModel);currentYearSnapshots=x(()=>{let o=this.selectedYear();return this.snapshots().filter(e=>(0,fe.default)(e.month).format("YYYY").includes(o||""))});selectedMonth=x(()=>this.formModel().snapshot);selectedYear=x(()=>this.formModel().year);balance=x(()=>{let o=this.facade.totalFixedCosts(),e=this.facade.totalVariableCosts(),t=this.facade.totalRevenue(),i=this.facade.totalBudgets();return t-(o+e+i)});loadMonth=be(()=>{let o=this.selectedMonth(),e=this.selectedYear();o&&e&&this.isYearValid(e)&&this.isSnapshotCreated(o)&&this.facade.getMonth(o)});navigateOnFormModelChange=be(()=>{let{snapshot:o,year:e}=this.formModel(),t=this.facade.areMonthsLoaded();Ge(()=>{if(!t)return;let i=o?(0,fe.default)(o).format("MM"):null;if(e&&!o){this.facade.navigateTo(e);return}o&&this.facade.navigateTo(e,i)})});constructor(){this.facade.getCreatedMonths()}openCreateMonthDialog(){this.mtxDialog.originalOpen(ue,{height:"400px",data:{createdMonths:this.snapshots()}}).afterClosed().pipe(I(1)).subscribe(e=>{this.createMonth(e)})}createMonth(o){let e=`${o.year}-${o.month}-01`;this.facade.createMonth(e)}isYearValid(o){return this.createdYears().includes(o)}isSnapshotCreated(o){return this.snapshots().map(e=>e.month).includes(o)}static \u0275fac=function(e){return new(e||n)};static \u0275cmp=m({type:n,selectors:[["app-monthly-check"]],inputs:{year:[1,"year"],month:[1,"month"]},decls:9,vars:9,consts:[["title","Monatscheck"],["maffiButton","","icon","CirclePlus",3,"click"],[1,"container-max-sm","mt-2","flex","flex-col","items-center","gap-2","p-2","md:p-6"],[1,"grid","w-full","grid-cols-2","gap-4"],["placeholder","Jahr ausw\xE4hlen",3,"items","clearable","formField"],["bindLabel","translated","bindValue","month","placeholder","Monat ausw\xE4hlen",1,"higher",3,"items","clearable","formField"],[1,"flex","w-full","flex-col","gap-2","*:w-full"],[3,"balance"]],template:function(e,t){e&1&&(l(0,"app-header",0)(1,"button",1),u("click",function(){return t.openCreateMonthDialog()}),f(2," Monat anlegen "),d()(),l(3,"section",2)(4,"div",3),R(5,"ng-select",4),B(),R(6,"ng-select",5),B(),d(),l(7,"cdk-accordion",6),Xe("animate-fade-in"),A(8,fi,5,1),d()()),e&2&&(g(5),h("items",t.createdYears())("clearable",!1),P(t.form.year,"formField"),g(),h("items",t.currentYearSnapshots())("clearable",!1),P(t.form.snapshot,"formField"),g(2),E(t.selectedMonth()?8:-1))},dependencies:[gt,ht,se,vt,le,de,Ct,ce,oe,St,pe,re],encapsulation:2})};export{Ut as MonthlyCheckComponent};
