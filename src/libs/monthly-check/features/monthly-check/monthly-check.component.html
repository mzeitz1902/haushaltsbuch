<app-header title="Monatscheck">
  <button maffiButton icon="CirclePlus" (click)="openCreateMonthDialog()">
    Monat anlegen
  </button>
</app-header>

<section
  class="container-max-sm mt-2 flex flex-col items-center gap-2 p-2 md:p-6"
>
  <div class="grid w-full grid-cols-2 gap-4">
    <ng-select
      [items]="createdYears()"
      [clearable]="false"
      [formField]="form.year"
      placeholder="Jahr auswählen"
    />
    <ng-select
      class="higher"
      bindLabel="translated"
      bindValue="month"
      [items]="currentYearSnapshots()"
      [clearable]="false"
      [formField]="form.snapshot"
      placeholder="Monat auswählen"
    />
  </div>

  <cdk-accordion
    class="flex w-full flex-col gap-2 *:w-full"
    animate.enter="animate-fade-in"
  >
    @if (selectedMonth()) {
      <app-revenue-month-table />
      <app-fixed-costs-month-table />
      <app-monthly-budgets-table />
      <app-variable-costs-table />
      <app-balance
        [balanceReal]="balanceReal()"
        [balanceForecast]="balanceForecast()"
      />
    }
  </cdk-accordion>
</section>
