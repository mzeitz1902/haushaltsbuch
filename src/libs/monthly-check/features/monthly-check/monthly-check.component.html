<app-header title="Monatscheck">
  <button maffiButton icon="CirclePlus" (click)="openCreateMonthDialog()">
    Monat anlegen
  </button>
</app-header>

<section
  class="container-max-sm mt-2 flex flex-col items-center gap-2 p-2 md:p-6"
>
  <div class="grid w-full grid-cols-2 gap-4">
    <ng-select
      [items]="createdYears()"
      [clearable]="false"
      [field]="form.year"
      placeholder="Jahr auswählen"
    />
    <ng-select
      class="higher"
      bindLabel="translated"
      bindValue="month"
      [items]="currentYearSnapshots()"
      [clearable]="false"
      [field]="form.snapshot"
      placeholder="Monat auswählen"
    />
  </div>
  @if (isLoaded()) {
    <cdk-accordion
      class="flex w-full flex-col gap-2 *:w-full"
      animate.enter="animate-fade-in"
    >
      <app-revenue-month-table />
      <app-fixed-costs-month-table />
      <app-variable-costs-table />
      <app-balance [balance]="balance()" />
    </cdk-accordion>
  }
</section>
