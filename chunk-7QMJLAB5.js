import{a as B}from"./chunk-3ELQZEQY.js";import{f as vi,g as bi,h as Ci}from"./chunk-ARLZWVZ2.js";import{a as rt}from"./chunk-P54OROAN.js";import{a as ci}from"./chunk-BDWV27QP.js";import{$a as qe,A as zt,Aa as D,Ad as Oi,Ba as Kt,Bd as Ri,C as Wt,Ca as We,Cd as Pi,Da as $e,Db as fe,Dc as mi,Dd as Ni,E as Be,Ea as _,Eb as U,Ec as Et,Ed as Vi,Fa as l,Fd as Li,Ga as c,H as He,Ha as M,Hc as hi,Hd as Bi,Ib as ni,Id as Hi,J as H,Jb as ri,Jc as Ze,Jd as St,Kb as ai,Kd as et,L as E,La as Ce,Lb as Ke,Ld as ji,M as _e,Ma as ye,Md as ke,N as s,Nc as ui,Nd as tt,Oa as y,Ob as si,Od as it,P as f,Pa as Mt,Pb as li,Pc as Je,Pd as Yi,Q as g,Qa as h,Qd as zi,R as S,Ra as p,Rc as fi,Rd as ot,S as ae,Sa as Ue,Sc as gi,Sd as Wi,Ta as Xe,Tc as _i,Td as kt,U as Q,Ua as Zt,Uc as Se,Ud as Z,V as je,Va as Ge,Vc as ge,Vd as Fe,W as Ye,Wa as xe,Wc as It,Wd as J,Xa as we,Xd as nt,Y as O,Z as j,Za as De,_ as pe,_a as Qe,a as T,aa as ze,ab as Jt,b as le,ba as Y,bb as W,ca as $t,cb as ei,d as Lt,da as me,db as se,e as ce,ea as m,eb as u,fa as Ut,fb as Me,g as V,ga as ve,gb as F,h as wt,ia as Xt,ib as Tt,ja as Dt,jb as ti,jc as Ie,ka as v,lc as di,m as L,ma as he,md as yi,n as Bt,na as Gt,nc as pi,nd as K,o as Ht,oa as Qt,ob as x,od as xi,pa as ue,pb as N,q as de,qa as k,qb as q,qd as wi,r as Ve,rd as Di,s as jt,sd as Mi,ta as z,td as Ti,u as Le,ua as be,ub as $,ud as Ei,v as re,va as qt,vb as ii,vd as Ii,wb as oi,wd as Si,x as Yt,xa as R,xd as ki,ya as P,yb as Te,yd as Fi,z as I,za as w,zb as Ee,zd as Ai}from"./chunk-7DKHPSUB.js";var Vt=Lt(ci());var at=class o{facade=s(B);revenue=this.facade.revenue;total=this.facade.totalRevenue;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingRevenue;isAdded=this.facade.isRevenueAdded;addRevenue(){this.facade.addRevenue()}updateRevenue(n){this.facade.updateRevenue(n)}deleteRevenue(n){this.facade.deleteRevenue(n)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-revenue-month-table"]],decls:1,vars:5,consts:[["headerTitle","Einnahmen","headerIcon","BanknoteArrowUp",3,"addRow","updateRow","deleteRow","data","total","isLoading","isSaving","isAdded"]],template:function(e,t){e&1&&(l(0,"app-money-table",0),h("addRow",function(){return t.addRevenue()})("updateRow",function(r){return t.updateRevenue(r)})("deleteRow",function(r){return t.deleteRevenue(r)}),c()),e&2&&_("data",t.revenue())("total",t.total())("isLoading",t.isLoading())("isSaving",t.isSaving())("isAdded",t.isAdded())},dependencies:[nt],encapsulation:2})};var st=class o{facade=s(B);fixedCosts=this.facade.fixedCosts;total=this.facade.totalFixedCosts;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingFixedCost;isAdded=this.facade.isFixedCostAdded;addFixedCost(){this.facade.addFixedCost()}updateFixedCost(n){this.facade.updateFixedCost(n)}deleteFixedCost(n){this.facade.deleteFixedCost(n)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-fixed-costs-month-table"]],decls:1,vars:5,consts:[["headerTitle","Fixkosten","headerIcon","BanknoteArrowDown",3,"addRow","updateRow","deleteRow","data","total","isLoading","isSaving","isAdded"]],template:function(e,t){e&1&&(l(0,"app-money-table",0),h("addRow",function(){return t.addFixedCost()})("updateRow",function(r){return t.updateFixedCost(r)})("deleteRow",function(r){return t.deleteFixedCost(r)}),c()),e&2&&_("data",t.fixedCosts())("total",t.total())("isLoading",t.isLoading())("isSaving",t.isSaving())("isAdded",t.isAdded())},dependencies:[nt],encapsulation:2})};var go=["*"];function _o(o,n){if(o&1&&M(0,"div",3),o&2){let e=p(2);ei(e.arrowStyles)}}function vo(o,n){if(o&1){let e=y();l(0,"div",0),h("keydown",function(i){f(e);let r=p();return g(r._handleKeydown(i))})("click",function(){f(e);let i=p();return g(i._handleClick())})("mouseover",function(){f(e);let i=p();return g(i._handleMouseOver())})("mouseleave",function(){f(e);let i=p();return g(i._handleMouseLeave())})("animationstart",function(i){f(e);let r=p();return g(r._onAnimationStart(i.animationName))})("animationend",function(i){f(e);let r=p();return g(r._onAnimationDone(i.animationName))})("animationcancel",function(i){f(e);let r=p();return g(r._onAnimationDone(i.animationName))}),l(1,"div",1),Xe(2),c(),w(3,_o,1,2,"div",2),c()}if(o&2){let e=p();se(e._classList),W("mtx-popover-panel-animations-disabled",e._animationsDisabled)("mtx-popover-panel-exit-animation",e._panelAnimationState==="void")("mtx-popover-panel-animating",e._isAnimating)("mtx-popover-panel-without-arrow",e.hideArrow),_("id",e.panelId)("cdkTrapFocus",e.focusTrapEnabled)("cdkTrapFocusAutoCapture",e.focusTrapAutoCaptureEnabled),z("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null),m(3),D(e.hideArrow?-1:3)}}var bo=new E("MtxPopoverContent");function Co(){throw Error(`mtx-popover-trigger: must pass in an mtx-popover instance.

    Example:
      <mtx-popover #popover="mtxPopover"></mtx-popover>
      <button [mtxPopoverTriggerFor]="popover"></button>`)}function yo(){throw Error(`mtxPopoverPosition[0] value must be either 'above', 'below', 'before' or 'after'.
    Example: <mtx-popover [position]="['below', 'after']" #popover="mtxPopover"></mtx-popover>`)}function xo(){throw Error(`mtxPopoverPosition[1] value must be either 'above', 'below', 'before', 'after' or 'center'.
    Example: <mtx-popover [position]="['below', 'after']" #popover="mtxPopover"></mtx-popover>`)}var wo=new E("mtx-popover-default-options",{providedIn:"root",factory:Do});function Do(){return{backdropClass:"cdk-overlay-transparent-backdrop"}}var Mo=0,Ft="_mtx-popover-enter",lt="_mtx-popover-exit",ct=(()=>{class o{get position(){return this._position}set position(e){["before","after","above","below"].includes(e[0])||yo(),["before","after","above","below","center"].includes(e[1])||xo(),this._position=e,this.setPositionClasses()}set panelClass(e){let t=this._previousPanelClass,i=T({},this._classList);t&&t.length&&t.split(" ").forEach(r=>{i[r]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(r=>{i[r]=!0}),this._elementRef.nativeElement.className="",this.setPositionClasses()),this._classList=i}get classList(){return this.panelClass}set classList(e){this.panelClass=e}constructor(){this._injector=s(S),this._changeDetectorRef=s(fe),this._elementRef=s(Y),this._unusedNgZone=s(je),this._defaultOptions=s(wo),this._elevationPrefix="mat-elevation-z",this._baseElevation=null,this._animationsDisabled=!1,this._classList={},this._panelAnimationState="void",this._animationDone=new V,this._isAnimating=!1,this.closeDisabled=!1,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this.triggerEvent=this._defaultOptions.triggerEvent??"hover",this.enterDelay=this._defaultOptions.enterDelay??100,this.leaveDelay=this._defaultOptions.leaveDelay??100,this._position=this._defaultOptions.position??["below","after"],this.xOffset=this._defaultOptions.xOffset??0,this.yOffset=this._defaultOptions.yOffset??0,this.arrowWidth=this._defaultOptions.arrowWidth??16,this.arrowHeight=this._defaultOptions.arrowHeight??16,this.arrowOffsetX=this._defaultOptions.arrowOffsetX??20,this.arrowOffsetY=this._defaultOptions.arrowOffsetY??20,this.hideArrow=this._defaultOptions.hideArrow??!1,this.closeOnPanelClick=this._defaultOptions.closeOnPanelClick??!1,this.closeOnBackdropClick=this._defaultOptions.closeOnBackdropClick??!0,this.focusTrapEnabled=this._defaultOptions.focusTrapEnabled??!1,this.focusTrapAutoCaptureEnabled=this._defaultOptions.focusTrapAutoCaptureEnabled??!1,this.hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Q,this.panelId=`mtx-popover-panel-${Mo++}`,this._animationsDisabled=s($t,{optional:!0})==="NoopAnimations"}ngOnInit(){this.setPositionClasses()}ngOnDestroy(){this.closed.complete(),clearTimeout(this._exitFallbackTimeout)}_handleKeydown(e){switch(e.keyCode){case 27:ge(e)||(e.preventDefault(),this.closed.emit("keydown"));break}}_handleClick(){this.closeOnPanelClick&&this.closed.emit("click")}_handleMouseOver(){this.triggerEvent==="hover"&&(this.closeDisabled=!0)}_handleMouseLeave(){this.triggerEvent==="hover"&&setTimeout(()=>{this.closeDisabled=!1,this.closed.emit()},this.leaveDelay)}setCurrentStyles(e=this.position){let t=e[1]==="after"?`${this.arrowOffsetX-this.arrowWidth/2}px`:e[1]==="center"?`calc(50% - ${this.arrowWidth/2}px)`:"",i=e[1]==="before"?`${this.arrowOffsetX-this.arrowWidth/2}px`:"",r=e[1]==="above"?`${this.arrowOffsetY-this.arrowHeight/2}px`:e[1]==="center"?`calc(50% - ${this.arrowHeight/2}px)`:"",a=e[1]==="below"?`${this.arrowOffsetY-this.arrowHeight/2}px`:"";this.arrowStyles=e[0]==="above"||e[0]==="below"?{left:this.direction==="ltr"?t:i,right:this.direction==="ltr"?i:t}:{top:a,bottom:r}}setPositionClasses(e=this.position){this._classList=le(T({},this._classList),{"mtx-popover-before-above":e[0]==="before"&&e[1]==="above","mtx-popover-before-center":e[0]==="before"&&e[1]==="center","mtx-popover-before-below":e[0]==="before"&&e[1]==="below","mtx-popover-after-above":e[0]==="after"&&e[1]==="above","mtx-popover-after-center":e[0]==="after"&&e[1]==="center","mtx-popover-after-below":e[0]==="after"&&e[1]==="below","mtx-popover-above-before":e[0]==="above"&&e[1]==="before","mtx-popover-above-center":e[0]==="above"&&e[1]==="center","mtx-popover-above-after":e[0]==="above"&&e[1]==="after","mtx-popover-below-before":e[0]==="below"&&e[1]==="before","mtx-popover-below-center":e[0]==="below"&&e[1]==="center","mtx-popover-below-after":e[0]==="below"&&e[1]==="after"}),this._changeDetectorRef.markForCheck()}setElevation(){if(this._baseElevation===null){let a=(typeof getComputedStyle=="function"?getComputedStyle(this._elementRef.nativeElement):null)?.getPropertyValue("--mtx-popover-base-elevation-level")||"8";this._baseElevation=parseInt(a)}let e=Math.min(this._baseElevation,24),t=`${this._elevationPrefix}${e}`,i=Object.keys(this._classList).find(r=>r.startsWith(this._elevationPrefix));if(!i||i===this._previousElevation){let r=T({},this._classList);this._previousElevation&&(r[this._previousElevation]=!1),r[t]=!0,this._previousElevation=t,this._classList=r}}_onAnimationDone(e){let t=e===lt;(t||e===Ft)&&(t&&(clearTimeout(this._exitFallbackTimeout),this._exitFallbackTimeout=void 0),this._animationDone.next(t?"void":"enter"),this._isAnimating=!1)}_onAnimationStart(e){(e===Ft||e===lt)&&(this._isAnimating=!0)}_setIsOpen(e){this._panelAnimationState=e?"enter":"void",e||this._animationsDisabled||(this._exitFallbackTimeout=setTimeout(()=>this._onAnimationDone(lt),200)),this._animationsDisabled&&setTimeout(()=>{this._onAnimationDone(e?Ft:lt)}),this._changeDetectorRef.markForCheck()}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=v({type:o,selectors:[["mtx-popover"]],contentQueries:function(t,i,r){if(t&1&&Zt(r,bo,5),t&2){let a;xe(a=we())&&(i.lazyContent=a.first)}},viewQuery:function(t,i){if(t&1&&Ge(ve,5),t&2){let r;xe(r=we())&&(i.templateRef=r.first)}},inputs:{backdropClass:"backdropClass",ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],triggerEvent:"triggerEvent",enterDelay:"enterDelay",leaveDelay:"leaveDelay",position:"position",xOffset:"xOffset",yOffset:"yOffset",arrowWidth:"arrowWidth",arrowHeight:"arrowHeight",arrowOffsetX:"arrowOffsetX",arrowOffsetY:"arrowOffsetY",hideArrow:[2,"hideArrow","hideArrow",U],closeOnPanelClick:[2,"closeOnPanelClick","closeOnPanelClick",U],closeOnBackdropClick:[2,"closeOnBackdropClick","closeOnBackdropClick",U],focusTrapEnabled:[2,"focusTrapEnabled","focusTrapEnabled",U],focusTrapAutoCaptureEnabled:[2,"focusTrapAutoCaptureEnabled","focusTrapAutoCaptureEnabled",U],hasBackdrop:[2,"hasBackdrop","hasBackdrop",U],panelClass:[0,"class","panelClass"],classList:"classList"},outputs:{closed:"closed"},exportAs:["mtxPopover"],ngContentSelectors:go,decls:1,vars:0,consts:[["tabindex","-1","role","dialog",1,"mtx-popover-panel",3,"keydown","click","mouseover","mouseleave","animationstart","animationend","animationcancel","id","cdkTrapFocus","cdkTrapFocusAutoCapture"],[1,"mtx-popover-content"],[1,"mtx-popover-direction-arrow",3,"style"],[1,"mtx-popover-direction-arrow"]],template:function(t,i){t&1&&(Ue(),k(0,vo,4,17,"ng-template"))},dependencies:[_i],styles:[`@keyframes _mtx-popover-enter{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:none}}@keyframes _mtx-popover-exit{0%{opacity:1}to{opacity:0}}.mtx-popover-panel{position:relative;max-height:calc(100vh - 48px);padding:8px;font-size:inherit;outline:0;animation:_mtx-popover-enter .12s cubic-bezier(0,0,.2,1);border-radius:var(--mtx-popover-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mtx-popover-background-color, var(--mat-sys-surface-container));color:var(--mtx-popover-text-color, var(--mat-sys-on-surface))}.mtx-popover-panel.mtx-popover-panel-exit-animation{animation:_mtx-popover-exit .1s 25ms linear forwards}.mtx-popover-panel.mtx-popover-panel-animations-disabled{animation:none}.mtx-popover-panel.mtx-popover-panel-animating{pointer-events:none}.mtx-popover-panel[class*=mtx-popover-below]{margin-top:calc(.5em + 2px)}.mtx-popover-panel[class*=mtx-popover-above]{margin-bottom:calc(.5em + 2px)}.mtx-popover-panel[class*=mtx-popover-before]{margin-right:calc(.5em + 2px)}[dir=rtl] .mtx-popover-panel[class*=mtx-popover-before]{margin-right:auto;margin-left:calc(.5em + 2px)}.mtx-popover-panel[class*=mtx-popover-after]{margin-left:calc(.5em + 2px)}[dir=rtl] .mtx-popover-panel[class*=mtx-popover-after]{margin-left:auto;margin-right:calc(.5em + 2px)}.mtx-popover-panel.mtx-popover-panel-without-arrow{margin:0}.mtx-popover-direction-arrow{position:absolute}.mtx-popover-direction-arrow:before,.mtx-popover-direction-arrow:after{position:absolute;display:inline-block;content:"";border-width:.5em;border-style:solid}.mtx-popover-direction-arrow:before{border-color:var(--mtx-popover-outline-color, var(--mat-sys-surface-container))}.mtx-popover-direction-arrow:after{border-width:calc(.5em - 1px);border-color:var(--mtx-popover-background-color, var(--mat-sys-surface-container))}[class*=mtx-popover-below] .mtx-popover-direction-arrow,[class*=mtx-popover-above] .mtx-popover-direction-arrow{width:1em}[class*=mtx-popover-below] .mtx-popover-direction-arrow:before,[class*=mtx-popover-below] .mtx-popover-direction-arrow:after,[class*=mtx-popover-above] .mtx-popover-direction-arrow:before,[class*=mtx-popover-above] .mtx-popover-direction-arrow:after{border-left-color:transparent;border-right-color:transparent}[class*=mtx-popover-below] .mtx-popover-direction-arrow:after,[class*=mtx-popover-above] .mtx-popover-direction-arrow:after{left:1px}[dir=rtl] [class*=mtx-popover-below] .mtx-popover-direction-arrow:after,[dir=rtl] [class*=mtx-popover-above] .mtx-popover-direction-arrow:after{right:1px;left:auto}[class*=mtx-popover-below] .mtx-popover-direction-arrow{top:0}[class*=mtx-popover-below] .mtx-popover-direction-arrow:before,[class*=mtx-popover-below] .mtx-popover-direction-arrow:after{bottom:0;border-top-width:0}[class*=mtx-popover-above] .mtx-popover-direction-arrow{bottom:0}[class*=mtx-popover-above] .mtx-popover-direction-arrow:before,[class*=mtx-popover-above] .mtx-popover-direction-arrow:after{top:0;border-bottom-width:0}[class*=mtx-popover-before] .mtx-popover-direction-arrow,[class*=mtx-popover-after] .mtx-popover-direction-arrow{height:1em}[class*=mtx-popover-before] .mtx-popover-direction-arrow:before,[class*=mtx-popover-before] .mtx-popover-direction-arrow:after,[class*=mtx-popover-after] .mtx-popover-direction-arrow:before,[class*=mtx-popover-after] .mtx-popover-direction-arrow:after{border-top-color:transparent;border-bottom-color:transparent}[class*=mtx-popover-before] .mtx-popover-direction-arrow:after,[class*=mtx-popover-after] .mtx-popover-direction-arrow:after{top:1px}[class*=mtx-popover-before] .mtx-popover-direction-arrow{right:0}[class*=mtx-popover-before] .mtx-popover-direction-arrow:before,[class*=mtx-popover-before] .mtx-popover-direction-arrow:after{left:0;border-right-width:0}[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow{right:auto;left:0}[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow:before,[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow:after{left:auto;right:0;border-left-width:0}[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow:before{border-right-width:.5em}[dir=rtl] [class*=mtx-popover-before] .mtx-popover-direction-arrow:after{border-right-width:calc(.5em - 1px)}[class*=mtx-popover-after] .mtx-popover-direction-arrow{left:0}[class*=mtx-popover-after] .mtx-popover-direction-arrow:before,[class*=mtx-popover-after] .mtx-popover-direction-arrow:after{right:0;border-left-width:0}[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow{left:auto;right:0}[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow:before,[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow:after{right:auto;left:0;border-right-width:0}[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow:before{border-left-width:.5em}[dir=rtl] [class*=mtx-popover-after] .mtx-popover-direction-arrow:after{border-left-width:calc(.5em - 1px)}
`],encapsulation:2,changeDetection:0})}}return o})(),To=new E("mtx-popover-scroll-strategy",{providedIn:"root",factory:()=>{let o=s(kt);return()=>o.scrollStrategies.reposition()}});var Ui=(()=>{class o{constructor(){this._overlay=s(kt),this._elementRef=s(Y),this._viewContainerRef=s(Dt),this._dir=s(Ie,{optional:!0}),this._changeDetectorRef=s(fe),this._focusMonitor=s(Je),this._overlayRef=null,this._popoverOpen=!1,this._halt=!1,this._positionSubscription=ce.EMPTY,this._popoverCloseSubscription=ce.EMPTY,this._closingActionsSubscription=ce.EMPTY,this._scrollStrategy=s(To),this._openedBy=void 0,this.popoverOpened=new Q,this.popoverClosed=new Q}get popover(){return this._popover}set popover(e){e!==this._popover&&(this._popover=e,this._popoverCloseSubscription.unsubscribe(),e&&(this._popoverCloseSubscription=e.closed.subscribe(t=>{this._destroyPopover(t)})))}ngAfterContentInit(){this._checkPopover(),this._setCurrentConfig()}ngOnDestroy(){this._halt=!0,this._positionSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),this._popoverCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null)}_setCurrentConfig(){this.triggerEvent&&(this.popover.triggerEvent=this.triggerEvent),this.popover.setCurrentStyles()}get popoverOpen(){return this._popoverOpen}get dir(){return this._dir&&this._dir.value==="rtl"?"rtl":"ltr"}_handleClick(e){this.popover.triggerEvent==="click"&&this.togglePopover()}_handleMouseEnter(e){this._halt=!1,this.popover.triggerEvent==="hover"&&(this._mouseoverTimer=setTimeout(()=>{this.openPopover()},this.popover.enterDelay))}_handleMouseLeave(e){this.popover.triggerEvent==="hover"&&(this._mouseoverTimer&&(clearTimeout(this._mouseoverTimer),this._mouseoverTimer=null),this._popoverOpen?setTimeout(()=>{this.popover.closeDisabled||this.closePopover()},this.popover.leaveDelay):this._halt=!0)}_handleMousedown(e){ui(e)||(this._openedBy=e.button===0?"mouse":void 0)}_handleKeydown(e){let t=e.keyCode;(t===13||t===32)&&(this._openedBy="keyboard")}togglePopover(){return this._popoverOpen?this.closePopover():this.openPopover()}openPopover(){if(this._popoverOpen||this._halt)return;this._checkPopover(),this._pendingRemoval?.unsubscribe();let e=this._createOverlay(),t=e.getConfig();this._setPosition(t.positionStrategy),this.popover.triggerEvent==="click"&&(t.hasBackdrop=this.popover.hasBackdrop??!0),e.attach(this._getPortal()),this.popover.lazyContent&&this.popover.lazyContent.attach(this.popoverData),this._closingActionsSubscription=this._popoverClosingActions().subscribe(()=>this.closePopover()),this._initPopover(),this.popover instanceof ct&&this.popover._setIsOpen(!0)}closePopover(){this.popover.closed.emit()}focus(e,t){this._focusMonitor&&e?this._focusMonitor.focusVia(this._elementRef,e,t):this._elementRef.nativeElement.focus(t)}_destroyPopover(e){let t=this._overlayRef;if(!t||!this.popoverOpen)return;this._mouseoverTimer&&(clearTimeout(this._mouseoverTimer),this._mouseoverTimer=null);let i=this.popover;this._closingActionsSubscription.unsubscribe(),this._pendingRemoval?.unsubscribe(),t.detach(),i instanceof ct?this._pendingRemoval=i._animationDone.pipe(re(r=>r==="void"),I(1)).subscribe(()=>{i.lazyContent?.detach()}):i.lazyContent?.detach(),this._openedBy=void 0,this._setIsPopoverOpen(!1)}_initPopover(){this.popover.direction=this.dir,this.popover.setElevation(),this._setIsPopoverOpen(!0)}_setIsPopoverOpen(e){e!==this._popoverOpen&&(this._popoverOpen=e,this._popoverOpen?this.popoverOpened.emit():this.popoverClosed.emit(),this._changeDetectorRef.markForCheck())}_checkPopover(){this.popover||Co()}_createOverlay(){if(this._overlayRef)this._overlayRef.getConfig().positionStrategy.setOrigin(this._getTargetElement());else{let e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e)}return this._overlayRef}_getOverlayConfig(){return new it({positionStrategy:this._overlay.position().flexibleConnectedTo(this._getTargetElement()).withLockedPosition().withGrowAfterOpen().withTransformOriginOn(".mtx-popover-panel"),backdropClass:this.popover.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.popover.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir||void 0})}_getTargetElement(){return this.targetElement?this.targetElement.elementRef:this._elementRef}_subscribeToPositions(e){this._positionSubscription=e.positionChanges.subscribe(t=>{let i=t.connectionPair.overlayX==="start"?"after":t.connectionPair.overlayX==="end"?"before":"center",r=t.connectionPair.overlayY==="top"?"below":t.connectionPair.overlayY==="bottom"?"above":"center",a=this.popover.position[0]==="above"||this.popover.position[0]==="below"?[r,i]:[i,r];this._changeDetectorRef.markForCheck(),this.popover.setCurrentStyles(a),this.popover.setPositionClasses(a)})}_setPosition(e){let[t,i,r]=this.popover.position[0]==="before"||this.popover.position[1]==="after"?["start","center","end"]:this.popover.position[0]==="after"||this.popover.position[1]==="before"?["end","center","start"]:["center","start","end"],[a,d,b]=this.popover.position[0]==="above"||this.popover.position[1]==="below"?["top","center","bottom"]:this.popover.position[0]==="below"||this.popover.position[1]==="above"?["bottom","center","top"]:["center","top","bottom"],[C,G]=this.popover.position[0]==="below"||this.popover.position[0]==="above"?[t,t]:this.popover.position[0]==="before"?["end","start"]:["start","end"],[ie,bt]=this.popover.position[0]==="before"||this.popover.position[0]==="after"?[a,a]:this.popover.position[0]==="below"?["top","bottom"]:["bottom","top"],Ct=C,yt=ie,oe=this.popover.xOffset&&!isNaN(Number(this.popover.xOffset))?Number(this.dir==="ltr"?this.popover.xOffset:-this.popover.xOffset):0,ne=this.popover.yOffset&&!isNaN(Number(this.popover.yOffset))?Number(this.popover.yOffset):0,xt=[{originX:t,originY:a,overlayX:C,overlayY:ie}];(this.popover.position[0]==="above"||this.popover.position[0]==="below")&&(xt=[{originX:t,originY:a,overlayX:C,overlayY:ie,offsetY:ne},{originX:i,originY:a,overlayX:i,overlayY:ie,offsetY:ne},{originX:r,originY:a,overlayX:r,overlayY:ie,offsetY:ne},{originX:t,originY:yt,overlayX:C,overlayY:bt,offsetY:-ne},{originX:i,originY:yt,overlayX:i,overlayY:bt,offsetY:-ne},{originX:r,originY:yt,overlayX:r,overlayY:bt,offsetY:-ne}]),(this.popover.position[0]==="before"||this.popover.position[0]==="after")&&(xt=[{originX:t,originY:a,overlayX:C,overlayY:ie,offsetX:oe},{originX:t,originY:d,overlayX:C,overlayY:d,offsetX:oe},{originX:t,originY:b,overlayX:C,overlayY:b,offsetX:oe},{originX:Ct,originY:a,overlayX:G,overlayY:ie,offsetX:-oe},{originX:Ct,originY:d,overlayX:G,overlayY:d,offsetX:-oe},{originX:Ct,originY:b,overlayX:G,overlayY:b,offsetX:-oe}]),e.withPositions(xt).withDefaultOffsetX(oe).withDefaultOffsetY(ne)}_popoverClosingActions(){let e=this.popover.triggerEvent==="click"&&this.popover.closeOnBackdropClick===!0?this._overlayRef.backdropClick():L(),t=this._overlayRef.detachments();return Le(e,t)}_getPortal(){return(!this._portal||this._portal.templateRef!==this.popover.templateRef)&&(this._portal=new et(this.popover.templateRef,this._viewContainerRef)),this._portal}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275dir=he({type:o,selectors:[["","mtx-popover-trigger-for",""],["","mtxPopoverTriggerFor",""]],hostAttrs:["aria-haspopup","true"],hostVars:2,hostBindings:function(t,i){t&1&&h("click",function(a){return i._handleClick(a)})("mouseenter",function(a){return i._handleMouseEnter(a)})("mouseleave",function(a){return i._handleMouseLeave(a)})("mousedown",function(a){return i._handleMousedown(a)})("keydown",function(a){return i._handleKeydown(a)}),t&2&&z("aria-expanded",i.popoverOpen)("aria-controls",i.popoverOpen?i.popover.panelId:null)},inputs:{popover:[0,"mtxPopoverTriggerFor","popover"],popoverData:[0,"mtxPopoverTriggerData","popoverData"],targetElement:[0,"mtxPopoverTargetAt","targetElement"],triggerEvent:[0,"mtxPopoverTriggerOn","triggerEvent"]},outputs:{popoverOpened:"popoverOpened",popoverClosed:"popoverClosed"},exportAs:["mtxPopoverTrigger"]})}}return o})();var Eo=["value"],Io=(o,n)=>n.id;function So(o,n){if(o&1){let e=y();l(0,"input",7,0),R(),h("blur",function(){f(e);let i=p(2);return g(i.resetForm())}),c()}if(o&2){let e=p(2);P(e.form.value)}}function ko(o,n){if(o&1){let e=y();l(0,"span",8),h("click",function(){f(e);let i=p().$implicit,r=p();return g(r.editValue(i))}),u(1),x(2,"currency"),c()}if(o&2){let e=p().$implicit;m(),F(" ",q(2,1,e.value,"EUR")," ")}}function Fo(o,n){if(o&1){let e=y();l(0,"span",2),w(1,So,2,2,"input",4)(2,ko,3,4,"span",5),l(3,"span"),u(4),x(5,"date"),c(),l(6,"button",6),h("click",function(){let i=f(e).$implicit,r=p();return g(r.delete(i.id))}),c()()}if(o&2){let e=n.$implicit,t=p();m(),D(t.selectedEntry()===e.id?1:2),m(3),Me(N(5,2,e.date))}}function Ao(o,n){o&1&&u(0," Keine Historie vorhanden. ")}var pt=class o{facade=s(B);row=Te.required();isAdded=this.facade.isHistoryEntryAdded;selectedEntry=O(null);formModel=O(this.initForm());form=Z(this.formModel,n=>{Fe(n.value,500)});valueRef=Ee("value");history=$(()=>this.row().history);focusValueOnAdd=j(()=>{this.isAdded()&&pe(()=>{if(this.history().length===0)return;let n=this.history().at(-1);this.editValue(n)})});updateEffect=j(()=>{let n=this.form.value().value();pe(()=>{this.form.value().dirty()&&n&&this.update()})});add(){this.facade.addHistoryEntry(this.row().id)}delete(n){this.facade.deleteHistoryEntry(this.row().id,n)}update(){this.facade.updateHistoryEntry(this.row().id,this.form().value())}editValue(n){this.setForm(n),this.selectedEntry.set(n.id),setTimeout(()=>this.valueRef()?.nativeElement.select())}resetForm(){this.selectedEntry.set(null),this.formModel.set(this.initForm())}initForm(){return{id:null,value:null,date:null}}setForm(n){this.formModel.set({id:n.id,value:n.value,date:n.date})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-history"]],viewQuery:function(e,t){e&1&&De(t.valueRef,Eo,5),e&2&&Qe()},inputs:{row:[1,"row"]},decls:6,vars:1,consts:[["value",""],[1,"mb-2","flex","flex-col","gap-1"],[1,"grid","grid-cols-[auto_min-content_min-content]","items-center","gap-4"],["maffiButton","","size","mini","icon","CirclePlus",1,"w-full","!justify-center",3,"click"],["type","number",1,"w-8","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"field"],[1,"self-right","flex","w-8","justify-end"],["maffiButton","","icon","CircleMinus",3,"click"],["type","number",1,"w-8","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"blur","field"],[1,"self-right","flex","w-8","justify-end",3,"click"]],template:function(e,t){e&1&&(l(0,"div",1),We(1,Fo,7,4,"span",2,Io,!1,Ao,1,0),c(),l(4,"button",3),h("click",function(){return t.add()}),u(5,` Hinzuf\xFCgen
`),c()),e&2&&(m(),$e(t.history()))},dependencies:[K,J,Ke,ri],encapsulation:2})};var Oo=["category"],Ro=["forecast"],Po=()=>["before","below"];function No(o,n){o&1&&M(0,"mat-spinner",11)}function Vo(o,n){if(o&1){let e=y();l(0,"button",19),qt("animate-fade-out"),be("animate-fade-in"),h("click",function(i){return f(e),p().add(),g(i.stopPropagation())}),u(1," Hinzuf\xFCgen "),c()}}function Lo(o,n){o&1&&M(0,"mat-spinner",17)}function Bo(o,n){o&1&&M(0,"td",38)}function Ho(o,n){if(o&1){let e=y();l(0,"input",42,3),R(),h("blur",function(){f(e);let i=p(3);return g(i.resetForm())})("keyup.enter",function(){f(e);let i=p(3);return g(i.onCategoryEnterPressed())}),c()}if(o&2){let e=p(3);P(e.form.category)}}function jo(o,n){if(o&1){let e=y();l(0,"div",43),h("click",function(){f(e);let i=p().$implicit,r=p(2);return g(r.editCategory(i))}),l(1,"span"),u(2),c()()}if(o&2){let e=p().$implicit;m(2),F(" ",e.category," ")}}function Yo(o,n){if(o&1&&(l(0,"td",39),w(1,Ho,2,2,"input",40)(2,jo,3,1,"div",41),c()),o&2){let e=n.$implicit,t=p(2);m(),D(t.selectedRow()===e.id&&t.selectedField()==="category"?1:2)}}function zo(o,n){o&1&&(l(0,"td",44),u(1," Summe "),c())}function Wo(o,n){o&1&&(l(0,"td",45),u(1," Forecast "),c())}function $o(o,n){if(o&1){let e=y();l(0,"input",49,4),R(),h("blur",function(){f(e);let i=p(3);return g(i.resetForm())}),c()}if(o&2){let e=p(3);P(e.form.forecast)}}function Uo(o,n){if(o&1){let e=y();l(0,"div",50),h("click",function(){f(e);let i=p().$implicit,r=p(2);return g(r.editForecast(i))}),l(1,"span"),u(2),x(3,"currency"),c()()}if(o&2){let e=p().$implicit;m(2),F(" ",q(3,1,e.forecast,"EUR")," ")}}function Xo(o,n){if(o&1&&(l(0,"td",46),w(1,$o,2,2,"input",47)(2,Uo,4,4,"div",48),c()),o&2){let e=n.$implicit,t=p(2);m(),D(t.selectedRow()===e.id&&t.selectedField()==="forecast"?1:2)}}function Go(o,n){if(o&1&&(l(0,"td",51),u(1),x(2,"currency"),c()),o&2){let e=p(2);m(),F(" ",q(2,1,e.forecastTotal(),"EUR")," ")}}function Qo(o,n){o&1&&(l(0,"td",45),u(1," Wert "),c())}function qo(o,n){if(o&1&&(l(0,"td",52)(1,"span",53),u(2),x(3,"currency"),c(),l(4,"mtx-popover",54,5),M(6,"app-history",55),c()()),o&2){let e=n.$implicit,t=qe(5);m(),W("!text-green-500",e.value<e.forecast)("!text-red-500",e.value>e.forecast),_("mtxPopoverTriggerFor",t)("mtxPopoverTriggerOn","click"),m(),F(" ",q(3,9,e.value,"EUR")," "),m(2),_("position",ti(12,Po)),m(2),_("row",e)}}function Ko(o,n){if(o&1&&(l(0,"td",51),u(1),x(2,"currency"),c()),o&2){let e=p(2);W("!text-green-500",e.total()<e.forecastTotal())("!text-red-500",e.total()>e.forecastTotal()),m(),F(" ",q(2,5,e.total(),"EUR")," ")}}function Zo(o,n){o&1&&M(0,"td",38)}function Jo(o,n){if(o&1){let e=y();l(0,"td",56)(1,"button",57),h("click",function(){let i=f(e).$implicit,r=p(2);return g(r.delete(i.id))}),c()()}}function en(o,n){o&1&&M(0,"td",58)}function tn(o,n){o&1&&M(0,"tr",59)}function on(o,n){o&1&&M(0,"tr",60)}function nn(o,n){o&1&&M(0,"tr",61)}function rn(o,n){if(o&1&&(l(0,"div",18),be("animate-fade-in"),l(1,"table",20),Ce(2,21),k(3,Bo,1,0,"td",22)(4,Yo,3,1,"td",23)(5,zo,2,0,"td",24),ye(),Ce(6,25),k(7,Wo,2,0,"td",26)(8,Xo,3,1,"td",27)(9,Go,3,4,"td",28),ye(),Ce(10,29),k(11,Qo,2,0,"td",26)(12,qo,7,13,"td",30)(13,Ko,3,8,"td",31),ye(),Ce(14,32),k(15,Zo,1,0,"td",22)(16,Jo,2,0,"td",33)(17,en,1,0,"td",34),ye(),k(18,tn,1,0,"tr",35)(19,on,1,0,"tr",36)(20,nn,1,0,"tr",37),c()()),o&2){let e=p();m(),_("dataSource",e.data())("trackBy",e.trackByFn),m(17),_("matHeaderRowDef",e.displayedColumns),m(),_("matRowDefColumns",e.displayedColumns),m(),_("matFooterRowDef",e.displayedColumns)}}var mt=class o{facade=s(B);data=this.facade.variableCosts;total=this.facade.totalVariableCosts;isLoading=this.facade.isMonthLoading;isSaving=this.facade.isSavingVariableCost;isAdded=this.facade.isVariableCostAdded;selectedRow=O(null);selectedField=O(null);formModel=O(this.initForm());form=Z(this.formModel,n=>{Fe(n.forecast,500),Fe(n.category,500)});categoryRef=Ee("category");forecastRef=Ee("forecast");category=$(()=>this.formModel().category);forecast=$(()=>this.formModel().forecast);forecastTotal=$(()=>this.data().reduce((n,e)=>n+e.forecast,0));focusCategoryOnAdd=j(()=>{this.isAdded()&&pe(()=>{let n=this.data().at(-1);this.editCategory(n),setTimeout(()=>this.categoryRef()?.nativeElement.scrollIntoView({behavior:"smooth"}))})});updateEffect=j(()=>{let n=this.category(),e=this.forecast();pe(()=>{let t=this.form.category().dirty(),i=!1;e&&(i=this.form.forecast().dirty()),(e&&i||n&&t)&&(this.update(this.formModel()),this.form().reset())})});displayedColumns=["category","forecast","value","delete_button"];trackByFn(n,e){return e?.id}editCategory(n){this.setForm(n),this.selectedRow.set(n.id),this.selectedField.set("category"),setTimeout(()=>this.categoryRef()?.nativeElement.select())}editForecast(n){this.setForm(n),this.selectedRow.set(n.id),this.selectedField.set("forecast"),setTimeout(()=>this.forecastRef()?.nativeElement.select())}resetForm(){this.selectedRow.set(null),this.selectedField.set(null),this.formModel.set(this.initForm())}onCategoryEnterPressed(){this.selectedField.set("forecast"),setTimeout(()=>this.forecastRef()?.nativeElement.select())}add(){this.facade.addVariableCost()}delete(n){this.facade.deleteVariableCost(n)}update(n){this.facade.updateVariableCost(n),this.selectedRow.set(null)}initForm(){return{id:null,category:null,forecast:null}}setForm(n){this.formModel.set({id:n.id,category:n.category,forecast:n.forecast})}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-variable-costs-table"]],viewQuery:function(e,t){e&1&&(De(t.categoryRef,Oo,5),De(t.forecastRef,Ro,5)),e&2&&Qe(2)},features:[Tt([ai])],decls:21,vars:11,consts:[["accItem","cdkAccordionItem"],["col1",""],["col2",""],["category",""],["forecast",""],["popover","mtxPopover"],[3,"expanded"],[1,"sticky","top-14","z-10","grid","w-full","grid-cols-[2rem_10rem_auto_1rem]","items-center","gap-2","overflow-hidden","bg-gray-800","py-2","backdrop-blur","transition-all","duration-100","md:top-16",3,"click"],["icon","BanknoteArrowDown","size","medium"],[1,"flex","items-center","gap-2"],[1,"text-sm","font-semibold","text-gray-100"],["diameter","18"],[1,"text-(length:--text-xs)","leading-(--text-sm--line-height)","font-medium"],[1,"w-5"],["maffiButton","","icon","CirclePlus","size","small",1,"w-5"],["size","small",1,"ml-1",3,"icon"],[1,"overflow-hidden","transition-[max-height]","duration-300","ease-in-out"],[1,"self-center"],[1,"flex","w-full","items-center","justify-center","rounded-lg","bg-gray-800","p-1"],["maffiButton","","icon","CirclePlus","size","small",1,"w-5",3,"click"],["mat-table","",1,"mt-2","!min-w-[95%]","!bg-transparent","!p-4",3,"dataSource","trackBy"],["matColumnDef","category"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","!h-1 !w-24 !p-0.5 !text-xs !text-gray-100",4,"matCellDef"],["mat-footer-cell","","class","!h-1 !p-0 !pt-2 font-semibold !text-gray-100",4,"matFooterCellDef"],["matColumnDef","forecast"],["mat-header-cell","","class","!text-right",4,"matHeaderCellDef"],["mat-cell","","class","!h-1 !w-24 !p-0.5 !text-right !text-xs !text-gray-100",4,"matCellDef"],["mat-footer-cell","","class","!p-0 !pt-2 !text-right font-semibold !text-gray-100",4,"matFooterCellDef"],["matColumnDef","value"],["mat-cell","","class","!h-1 !w-12 !p-0 !text-right !text-xs",4,"matCellDef"],["mat-footer-cell","","class","!p-0 !pt-2 !text-right font-semibold !text-gray-100",3,"!text-green-500","!text-red-500",4,"matFooterCellDef"],["matColumnDef","delete_button"],["mat-cell","","class","self-right w-1 !p-0 !text-right",4,"matCellDef"],["mat-footer-cell","",4,"matFooterCellDef"],["mat-header-row","","class","!h-7 *:!pr-2 **:!text-gray-100",4,"matHeaderRowDef"],["mat-row","","class","!h-1 *:!pr-2",4,"matRowDef","matRowDefColumns"],["mat-footer-row","","class","!h-1 **:!pr-2",4,"matFooterRowDef"],["mat-header-cell",""],["mat-cell","",1,"!h-1","!w-24","!p-0.5","!text-xs","!text-gray-100"],[1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"field"],[1,"flex","h-5","w-full","items-center","gap-1"],[1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"blur","keyup.enter","field"],[1,"flex","h-5","w-full","items-center","gap-1",3,"click"],["mat-footer-cell","",1,"!h-1","!p-0","!pt-2","font-semibold","!text-gray-100"],["mat-header-cell","",1,"!text-right"],["mat-cell","",1,"!h-1","!w-24","!p-0.5","!text-right","!text-xs","!text-gray-100"],["type","number",1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"field"],[1,"flex","h-5","w-full","justify-end"],["type","number",1,"w-24","rounded","border-1","border-blue-400","bg-gray-600","p-1","outline-none",3,"blur","field"],[1,"flex","h-5","w-full","justify-end",3,"click"],["mat-footer-cell","",1,"!p-0","!pt-2","!text-right","font-semibold","!text-gray-100"],["mat-cell","",1,"!h-1","!w-12","!p-0","!text-right","!text-xs"],[1,"block","h-5","w-full","!text-gray-100",3,"mtxPopoverTriggerFor","mtxPopoverTriggerOn"],[1,"!p-4","**:text-xs",3,"position"],[3,"row"],["mat-cell","",1,"self-right","w-1","!p-0","!text-right"],["maffiButton","","icon","Trash","size","mini","theme","secondary",1,"mb-1",3,"click"],["mat-footer-cell",""],["mat-header-row","",1,"!h-7","*:!pr-2","**:!text-gray-100"],["mat-row","",1,"!h-1","*:!pr-2"],["mat-footer-row","",1,"!h-1","**:!pr-2"]],template:function(e,t){if(e&1){let i=y();l(0,"mat-card")(1,"mat-card-content")(2,"cdk-accordion-item",6,0)(4,"header",7),h("click",function(){f(i);let a=qe(3);return g(a.toggle())}),M(5,"app-icon",8,1),l(7,"div",9,2)(9,"h2",10),u(10,"Variabel"),c(),w(11,No,1,0,"mat-spinner",11),l(12,"h1",12),u(13),x(14,"currency"),c()(),l(15,"div",13),w(16,Vo,2,0,"button",14),c(),M(17,"app-icon",15),c(),l(18,"div",16),w(19,Lo,1,0,"mat-spinner",17)(20,rn,21,5,"div",18),c()()()()}if(e&2){let i=qe(3);m(2),_("expanded",!0),m(9),D(t.isSaving()?11:-1),m(2),F(" ",q(14,8,t.total(),"EUR")," "),m(3),D(i.expanded?16:-1),m(),_("icon",i.expanded?"ChevronUp":"ChevronDown"),m(),Jt("max-height",i.expanded?"1000px":"0px"),m(),D(t.isLoading()?19:20)}},dependencies:[K,Hi,xi,yi,di,pi,Fi,Ti,Si,ki,Ni,Oi,Li,Vi,Ri,Mi,J,Ii,Pi,Ai,Ei,ct,Ui,pt,Ke],encapsulation:2})};function sn(o,n){}var ee=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;positionStrategy;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;scrollStrategy;closeOnNavigation=!0;closeOnDestroy=!0;closeOnOverlayDetachments=!0;disableAnimations=!1;providers;container;templateContext};var Ot=(()=>{class o extends ji{_elementRef=s(Y);_focusTrapFactory=s(gi);_config;_interactivityChecker=s(fi);_ngZone=s(je);_focusMonitor=s(Je);_renderer=s(Xt);_changeDetectorRef=s(fe);_injector=s(S);_platform=s(hi);_document=s(ae);_portalOutlet;_focusTrapped=new V;_focusTrap=null;_elementFocusedBeforeDialogWasOpened=null;_closeInteractionType=null;_ariaLabelledByQueue=[];_isDestroyed=!1;constructor(){super(),this._config=s(ee,{optional:!0})||new ee,this._config.ariaLabelledBy&&this._ariaLabelledByQueue.push(this._config.ariaLabelledBy)}_addAriaLabelledBy(e){this._ariaLabelledByQueue.push(e),this._changeDetectorRef.markForCheck()}_removeAriaLabelledBy(e){let t=this._ariaLabelledByQueue.indexOf(e);t>-1&&(this._ariaLabelledByQueue.splice(t,1),this._changeDetectorRef.markForCheck())}_contentAttached(){this._initializeFocusTrap(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._focusTrapped.complete(),this._isDestroyed=!0,this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),t}attachTemplatePortal(e){this._portalOutlet.hasAttached();let t=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),t}attachDomPortal=e=>{this._portalOutlet.hasAttached();let t=this._portalOutlet.attachDomPortal(e);return this._contentAttached(),t};_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,t){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{let i=()=>{r(),a(),e.removeAttribute("tabindex")},r=this._renderer.listen(e,"blur",i),a=this._renderer.listen(e,"mousedown",i)})),e.focus(t)}_focusByCssSelector(e,t){let i=this._elementRef.nativeElement.querySelector(e);i&&this._forceFocus(i,t)}_trapFocus(e){this._isDestroyed||Ut(()=>{let t=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||t.focus(e);break;case!0:case"first-tabbable":this._focusTrap?.focusInitialElement(e)||this._focusDialogContainer(e);break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]',e);break;default:this._focusByCssSelector(this._config.autoFocus,e);break}this._focusTrapped.next()},{injector:this._injector})}_restoreFocus(){let e=this._config.restoreFocus,t=null;if(typeof e=="string"?t=this._document.querySelector(e):typeof e=="boolean"?t=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(t=e),this._config.restoreFocus&&t&&typeof t.focus=="function"){let i=Ze(),r=this._elementRef.nativeElement;(!i||i===this._document.body||i===r||r.contains(i))&&(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(e){this._elementRef.nativeElement.focus?.(e)}_containsFocus(){let e=this._elementRef.nativeElement,t=Ze();return e===t||e.contains(t)}_initializeFocusTrap(){this._platform.isBrowser&&(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=Ze()))}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=v({type:o,selectors:[["cdk-dialog-container"]],viewQuery:function(t,i){if(t&1&&Ge(ke,7),t&2){let r;xe(r=we())&&(i._portalOutlet=r.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(t,i){t&2&&z("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[ue],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,i){t&1&&k(0,sn,0,0,"ng-template",0)},dependencies:[ke],styles:[`.cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}
`],encapsulation:2})}return o})(),Pe=class{overlayRef;config;componentInstance;componentRef;containerInstance;disableClose;closed=new V;backdropClick;keydownEvents;outsidePointerEvents;id;_detachSubscription;constructor(n,e){this.overlayRef=n,this.config=e,this.disableClose=e.disableClose,this.backdropClick=n.backdropClick(),this.keydownEvents=n.keydownEvents(),this.outsidePointerEvents=n.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(t=>{t.keyCode===27&&!this.disableClose&&!ge(t)&&(t.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{!this.disableClose&&this._canClose()?this.close(void 0,{focusOrigin:"mouse"}):this.containerInstance._recaptureFocus?.()}),this._detachSubscription=n.detachments().subscribe(()=>{e.closeOnOverlayDetachments!==!1&&this.close()})}close(n,e){if(this._canClose(n)){let t=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this._detachSubscription.unsubscribe(),this.overlayRef.dispose(),t.next(n),t.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(n="",e=""){return this.overlayRef.updateSize({width:n,height:e}),this}addPanelClass(n){return this.overlayRef.addPanelClass(n),this}removePanelClass(n){return this.overlayRef.removePanelClass(n),this}_canClose(n){let e=this.config;return!!this.containerInstance&&(!e.closePredicate||e.closePredicate(n,e,this.componentInstance))}},ln=new E("DialogScrollStrategy",{providedIn:"root",factory:()=>{let o=s(S);return()=>tt(o)}}),cn=new E("DialogData"),dn=new E("DefaultDialogConfig");function pn(o){let n=O(o),e=new Q;return{valueSignal:n,get value(){return n()},change:e,ngOnDestroy(){e.complete()}}}var Xi=(()=>{class o{_injector=s(S);_defaultOptions=s(dn,{optional:!0});_parentDialog=s(o,{optional:!0,skipSelf:!0});_overlayContainer=s(Yi);_idGenerator=s(Se);_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new V;_afterOpenedAtThisLevel=new V;_ariaHiddenElements=new Map;_scrollStrategy=s(ln);get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}afterAllClosed=Ve(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Be(void 0)));constructor(){}open(e,t){let i=this._defaultOptions||new ee;t=T(T({},i),t),t.id=t.id||this._idGenerator.getId("cdk-dialog-"),t.id&&this.getDialogById(t.id);let r=this._getOverlayConfig(t),a=Wi(this._injector,r),d=new Pe(a,t),b=this._attachContainer(a,d,t);if(d.containerInstance=b,!this.openDialogs.length){let C=this._overlayContainer.getContainerElement();b._focusTrapped?b._focusTrapped.pipe(I(1)).subscribe(()=>{this._hideNonDialogContentFromAssistiveTechnology(C)}):this._hideNonDialogContentFromAssistiveTechnology(C)}return this._attachDialogContent(e,d,b,t),this.openDialogs.push(d),d.closed.subscribe(()=>this._removeOpenDialog(d,!0)),this.afterOpened.next(d),d}closeAll(){At(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){At(this._openDialogsAtThisLevel,e=>{e.config.closeOnDestroy===!1&&this._removeOpenDialog(e,!1)}),At(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){let t=new it({positionStrategy:e.positionStrategy||ot().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation,disableAnimations:e.disableAnimations});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachContainer(e,t,i){let r=i.injector||i.viewContainerRef?.injector,a=[{provide:ee,useValue:i},{provide:Pe,useValue:t},{provide:zi,useValue:e}],d;i.container?typeof i.container=="function"?d=i.container:(d=i.container.type,a.push(...i.container.providers(i))):d=Ot;let b=new St(d,i.viewContainerRef,S.create({parent:r||this._injector,providers:a}));return e.attach(b).instance}_attachDialogContent(e,t,i,r){if(e instanceof ve){let a=this._createInjector(r,t,i,void 0),d={$implicit:r.data,dialogRef:t};r.templateContext&&(d=T(T({},d),typeof r.templateContext=="function"?r.templateContext():r.templateContext)),i.attachTemplatePortal(new et(e,null,d,a))}else{let a=this._createInjector(r,t,i,this._injector),d=i.attachComponentPortal(new St(e,r.viewContainerRef,a));t.componentRef=d,t.componentInstance=d.instance}}_createInjector(e,t,i,r){let a=e.injector||e.viewContainerRef?.injector,d=[{provide:cn,useValue:e.data},{provide:Pe,useValue:t}];return e.providers&&(typeof e.providers=="function"?d.push(...e.providers(t,e,i)):d.push(...e.providers)),e.direction&&(!a||!a.get(Ie,null,{optional:!0}))&&d.push({provide:Ie,useValue:pn(e.direction)}),S.create({parent:a||r,providers:d})}_removeOpenDialog(e,t){let i=this.openDialogs.indexOf(e);i>-1&&(this.openDialogs.splice(i,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((r,a)=>{r?a.setAttribute("aria-hidden",r):a.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),t&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(e){if(e.parentElement){let t=e.parentElement.children;for(let i=t.length-1;i>-1;i--){let r=t[i];r!==e&&r.nodeName!=="SCRIPT"&&r.nodeName!=="STYLE"&&!r.hasAttribute("aria-live")&&!r.hasAttribute("popover")&&(this._ariaHiddenElements.set(r,r.getAttribute("aria-hidden")),r.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}static \u0275fac=function(t){return new(t||o)};static \u0275prov=H({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function At(o,n){let e=o.length;for(;e--;)n(o[e])}function mn(o,n){}var ut=class{viewContainerRef;injector;id;role="dialog";panelClass="";hasBackdrop=!0;backdropClass="";disableClose=!1;closePredicate;width="";height="";minWidth;minHeight;maxWidth;maxHeight;position;data=null;direction;ariaDescribedBy=null;ariaLabelledBy=null;ariaLabel=null;ariaModal=!1;autoFocus="first-tabbable";restoreFocus=!0;delayFocusTrap=!0;scrollStrategy;closeOnNavigation=!0;enterAnimationDuration;exitAnimationDuration},Rt="mdc-dialog--open",Gi="mdc-dialog--opening",Qi="mdc-dialog--closing",hn=150,un=75,fn=(()=>{class o extends Ot{_animationStateChanged=new Q;_animationsEnabled=!It();_actionSectionCount=0;_hostElement=this._elementRef.nativeElement;_enterAnimationDuration=this._animationsEnabled?Ki(this._config.enterAnimationDuration)??hn:0;_exitAnimationDuration=this._animationsEnabled?Ki(this._config.exitAnimationDuration)??un:0;_animationTimer=null;_contentAttached(){super._contentAttached(),this._startOpenAnimation()}_startOpenAnimation(){this._animationStateChanged.emit({state:"opening",totalTime:this._enterAnimationDuration}),this._animationsEnabled?(this._hostElement.style.setProperty(qi,`${this._enterAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Gi,Rt)),this._waitForAnimationToComplete(this._enterAnimationDuration,this._finishDialogOpen)):(this._hostElement.classList.add(Rt),Promise.resolve().then(()=>this._finishDialogOpen()))}_startExitAnimation(){this._animationStateChanged.emit({state:"closing",totalTime:this._exitAnimationDuration}),this._hostElement.classList.remove(Rt),this._animationsEnabled?(this._hostElement.style.setProperty(qi,`${this._exitAnimationDuration}ms`),this._requestAnimationFrame(()=>this._hostElement.classList.add(Qi)),this._waitForAnimationToComplete(this._exitAnimationDuration,this._finishDialogClose)):Promise.resolve().then(()=>this._finishDialogClose())}_updateActionSectionCount(e){this._actionSectionCount+=e,this._changeDetectorRef.markForCheck()}_finishDialogOpen=()=>{this._clearAnimationClasses(),this._openAnimationDone(this._enterAnimationDuration)};_finishDialogClose=()=>{this._clearAnimationClasses(),this._animationStateChanged.emit({state:"closed",totalTime:this._exitAnimationDuration})};_clearAnimationClasses(){this._hostElement.classList.remove(Gi,Qi)}_waitForAnimationToComplete(e,t){this._animationTimer!==null&&clearTimeout(this._animationTimer),this._animationTimer=setTimeout(t,e)}_requestAnimationFrame(e){this._ngZone.runOutsideAngular(()=>{typeof requestAnimationFrame=="function"?requestAnimationFrame(e):e()})}_captureInitialFocus(){this._config.delayFocusTrap||this._trapFocus()}_openAnimationDone(e){this._config.delayFocusTrap&&this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:e})}ngOnDestroy(){super.ngOnDestroy(),this._animationTimer!==null&&clearTimeout(this._animationTimer)}attachComponentPortal(e){let t=super.attachComponentPortal(e);return t.location.nativeElement.classList.add("mat-mdc-dialog-component-host"),t}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ze(o)))(i||o)}})();static \u0275cmp=v({type:o,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1",1,"mat-mdc-dialog-container","mdc-dialog"],hostVars:10,hostBindings:function(t,i){t&2&&(Mt("id",i._config.id),z("aria-modal",i._config.ariaModal)("role",i._config.role)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledByQueue[0])("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null),W("_mat-animation-noopable",!i._animationsEnabled)("mat-mdc-dialog-container-with-actions",i._actionSectionCount>0))},features:[ue],decls:3,vars:0,consts:[[1,"mat-mdc-dialog-inner-container","mdc-dialog__container"],[1,"mat-mdc-dialog-surface","mdc-dialog__surface"],["cdkPortalOutlet",""]],template:function(t,i){t&1&&(l(0,"div",0)(1,"div",1),k(2,mn,0,0,"ng-template",2),c()())},dependencies:[ke],styles:[`.mat-mdc-dialog-container{width:100%;height:100%;display:block;box-sizing:border-box;max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;outline:0}.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-max-width, 560px);min-width:var(--mat-dialog-container-min-width, 280px)}@media(max-width: 599px){.cdk-overlay-pane.mat-mdc-dialog-panel{max-width:var(--mat-dialog-container-small-max-width, calc(100vw - 32px))}}.mat-mdc-dialog-inner-container{display:flex;flex-direction:row;align-items:center;justify-content:space-around;box-sizing:border-box;height:100%;opacity:0;transition:opacity linear var(--mat-dialog-transition-duration, 0ms);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit}.mdc-dialog--closing .mat-mdc-dialog-inner-container{transition:opacity 75ms linear;transform:none}.mdc-dialog--open .mat-mdc-dialog-inner-container{opacity:1}._mat-animation-noopable .mat-mdc-dialog-inner-container{transition:none}.mat-mdc-dialog-surface{display:flex;flex-direction:column;flex-grow:0;flex-shrink:0;box-sizing:border-box;width:100%;height:100%;position:relative;overflow-y:auto;outline:0;transform:scale(0.8);transition:transform var(--mat-dialog-transition-duration, 0ms) cubic-bezier(0, 0, 0.2, 1);max-height:inherit;min-height:inherit;min-width:inherit;max-width:inherit;box-shadow:var(--mat-dialog-container-elevation-shadow, none);border-radius:var(--mat-dialog-container-shape, var(--mat-sys-corner-extra-large, 4px));background-color:var(--mat-dialog-container-color, var(--mat-sys-surface, white))}[dir=rtl] .mat-mdc-dialog-surface{text-align:right}.mdc-dialog--open .mat-mdc-dialog-surface,.mdc-dialog--closing .mat-mdc-dialog-surface{transform:none}._mat-animation-noopable .mat-mdc-dialog-surface{transition:none}.mat-mdc-dialog-surface::before{position:absolute;box-sizing:border-box;width:100%;height:100%;top:0;left:0;border:2px solid rgba(0,0,0,0);border-radius:inherit;content:"";pointer-events:none}.mat-mdc-dialog-title{display:block;position:relative;flex-shrink:0;box-sizing:border-box;margin:0 0 1px;padding:var(--mat-dialog-headline-padding, 6px 24px 13px)}.mat-mdc-dialog-title::before{display:inline-block;width:0;height:40px;content:"";vertical-align:0}[dir=rtl] .mat-mdc-dialog-title{text-align:right}.mat-mdc-dialog-container .mat-mdc-dialog-title{color:var(--mat-dialog-subhead-color, var(--mat-sys-on-surface, rgba(0, 0, 0, 0.87)));font-family:var(--mat-dialog-subhead-font, var(--mat-sys-headline-small-font, inherit));line-height:var(--mat-dialog-subhead-line-height, var(--mat-sys-headline-small-line-height, 1.5rem));font-size:var(--mat-dialog-subhead-size, var(--mat-sys-headline-small-size, 1rem));font-weight:var(--mat-dialog-subhead-weight, var(--mat-sys-headline-small-weight, 400));letter-spacing:var(--mat-dialog-subhead-tracking, var(--mat-sys-headline-small-tracking, 0.03125em))}.mat-mdc-dialog-content{display:block;flex-grow:1;box-sizing:border-box;margin:0;overflow:auto;max-height:65vh}.mat-mdc-dialog-content>:first-child{margin-top:0}.mat-mdc-dialog-content>:last-child{margin-bottom:0}.mat-mdc-dialog-container .mat-mdc-dialog-content{color:var(--mat-dialog-supporting-text-color, var(--mat-sys-on-surface-variant, rgba(0, 0, 0, 0.6)));font-family:var(--mat-dialog-supporting-text-font, var(--mat-sys-body-medium-font, inherit));line-height:var(--mat-dialog-supporting-text-line-height, var(--mat-sys-body-medium-line-height, 1.5rem));font-size:var(--mat-dialog-supporting-text-size, var(--mat-sys-body-medium-size, 1rem));font-weight:var(--mat-dialog-supporting-text-weight, var(--mat-sys-body-medium-weight, 400));letter-spacing:var(--mat-dialog-supporting-text-tracking, var(--mat-sys-body-medium-tracking, 0.03125em))}.mat-mdc-dialog-container .mat-mdc-dialog-content{padding:var(--mat-dialog-content-padding, 20px 24px)}.mat-mdc-dialog-container-with-actions .mat-mdc-dialog-content{padding:var(--mat-dialog-with-actions-content-padding, 20px 24px 0)}.mat-mdc-dialog-container .mat-mdc-dialog-title+.mat-mdc-dialog-content{padding-top:0}.mat-mdc-dialog-actions{display:flex;position:relative;flex-shrink:0;flex-wrap:wrap;align-items:center;box-sizing:border-box;min-height:52px;margin:0;border-top:1px solid rgba(0,0,0,0);padding:var(--mat-dialog-actions-padding, 16px 24px);justify-content:var(--mat-dialog-actions-alignment, flex-end)}@media(forced-colors: active){.mat-mdc-dialog-actions{border-top-color:CanvasText}}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-start,.mat-mdc-dialog-actions[align=start]{justify-content:start}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-center,.mat-mdc-dialog-actions[align=center]{justify-content:center}.mat-mdc-dialog-actions.mat-mdc-dialog-actions-align-end,.mat-mdc-dialog-actions[align=end]{justify-content:flex-end}.mat-mdc-dialog-actions .mat-button-base+.mat-button-base,.mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-mdc-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-mdc-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}.mat-mdc-dialog-component-host{display:contents}
`],encapsulation:2})}return o})(),qi="--mat-dialog-transition-duration";function Ki(o){return o==null?null:typeof o=="number"?o:o.endsWith("ms")?Et(o.substring(0,o.length-2)):o.endsWith("s")?Et(o.substring(0,o.length-1))*1e3:o==="0"?0:null}var ht=(function(o){return o[o.OPEN=0]="OPEN",o[o.CLOSING=1]="CLOSING",o[o.CLOSED=2]="CLOSED",o})(ht||{}),te=class{_ref;_config;_containerInstance;componentInstance;componentRef;disableClose;id;_afterOpened=new wt(1);_beforeClosed=new wt(1);_result;_closeFallbackTimeout;_state=ht.OPEN;_closeInteractionType;constructor(n,e,t){this._ref=n,this._config=e,this._containerInstance=t,this.disableClose=e.disableClose,this.id=n.id,n.addPanelClass("mat-mdc-dialog-panel"),t._animationStateChanged.pipe(re(i=>i.state==="opened"),I(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(re(i=>i.state==="closed"),I(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),n.overlayRef.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._finishDialogClose()}),Le(this.backdropClick(),this.keydownEvents().pipe(re(i=>i.keyCode===27&&!this.disableClose&&!ge(i)))).subscribe(i=>{this.disableClose||(i.preventDefault(),gn(this,i.type==="keydown"?"keyboard":"mouse"))})}close(n){let e=this._config.closePredicate;e&&!e(n,this._config,this.componentInstance)||(this._result=n,this._containerInstance._animationStateChanged.pipe(re(t=>t.state==="closing"),I(1)).subscribe(t=>{this._beforeClosed.next(n),this._beforeClosed.complete(),this._ref.overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._state=ht.CLOSING,this._containerInstance._startExitAnimation())}afterOpened(){return this._afterOpened}afterClosed(){return this._ref.closed}beforeClosed(){return this._beforeClosed}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}updatePosition(n){let e=this._ref.config.positionStrategy;return n&&(n.left||n.right)?n.left?e.left(n.left):e.right(n.right):e.centerHorizontally(),n&&(n.top||n.bottom)?n.top?e.top(n.top):e.bottom(n.bottom):e.centerVertically(),this._ref.updatePosition(),this}updateSize(n="",e=""){return this._ref.updateSize(n,e),this}addPanelClass(n){return this._ref.addPanelClass(n),this}removePanelClass(n){return this._ref.removePanelClass(n),this}getState(){return this._state}_finishDialogClose(){this._state=ht.CLOSED,this._ref.close(this._result,{focusOrigin:this._closeInteractionType}),this.componentInstance=null}};function gn(o,n,e){return o._closeInteractionType=n,o.close(e)}var Pt=new E("MatMdcDialogData"),_n=new E("mat-mdc-dialog-default-options"),vn=new E("mat-mdc-dialog-scroll-strategy",{providedIn:"root",factory:()=>{let o=s(S);return()=>tt(o)}}),Nt=(()=>{class o{_defaultOptions=s(_n,{optional:!0});_scrollStrategy=s(vn);_parentDialog=s(o,{optional:!0,skipSelf:!0});_idGenerator=s(Se);_injector=s(S);_dialog=s(Xi);_animationsDisabled=It();_openDialogsAtThisLevel=[];_afterAllClosedAtThisLevel=new V;_afterOpenedAtThisLevel=new V;dialogConfigClass=ut;_dialogRefConstructor;_dialogContainerType;_dialogDataToken;get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){let e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}afterAllClosed=Ve(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(Be(void 0)));constructor(){this._dialogRefConstructor=te,this._dialogContainerType=fn,this._dialogDataToken=Pt}open(e,t){let i;t=T(T({},this._defaultOptions||new ut),t),t.id=t.id||this._idGenerator.getId("mat-mdc-dialog-"),t.scrollStrategy=t.scrollStrategy||this._scrollStrategy();let r=this._dialog.open(e,le(T({},t),{positionStrategy:ot(this._injector).centerHorizontally().centerVertically(),disableClose:!0,closePredicate:void 0,closeOnDestroy:!1,closeOnOverlayDetachments:!1,disableAnimations:this._animationsDisabled||t.enterAnimationDuration?.toLocaleString()==="0"||t.exitAnimationDuration?.toString()==="0",container:{type:this._dialogContainerType,providers:()=>[{provide:this.dialogConfigClass,useValue:t},{provide:ee,useValue:t}]},templateContext:()=>({dialogRef:i}),providers:(a,d,b)=>(i=new this._dialogRefConstructor(a,t,b),i.updatePosition(t?.position),[{provide:this._dialogContainerType,useValue:b},{provide:this._dialogDataToken,useValue:d.data},{provide:this._dialogRefConstructor,useValue:i}])}));return i.componentRef=r.componentRef,i.componentInstance=r.componentInstance,this.openDialogs.push(i),this.afterOpened.next(i),i.afterClosed().subscribe(()=>{let a=this.openDialogs.indexOf(i);a>-1&&(this.openDialogs.splice(a,1),this.openDialogs.length||this._getAfterAllClosed().next())}),i}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}static \u0275fac=function(t){return new(t||o)};static \u0275prov=H({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();var bn=(()=>{class o{_dialogRef=s(te,{optional:!0});_elementRef=s(Y);_dialog=s(Nt);constructor(){}ngOnInit(){this._dialogRef||(this._dialogRef=Cn(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then(()=>{this._onAdd()})}ngOnDestroy(){this._dialogRef?._containerInstance&&Promise.resolve().then(()=>{this._onRemove()})}static \u0275fac=function(t){return new(t||o)};static \u0275dir=he({type:o})}return o})(),Zi=(()=>{class o extends bn{id=s(Se).getId("mat-mdc-dialog-title-");_onAdd(){this._dialogRef._containerInstance?._addAriaLabelledBy?.(this.id)}_onRemove(){this._dialogRef?._containerInstance?._removeAriaLabelledBy?.(this.id)}static \u0275fac=(()=>{let e;return function(i){return(e||(e=ze(o)))(i||o)}})();static \u0275dir=he({type:o,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-mdc-dialog-title","mdc-dialog__title"],hostVars:1,hostBindings:function(t,i){t&2&&Mt("id",i.id)},inputs:{id:"id"},exportAs:["matDialogTitle"],features:[ue]})}return o})(),Ji=(()=>{class o{static \u0275fac=function(t){return new(t||o)};static \u0275dir=he({type:o,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-mdc-dialog-content","mdc-dialog__content"],features:[Qt([Di])]})}return o})();function Cn(o,n){let e=o.nativeElement.parentElement;for(;e&&!e.classList.contains("mat-mdc-dialog-container");)e=e.parentElement;return e?n.find(t=>t.id===e.id):null}var ft=Lt(ci());var gt=class o{dialogRef=s(te);formModel=O({month:(0,ft.default)().format("MM"),year:(0,ft.default)().format("YYYY")});form=Z(this.formModel);years=[2025,2026];months=Array.from({length:12},(n,e)=>{let t=(0,ft.default)().month(e);return{label:t.format("MMMM"),value:t.format("MM")}});submitForm(){this.dialogRef.close(this.formModel())}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-create-month-dialog"]],decls:9,vars:8,consts:[[1,"flex","flex-col","items-center","justify-center","p-4","**:!text-white"],["mat-dialog-title",""],["mat-dialog-content","",1,"!flex","w-full","flex-col","gap-2"],[1,"grid","w-full","grid-cols-2","gap-2"],["placeholder","Jahr ausw\xE4hlen","appendTo",".mat-mdc-dialog-title",3,"items","clearable","field"],["bindLabel","label","bindValue","value","placeholder","Monat ausw\xE4hlen","appendTo",".mat-mdc-dialog-title",3,"items","clearable","field"],["maffiButton","","icon","CirclePlus",1,"w-full","!justify-center",3,"click"]],template:function(e,t){e&1&&(l(0,"div",0)(1,"h1",1),u(2,"Monat anlegen"),c(),l(3,"div",2)(4,"div",3)(5,"ng-select",4),R(),c(),l(6,"ng-select",5),R(),c()(),l(7,"button",6),h("click",function(){return t.submitForm()}),u(8," Anlegen "),c()()()),e&2&&(m(5),_("items",t.years)("clearable",!1),P(t.form.year),m(),_("items",t.months)("clearable",!1),P(t.form.month))},dependencies:[Zi,Ji,rt,J,K],encapsulation:2})};var _t;function yn(){if(_t===void 0&&(_t=null,typeof window<"u")){let o=window;o.trustedTypes!==void 0&&(_t=o.trustedTypes.createPolicy("angular#components",{createHTML:n=>n}))}return _t}function Ne(o){return yn()?.createHTML(o)||o}function eo(o){return Error(`Unable to find icon with the name "${o}"`)}function xn(){return Error("Could not find HttpClient for use with Angular Material icons. Please add provideHttpClient() to your providers.")}function to(o){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${o}".`)}function io(o){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${o}".`)}var X=class{url;svgText;options;svgElement;constructor(n,e,t){this.url=n,this.svgText=e,this.options=t}},no=(()=>{class o{_httpClient;_sanitizer;_errorHandler;_document;_svgIconConfigs=new Map;_iconSetConfigs=new Map;_cachedIconsByUrl=new Map;_inProgressUrlFetches=new Map;_fontCssClassesByAlias=new Map;_resolvers=[];_defaultFontSetClass=["material-icons","mat-ligature-font"];constructor(e,t,i,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._document=i}addSvgIcon(e,t,i){return this.addSvgIconInNamespace("",e,t,i)}addSvgIconLiteral(e,t,i){return this.addSvgIconLiteralInNamespace("",e,t,i)}addSvgIconInNamespace(e,t,i,r){return this._addSvgIconConfig(e,t,new X(i,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,i,r){let a=this._sanitizer.sanitize(me.HTML,i);if(!a)throw io(i);let d=Ne(a);return this._addSvgIconConfig(e,t,new X("",d,r))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,i){return this._addSvgIconSetConfig(e,new X(t,null,i))}addSvgIconSetLiteralInNamespace(e,t,i){let r=this._sanitizer.sanitize(me.HTML,t);if(!r)throw io(t);let a=Ne(r);return this._addSvgIconSetConfig(e,new X("",a,i))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(...e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){let t=this._sanitizer.sanitize(me.RESOURCE_URL,e);if(!t)throw to(e);let i=this._cachedIconsByUrl.get(t);return i?L(vt(i)):this._loadSvgIconFromConfig(new X(e,null)).pipe(He(r=>this._cachedIconsByUrl.set(t,r)),de(r=>vt(r)))}getNamedSvgIcon(e,t=""){let i=oo(t,e),r=this._svgIconConfigs.get(i);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(i,r),this._getSvgFromConfig(r);let a=this._iconSetConfigs.get(t);return a?this._getSvgFromIconSetConfigs(e,a):Bt(eo(i))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?L(vt(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe(de(t=>vt(t)))}_getSvgFromIconSetConfigs(e,t){let i=this._extractIconWithNameFromAnySet(e,t);if(i)return L(i);let r=t.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(Yt(d=>{let C=`Loading icon set URL: ${this._sanitizer.sanitize(me.RESOURCE_URL,a.url)} failed: ${d.message}`;return this._errorHandler.handleError(new Error(C)),L(null)})));return jt(r).pipe(de(()=>{let a=this._extractIconWithNameFromAnySet(e,t);if(!a)throw eo(e);return a}))}_extractIconWithNameFromAnySet(e,t){for(let i=t.length-1;i>=0;i--){let r=t[i];if(r.svgText&&r.svgText.toString().indexOf(e)>-1){let a=this._svgElementFromConfig(r),d=this._extractSvgIconFromSet(a,e,r.options);if(d)return d}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(He(t=>e.svgText=t),de(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?L(null):this._fetchIcon(e).pipe(He(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,i){let r=e.querySelector(`[id="${t}"]`);if(!r)return null;let a=r.cloneNode(!0);if(a.removeAttribute("id"),a.nodeName.toLowerCase()==="svg")return this._setSvgAttributes(a,i);if(a.nodeName.toLowerCase()==="symbol")return this._setSvgAttributes(this._toSvgElement(a),i);let d=this._svgElementFromString(Ne("<svg></svg>"));return d.appendChild(a),this._setSvgAttributes(d,i)}_svgElementFromString(e){let t=this._document.createElement("DIV");t.innerHTML=e;let i=t.querySelector("svg");if(!i)throw Error("<svg> tag not found");return i}_toSvgElement(e){let t=this._svgElementFromString(Ne("<svg></svg>")),i=e.attributes;for(let r=0;r<i.length;r++){let{name:a,value:d}=i[r];a!=="id"&&t.setAttribute(a,d)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){let{url:t,options:i}=e,r=i?.withCredentials??!1;if(!this._httpClient)throw xn();if(t==null)throw Error(`Cannot fetch icon from URL "${t}".`);let a=this._sanitizer.sanitize(me.RESOURCE_URL,t);if(!a)throw to(t);let d=this._inProgressUrlFetches.get(a);if(d)return d;let b=this._httpClient.get(a,{responseType:"text",withCredentials:r}).pipe(de(C=>Ne(C)),zt(()=>this._inProgressUrlFetches.delete(a)),Wt());return this._inProgressUrlFetches.set(a,b),b}_addSvgIconConfig(e,t,i){return this._svgIconConfigs.set(oo(e,t),i),this}_addSvgIconSetConfig(e,t){let i=this._iconSetConfigs.get(e);return i?i.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){let t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let i=0;i<this._resolvers.length;i++){let r=this._resolvers[i](t,e);if(r)return wn(r)?new X(r.url,null,r.options):new X(r,null)}}static \u0275fac=function(t){return new(t||o)(_e(si,8),_e(li),_e(ae,8),_e(Ye))};static \u0275prov=H({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();function vt(o){return o.cloneNode(!0)}function oo(o,n){return o+":"+n}function wn(o){return!!(o.url&&o.options)}var Dn=["*"],Mn=new E("MAT_ICON_DEFAULT_OPTIONS"),Tn=new E("mat-icon-location",{providedIn:"root",factory:()=>{let o=s(ae),n=o?o.location:null;return{getPathname:()=>n?n.pathname+n.search:""}}}),ro=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],En=ro.map(o=>`[${o}]`).join(", "),In=/^url\(['"]?#(.*?)['"]?\)$/,ao=(()=>{class o{_elementRef=s(Y);_iconRegistry=s(no);_location=s(Tn);_errorHandler=s(Ye);_defaultColor;get color(){return this._color||this._defaultColor}set color(e){this._color=e}_color;inline=!1;get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}_svgIcon;get fontSet(){return this._fontSet}set fontSet(e){let t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}_fontSet;get fontIcon(){return this._fontIcon}set fontIcon(e){let t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_fontIcon;_previousFontSetClass=[];_previousFontIconClass;_svgName;_svgNamespace;_previousPath;_elementsWithExternalReferences;_currentIconFetch=ce.EMPTY;constructor(){let e=s(new oi("aria-hidden"),{optional:!0}),t=s(Mn,{optional:!0});t&&(t.color&&(this.color=this._defaultColor=t.color),t.fontSet&&(this.fontSet=t.fontSet)),e||this._elementRef.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(e){if(!e)return["",""];let t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){let e=this._elementsWithExternalReferences;if(e&&e.size){let t=this._location.getPathname();t!==this._previousPath&&(this._previousPath=t,this._prependPathToReferences(t))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();let t=this._location.getPathname();this._previousPath=t,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(t),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){let e=this._elementRef.nativeElement,t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){let i=e.childNodes[t];(i.nodeType!==1||i.nodeName.toLowerCase()==="svg")&&i.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;let e=this._elementRef.nativeElement,t=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(i=>i.length>0);this._previousFontSetClass.forEach(i=>e.classList.remove(i)),t.forEach(i=>e.classList.add(i)),this._previousFontSetClass=t,this.fontIcon!==this._previousFontIconClass&&!t.includes("mat-ligature-font")&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return typeof e=="string"?e.trim().split(" ")[0]:e}_prependPathToReferences(e){let t=this._elementsWithExternalReferences;t&&t.forEach((i,r)=>{i.forEach(a=>{r.setAttribute(a.name,`url('${e}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(e){let t=e.querySelectorAll(En),i=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)ro.forEach(a=>{let d=t[r],b=d.getAttribute(a),C=b?b.match(In):null;if(C){let G=i.get(d);G||(G=[],i.set(d,G)),G.push({name:a,value:C[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){let[t,i]=this._splitIconName(e);t&&(this._svgNamespace=t),i&&(this._svgName=i),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(i,t).pipe(I(1)).subscribe(r=>this._setSvgElement(r),r=>{let a=`Error retrieving icon ${t}:${i}! ${r.message}`;this._errorHandler.handleError(new Error(a))})}}static \u0275fac=function(t){return new(t||o)};static \u0275cmp=v({type:o,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:10,hostBindings:function(t,i){t&2&&(z("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),se(i.color?"mat-"+i.color:""),W("mat-icon-inline",i.inline)("mat-icon-no-color",i.color!=="primary"&&i.color!=="accent"&&i.color!=="warn"))},inputs:{color:"color",inline:[2,"inline","inline",U],svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],ngContentSelectors:Dn,decls:1,vars:0,template:function(t,i){t&1&&(Ue(),Xe(0))},styles:[`mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color, inherit)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}
`],encapsulation:2,changeDetection:0})}return o})();var os=so(24,o=>String(o)),ns=so(60,o=>String(o));function so(o,n){let e=Array(o);for(let t=0;t<o;t++)e[t]=n(t);return e}var lo=(()=>{class o{transform(e){return Ht(e)?e:L(e)}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275pipe=Gt({name:"toObservable",type:o,pure:!0})}}return o})();function Sn(o,n){if(o&1){let e=y();l(0,"button",4),h("click",function(){f(e);let i=p(2);return g(i._onClose())}),l(1,"mat-icon"),u(2,"close"),c()()}}function kn(o,n){if(o&1&&(l(0,"h1",0)(1,"span"),u(2),x(3,"toObservable"),x(4,"async"),c(),w(5,Sn,3,0,"button",3),c()),o&2){let e=p();m(2),Me(N(4,4,N(3,2,e.data.title))),m(3),D(e.data.showCloseIcon?5:-1)}}function Fn(o,n){if(o&1&&(l(0,"div",1)(1,"p"),u(2),x(3,"toObservable"),x(4,"async"),c()()),o&2){let e=p();m(2),Me(N(4,3,N(3,1,e.data.description)))}}function An(o,n){if(o&1){let e=y();l(0,"button",7),h("click",function(){f(e);let i=p().$implicit,r=p();return g(r._onClick(i.onClick))}),u(1),x(2,"toObservable"),x(3,"async"),c()}if(o&2){let e=p().$implicit;se(e.class),_("matButton",e.type||"text")("color",e.color),m(),F(" ",N(3,7,N(2,5,e.text))," ")}}function On(o,n){if(o&1){let e=y();l(0,"button",8),h("click",function(){f(e);let i=p().$implicit,r=p();return g(r._onClick(i.onClick))}),u(1),x(2,"toObservable"),x(3,"async"),c()}if(o&2){let e=p().$implicit;se(e.class),_("matButton",e.type||"text")("color",e.color),m(),F(" ",N(3,7,N(2,5,e.text))," ")}}function Rn(o,n){if(o&1&&w(0,An,4,9,"button",5)(1,On,4,9,"button",6),o&2){let e=n.$implicit;D(e.focusInitial?0:1)}}var co=(()=>{class o{constructor(){this.dialogRef=s(te),this.data=s(Pt)}_onClick(e){e&&e.call(this),this._onClose()}_onClose(){this.dialogRef.close()}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275cmp=v({type:o,selectors:[["mtx-dialog-container"]],hostAttrs:[1,"mtx-dialog-container"],exportAs:["mtxDialogContainer"],decls:5,vars:2,consts:[[1,"mtx-dialog-title"],[1,"mtx-dialog-content"],[1,"mtx-dialog-actions"],["mat-icon-button",""],["mat-icon-button","",3,"click"],["cdkFocusInitial","",3,"matButton","color","class"],[3,"matButton","color","class"],["cdkFocusInitial","",3,"click","matButton","color"],[3,"click","matButton","color"]],template:function(t,i){t&1&&(w(0,kn,6,6,"h1",0),w(1,Fn,5,5,"div",1),l(2,"div",2),We(3,Rn,2,1,null,null,Kt),c()),t&2&&(D(i.data.title?0:-1),m(),D(i.data.description?1:-1),m(2),$e(i.data.buttons))},dependencies:[Ci,bi,ao,ni,lo],styles:[`.mtx-dialog-title{display:flex;justify-content:space-between;align-items:center;padding:8px 24px;margin:0;line-height:48px;font-weight:500;font-size:20px}.mtx-dialog-title .mat-mdc-button-base{margin-right:-16px}[dir=rtl] .mtx-dialog-title .mat-mdc-button-base{margin-right:0;margin-left:-16px}.mtx-dialog-content{display:block;max-height:65vh;padding:0 24px;overflow:auto;-webkit-overflow-scrolling:touch}.mtx-dialog-content p{margin-top:0}.mtx-dialog-actions{display:flex;flex-wrap:wrap;align-items:center;justify-content:flex-end;padding:8px}.mtx-dialog-actions .mat-mdc-button-base{margin-left:8px}[dir=rtl] .mtx-dialog-actions .mat-mdc-button-base{margin-left:0;margin-right:8px}
`],encapsulation:2,changeDetection:0})}}return o})(),Pn={title:"",description:"",buttons:[{text:"Cancel",onClick:()=>{}},{color:"warn",text:"OK",focusInitial:!0,onClick:()=>{}}],showCloseIcon:!1,disableClose:!0,width:"300px"},po=(()=>{class o{constructor(){this.dialog=s(Nt)}originalOpen(e=co,t){return this.dialog.open(e,t)}open(e,t=co){let i=Object.assign({},Pn,e);return this.dialog.open(t,le(T({},i),{data:i}))}alert(e,t="",i=()=>{}){this.open({title:e,description:t,buttons:[{color:"warn",text:"OK",onClick:()=>i()}]})}confirm(e,t="",i=()=>{},r=()=>{}){this.open({title:e,description:t,buttons:[{text:"Cancel",onClick:()=>r()},{color:"warn",text:"OK",focusInitial:!0,onClick:()=>i()}]})}static{this.\u0275fac=function(t){return new(t||o)}}static{this.\u0275prov=H({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();function Nn(o,n){o&1&&(l(0,"cdk-accordion",6),be("animate-fade-in"),M(1,"app-revenue-month-table")(2,"app-fixed-costs-month-table")(3,"app-variable-costs-table"),c())}var mo=class o{facade=s(B);mtxDialog=s(po);year=Te();month=Te();createdMonths=this.facade.createdMonths;createdYears=this.facade.createdYears;isLoaded=this.facade.isMonthLoaded;formModel=ii(()=>{let n=(0,Vt.default)().format("YYYY-MM-DD"),e=this.year();return this.year()&&this.month()&&(n=`${this.year()}-${this.month()}-01`),this.isMonthValid(n)||(n=null),e&&!this.isYearValid(e)&&(e=null),{month:n,year:e}});form=Z(this.formModel);selectedMonth=$(()=>this.formModel().month);selectedYear=$(()=>this.formModel().year);loadMonth=j(()=>{let n=this.selectedMonth(),e=this.selectedYear();n&&e&&this.isYearValid(e)&&this.isMonthValid(n)&&this.facade.getMonth(n)});navigateOnFormModelChange=j(()=>{let{month:n,year:e}=this.formModel(),t=n?(0,Vt.default)(n).format("MM"):null;if(e&&!n){this.facade.navigateTo(e);return}n&&this.facade.navigateTo(e,t)});constructor(){this.facade.getCreatedMonths()}openCreateMonthDialog(){this.mtxDialog.originalOpen(gt,{height:"400px"}).afterClosed().pipe(I(1)).subscribe(e=>{this.createMonth(e)})}createMonth(n){let e=`${n.year}-${n.month}-01`;this.facade.createMonth(e)}isYearValid(n){return this.createdYears().includes(n)}isMonthValid(n){return this.createdMonths().map(e=>e.month).includes(n)}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=v({type:o,selectors:[["app-monthly-check"]],inputs:{year:[1,"year"],month:[1,"month"]},decls:8,vars:9,consts:[["title","Monatscheck"],["maffiButton","","icon","CirclePlus",3,"click"],[1,"container-max-sm","mt-2","flex","flex-col","items-center","gap-2","p-2","md:p-6"],[1,"grid","w-full","grid-cols-2","gap-4"],["placeholder","Jahr ausw\xE4hlen",3,"items","clearable","field"],["bindLabel","translated","bindValue","month","placeholder","Monat ausw\xE4hlen",1,"higher",3,"items","clearable","field"],[1,"flex","w-full","flex-col","gap-2","*:w-full"]],template:function(e,t){e&1&&(l(0,"app-header",0)(1,"button",1),h("click",function(){return t.openCreateMonthDialog()}),u(2," Monat anlegen "),c()(),l(3,"section",2)(4,"div",3)(5,"ng-select",4),R(),c(),l(6,"ng-select",5),R(),c()(),w(7,Nn,4,0,"cdk-accordion",6),c()),e&2&&(m(5),_("items",t.createdYears())("clearable",!1),P(t.form.year),m(),_("items",t.createdMonths())("clearable",!1),P(t.form.month),m(),D(t.isLoaded()?7:-1))},dependencies:[vi,mi,rt,wi,J,at,st,Bi,mt,K],encapsulation:2})};export{mo as MonthlyCheckComponent};
